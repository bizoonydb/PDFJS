!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PDFViewCtrl=t():e.PDFViewCtrl=t()}(self,(()=>(()=>{var e={9059:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__action-dialog" >\n   <div class="fv__action-dialog-header">\n  <div class="fv__action-dialog-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.title")),t+='</div>\n  <div class="fv__action-dialog-close"><i class="fv__action-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__action-dialog-body">\n  <div class="fv__action-dialog-select">\n <span class="fv__action-dialog-select-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectKey")),t+='</span>\n <select id="select-action">\n<option value="TypeGoto">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.goto")),t+='</option>\n<option value="TypeURI">',t+=n(i.i18n("viewer_:dialog.actionDialog.selectAction.webLink")),t+='</option>\n </select>\n  </div>\n  <div class="fv__action-dialog-url fv__action-dialog-box" data-type="TypeURI">\n <div class="fv__action-dialog-url-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.URLAction.title")),t+='</div>\n <div class="fv__action-dialog-url-input">\n<input class="fv__action-dialog-input" id="url-input"/>\n </div>\n  </div>\n  <div class="fv__action-dialog-goto fv__action-dialog-box" style="display:block;"  data-type="TypeGoto">\n <div class="fv__action-dialog-goto-title fv__action-box-title">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.title")),t+='</div>\n <div class="fv__action-dialog-goto-container">\n<div class="fv__action-dialog-goto-center">\n   <div class="fv__action-dialog-goto-left">\n  <div class="fv__action-dialog-goto-target">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.target")),t+=':</div>\n   </div>\n   <div class="fv__action-dialog-goto-right">\n  <div class="fv__action-dialog-goto-input">\n <input type="number" min="1" class="fv__action-dialog-input" id="goto-input"/>\n  </div>\n  <div class="fv__action-dialog-goto-position">\n <span class="fv__action-dialog-goto-position-left">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.left")),t+=':</span><span class="fv__action-dialog-goto-left-value">0</span>\n <span class="fv__action-dialog-goto-position-top">',t+=n(i.i18n("viewer_:dialog.actionDialog.GotoAction.top")),t+=':</span><span class="fv__action-dialog-goto-top-value">0</span>\n  </div>\n   </div>\n</div>\n </div>\n  </div>\n   </div>\n   <div class="fv__action-dialog-footer">\n  <div class="fv__action-dialog-btns">\n  <button type="button" class="fv__action-btn fv__action-btn-ok">',t+=n(i.i18n("viewer_:dialog.actionDialog.OK")),t+='</button>\n  <button type="button" class="fv__action-btn fv__action-btn-cancel ">',t+=n(i.i18n("viewer_:dialog.actionDialog.Cancel")),t+="</button>\n  </div>\n   </div>\n</dialog>"}},875:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__ui-layer fv__place-redaction-dialog" >\n   <div class="fv__place-redaction-dialog-header">\n  <div class="fv__place-redaction-dialog-title">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.title")),t+='</div>\n  <div class="fv__place-redaction-dialog-close"><i class="fv__place-redaction-dialog-close-icon">x</i></div>\n   </div>\n   <div class="fv__place-redaction-dialog-body">\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" checked value="1" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.allPage")),t+='</span>\n</label>\n</div>\n<div class="fv__redaction-container">\n<label>\n<input name="redaction-page-type" class="redaction-page-radio" type="radio" value="2" /><span>',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.specificPage")),t+='</span>\n<div class="fv__redaction-range">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.pageRange")),t+=': <input type="text" class="fv__redaction-page-range" disabled placeholder="',t+=n(e),t+='"/></div>\n</label>\n</div> \n   </div>\n   <div class="fv__place-redaction-dialog-footer">\n<div class="fv__redaction-container footer" style="text-align:right">\n<button type="button" class="fv__redaction-btn fv__ui-dialog-ok-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.OK")),t+='</button>\n<button type="button" class="fv__redaction-cancel fv__ui-dialog-cancel-button">',t+=n(i.i18n("viewer_:dialog.placeRedactionDialog.Cancel")),t+="</button>\n</div>\n   </div>\n</dialog>"}},5100:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).disabledAttr,r=e.disabled,o=e.i18nRoot,a=e.hlm,A=e.endingStyle,s=e.borderWidth,c=i.$escape,u=e.minBorderWidth,l=e.borderStyle,d=e.cloudy,h=e.highlightingMode,f=e.rotation,p=e.fillColor,g=e.checked,v=e.strFillColor,m=e.color,y=e.lineStartStyle,b=e.startStyle,w=e.lineEndStyle,k=e.endStyle,x=e.hasCap,_=(e.hasCapChecked,e.opacity);t+='<div class="fv__annot-properties-dialog">\n<div>\n';n=r?"disabled=disabled":"",a=(o="viewer_:dialog.")+"highlightingMode.",A=o+"endingStyle.";if(t+="\n",void 0!==s&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"borderWidth")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="thickness-input-tx" type="number"\n   min="',t+=c(null!=u?u:1),t+='" max="12" step="1" value="',t+=c(s),t+='"\n   ',t+=c(n),t+='>\n<input id="thickness-input" type="range"\n   value="',t+=c(s),t+='" min="1" max="12" step="1"\n   ',t+=c(n),t+=">\n</div>\n</div>\n"),!1!==l&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"borderStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="borderStyle-select" ',t+=c(n),t+='>\n<option value="0">———————————</option>\n<option value="1">. . . . . . . . . . . . . . . . . . . . .</option>\n<option value="2">-  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -</option>\n<option value="3">—  —  —  —  —  —  —  —  —</option>\n<option value="4">—  -  —  -  —  -  —  -  —  -  —  -</option>\n<option value="5">——  -  ——  -  ——  -  ——  -</option>\n<option value="6">-   ———   -   ———   -   ———</option>\n',!0===d&&(t+='\n<option value="7">﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋﹋</option>\n<option value="8">~~~~~~~~~~~~~~~~~~~</option>\n'),t+="\n</select>\n</div>\n</div>\n"),void 0!==h&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(a+"title")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="highlighting-select" ',t+=c(n),t+='>\n<option value="0">',t+=c(i.i18n(a+"none")),t+='</option>\n<option value="1">',t+=c(i.i18n(a+"invert")),t+='</option>\n<option value="2">',t+=c(i.i18n(a+"outline")),t+='</option>\n<option value="3">',t+=c(i.i18n(a+"push")),t+='</option>\n<option value="4">',t+=c(i.i18n(a+"toggle")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==f&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"rotate")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="rotation-select" ',t+=c(n),t+='>\n<option value="0">0</option>\n<option value="1">90</option>\n<option value="2">180</option>\n<option value="3">270</option>\n</select>\n</div>\n</div>\n'),void 0!==p){g="",r="",v=p;if(0==p)r="disabled=1",g="checked=1",v="#FFFFFF";else{for(v=(p&=16777215).toString(16);v.length<6;)v="0"+v;v="#"+v}t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"fillColor")),t+='</span>\n\n<div class="fv__property-item-field-container">\n<input id="fillcolor-input" type="color" value="',t+=c(v),t+='" ',t+=c(r),t+=" ",t+=c(n),t+='>\n\n<label>\n<input id="fillColor-transparent-input" type="checkbox" ',t+=c(g),t+=" ",t+=c(n),t+=">\n",t+=c(i.i18n(o+"transparent")),t+="\n</label>\n</div>\n</div>\n"}(void 0!==m&&(0===m&&(m="#ffffff"),t+='\n<div class="fv__property-item">\n<label>\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"color")),t+='</span>\n<div class="fv__property-item-field-container">\n<input id="color-input" type="color" value="',t+=c(m),t+='" ',t+=c(n),t+=">\n</div>\n</label>\n</div>\n"),y&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"startStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="startstyle-select" value="',t+=c(b),t+='" ',t+=c(n),t+='>\n<option value="0">',t+=c(i.i18n(A+"none")),t+='</option>\n<option value="1">',t+=c(i.i18n(A+"square")),t+='</option>\n<option value="2">',t+=c(i.i18n(A+"circle")),t+='</option>\n<option value="3">',t+=c(i.i18n(A+"diamond")),t+='</option>\n<option value="4">',t+=c(i.i18n(A+"openArrow")),t+='</option>\n<option value="5">',t+=c(i.i18n(A+"closedArrow")),t+='</option>\n<option value="6">',t+=c(i.i18n(A+"butt")),t+='</option>\n<option value="7">',t+=c(i.i18n(A+"reverseOpenArrow")),t+='</option>\n<option value="8">',t+=c(i.i18n(A+"reverseClosedArrow")),t+='</option>\n<option value="9">',t+=c(i.i18n(A+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),w&&(t+='\n<div class="fv__property-item">\n<span class="fv__property-item-name-container">',t+=c(i.i18n(o+"endStyle")),t+='</span>\n<div class="fv__property-item-field-container">\n<select id="endstyle-select" value="',t+=c(k),t+='" ',t+=c(n),t+='>\n<option value="0" >',t+=c(i.i18n(A+"none")),t+='</option>\n<option value="1" >',t+=c(i.i18n(A+"square")),t+='</option>\n<option value="2" >',t+=c(i.i18n(A+"circle")),t+='</option>\n<option value="3" >',t+=c(i.i18n(A+"diamond")),t+='</option>\n<option value="4" >',t+=c(i.i18n(A+"openArrow")),t+='</option>\n<option value="5" >',t+=c(i.i18n(A+"closedArrow")),t+='</option>\n<option value="6" >',t+=c(i.i18n(A+"butt")),t+='</option>\n<option value="7" >',t+=c(i.i18n(A+"reverseOpenArrow")),t+='</option>\n<option value="8" >',t+=c(i.i18n(A+"reverseClosedArrow")),t+='</option>\n<option value="9" >',t+=c(i.i18n(A+"slash")),t+="</option>\n</select>\n</div>\n</div>\n"),void 0!==x)&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-only-field-container">\n<input id="hasCap-input" type="checkbox" ',t+=c(x?"checked=true":""),t+=" ",t+=c(n),t+=">\n",t+=c(i.i18n(o+"hasCap")),t+="\n</label>\n</div>\n");return!1!==_&&(t+='\n<div class="fv__property-item">\n<label class="fv__property-item-name-container">',t+=c(i.i18n(o+"opacity")),t+='</label>\n<div class="fv__property-item-field-container">\n<input id="opacity-input" type="range" value="',t+=c(_),t+='" min="0" max="1" step="0.01" ',t+=c(n),t+=">\n</div>\n</div>\n"),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=c(i.i18n(o+"close")),t+="</button>\n</div>\n</div>"}},4637:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.disableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input type="checkbox" name="trustToClose">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.rememberTime")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.play")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.reject")),t+="</button>\n  </div>\n</dialog>"}},1160:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).i,r=(e.pointIndex,i.$escape);for(n=0;n<e.anchorCount;n++){t+="\n";t+='\n<div class="fv__pdf-annot-line-point" data-index="',t+=r(n),t+='"><div class="fv__pdf-annot-line-point-item"></div></div>\n'}return t+="\n\n",e.isLineDimension&&(t+='\n<div class="fv__pdf-annot-line-caption" data-index="caption">',t+=r(e.captionText),t+="</div>\n"),t}},1583:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M7.2,14.9H3.7c-.4,0-.7.3-.8.8V28.5c0,.4.3.7.8.8H7.2c.4,0,.7-.3.8-.8V15.7C7.9,15.2,7.6,14.9,7.2,14.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.8,7.9h3.5a.79.79,0,0,1,.8.8V28.5a.79.79,0,0,1-.8.8H10.8a.79.79,0,0,1-.8-.8V8.7C10.1,8.3,10.4,7.9,10.8,7.9Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M25.1,8h3.5a.79.79,0,0,1,.8.8V28.6a.79.79,0,0,1-.8.8H25.1a.79.79,0,0,1-.8-.8V8.8A.86.86,0,0,1,25.1,8Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M17.9,19.9h3.5a.79.79,0,0,1,.8.8v7.8a.79.79,0,0,1-.8.8H17.9a.79.79,0,0,1-.8-.8V20.7C17.2,20.2,17.5,19.9,17.9,19.9Z"/>\n</svg>'}},6283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 56">\n  <path stroke="#3f3f3f" transform="rotate(-44 14.147195816040043,29.311956405639645) " d="m22.48496,6.139239a10.573254,11.136632 0 0 1 3.338127,0.652288a9.244045,9.736598 0 0 1 5.769976,9.259314a9.4253,9.927512 0 0 1 -2.733941,7.127445l-18.503194,19.727748a6.585627,6.936531 0 0 1 -1.827662,1.272758a4.380348,4.613748 0 0 1 -2.129755,0.572741a5.603824,5.902415 0 0 1 -2.114651,-0.572741a5.55851,5.854687 0 0 1 -1.510465,-1.272758a6.177801,6.506975 0 0 1 -1.208372,-1.925046a4.531394,4.772842 0 0 1 -0.302093,-2.227326a8.307556,8.750211 0 0 1 1.510465,-4.168282l16.977624,-18.534538a2.326116,2.450059 0 0 1 1.223476,-0.636379a2.311011,2.43415 0 0 1 1.510465,0.636379a1.706825,1.797771 0 0 1 0.619291,1.288667a2.054232,2.163689 0 0 1 -0.619291,1.590947l-17.294822,18.216348a2.311011,2.43415 0 0 0 -0.604186,1.590947a1.9485,2.052322 0 0 0 1.782348,1.940956a1.510465,1.590947 0 0 0 1.223476,-0.636379l18.533403,-19.823205a5.060057,5.329674 0 0 0 1.510465,-4.168282a6.404371,6.745617 0 0 0 -1.510465,-4.152373a4.531394,4.772842 0 0 0 -3.64022,-1.909137a4.863697,5.122851 0 0 0 -3.957418,1.909137l-18.503194,19.807296a11.14723,11.741192 0 0 0 -2.114651,3.181895a9.334672,9.832055 0 0 0 0,7.381996a11.14723,11.741192 0 0 0 2.114651,3.181895a8.790905,9.259314 0 0 0 6.343952,2.879615a8.594545,9.052491 0 0 0 6.404371,-2.879615l18.820391,-19.489106a1.510465,1.590947 0 0 1 1.208372,-0.636379a1.842767,1.940956 0 0 1 1.208372,0.636379a1.616197,1.702314 0 0 1 0.619291,1.288667a1.510465,1.590947 0 0 1 -0.619291,1.272758l-18.503194,19.807296a14.878078,15.670832 0 0 1 -4.244406,3.181895a12.400916,13.061679 0 0 1 -4.863697,0.970478a12.325393,12.982131 0 0 1 -4.848592,-0.970478a9.87844,10.404796 0 0 1 -4.244406,-3.181895a12.400916,13.061679 0 0 1 -2.733941,-4.470562a13.760334,14.493531 0 0 1 -0.906279,-5.106941a15.512474,16.33903 0 0 1 0.906279,-5.44104a12.627486,13.300321 0 0 1 2.733941,-4.470562l18.503194,-19.807296a9.379986,9.879784 0 0 1 6.676254,-2.895524z" stroke-miterlimit="10" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/>\n</svg>\n'}},6852:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.9,20.3h0l-.1-.1-.1-.1-4.9-5.2h0V4.1H23a.94.94,0,0,0,1-1V2.5a.94.94,0,0,0-1-1H8.4a.94.94,0,0,0-1,1v.6a.94.94,0,0,0,1,1H9.7V14.9h0l-5,5.2-.1.1-.1.1h0c-.1.1-.1.2-.1.4a.79.79,0,0,0,.8.8H15v8.6a1,1,0,0,0,.8.9h0a1.22,1.22,0,0,0,.8-.9V21.5h9.7a.77.77,0,0,0,.8-.7v-.1A.76.76,0,0,1,26.9,20.3Z"/>\n</svg>'}},8807:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.2,20.4,13.6,2.4H3L2.4,3v9.4L19.5,31l1.1-.2L30,21.5ZM6.2,7.5A1.75,1.75,0,0,1,4.5,5.8,1.75,1.75,0,0,1,6.2,4.1,1.75,1.75,0,0,1,7.9,5.8,1.69,1.69,0,0,1,6.2,7.5Z"/>\n</svg>'}},3110:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M2.56,16.77a1,1,0,0,1,0-1.41L6.5,11.42a1,1,0,0,1,1.41,0l5.75,5.75a1,1,0,0,0,1.41,0h0l9.43-9.43a1,1,0,0,1,1.41,0l3.94,3.94a1,1,0,0,1,0,1.41L15.08,27.88a1,1,0,0,1-1.41,0Z"/>\n</svg>'}},7308:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16,2A14.13,14.13,0,0,0,1.77,16,14.12,14.12,0,0,0,16,29.94,14.13,14.13,0,0,0,30.32,16h0A14.13,14.13,0,0,0,16.06,2Zm0,26a12,12,0,1,1,.09,0Z"/>\n</svg>'}},3856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.6,2H4.75a3,3,0,0,0-3,3V21.63a3,3,0,0,0,3,3H6.2l1.22,6.24V31l6.37-6.37H27.6a3,3,0,0,0,3-3V5A3,3,0,0,0,27.6,2Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.24,6.92a.52.52,0,0,1-.52.52H6.22a.52.52,0,0,1-.52-.52h0a.52.52,0,0,1,.52-.52h20.5a.52.52,0,0,1,.52.52Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M27.35,12.07a.51.51,0,0,1-.5.52H6.33a.51.51,0,0,1-.51-.51h0a.51.51,0,0,1,.51-.51H26.84a.51.51,0,0,1,.51.51Z"/>\n<path fill="#3f3f3f" isolation="isolate"\n  d="M22,17.19c0,.29-.18.52-.39.52H6.2c-.22,0-.39-.23-.39-.52h0c0-.28.17-.52.39-.52H21.63c.21,0,.39.24.39.52Z"/>\n</svg>'}},4814:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24,1.4a1.55,1.55,0,0,0-2.18,0L17.17,6A1.55,1.55,0,0,1,15,6L10.35,1.4a1.55,1.55,0,0,0-2.18,0L1.59,8a1.55,1.55,0,0,0,0,2.18L6.22,14.8a1.56,1.56,0,0,1,0,2.19l-4.63,4.6a1.56,1.56,0,0,0,0,2.19l6.58,6.58a1.56,1.56,0,0,0,2.19,0L15,25.73a1.56,1.56,0,0,1,2.19,0l4.62,4.63a1.55,1.55,0,0,0,2.18,0l6.58-6.58a1.56,1.56,0,0,0,0-2.19L25.93,17a1.55,1.55,0,0,1,0-2.18h0l4.62-4.62a1.55,1.55,0,0,0,0-2.18Z"/>\n</svg>'}},9797:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.68,16.17A14.48,14.48,0,1,1,16.19,1.7h0A14.47,14.47,0,0,1,30.68,16.17Z"/>\n<path fill="#fff" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M11.23,13.28c0-2.28.95-5.29,5-5.29,3.2,0,5,2,5,4a4.9,4.9,0,0,1-1.35,3.6c-1.59,1.58-1.8,2.38-1.8,3.84h0c0,.19-.5.35-1.12.35H15.51c-.61,0-1.11-.32-1.11-.71a7.58,7.58,0,0,1,.33-1.77,11.61,11.61,0,0,1,1.21-2.63c.32-.41,1.56-.95,1.56-2.33,0-.88-.37-1.37-1.35-1.37C15.33,11,15,12.2,15,12.2a1.51,1.51,0,0,1-1.38,1.08Zm3.17,9a1.13,1.13,0,0,1,1.11-1.12h1.43a1.12,1.12,0,0,1,1.12,1.12h0V24a1.12,1.12,0,0,1-1.12,1.12H15.51A1.13,1.13,0,0,1,14.4,24Z"/>\n</svg>'}},4739:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M30.16,24.36,17.49,6.08a2,2,0,0,0-1.64-.92,2,2,0,0,0-1.63.92L1.55,24.36a2.06,2.06,0,0,0-.41,1.19,1.56,1.56,0,0,0,1.29,1.54H29.28a1.56,1.56,0,0,0,1.29-1.54A2.06,2.06,0,0,0,30.16,24.36Z"/>\n</svg>'}},1158:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M27.65,5.25A9.26,9.26,0,0,0,12.4,15L3,24.32a4.53,4.53,0,0,0-1.15,2.8v1.67a2,2,0,0,0,2,2h1.7a4.3,4.3,0,0,0,2.74-1.1,3.53,3.53,0,0,0,1-2.29.89.89,0,0,0,0-.23v-.05a.23.23,0,0,1,.07-.19.4.4,0,0,1,.28-.08,1.86,1.86,0,0,0,2-1.48.63.63,0,0,1,.46-.53,1.57,1.57,0,0,0,1.44-1.66v-.09a.38.38,0,0,1,0-.15h.18a2,2,0,0,0,2.15-.59,12.55,12.55,0,0,1,1.31-1.51l.46-.47a9.23,9.23,0,0,0,10-15.09Zm-2.1,4.86a1.92,1.92,0,1,1,0-2.72h0A1.93,1.93,0,0,1,25.55,10.11Z"/>\n</svg>'}},2186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n points="5.88 28.59 4.82 24.23 5.06 5.18 6 2.71 9.65 2.59 19.29 3.06 21.65 4.47 25.41 7.76 25.65 9.53 26.1 21.8 25.52 28.58 23.53 29.29 9.41 28.94 5.88 28.59"/>\n<path fill="#3f3f3f"\n  d="M22.26,18.19a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.34.34,0,0,1,.33-.35h13.2a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,21.8a.35.35,0,0,1-.35.35H8.73a.34.34,0,0,1-.35-.33v0h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.14,25.18a.35.35,0,0,1-.35.35H8.61a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.79a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M22.26,14.69a.35.35,0,0,1-.35.35H8.73a.35.35,0,0,1-.35-.35h0a.35.35,0,0,1,.35-.35H21.91a.35.35,0,0,1,.35.35Z"/>\n<path fill="#3f3f3f"\n  d="M24.48,30.13H6.3A2.28,2.28,0,0,1,4,27.87V4.07A2.28,2.28,0,0,1,6.29,1.8H20.41l.14.13.13.14,5.8,5.69.14.13.14.14V27.85a2.28,2.28,0,0,1-2.28,2.28ZM6.73,3.83a.82.82,0,0,0-.81.81V27.29a.82.82,0,0,0,.81.8H24a.81.81,0,0,0,.82-.8h0V9.69H18.29V3.83ZM20.29,7.69h3.25L20.29,4.5Z"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M23.28,28.58A.58.58,0,0,1,22.7,28V26.36a.58.58,0,0,0-.58-.58H20.48a.58.58,0,0,1-.58-.58V23a.58.58,0,0,1,.58-.58h1.64a.58.58,0,0,0,.58-.58V20.17a.6.6,0,0,1,.58-.59h2.24a.6.6,0,0,1,.58.59V21.8a.58.58,0,0,0,.58.58h1.63a.58.58,0,0,1,.58.58V25.2a.58.58,0,0,1-.58.58H26.68a.58.58,0,0,0-.58.58V28a.58.58,0,0,1-.58.58Z"/>\n</svg>'}},927:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<polygon fill="',t+=(0,i.$escape)(e.fillColor),t+='"\n points="6.35 4 5.88 28.59 7.53 29.77 19.88 29.41 22 28.82 26.23 24.47 27.06 10.94 26.71 3.41 24.94 2.47 6.71 3.06 6.35 4"/>\n<path fill="#3f3f3f"\n  d="M23.17,16.73a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,13a.36.36,0,0,0-.36-.36H9.33A.36.36,0,0,0,9,13H9a.37.37,0,0,0,.36.35H22.81A.37.37,0,0,0,23.17,13Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,9.35A.37.37,0,0,0,22.81,9H9.33A.37.37,0,0,0,9,9.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M23.17,20.31a.37.37,0,0,0-.36-.35H9.33a.37.37,0,0,0-.36.35H9a.36.36,0,0,0,.36.36H22.81a.36.36,0,0,0,.36-.36Z"/>\n<path fill="#3f3f3f"\n  d="M25.62,2a2.32,2.32,0,0,1,2.32,2.32V24.63l-.14.14-.14.13-5.93,5.82-.14.14-.14.14H7a2.32,2.32,0,0,1-2.32-2.32h0V4.34A2.32,2.32,0,0,1,7,2H25.62ZM7.46,28.92H19.28v-6H26v-18a.83.83,0,0,0-.83-.83H7.46a.83.83,0,0,0-.83.83V28.09A.83.83,0,0,0,7.46,28.92Zm13.87-4v3.27L24.65,25Z"/>\n</svg>'}},5984:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M10.36,2.52A7.93,7.93,0,0,0,9,2.77H9A6.45,6.45,0,0,0,4.51,9.1a6.52,6.52,0,0,0,6.23,6.77H11V29.19l1.49.69v.95h2.1L14.54,6h3.54V29.19l1.5.69v.95h2.09L21.59,6h3.7V2.52Z"/>\n</svg>'}},1490:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M28.87,16.67a.82.82,0,0,0,.3-1.12.86.86,0,0,0-.3-.3L13.94,4.65c-.54-.39-1-.16-1,.52V9.78A1.22,1.22,0,0,1,11.73,11H4.32a1.22,1.22,0,0,0-1.21,1.22v7.49a1.22,1.22,0,0,0,1.21,1.22h7.41a1.21,1.21,0,0,1,1.21,1.21h0v4.61c0,.67.46.9,1,.52Z"/>\n</svg>'}},9856:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M29,16h0a1.3,1.3,0,0,0-.07-.33c0-.42-.84-1.16-1.28-1.43L7.17,2a1.76,1.76,0,0,0-1.32-.26h0A1.16,1.16,0,0,0,5.33,2h0l7.25,14L5.33,30h0a1.09,1.09,0,0,0,.52.27h0A1.76,1.76,0,0,0,7.17,30L27.63,17.83c.44-.27,1.28-1,1.28-1.43a1.3,1.3,0,0,0,.07-.33h0Z"/>\n</svg>'}},7156:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M24.28,29.33A2.58,2.58,0,0,1,23.1,29l-4.89-2.64A3.73,3.73,0,0,0,16.47,26a3.7,3.7,0,0,0-1.73.37L9.85,29a2.56,2.56,0,0,1-1.18.34,1.43,1.43,0,0,1-1.14-.52,2,2,0,0,1-.33-1.75l1-5.47a4.17,4.17,0,0,0-1.08-3.3l-4-3.84a1.88,1.88,0,0,1-.7-2,1.84,1.84,0,0,1,1.72-1.17l5.5-.74a4.22,4.22,0,0,0,2.81-2l2.4-5a1.87,1.87,0,0,1,1.64-1.26,1.87,1.87,0,0,1,1.64,1.26l2.41,5a4.15,4.15,0,0,0,2.8,2l5.51.74a1.85,1.85,0,0,1,1.71,1.17,1.83,1.83,0,0,1-.7,2l-4,3.84a4.14,4.14,0,0,0-1.07,3.29l1,5.47a2,2,0,0,1-.33,1.75,1.43,1.43,0,0,1-1.14.52Z"/>\n</svg>'}},9649:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M16.49,3.74a.78.78,0,0,0-1.07-.28.75.75,0,0,0-.28.28L5,18.08c-.37.52-.15,1,.49,1H9.91a1.17,1.17,0,0,1,1.17,1.17h0v7.1a1.18,1.18,0,0,0,1.17,1.16h7.18a1.17,1.17,0,0,0,1.17-1.17h0v-7.1A1.17,1.17,0,0,1,21.7,19h4.51c.64,0,.86-.43.48-.95Z"/>\n</svg>'}},7283:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=(0,i.$escape)(e.fillColor),t+='" stroke="#3f3f3f" stroke-miterlimit="10" \n  d="M7.4,5C7,4.8,6.6,5,6.4,5.4c-0.1,0.1-0.1,0.3,0,0.4l1.3,17.5c0,0.6,0.5,0.8,1,0.4l3.4-2.8\n\tc0.5-0.4,1.2-0.3,1.6,0.2c0,0,0,0,0,0l4.5,5.5c0.4,0.5,1.1,0.6,1.6,0.2c0,0,0,0,0,0l5.5-4.6c0.5-0.4,0.6-1.1,0.2-1.6c0,0,0,0,0,0\n\tL21,15.1c-0.4-0.5-0.3-1.2,0.1-1.6l3.4-2.8c0.5-0.4,0.4-0.9-0.2-1.1L7.4,5z"/>\n</svg>\n'}},8998:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="7.53" cy="27.68" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="25.53" cy="27.68" r="1"/>\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M26.53,15.76V14.61A10,10,0,0,0,16.6,4.68h-.14a10,10,0,0,0-9.93,9.93v1.15a6.5,6.5,0,0,0,1,12.92l.68-.3.32-.7v-13a8,8,0,0,1,16,0v13l.35.61.65.39a6.5,6.5,0,0,0,1-12.92Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="10.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.53" y="18.68" width="2" height="8" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15.53" y="19.68" width="2" height="6" rx="0.99"/>\n</svg>'}},7697:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M9,12v2c0,4.4,2.6,8,7,8s7-3.6,7-8V12h2v2.07C25,19.53,21.53,24,16.07,24h-.14C10.47,24,7,19.53,7,14.07V12Z"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="8" cy="12" r="1"/>\n<circle fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" cx="24" cy="12" r="1"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="15" y="23" width="2" height="5" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="8" y="27" width="16" height="2" rx="0.99"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="12" y="4" width="8" height="16" rx="3.95"/>\n</svg>'}},9291:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.fillColor;return t+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n<path fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10"\n  d="M18.7,4.62a5.88,5.88,0,0,0-3,1.79l-5.12,4.74H4.91a2,2,0,0,0-2,2v6.38a2,2,0,0,0,2,2h5.66l5.12,4.73a6,6,0,0,0,3,1.8.48.48,0,0,0,.51-.45V5.13C19.14,4.75,19,4.62,18.7,4.62Z"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="24" y="20.12" width="2" height="8" rx="0.99" transform="translate(-9.73 24.74) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="20.95" y="6.88" width="8" height="2" rx="0.99"\n  transform="translate(1.74 19.95) rotate(-45)"/>\n<rect fill="',t+=n(r),t+='" stroke="#3f3f3f" stroke-miterlimit="10" x="22" y="15" width="6" height="2" rx="0.99"/>\n</svg>'}},4252:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return e.length&&(r+='\n<label class="fv__label-block-text">',r+=o(i.i18n("viewer_:dialog.replies")),r+="</label>\n",t=n(1186)(e),r+=t,r+="\n"),r}},4210:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t,r="",o=i.$escape;return r+='<li class="fv__replies_item"><span class="fv__replies_content">',r+=o(e.content),r+="</span>\n",t=n(1186)(e.replies),r+=t,r+="\n</li>"}},1186:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$each;e.$value,e.$index;return e.length&&(t+='\n<ul class="fv__replies_list">\n',r(e,(function(e,i){var r;t+="\n",r=n(4210)(e),t+=r,t+="\n"})),t+="\n</ul>\n"),t}},6912:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",r=i.$escape,o=e.content,a=e.replies;return t+='<dialog class="fv__dialog fv__annot-reply-dialog">\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.content")),t+='</span>\n<textarea class="fv__block-textarea content-textarea">',t+=r(o),t+='</textarea>\n</label>\n</div>\n<div class="fv__textarea-container">\n<label>\n<span class="fv__label-block-text">',t+=r(i.i18n("viewer_:dialog.reply")),t+='</span>\n<textarea class="fv__block-textarea reply-textarea"></textarea>\n</label>\n</div>\n<div class="fv__btn_reply_container">\n<button type="button" class="fv__btn fv__btn-reply" disabled>',t+=r(i.i18n("viewer_:dialog.reply")),t+='</button>\n</div>\n<div class="fv__dialog-replies-block">\n',function(e){t+=e}(n(4252)(a)),t+='\n</div>\n<div class="fv__btn-close-container">\n<button type="button" class="fv__btn fv__btn-close">',t+=r(i.i18n("viewer_:dialog.close")),t+="</button>\n</div>\n</dialog>"}},5322:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__text-boundary fv__text-boundary-',t+=(0,i.$escape)(e.direction),t+='">\n<div class="fv__text-boundary-blank">\n<div class="fv__text-boundary-cursor"></div>\n<div class="fv__text-boundary-sign"></div>\n</div>\n</div>'}},7539:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape;return t+='<dialog class="fv__dialog fv__annot-reply-dialog trust-dia-dibox">\n  <p><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.diaTitle")),t+='</span><i class="fv__icon-layer-close"></i></p>\n  <div class="fv__trust-tip-container">\n<p><i class="fv__icon-dialog-level-warning"></i><span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.enableTip")),t+='</span></p>\n  </div>\n  <div class="fv__textarea-container trust-dia-inbox">\n  <label>\n  <input type="radio" name="trustMode" value="one" checked>\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustOneTime")),t+='</span>\n  </label>\n  <label>\n  <input type="radio" name="trustMode" value="always">\n  <span>',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.trustAlways")),t+='</span>\n  </label>\n  </div>\n  <div class="fv__btn_reply_container btn-bot-box">\n  <button type="button" class="fv__btn fv__btn-reply trust-ok-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.ok")),t+='</button>\n  <button type="button" class="fv__btn fv__btn-close trust-no-btn">',t+=n(i.i18n("viewer_:preferenceDialog.safeReading.cancel")),t+="</button>\n  </div>\n</dialog>"}},1771:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,o=e.borderColorHex,a=(e.position,e.background),A=e.align,s=(e.style,i.$escape),c=e.i,u=e.options,l=e.optClass;n="border:"+r+"px solid "+o+";box-sizing:border-box;",a="background-color:"+a+";outline:none;";switch(A){case 0:A="text-align:left;";break;case 1:A="text-align:center;";break;case 2:A="text-align:right;"}t+='\n<div class="checkbox form-field-options" style="',t+=s(n+"left:0px;top:100%;max-height:200px;width:100%;position:absolute;"+a+A+"overflow-y:auto"),t+='" tabindex="-1">\n';for(c=0;c<u.length;c++){l="form-field-option";u[c].selected&&(l+=" selected"),t+='\n<div \ntabindex="-1"\nclass="',t+=s(l),t+='" \ndata-val="',t+=s(u[c].value),t+='" \ndata-index="',t+=s(c),t+='"\nstyle="white-space: nowrap; overflow-x: hidden;"\n>',t+=s(u[c].label),t+="</div>\n"}return t+="\n</div>"}},7416:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,o=e.borderColor,a=e.position,A=e.height,s=e.width,c=e.background,u=e.align,l=(e.readonlyAttr,e.readonly),d=e.comboEditable,h=(e.cursor,e.fs,e.fontSize),f=(e.fcolor,e.color),p=e.style,g=e.dropButtonDisplay,v=i.$escape,m=e.value;n="border:"+r+"px solid "+o+";box-sizing:border-box;",a="left:0px;top:0px;height:"+A+";width:"+s+";position:absolute;",c="background-color:"+c+";outline:none;";switch(u){case 0:u="text-align:left;";break;case 1:u="text-align:center;";break;case 2:u="text-align:right;"}p=n+a+c+u+("font-size:"+h+";")+("color:"+f+";")+(d?"":"cursor:pointer;"),g=l?"display:none":"display:block";return t+='\n<input class="fwr__ui-combo-input" ',t+=v(l||!d?"readonly":""),t+=' style="',t+=v(p),t+='" value="',t+=v(m),t+='" tabindex="-1"/>\n<div class="fwr__ui-combo-dropdown" style="',t+=v(g),t+='"></div>\n<div class="fwr__ui-combo-arrow"><span /></div>'}},5143:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return"<div class='esign-china-field-username'\nstyle=\"\nposition: absolute;\nwidth: max-content;\ndisplay: none;\nheight: 24px;\ninset: 0px;\nline-height: 18px;\ncolor: white;\npadding: 3px;\nborder-radius: 3px;\nmargin: auto;\n\"\n></div>\n<div class='esign-china-stamp-container'\n style='position: absolute;\n display: none;\n width: 240px;\n overflow-y: scroll;\n max-height: 217px;\n padding: 10px 15px 15px 20px;\n background: #FFFFFF;\n border: solid 1px rgba(0, 0, 0, 0.1);\n box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n border-radius: 3px;'>\n</div>","<div class='esign-china-field-username'\nstyle=\"\nposition: absolute;\nwidth: max-content;\ndisplay: none;\nheight: 24px;\ninset: 0px;\nline-height: 18px;\ncolor: white;\npadding: 3px;\nborder-radius: 3px;\nmargin: auto;\n\"\n></div>\n<div class='esign-china-stamp-container'\n style='position: absolute;\n display: none;\n width: 240px;\n overflow-y: scroll;\n max-height: 217px;\n padding: 10px 15px 15px 20px;\n background: #FFFFFF;\n border: solid 1px rgba(0, 0, 0, 0.1);\n box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.15);\n border-radius: 3px;'>\n</div>"}},6892:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderColor,o=(e.position,e.background),a=e.borderStyle,A=e.borderWidth,s=e.align,c=(e.fs,e.fontSize),u=(e.fcolor,e.color),l=(e.style,e.optsClass,i.$escape),d=e.i,h=e.options,f=e.optClass,p=e.readonly;n="border-color:"+r+";box-sizing:border-box;",o="background-color:"+o+";outline:none;";switch(n+="underline"===a?"border-width: 0 0 "+A+"px 0;border-style:solid;":"border-width:"+A+"px;border-style:"+a+";",s){case 0:s="text-align:left;";break;case 1:s="text-align:center;";break;case 2:s="text-align:right;"}t+='\n<div class="form-field-options" style="',t+=l(n+"left:0px;top:0px;height:100%;width:100%;"+o+s+"overflow-y:auto;"+("font-size:"+c+";")+("color:"+u+";")),t+='" tabindex="-1">\n';for(d=0;d<h.length;d++){f="form-field-option";h[d].selected&&(f+=" selected"),p&&(f+=" readonly"),t+='\n<div \nclass="',t+=l(f),t+='" \ndata-val="',t+=l(h[d].value),t+='" \ndata-index="',t+=l(d),t+='"\nstyle="white-space: nowrap; overflow-x: hidden;"\ntabindex="-1"\n>',t+=l(h[d].label),t+="</div>\n"}return t+="\n</div>"}},2565:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg t="1589451362275" viewBox="-100 -100 1224 1224" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',t+=(0,i.$escape)(e.fillColor),t+='" d="M997.888 70.144C686.592 261.12 460.8 502.272 358.912 623.104l-248.832-195.072-110.08 88.576 429.568 437.248c73.728-189.44 308.224-559.616 594.432-822.784l-26.112-60.928m0 0z"></path></svg>'}},2911:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).small,r=i.$escape,o=e.fillColor;return t+='<?xml version="1.0" standalone="no"?><svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n',0==n?(t+='\n<path stroke="',t+=r(o),t+='" d="M15 15 L185 185 M15 185 L185 15" style="stroke-width:12"></path></svg>\n'):(t+='\n<path stroke="',t+=r(o),t+='" d="M40 40 L160 160 M40 160 L160 40" style="stroke-width:30"></path></svg>\n'),t}},5133:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg viewBox="0 0 400 400"  width="400" height="400" xmlns="http://www.w3.org/2000/svg">\n  <path id="svg_4" d="m30.75,155.65323l131.477663,0l40.627609,-124.90323l40.627633,124.90323l131.477639,0l-106.367469,77.193558l40.629712,124.90323l-106.367515,-77.19566l-106.367492,77.19566l40.629723,-124.90323l-106.367503,-77.193558z" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/>\n</svg>'}},5115:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<svg viewBox="0 0 300 300"  width="300" height="300" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="151" cy="151" r="85" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/>\n</svg>'}},781:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg class="icon" viewBox="0 0 390 390" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">  <rect height="270" width="270" y="60" x="60" fill="',t+=(0,i.$escape)(e.fillColor),t+='"/></svg>'}},5617:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<?xml version="1.0" standalone="no"?><svg t="1589451342686" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path fill="',t+=(0,i.$escape)(e.fillColor),t+='" d="M512 69.479l442.498 442.498-442.498 442.498-442.498-442.498 442.498-442.498z"></path></svg>'}},9194:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";var t="",n=(e=e||{}).border,r=e.borderWidth,o=e.borderColor,a=e.position,A=e.left,s=e.top,c=e.height,u=e.width,l=e.background,d=e.transform,h=e.rotation,f=e.alignStyle,p=e.align,g=(e.fs,e.fontSize),v=(e.fcolor,e.color),m=e.transformStyle,y=e.style,b=e.maxLengthAttr,w=e.maxLength,k=e.spellCheckAttr,x=e.isNoSpellCheck,_=e.isMultiline,P=i.$escape,D=e.isNoScroll,C=e.ro,S=e.value,I=e.comb,E=e.diffLen,R=e.i,T=e.v,M=e.type,F=e.isPassword,L=e.readonly,N=e.isSafari;n="border:"+r+"px solid "+o+";",a="left:"+A+";top:"+s+";height:"+c+";width:"+u+";",l="background-color:"+l+";",d="";switch(0!==h&&(d="transform:rotate("+h+"deg);transform-origin: center;"),p){case 0:f="text-align:left;";break;case 1:f="text-align:center;";break;case 2:f="text-align:right;"}m=d,y=n+a+l+f+("font-size:"+g+";")+("color:"+v+";"),b=w?"maxlength="+w:"",k="spellcheck="+!x;if(_)y+="resize: none;",t+='\n<div class="textCombInput"><textarea class="fv__pdf-form-field-combo-textarea ',t+=P(D?"fv__no-scroll-text":"fv__scroll-text"),t+='" ',t+=P(C),t+=' style="',t+=P(y),t+='">',t+=P(S),t+="</textarea></div>\n";else if(I){t+='\n<div class="textCombInput" >\n<div class="textCombContainer">\n';for(E=w-S.length,R=0;R<w;R++){T=S[R];2==p&&w>S.length&&R<E&&(T=""),2==p&&R>=E&&(T=S[R-E]),t+='\n<div class="textComb" style="',t+=P(n),t+='" data-index="',t+=P(R),t+='">',t+=P(T),t+="</div>\n"}t+='\n</div>\n\n<input type="',t+=P(M),t+='" ',t+=P(C),t+=' style="',t+=P(y),t+='" ',t+=P(b),t+=" ",t+=P(k),t+=' value="',t+=P(S),t+='" tabindex="-1">\n</div>\n'}else{C=L?"readonly":"";t+='\n<div class="textCombInput">\n<input  type="',t+=P(M=F?"password":"text"),t+='" ',t+=P(C),t+=" ",t+=P(b),t+=" ",t+=P(k),t+=' style="',t+=P(y+m),t+=P(N&&"box-sizing: content-box; padding: 0;"),t+='" value="',t+=P(S),t+='" tabindex="-1"/>\n<div class="dtbox"></div>\n</div>\n'}return t}},4563:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+="<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n  <title>Document</title>\n  <script>\nwindow.initJS = function (PDFJSGlobal) {\n  const standardGlobalVariables = [\n  'app', 'event', 'doc',\n  'this', 'util', 'catalog',\n  'color', 'console', 'dbg'\n  ];\n  standardGlobalVariables.forEach(function(key) {\nObject.defineProperty(window, key, {\nget: function(){\nreturn PDFJSGlobal[key];\n},\nset: function(value){\nPDFJSGlobal[key] = value;\n}\n})\n  });\n  window.PDFJSGlobal = new Proxy(PDFJSGlobal, {\nhas: function(target, key) {\nreturn Reflect.has(target, key);\n},\nget: function(target, key) {\nreturn Reflect.get(target, key);\n},\nset: function(target, key, value) {\nReflect.set(target, key, value);\nif(standardGlobalVariables.indexOf(key) === -1) {\nReflect.set(window, key, value);\n}\n}\n  })\n  function appClosure() {\nfor (var i in window) {\n  if (i != 'PDFJSGlobal'\n&& i != 'location'\n&& i != 'window'\n&& i != 'appClosure') {\n  try {\neval('var ' + i + '=null');\n  } catch (ex) {}\n  }\n}\nvar proto = Object.getPrototypeOf ? Object.getPrototypeOf(window.PDFJSGlobal.doc) : window.PDFJSGlobal.doc.__proto__;\nObject.getOwnPropertyNames(proto).forEach(function (key) {\n  if (key === \"constructor\") return;\n  var descriptor = Object.getOwnPropertyDescriptor(proto, key);\n  if(typeof descriptor.value === 'function') {\nwindow[key] = function () {\n  return window.PDFJSGlobal.doc[key].apply(window.PDFJSGlobal.doc, arguments)\n}\n  } else {\n  if(window[key]){window[key] = window.PDFJSGlobal.doc[key];return}\nObject.defineProperty(window, key, {\n  get: function () {\nreturn window.PDFJSGlobal.doc[key];\n  }, set: function (val) {\nwindow.PDFJSGlobal.doc[key] = val\n  }\n})\n  }\n})\n\nreturn {\n  docClosure: function (f) {\nwith (PDFJSGlobal) {\n  with (PDFJSGlobal.doc) {\ntry {\n  eval(f);\n} catch (e) {\n  //",t+=(0,i.$escape)(e.log||""),t+="&&console.warn(e)\n}\nreturn function (f) {\n  return eval(f)\n}\n  }\n}\n  }\n}\n  }\n  window.__appClosure__ = appClosure();\n}\n\nwindow.runJS = function (data, engineEvent) {\n  var doc = window.PDFJSGlobal.doc;\n  window.PDFJSGlobal.event = engineEvent;\n\n  doc.timeStamp = engineEvent && engineEvent.timeStamp;\n\n  var resetDocClosure = function () {\nconst guessVariableNames = Array.from(new Set(data.code.split(/\\W/))).filter(name => {\nif(!doc.exec) {\ndoc.exec = window.__appClosure__.docClosure('');\n}\ntry {\ndoc.exec(name);\nreturn false\n} catch (error) {\nreturn true\n}\n});\ndoc.exec = window.__appClosure__.docClosure.call(doc, data.code);\nguessVariableNames.forEach(name => {\ntry {\nconst value = doc.exec(name);\ndoc[name] = value;\n} catch (error) {\n// IGNORE\n}\n})\n  }\n  if(typeof data.code === 'string')\n  data.code = data.code.replace(/window\\.open/g, ''); //Sanitize window.open\n  switch (data.action) {\ncase 'execute':\n  doc.exec(data.code, data, engineEvent);\n  break;\ncase 'reset':\n  resetDocClosure();\n  return;\ndefault:\n  if (data.global) { // 兼容旧版本\nreturn resetDocClosure();\n  }\n  }\n  window.PDFJSGlobal.event = null;\n}\n  <\/script>\n</head>\n\n<body>\n</body>\n\n</html>\n"}},8272:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<div class="fv__ui-print-process">\n<div class="fv__ui-print-process-title">',t+=(0,i.$escape)(e.title),t+='</div>\n<div class="fv__ui-print-process-digital-progress"><span class="fv__ui-print-process-current">0</span>/<span class="fv__ui-print-process-total">0</span></div>\n<div class="fv__ui-print-process-bar">\n<div class="fv__ui-print-process-percent"></div>\n</div>\n</div>'}},1885:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv-callout">\n<div class="fv__shape-control callout">\n<canvas class="fv__shape-control-previewer"></canvas>\n<div class="fv__shape-control-move-area"></div>\n<div class="fv__shape-control-inner-area">\n<div class="fv__shape-controller callout left text"></div>\n<div class="fv__shape-controller callout top text"></div>\n<div class="fv__shape-controller callout right text"></div>\n<div class="fv__shape-controller callout bottom text"></div>\n</div>\n<div class="fv__shape-control-text-area"></div>\n<div class="fv__shape-controller callout calloutStart"></div>\n<div class="fv__shape-controller callout calloutKnee"></div>\n</div>\n</div>','<div class="fv-callout">\n<div class="fv__shape-control callout">\n<canvas class="fv__shape-control-previewer"></canvas>\n<div class="fv__shape-control-move-area"></div>\n<div class="fv__shape-control-inner-area">\n<div class="fv__shape-controller callout left text"></div>\n<div class="fv__shape-controller callout top text"></div>\n<div class="fv__shape-controller callout right text"></div>\n<div class="fv__shape-controller callout bottom text"></div>\n</div>\n<div class="fv__shape-control-text-area"></div>\n<div class="fv__shape-controller callout calloutStart"></div>\n<div class="fv__shape-controller callout calloutKnee"></div>\n</div>\n</div>'}},8012:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$escape,r=e.previewer,o=e.moveable,a=e.resizable,A=e.enableFrame,s=e.enableDiagonally,c=e.enableSizeBox,u=e.rotatable,l=e.degreeInitVisibility;return t+='<div class="fv__shape-control">\n<canvas class="fv__shape-control-previewer" ',t+=n(r?"":"style=display:none"),t+=" ></canvas>\n",o&&(t+='\n<div class="fv__shape-control-move-area"></div>\n'),t+='\n<div class="fv__shape-controller-resizable-wrap" ',t+=n(a?"":"style=visibility:hidden"),t+=" >\n",A&&(t+='\n<div class="fv__shape-controller" direction="north"></div>\n<div class="fv__shape-controller" direction="south"></div>\n<div class="fv__shape-controller" direction="west"></div>\n<div class="fv__shape-controller" direction="east"></div>\n'),t+="\n",s&&(t+='\n<div class="fv__shape-controller" direction="north-west"></div>\n<div class="fv__shape-controller" direction="north-east"></div>\n<div class="fv__shape-controller" direction="south-west"></div>\n<div class="fv__shape-controller" direction="south-east"></div>\n'),t+="\n",c&&(t+='\n<div class="fv__shape-size"></div>\n'),t+="\n</div>\n",u&&(t+='\n<div class="fv__shape-rotate">\n<div class="fv-shape-rotate-handle fv__cursor-rotation"></div>\n<div class="fv-shape-rotate-degree" ',t+=n(l?"":"style=visibility:hidden"),t+=' ></div>\n<div class="fv-shape-rotate-bound"></div>\n</div>\n'),t+="\n</div>"}},564:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";var t="";return t+='<div class="fv__rendering-container" >\n',t+=(e=e||{}).isIE?'\n<ul class="fv__loading-animation">\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n':'\n<div class="fv__rendering-svg" aria-live="assertive" aria-busy="true"></div>\n',t+="\n</div>"}},4528:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__ui-progress-layer">\n<div class="fv__ui-progress-icon"></div>\n<span class="fv__ui-progress-text"></span>\n</div>','<div class="fv__ui-progress-layer">\n<div class="fv__ui-progress-icon"></div>\n<span class="fv__ui-progress-text"></span>\n</div>'}},3013:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="",n=i.$each,r=e.actions,o=(e.$value,e.$index,i.$escape);return t+='<div class="fv__selection-tool-tip-container" tabindex="0">\n\x3c!--<div class="fv__selection-tool-tip-items-container">--\x3e\n<div class="fv__selection-tool-tip-items">\n',n(r,(function(e,n){t+='\n<div class="fv__selection-tool-tip-item ',t+=o(e.iconClass),t+='" action="',t+=o(e.name),t+='"></div>\n'})),t+="\n</div>\n\x3c!--</div>--\x3e\n</div>"}},9901:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<audio class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='"  poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload" style="width: 100%; height: 100%;">Your browser does not support the audio tag.</audio>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},5680:(e,t,n)=>{n(5779);e.exports=function(e){"use strict";e=e||{};return'<div class="fv__pdf-viewer-layout">\r\n<div class="fv__pdf-viewer-rendering"></div>\r\n<div class="fv__pdf-viewer-container"></div>\r\n<div class="fv__pdf-viewer-handler-container"></div>\r\n</div>','<div class="fv__pdf-viewer-layout">\r\n<div class="fv__pdf-viewer-rendering"></div>\r\n<div class="fv__pdf-viewer-container"></div>\r\n<div class="fv__pdf-viewer-handler-container"></div>\r\n</div>'}},2843:(e,t,n)=>{var i=n(5779);e.exports=function(e){"use strict";e=e||{};var t="";return t+='<video class="fv__player" src="',t+=(0,i.$escape)(e.url),t+='" poster="#" width="100%" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</video>\r\n<button>\r\n<i class="fv__close-video"></i>\r\n</button>'}},973:e=>{window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(2)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n(1);var i={isFirefox:function(){return"undefined"!=typeof InstallTrigger},getFirefoxMajorVersion:function(e){var t=(e=e||navigator.userAgent).toLowerCase().match(/firefox\/(\S+)/);if(t)return t[1].split(".").map((function(e){return parseInt(e)}))[0]},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!i.isIE()&&!!window.StyleMedia},isChrome:function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}},r=i,o={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),n.appendChild(i);var r=document.createElement("span");r.setAttribute("class","printSpinner"),n.appendChild(r);var a=document.createTextNode(e.modalMessage);n.appendChild(a),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",(function(){o.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}},a=o;function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function c(e,t){for(var n=0;n<e.length;n++)if("object"===A(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function u(e,t){var n=document.createElement("div");if(h(t.header))n.innerHTML=t.header;else{var i=document.createElement("h1"),r=document.createTextNode(t.header);i.appendChild(r),i.setAttribute("style",t.headerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes[0])}function l(e,t){var n=document.createElement("div");if(h(t.footer))n.innerHTML=t.footer;else{var i=document.createElement("h1"),r=document.createTextNode(t.footer);i.appendChild(r),i.setAttribute("style",t.footerStyle),n.appendChild(i)}e.insertBefore(n,e.childNodes.lastChild)}function d(e){e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(r.isChrome()||r.isFirefox())&&(t="focus"),window.addEventListener(t,(function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var i=document.getElementById(e.frameId);i&&(e.frameRemoveDelay?setTimeout((function(){i.remove()}),e.frameRemoveDelay):i.remove())}))}function h(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}function f(e,t){try{if(r.isEdge()||r.isIE())try{e.focus(),e.contentWindow.document.execCommand("print",!1,null),d(t)}catch(n){setTimeout((function(){e.focus(),e.contentWindow.print(),d(t)}),1e3)}else setTimeout((function(){e.focus(),e.contentWindow.print(),d(t)}),1e3)}catch(e){t.onError(e)}finally{r.isFirefox()&&r.getFirefoxMajorVersion()<110&&(e.style.visibility="hidden",e.style.left="-1px")}}var p={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var i=document.createElement("style");i.innerHTML=e.style,t.head.appendChild(i)}var o=t.getElementsByTagName("img");o.length>0?function(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise((function(t){!function n(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()}))}(e)}));return Promise.all(t)}(Array.from(o)).then((function(){return f(n,e)})):f(n,e)}else r.isFirefox()&&r.getFirefoxMajorVersion()<110||r.isSafari()?setTimeout((function(){return f(n,e)}),1e3):f(n,e)}}},g=function(e,t){if(e.base64){-1!==e.printable.indexOf(",")&&(e.printable=e.printable.split(",")[1]);var n=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));v(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var i=new window.XMLHttpRequest;i.responseType="arraybuffer",i.addEventListener("error",(function(){d(e),e.onError(i.statusText,i)})),i.addEventListener("load",(function(){if(-1===[200,201].indexOf(i.status))return d(e),void e.onError(i.statusText,i);v(e,t,i.response)})),i.open("GET",e.printable,!0),i.send()}};function v(e,t,n){var i=new window.Blob([n],{type:"application/pdf"});i=window.URL.createObjectURL(i),t.setAttribute("src",i),p.send(e,t)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y=function(e,t){var n,i="object"===m(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);i?(e.printableElement=b(i,e),e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)};function b(e,t){for(var n=e.cloneNode(),i=Array.prototype.slice.call(e.childNodes),r=0;r<i.length;r++)if(-1===t.ignoreElements.indexOf(i[r].id)){var o=b(i[r],t);n.appendChild(o)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",function(e,t){for(var n="",i=(document.defaultView||window).getComputedStyle(e,""),r=0;r<i.length;r++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(i[r])||c(t.targetStyles,i[r]))&&i.getPropertyValue(i[r])&&(n+=i[r]+":"+i.getPropertyValue(i[r])+";");return n+"max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0)}return n}var w=function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)},k=function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,r.isFirefox()){var i=n.src;n.src=i}var o=document.createElement("div");o.appendChild(n),e.printableElement.appendChild(o)})),e.header&&u(e.printableElement,e),e.footer&&l(e.printableElement,e),p.send(e,t)};function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var _=function(e,t){if("object"!==x(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===x(t)?t.field:t,displayName:"object"===x(t)?t.displayName:t,columnSize:"object"===x(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&u(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,i='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var r=0;r<n.length;r++)i+='<th style="width:'+n[r].columnSize+";"+e.gridHeaderStyle+'">'+s(n[r].displayName)+"</th>";i+="</tr>",e.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var o=0;o<t.length;o++){i+="<tr>";for(var a=0;a<n.length;a++){var A=t[o],c=n[a].field.split(".");if(c.length>1)for(var u=0;u<c.length;u++)A=A[c[u]];else A=A[n[a].field];i+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+A+"</td>"}i+="</tr>"}return i+"</tbody></table>"}(e),e.footer&&l(e.printableElement,e),p.send(e,t)};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var D=["pdf","html","image","json","raw-html"],C=function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",footer:null,footerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",frameRemoveDelay:null,printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(P(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]=void 0!==t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+P(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===D.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&a.show(e),e.onLoadingStart&&e.onLoadingStart();var i=document.getElementById(e.frameId);i&&i.parentNode.removeChild(i);var o=document.createElement("iframe");switch(r.isFirefox()?o.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):o.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),o.setAttribute("id",e.frameId),"pdf"!==e.type&&(o.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){o.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),o.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(e.fallbackPrintable,"_blank").focus(),e.onIncompatibleBrowser()}catch(t){e.onError(t)}finally{e.showModal&&a.close(),e.onLoadingEnd&&e.onLoadingEnd()}else g(e,o);break;case"image":k(e,o);break;case"html":y(e,o);break;case"raw-html":w(e,o);break;case"json":_(e,o)}},S=C;"undefined"!=typeof window&&(window.printJS=S),t.default=S}]).default},5585:(e,t,n)=>{"use strict";
/*! art-template@runtime | https://github.com/aui/art-template */var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},r=Object.create(i),o=/["&'<>]/;function a(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?a(e.call(e)):JSON.stringify(e)),e}r.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var i="",r=void 0,a=void 0,A=void 0;for(r=n.index,a=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:A="&#34;";break;case 38:A="&#38;";break;case 39:A="&#39;";break;case 60:A="&#60;";break;case 62:A="&#62;";break;default:continue}a!==r&&(i+=t.substring(a,r)),a=r+1,i+=A}return a!==r?i+t.substring(a,r):i}(a(e))},r.$each=function(e,t){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)t(e[n],n);else for(var r in e)t(e[r],r)},e.exports=r},5779:(e,t,n)=>{"use strict";e.exports=n(5585)},3954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0iaSIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik0xMiAySDRWM0gxMlYyWiIvPjwvbWFzaz48cGF0aCBkPSJNMTIgMkg0VjNIMTJWMloiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNCAyVjFIM1YySDRaTTEyIDJIMTNWMUgxMlYyWk0xMiAzVjRIMTNWM0gxMlpNNCAzSDNWNEg0VjNaTTQgM0gxMlYxSDRWM1pNMTEgMlYzSDEzVjJIMTFaTTEyIDJINFY0SDEyVjJaTTUgM1YySDNWM0g1WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNpKSIvPjxtYXNrIGlkPSJkIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0iTTEwIDRINVY1SDEwVjRaIi8+PC9tYXNrPjxwYXRoIGQ9Ik0xMCA0SDVWNUgxMFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01IDRWM0g0VjRINVpNMTAgNEgxMVYzSDEwVjRaTTEwIDVWNkgxMVY1SDEwWk01IDVINFY2SDVWNVpNNSA1SDEwVjNINVY1Wk05IDRWNUgxMVY0SDlaTTEwIDRINVY2SDEwVjRaTTYgNVY0SDRWNUg2WiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNkKSIvPjxtYXNrIGlkPSJjIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTEwIDQuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYxYzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMCA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik05LjUgNUM5LjIyMzg2IDUgOSA0Ljc3NjE0IDkgNC41SDExQzExIDMuNjcxNTcgMTAuMzI4NCAzIDkuNSAzVjVaTTkgNC41VjUuNUgxMVY0LjVIOVpNOSA1LjVDOSA1LjIyMzg2IDkuMjIzODYgNSA5LjUgNVY3QzEwLjMyODQgNyAxMSA2LjMyODQzIDExIDUuNUg5Wk05LjUgNUM5Ljc3NjE0IDUgMTAgNS4yMjM4NiAxMCA1LjVIOEM4IDYuMzI4NDMgOC42NzE1NyA3IDkuNSA3VjVaTTEwIDUuNVY0LjVIOFY1LjVIMTBaTTEwIDQuNUMxMCA0Ljc3NjE0IDkuNzc2MTQgNSA5LjUgNVYzQzguNjcxNTcgMyA4IDMuNjcxNTcgOCA0LjVIMTBaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2MpIi8+PG1hc2sgaWQ9ImIiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIvPjwvbWFzaz48cGF0aCBkPSJtNiA0LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2MWMwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0xeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik01LjUgNUM1LjIyMzg2IDUgNSA0Ljc3NjE0IDUgNC41SDdDNyAzLjY3MTU3IDYuMzI4NDMgMyA1LjUgM1Y1Wk01IDQuNVY1LjVIN1Y0LjVINVpNNSA1LjVDNSA1LjIyMzg2IDUuMjIzODYgNSA1LjUgNVY3QzYuMzI4NDMgNyA3IDYuMzI4NDMgNyA1LjVINVpNNS41IDVDNS43NzYxNCA1IDYgNS4yMjM4NiA2IDUuNUg0QzQgNi4zMjg0MyA0LjY3MTU3IDcgNS41IDdWNVpNNiA1LjVWNC41SDRWNS41SDZaTTYgNC41QzYgNC43NzYxNCA1Ljc3NjE0IDUgNS41IDVWM0M0LjY3MTU3IDMgNCAzLjY3MTU3IDQgNC41SDZaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2IpIi8+PG1hc2sgaWQ9ImEiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIvPjwvbWFzaz48cGF0aCBkPSJNOCA0SDdWMTFIOFY0WiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik03IDRWM0g2VjRIN1pNOCA0SDlWM0g4VjRaTTggMTFWMTJIOVYxMUg4Wk03IDExSDZWMTJIN1YxMVpNNyA1SDhWM0g3VjVaTTcgNFYxMUg5VjRIN1pNOCAxMEg3VjEySDhWMTBaTTggMTFWNEg2VjExSDhaIiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2EpIi8+PG1hc2sgaWQ9ImgiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIvPjwvbWFzaz48cGF0aCBkPSJtOC41IDEwaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik02LjUgMTFIOC41VjlINi41VjExWk04LjUgMTFDOC4yMjM4NiAxMSA4IDEwLjc3NjEgOCAxMC41SDEwQzEwIDkuNjcxNTcgOS4zMjg0MyA5IDguNSA5VjExWk04IDEwLjVDOCAxMC4yMjM5IDguMjIzODYgMTAgOC41IDEwVjEyQzkuMzI4NDMgMTIgMTAgMTEuMzI4NCAxMCAxMC41SDhaTTguNSAxMEg2LjVWMTJIOC41VjEwWk02LjUgMTBDNi43NzYxNCAxMCA3IDEwLjIyMzkgNyAxMC41SDVDNSAxMS4zMjg0IDUuNjcxNTcgMTIgNi41IDEyVjEwWk03IDEwLjVDNyAxMC43NzYxIDYuNzc2MTQgMTEgNi41IDExVjlDNS42NzE1NyA5IDUgOS42NzE1NyA1IDEwLjVIN1oiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjaCkiLz48bWFzayBpZD0iZyIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6Ii8+PC9tYXNrPjxwYXRoIGQ9Im0xMSAxMmgtN3YxaDd2LTF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTQgMTJ2LTFoLTF2MWgxem03IDBoMXYtMWgtMXYxem0wIDF2MWgxdi0xaC0xem0tNyAwaC0xdjFoMXYtMXptMCAwaDd2LTJoLTd2MnptNi0xdjFoMnYtMWgtMnptMSAwaC03djJoN3YtMnptLTYgMXYtMWgtMnYxaDJ6IiBmaWxsPSIjMzMzIiBtYXNrPSJ1cmwoI2cpIi8+PG1hc2sgaWQ9ImYiIGZpbGw9IndoaXRlIj48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMTQgMTB2LTVoLTF2NWgxeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNCA1aDF2LTFoLTF2MXptMCA1djFoMXYtMWgtMXptLTEgMGgtMXYxaDF2LTF6bTAtNXYtMWgtMXYxaDF6bTAgMHY1aDJ2LTVoLTJ6bTEgNGgtMXYyaDF2LTJ6bTAgMXYtNWgtMnY1aDJ6bS0xLTRoMXYtMmgtMXYyeiIgZmlsbD0iIzMzMyIgbWFzaz0idXJsKCNmKSIvPjxtYXNrIGlkPSJlIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTIgMTB2LTVoLTF2NWgxeiIvPjwvbWFzaz48cGF0aCBkPSJtMiAxMHYtNWgtMXY1aDF6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIgNWgxdi0xaC0xdjF6bTAgNXYxaDF2LTFoLTF6bS0xIDBoLTF2MWgxdi0xem0wLTV2LTFoLTF2MWgxem0wIDB2NWgydi01aC0yem0xIDRoLTF2Mmgxdi0yem0wIDF2LTVoLTJ2NWgyem0tMS00aDF2LTJoLTF2MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjZSkiLz48cGF0aCBkPSJtMi41IDEuNWgtMnYyaDJ2LTJ6IiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTUuNSAxLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0ibTIuNSAxMS41aC0ydjJoMnYtMnoiIHN0cm9rZT0iIzMzMyIvPjxwYXRoIGQ9Im0xNS41IDExLjVoLTJ2Mmgydi0yeiIgc3Ryb2tlPSIjMzMzIi8+PC9zdmc+Cg=="},9456:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOSA5LjVjMC0wLjI3NjE0LTAuMjIzODYtMC41LTAuNS0wLjVzLTAuNSAwLjIyMzg2LTAuNSAwLjV2NGMwIDAuMjc2MSAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzkgMC41LTAuNXYtNHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtOS41IDEzaC0yYy0wLjI3NjE0IDAtMC41IDAuMjIzOS0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMmMwLjI3NjE0IDAgMC41LTAuMjIzOSAwLjUtMC41cy0wLjIyMzg2LTAuNS0wLjUtMC41eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0zIDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzODYgMC41IDAuNSAwLjVzMC41LTAuMjIzODYgMC41LTAuNXYtMC43eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im0xNSAxLjhjMC0wLjI3NjE0LTAuMjIzOS0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXYwLjdjMCAwLjI3NjE0IDAuMjIzOSAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE0LjUgN2gtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM4Ni0wLjUgMC41czAuMjIzODYgMC41IDAuNSAwLjVoMTJjMC4yNzYxIDAgMC41LTAuMjIzODYgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im05IDEuNWMwLTAuMjc2MTQtMC4yMjM4Ni0wLjUtMC41LTAuNXMtMC41IDAuMjIzODYtMC41IDAuNXY0YzAgMC4yNzYxNCAwLjIyMzg2IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTR6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},4855:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGQ9Im0xNC41IDE0aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzktMC41IDAuNXMwLjIyMzg2IDAuNSAwLjUgMC41aDEzYzAuMjc2MSAwIDAuNS0wLjIyMzkgMC41LTAuNXMtMC4yMjM5LTAuNS0wLjUtMC41eiIgZmlsbD0iI0ZBQjEwQiIvPjxwYXRoIGQ9Im01LjU2NTQgMTEuNjk3LTAuOTAwOSAwLjc4MTVoLTIuNDIyNmwyLjA5MzItMi4wMTE4IDEuMjMwMyAxLjIzMDN6IiBmaWxsPSIjRkFCMTBCIi8+PHBhdGggZD0ibTIuMjQxOSAxMi40NzhoMS4yNDE4IDEuMTgwOS0xZS01IC0yLjQyMjZ6IiBmaWxsPSIjMzMzIiBzdHJva2U9IiMzMzMiLz48cGF0aCBkPSJtMTQuOTQgMy4wNjEyLTIuMDAwNC0yLjAwMDRjLTAuMTk1My0wLjE5NTI2LTAuNTExOS0wLjE5NTI2LTAuNzA3MiAwbC04LjE3MTMgOC4xNzEzYy0wLjE5NTI2IDAuMTk1MjctMC4xOTUyNiAwLjUxMTg1IDAgMC43MDcxMWwyLjAwMDQgMi4wMDA0YzAuMTk1MjcgMC4xOTUyIDAuNTExODUgMC4xOTUyIDAuNzA3MTEgMGw4LjE3MTQtOC4xNzE0YzAuMTk1Mi0wLjE5NTI2IDAuMTk1Mi0wLjUxMTg0IDAtMC43MDcxMXoiIHN0cm9rZT0iIzMzMyIvPjxtYXNrIGlkPSJhIiBmaWxsPSJ3aGl0ZSI+PHBhdGggZD0ibTguMjkyOSAxMSAwLjcwNzExLTAuNzA3MS0yLjgyODQtMi44Mjg1LTAuNzA3MSAwLjcwNzExIDIuODI4NCAyLjgyODR6Ii8+PC9tYXNrPjxwYXRoIGQ9Im04LjI5MjkgMTEgMC43MDcxMS0wLjcwNzEtMi44Mjg0LTIuODI4NS0wLjcwNzEgMC43MDcxMSAyLjgyODQgMi44Mjg0eiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05IDEwLjI5MyAwLjcwNzExIDAuNzA3MSAwLjcwNzA5LTAuNzA3MS0wLjcwNzA5LTAuNzA3MTQtMC43MDcxMSAwLjcwNzE0em0tMC43MDcxMSAwLjcwNzEtMC43MDcxIDAuNzA3MSAwLjcwNzEgMC43MDcxIDAuNzA3MTEtMC43MDcxLTAuNzA3MTEtMC43MDcxem0tMi44Mjg0LTIuODI4NC0wLjcwNzExLTAuNzA3MTEtMC43MDcxMSAwLjcwNzExIDAuNzA3MTEgMC43MDcxMSAwLjcwNzExLTAuNzA3MTF6bTAuNzA3MS0wLjcwNzExIDAuNzA3MTEtMC43MDcxMS0wLjcwNzExLTAuNzA3MS0wLjcwNzEgMC43MDcxIDAuNzA3MSAwLjcwNzExem0yLjEyMTMgMi4xMjEzLTAuNzA3MSAwLjcwNzE0IDEuNDE0MiAxLjQxNDIgMC43MDcxMS0wLjcwNzEtMS40MTQyLTEuNDE0MnptMC43MDcxMSAwLjcwNzE0LTIuODI4NC0yLjgyODUtMS40MTQyIDEuNDE0MiAyLjgyODQgMi44Mjg0IDEuNDE0Mi0xLjQxNDJ6bS0yLjgyODQtMS40MTQyIDAuNzA3MTEtMC43MDcxMS0xLjQxNDItMS40MTQyLTAuNzA3MTEgMC43MDcxMSAxLjQxNDIgMS40MTQyem0tMC43MDcxLTAuNzA3MTEgMi44Mjg0IDIuODI4NCAxLjQxNDItMS40MTQyLTIuODI4NC0yLjgyODQtMS40MTQyIDEuNDE0MnoiIGZpbGw9IiMzMzMiIG1hc2s9InVybCgjYSkiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJiIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiNmZmYiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4K"},2142:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTUgMUgyVjJIMTVWMVoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNOSAxSDhWMTJIOVYxWiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im05LjUgMTJoLTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgyYzAuMjc2MTQgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzODYtMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTMgMS41YzAtMC4yNzYxNC0wLjIyMzg2LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM4NiAwLjUgMC41IDAuNXMwLjUtMC4yMjM4NiAwLjUtMC41di0wLjd6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTE1IDEuOGMwLTAuMjc2MTQtMC4yMjM5LTAuNS0wLjUtMC41cy0wLjUgMC4yMjM4Ni0wLjUgMC41djAuN2MwIDAuMjc2MTQgMC4yMjM5IDAuNSAwLjUgMC41czAuNS0wLjIyMzg2IDAuNS0wLjV2LTAuN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQuNSAxNGgtMTJjLTAuMjc2MTQgMC0wLjUgMC4yMjM5LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxMmMwLjI3NjEgMCAwLjUtMC4yMjM5IDAuNS0wLjVzLTAuMjIzOS0wLjUtMC41LTAuNXoiIGZpbGw9IiNGQUIxMEIiLz48L3N2Zz4K"},3434:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA80lEQVR42qXToU4DQRDG8V+BVNRUIXH3DCVBtTgEpMGRuj5CFQFPUH2EOoIjFxB1xZH0Hc4hqzCImsNMk025KyX3JZPb/c/st5PJXqssS010tFkMr4b/Opi/5uBAQ20b9PCObkVtN3K9XQYP6OMF7YS3g/WjptbgBgXOMUMrYhasiJrfQwytcIEPjPAZfJTkVrsMxC2XWOA22Hew4q8hbrTENNlPg9nX4BSTZD8JtpdBhjd08BjRCZbVvsTQMebxfcJd8JMY5Bxn6SC3O3iOWxYYo4wYB8uipraDexziGuuEr4PlSVeVBksMagb7VZVr/DP9AJT5MPf0gyv5AAAAAElFTkSuQmCC"},8488:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNCA0SDVMMyAxMUgyTDQgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNiA4SDNWOUg2VjhaIiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTExLjAwMSA0aC0xdjdoMXYtN3oiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDhoLTJ2LTFoMmMwLjI2NTIgMCAwLjUxOTUtMC4xMDU0MyAwLjcwNy0wLjI5Mjk3czAuMjkzLTAuNDQxODEgMC4yOTMtMC43MDcwMy0wLjEwNTUtMC41MTk0OS0wLjI5My0wLjcwNzAzLTAuNDQxOC0wLjI5Mjk3LTAuNzA3LTAuMjkyOTdoLTJ2LTFoMmMwLjUzMDQgMCAxLjAzOSAwLjIxMDg2IDEuNDE0IDAuNTg1OTQgMC4zNzUxIDAuMzc1MDcgMC41ODYgMC44ODM2MyAwLjU4NiAxLjQxNDFzLTAuMjEwOSAxLjAzOS0wLjU4NiAxLjQxNDFjLTAuMzc1IDAuMzc1MDgtMC44ODM2IDAuNTg1OTQtMS40MTQgMC41ODU5NHoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJNNSA0SDRMNiAxMUg3TDUgNFoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTIuMDAxIDExaC0ydi0xaDJjMC4yNjUyIDAgMC41MTk1LTAuMTA1NDMgMC43MDctMC4yOTI5N3MwLjI5My0wLjQ0MTgxIDAuMjkzLTAuNzA3MDMtMC4xMDU1LTAuNTE5NDktMC4yOTMtMC43MDcwMy0wLjQ0MTgtMC4yOTI5Ny0wLjcwNy0wLjI5Mjk3aC0ydi0xaDJjMC41MzA0IDAgMS4wMzkgMC4yMTA4NiAxLjQxNCAwLjU4NTk0IDAuMzc1MSAwLjM3NTA3IDAuNTg2IDAuODgzNjMgMC41ODYgMS40MTQxcy0wLjIxMDkgMS4wMzktMC41ODYgMS40MTQxYy0wLjM3NSAwLjM3NS0wLjg4MzYgMC41ODU5LTEuNDE0IDAuNTg1OXoiIGZpbGw9IiMzMzMiLz48cGF0aCBkPSJtMTQgMi41aC0xMmMtMC44Mjg0MyAwLTEuNSAwLjY3MTU3LTEuNSAxLjV2N2MwIDAuODI4NCAwLjY3MTU3IDEuNSAxLjUgMS41aDEyYzAuODI4NCAwIDEuNS0wLjY3MTYgMS41LTEuNXYtN2MwLTAuODI4NDMtMC42NzE2LTEuNS0xLjUtMS41eiIgc3Ryb2tlPSIjMzMzIi8+PHBhdGggZD0iTTkgM0g4VjEzSDlWM1oiIGZpbGw9IiMzMzMiLz48L3N2Zz4K"},3231:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIuNTQ2IDIuODg4OS05Ljg5OTUgOS44OTk1Yy0wLjE5NTI2IDAuMTk1My0wLjE5NTI2IDAuNTExOSAwIDAuNzA3MSAwLjE5NTI3IDAuMTk1MyAwLjUxMTg1IDAuMTk1MyAwLjcwNzExIDBsOS44OTk1LTkuODk5NWMwLjE5NTItMC4xOTUyNyAwLjE5NTItMC41MTE4NSAwLTAuNzA3MTEtMC4xOTUzLTAuMTk1MjYtMC41MTE5LTAuMTk1MjYtMC43MDcxIDB6IiBmaWxsPSIjMzMzIi8+PHBhdGggZD0ibTIuNjQ2IDMuNTk2IDkuODk5NSA5Ljg5OTRjMC4xOTUzIDAuMTk1MyAwLjUxMTggMC4xOTUzIDAuNzA3MSAwIDAuMTk1My0wLjE5NTIgMC4xOTUzLTAuNTExOCAwLTAuNzA3MWwtOS44OTk1LTkuODk5NWMtMC4xOTUyNy0wLjE5NTI2LTAuNTExODUtMC4xOTUyNi0wLjcwNzExIDAtMC4xOTUyNiAwLjE5NTI3LTAuMTk1MjYgMC41MTE4NSAwIDAuNzA3MTF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},6627:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZD0iTTQsMUg1LjQ2M0wxLjQ0OSwxNEgwWiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5NyIvPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQyMCAyNzEpIiBkPSJNMiwxSC41NTZMNC41MiwxNEg2WiIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLot6/lvoQgODk5OCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQxOCAyNzkpIiBmaWxsPSIjZmZmIiBkYXRhLW5hbWU9Iui3r+W+hCA5MDE1Ij48cGF0aCBkPSJtNS41IDAuOTYwOTRoLTV2LTAuNDYwOTRoNXYwLjQ2MDk0eiIvPjxwYXRoIGQ9Im0wLTEuMTkyMWUtNmg2djEuNDYwOWgtNnYtMS40NjA5eiIgZmlsbD0iIzcwNzA3MCIvPjwvZz48L2c+PC9zdmc+Cg=="},5080:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBkYXRhLW5hbWU9IkZyb20gZmlsZSI+PGcgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzUyMCI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyIDQpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODM5Ij48cGF0aCBkPSJtMCAwaDEydjlhMiAyIDAgMCAxLTIgMmgtOGEyIDIgMCAwIDEtMi0ydi05eiIgc3Ryb2tlPSJub25lIi8+PHBhdGggZD0iTTEsLjVIMTFhLjUuNSwwLDAsMSwuNS41VjlBMS41LDEuNSwwLDAsMSwxMCwxMC41SDJBMS41LDEuNSwwLDAsMSwuNSw5VjFBLjUuNSwwLDAsMSwxLC41WiIgZmlsbD0ibm9uZSIvPjwvZz48cmVjdCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDIpIiB3aWR0aD0iMTQiIGhlaWdodD0iMSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i55+p5b2iIDEzODQxIj48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSIzIiByeD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNSIgaGVpZ2h0PSIyIiByeD0iLjUiIGZpbGw9Im5vbmUiLz48L2c+PHJlY3QgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiA3KSIgd2lkdGg9IjEiIGhlaWdodD0iNSIgcng9Ii41IiBmaWxsPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxMzg0MiIvPjxyZWN0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDkgNykiIHdpZHRoPSIxIiBoZWlnaHQ9IjUiIHJ4PSIuNSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnn6nlvaIgMTM4NDMiLz48L2c+PC9zdmc+Cg=="},2272:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNy41IDEyYzIuNDg1MyAwIDQuNS0yLjAxNDcgNC41LTQuNXMtMi4wMTQ3LTQuNS00LjUtNC41LTQuNSAyLjAxNDctNC41IDQuNSAyLjAxNDcgNC41IDQuNSA0LjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},329:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDE2IC0yNzEpIiBkYXRhLW5hbWU9IkErIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTYgMjcxKSIgZmlsbD0iIzcwNzA3MCIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwMiI+PHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBzdHJva2U9Im5vbmUiLz48cmVjdCB4PSIuNSIgeT0iLjUiIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjYgMjc5KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNCI+PHJlY3Qgd2lkdGg9IjUiIGhlaWdodD0iMSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiB3aWR0aD0iNCIgZmlsbD0ibm9uZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjggMjc3KSIgZmlsbD0iIzcwNzA3MCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuefqeW9oiAxNTkwNSI+PHJlY3Qgd2lkdGg9IjEiIGhlaWdodD0iNSIgc3Ryb2tlPSJub25lIi8+PHJlY3QgeD0iLjUiIHk9Ii41IiBoZWlnaHQ9IjQiIGZpbGw9Im5vbmUiLz48L2c+PHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDE2IDI3MSkiIGQ9Ik00LDFINS40NjNMMS40NDksMTRIMFoiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTciLz48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MjAgMjcxKSIgZD0iTTIsMUguNTU2TDQuNTIsMTRINloiIGZpbGw9IiM3MDcwNzAiIGRhdGEtbmFtZT0i6Lev5b6EIDg5OTgiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MTggMjc5KSIgZmlsbD0iI2ZmZiIgZGF0YS1uYW1lPSLot6/lvoQgOTAxNSI+PHBhdGggZD0ibTUuNSAwLjk2MDk0aC01di0wLjQ2MDk0aDV2MC40NjA5NHoiLz48cGF0aCBkPSJtMC0xLjE5MjFlLTZoNnYxLjQ2MDloLTZ2LTEuNDYwOXoiIGZpbGw9IiM3MDcwNzAiLz48L2c+PC9nPjwvc3ZnPgo="},1759:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNSA3aC0xM2MtMC4yNzYxNCAwLTAuNSAwLjIyMzg2LTAuNSAwLjVzMC4yMjM4NiAwLjUgMC41IDAuNWgxM2MwLjI3NjEgMCAwLjUtMC4yMjM4NiAwLjUtMC41cy0wLjIyMzktMC41LTAuNS0wLjV6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},5906:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTE5IC0yNzEpIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MTkgMjcxKSIgZmlsbD0ibm9uZSIgb3BhY2l0eT0iMCIgc3Ryb2tlPSIjNzA3MDcwIiBkYXRhLW5hbWU9IuakreWchiAyOTgiPjxjaXJjbGUgY3g9IjgiIGN5PSI4IiByPSI4IiBzdHJva2U9Im5vbmUiLz48Y2lyY2xlIGN4PSI4IiBjeT0iOCIgcj0iNy41IiBmaWxsPSJub25lIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwIDk4KSIgZmlsbD0iIzcwNzA3MCIgZGF0YS1uYW1lPSLnu4QgMTM0MjciPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDgxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNiIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgNyIvPjxjaXJjbGUgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkxIDE4MCkiIGN4PSIxLjUiIGN5PSIxLjUiIHI9IjEuNSIgZGF0YS1uYW1lPSLmpK3lnIYgOCIvPjwvZz48L2c+PC9zdmc+Cg=="},383:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIgMi41aC04Yy0wLjgyODQzIDAtMS41IDAuNjcxNTctMS41IDEuNXY4YzAgMC44Mjg0IDAuNjcxNTcgMS41IDEuNSAxLjVoOGMwLjgyODQgMCAxLjUtMC42NzE2IDEuNS0xLjV2LThjMC0wLjgyODQzLTAuNjcxNi0xLjUtMS41LTEuNXoiIHN0cm9rZT0iIzMzMyIvPjwvc3ZnPgo="},9416:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTQuNjQ2IDIuODktOS4xOTI0IDkuMTkyNGMtMC4xOTUyNiAwLjE5NTMtMC4xOTUyNiAwLjUxMTkgMCAwLjcwNzEgMC4xOTUyNiAwLjE5NTMgMC41MTE4NCAwLjE5NTMgMC43MDcxMSAwbDkuMTkyNC05LjE5MjRjMC4xOTUzLTAuMTk1MjYgMC4xOTUzLTAuNTExODUgMC0wLjcwNzExLTAuMTk1Mi0wLjE5NTI2LTAuNTExOC0wLjE5NTI2LTAuNzA3MSAweiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Im02LjE2MTIgMTIuMDgyLTQuMjQyNi00LjI0MjdjLTAuMTk1MjctMC4xOTUyNy0wLjUxMTg1LTAuMTk1MjctMC43MDcxMSAwLTAuMTk1MjYgMC4xOTUyNi0wLjE5NTI2IDAuNTExODQgMCAwLjcwNzFsNC4yNDI2IDQuMjQyN2MwLjE5NTI2IDAuMTk1MiAwLjUxMTg0IDAuMTk1MiAwLjcwNzExIDAgMC4xOTUyNi0wLjE5NTMgMC4xOTUyNi0wLjUxMTkgMC0wLjcwNzF6IiBmaWxsPSIjMzMzIi8+PC9zdmc+Cg=="},2954:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Q0N3tmaWxsOiM0RjRENEY7fTwvc3R5bGU+PGc+PHJlY3QgY2xhc3M9InN0NDciIHRyYW5zZm9ybT0ibWF0cml4KC43MjcgLjY4NjYgLS42ODY2IC43MjcgMTEuMTQ1IC01LjEwNTEpIiB4PSI1Ljk3IiB5PSIxMC44NCIgd2lkdGg9IjEyLjA1IiBoZWlnaHQ9IjEuMjQiLz48cmVjdCBjbGFzcz0ic3Q0NyIgdHJhbnNmb3JtPSJtYXRyaXgoLS42NzggLjczNTEgLS43MzUxIC0uNjc4IDI4LjU1IDEwLjQyKSIgeD0iNS45NyIgeT0iMTAuODQiIHdpZHRoPSIxMi4wNSIgaGVpZ2h0PSIxLjI0Ii8+PC9nPjwvc3ZnPgo="},5412:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPjEyOC4xMjh2aWRlbyBhdWRpbzwvdGl0bGU+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjwvc3ZnPgo="},4031:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSI1OS43NSIgY3k9IjU5Ljc1IiByPSI1Ni43NSIvPjxyZWN0IHg9IjQwIiB5PSIzMi41IiB3aWR0aD0iMTEiIGhlaWdodD0iNTkiLz48cmVjdCB4PSI3MCIgeT0iMzIuNSIgd2lkdGg9IjExIiBoZWlnaHQ9IjU5Ii8+PC9zdmc+Cg=="},5471:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyBkYXRhLW5hbWU9IuWbvuWxgiAyIiB2aWV3Qm94PSIwIDAgMTE5LjUgMTE5LjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjZweDt9PC9zdHlsZT48L2RlZnM+PHBvbHlnb24gcG9pbnRzPSI1My43MiA5Mi44OCA4My44MSA2Mi43OCA1My43MiAzMi42OSIvPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iNTkuNzUiIGN5PSI1OS43NSIgcj0iNTYuNzUiLz48L3N2Zz4K"},384:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAdUlEQVR42u2VwQrAIAxD07H/Lv3y7LKDlG46bAeCuUkPjxhrhCQqdaBYZ3sws1E78jZU1Rjgh5HMDADYgzwCPogjjrIy4B8hM+WKfEZ3Ji1Eqp8ps0IOXTlH9Yu2ARuwWh9Ei5IN8N8ue/0w3QezjmT50i8HXN7EHrm7nJBpAAAAAElFTkSuQmCC"},5672:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0z///+1////TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD///+W/////////////////////////5b///8DAAAAAAAAAAD///9U8PDw/0pKSv/w8PD/////VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD///////z8/P////8D////Lfn5+f9CQkL/AAAA/0JCQv/6+vr/////LQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP///5b/////AAAA//////////////////////8AAAD//////////5T///+WaWlp/wAAAP8AAAD/AAAA/2lpaf////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP///////f39/////wL///8B/v7+//////8CAgL//////f///y3///+W/////wAAAP//////////lv///y0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////////8CAAAAAAAAAAD///8B/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////8JAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD///////b29v//////7e3t/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAD///+Wqqqq/////5YAAAAAAAAAAAAAAAAAAAAA////lv////8AAAD/AAAA/wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAD///9VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////lv////////////////////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////////////////////////////////////////////////////////////////////////////////////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////////////////////////////////////////////////////////////////////////////////////////////////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////+P////j/+P/44DB/+MAAP/iAAD/4gAA/+IYY//iPGP/4jxj/+I8Y//iPGP/4jxj/+I8Y//iPCP/4jwD/+I8A//jfgf/4////+AAAP/gAAD/4AAA///////////////////////////8="},8244:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4404:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAl4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJeD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAl4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/+Xg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/l4Pn/5eD5/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/5eD5/+Xg+f/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACXg+f/l4Pn/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////4AAH/+AAB///////+B////PP///n5///5+P///PB///5gP///AB///4AP///AB///4AP///AB///4Af///AP///4H////D////5/////////////////////////////////8="},4420:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACaSURBVFiF7ZRBDoAgDATrxv8/efEChtRgKEWMpnMTK7OxTUWCIPgLJBPJZP0OM0MAEGuIqQFGQ7jJwlS1Yagdbvnd2TK5NcQ2IDzJ/RYAm64DUD9fagq7RV5f2rq41JHsvbofPWz6jyzpfUuydPq1zCN3LaIZS8ccoB6yPIQev10ujaWjz5fIe949Llc178g9dE3Q3SoNguDzHE8r6s7tkQQOAAAAAElFTkSuQmCC"},8555:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUpXsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SlexfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv6xfUqc////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KV7F9Sv+xfUr/sX1KV7F9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SgCxfUpXsX1K/rF9SpyxfUqcsX1K/rF9SlexfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KnLF9Sv6xfUpXsX1KALF9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1KV7F9Sv6xfUqcsX1KALF9SgCxfUoAsX1KALF9SpyxfUr+sX1KV7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUpXsX1K/rF9SpyxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUqcsX1K/rF9SlexfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SlexfUr+sX1KnLF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KnLF9Sv6xfUpX////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Su+xfUqcsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SpyxfUrv////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APn/nwD4/x8A/H4/AP48fwD/GP8A/4H/AP/D/wD/w/8A/4H/AP8Y/wD+PH8A/H4/APj/HwD5/58A////AP///wD///8A////AP///wA="},3296:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv////8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUqgsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SqD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUogsX1K8LF9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K8LF9SiD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KMLF9SvCxfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUrwsX1KMLF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SiCxfUqgsX1K8LF9Sv+xfUr/sX1K8LF9SqCxfUogsX1KALF9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD/AP8A/gB/APwAPwD8AD8A/AA/APwAPwD8AD8A/AA/APwAPwD8AD8A/gB/AP8A/wD///8A////AP///wD///8A////AP///wA="},4853:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wDwAA8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wA="},7e3:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SvCxfUowsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SjCxfUrw////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SjCxfUrwsX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9Sv+xfUr/sX1K/7F9SvCxfUow////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////APgAHwD5/58A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPv/3wD7/98A+//fAPn/nwD4AB8A////AP///wD///8A////AP///wA="},9382:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8AgICAEP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8AgICAIICAgP+AgIAg////AP///wD///8AgICA/4CAgED///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgP+AgIBw////AP///wCAgIBQgICA/4CAgCD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgKCAgID/gICAQICAgECAgID/gICA0P///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgGCAgID/gICA/4CAgP+AgID/gICAnv///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AICAgBCAgID/gICAUICAgDCAgID/gICAMP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgID/gICAoICAgHCAgID/////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgICAgICA4ICAgMCAgICg////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wCAgIAwgICA/4CAgP+AgIBg////AP///wD///8AgICA/////wD///8A////AICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICA7ICAgP+AgIAQ////AP///wD///8AgICA/////wD///8AgICAgICAgP////8A////AP///wD///8A////AP///wD///8AsX1K/7F9SgD///8A////AP///wD///8AgICAwYCAgNz///8A////AP///wD///8AgICA/4CAgP+AgID/gICA/4CAgID///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9SgCxfUoAsX1K/7F9SgCxfUoA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////ALF9Sv+xfUr/sX1K/7F9Sv+xfUr/////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8Awf//APf//wD3+/8A9jkHAPcxZwD3A3cA9wN3APcDZwD3hwcA94dnAPeHdwD3x2cA988HAPf//wD3//8Awf//AP///wD///8A////AP///wA="},5481:e=>{e.exports="data:image/png;charset=utf-8;base64,AAABAAEAGBgAAAEAIACICQAAFgAAACgAAAAYAAAAMAAAAAEAIAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUrIsX1K4bF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SsGxfUr/sX1K/rF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KwbF9Sv+xfUp3sX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUrBsX1K/7F9SnexfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SsGxfUr/sX1Kd7F9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KwbF9Sv+xfUp3sX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUp3sX1K/7F9SnexfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoAsX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUrysX1KALF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9Si2xfUr9sX1K8rF9SgCxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUotsX1K/bF9SvKxfUoA////AP///wD///8A////AP///wCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KALF9SgCxfUoAsX1KLbF9Sv2xfUqU////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP+f/wD/D/8A/gf/APxj/wD48f8A8fj/AOP8fwD//j8A//8fAP//jwD//8cA///jAP///wD///8A////AP///wD///8A////AP///wA="},5618:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///9F////rv///+H////k////sf///0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8D////kNLS0v9RUVH/Hh4e/xsbG/9OTk7/ycnJ/////5P///8MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b//////////////5YAAAAAAAAAAP///5OTk5P/BgYG/z8/P/+EhIT/h4eH/0VFRf8DAwP/ioqK/////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP8AAAD//////////5b///9Iw8PD/wMDA/+Kior/////wP///3v///+NsbGx/wYGBv8AAAD/wMDA/////1oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD//////////7FOTk7/RUVF/////7r///8M////iq6urv8JCQn/q6ur/1RUVP88PDz/////wwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////wAAAP///////////wAAAP//////////5xgYGP+cnJz/////Y////4qurq7/DAwM/6urq/////+Nq6ur/wMDA//8/Pz/////AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+W/////////5YAAAAAAAAAAP////8AAAD/////////////////AAAA///////////qFRUV/6Wlpf////+Kq6ur/wwMDP+rq6v/////iv///0u0tLT/AAAA//n5+f////8GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////5b///+W/////wAAAP///////////wAAAP//////////lv///71CQkL/Y2Nj/6urq/8MDAz/q6ur/////4oAAAAA////inV1df8tLS3/////0gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD///////////8AAAD/////////////////AAAA//////8AAAAA////VL29vf8GBgb/CQkJ/6urq/////+K////Qv///5DMzMz/DAwM/6Wlpf////9pAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP///////////wAAAP//////////lgAAAAAAAAAA////kH5+fv8DAwP/cnJy/7q6uv+9vb3/eHh4/wYGBv9jY2P/////nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD/////////////////AAAA////////////////////////////////07e3t/85OTn/BgYG/wAAAP82Njb/paWl/////5z///8zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////AAAA/wAAAP8AAAD/AAAA/wAAAP//////////Xf///8b////5/////////8n///9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////////////////////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////////5YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////////+WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///5b/////////lgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////4H///4Af/+GAH//AAA//wAAP/4AAB/GAAAfwAAEP8AEAD/ABgB/wAAAf8AAAf/AAH//wAB//8AA///AAf//wAP//8AH///AD///wB///8A////Af///wP///8H////D////x//////////////8="},527:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAP///////////////wAAAP////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////////////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP////////////////////////////////////////////////8AAAD//////wAAAAD///////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////////////////////////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////////////////////////////////////////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD///////////8AAAD///////////////////////////////////////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAD//////wAAAP//////AAAA//////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAP//////AAAA//////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAA//////8AAAD//////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////wB///8Af///AH////f////j////wf//gYD//wCA//4AY//8ACP//AAj//gAI//4AD//8AA//+AAP//gAD//4AA///4AP//+AH///gD///8B////g////8f///////////////////////8="},6189:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADWSURBVFiF7ZY7DoMwDEDdqgtiyMRK5t6iHRm5RK8B52CAIzAycoOs7F07I3Wx3aVUkSoqCg1BlZ8UKZ8hz3YkB0AQhH8BETMiYmu09hoRM6cCRMRaawYAVkpxVVWslGIAYK01ExE7FUDEfIjWGMMAwMYYOwO5UwGbZ7STot6v4PORw9hBXyeTaxamzW6uwHYzMHC8tHC93d/24yiArji5F+iK82sepg30dbL4UhvvJRCBrwTiKPAr8ItXv0hg09jteKQZrduOy7L0145HPiS5UwFBEObyAD+5v55ihI+vAAAAAElFTkSuQmCC"},6190:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAA//////8AAAAA/////wAAAP//////AAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA////////////AAAA//////8AAAD//////wAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////8AAAAA/////wAAAP8AAAD//////wAAAAD//////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af///4//8AiP//ABj//4Y4//+HeP//h/j//4f4//+H+P/8hPj//AD4//wA+P/8APj////AH///wB///8If/////////////////////////////////////8="},3350:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAwADQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////8////+H////B////gf///wP///4H///8D//wAB//wAA//4fgf/8f+H//P/x//n/ef/5/zn/+f+5//n/uf/5/7n/+f+5//n/uf/5/3n//P/z//x/4//+H4f//wAP///AP////////////////////////////8="},7898:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAUABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAA/wAAAOcAAAHngAABgYAAAYGAAAHngAAA5wAAAP8AAAA8AAAAAAAAA///////////////////////////////////////////////////////////////////////////////////////5////8f///+P////H///wj///wB///4Af//+AH///AA///wAP//8AD///AA///4Af//+AH///wD////D///8="},4005:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoCAAAFgAAACgAAAAgAAAAQAAAAAEACAAAAAAAgAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAAACAAAAAgIAAgAAAAIAAgACAgAAAwMDAAICAgAAAAP8AAP8AAAD//wD/AAAA/wD/AP//AAD///8ACQkJABISEgAfHx8ALCwsADk5OQBFRUUAUlJSAF9fXwBsbGwAeHh4AIWFhQCSkpIAn5+fAKurqwC4uLgAxcXFANLS0gDe3t4A6+vrAPj4+ADw+/8ApKCgAMDcwADwyqYAAAA+AAAAXQAAAHwAAACbAAAAugAAANkAAADwACQk/wBISP8AbGz/AJCQ/wC0tP8AABQ+AAAeXQAAKHwAADKbAAA8ugAARtkAAFXwACRt/wBIhf8AbJ3/AJC1/wC0zf8AACo+AAA/XQAAVHwAAGmbAAB+ugAAk9kAAKrwACS2/wBIwv8AbM7/AJDa/wC05v8AAD4+AABdXQAAfHwAAJubAAC6ugAA2dkAAPDwACT//wBI//8AbP//AJD//wC0//8AAD4qAABdPwAAfFQAAJtpAAC6fgAA2ZMAAPCqACT/tgBI/8IAbP/OAJD/2gC0/+YAAD4UAABdHgAAfCgAAJsyAAC6PAAA2UYAAPBVACT/bQBI/4UAbP+dAJD/tQC0/80AAD4AAABdAAAAfAAAAJsAAAC6AAAA2QAAAPAAACT/JABI/0gAbP9sAJD/kAC0/7QAFD4AAB5dAAAofAAAMpsAADy6AABG2QAAVfAAAG3/JACF/0gAnf9sALX/kADN/7QAKj4AAD9dAABUfAAAaZsAAH66AACT2QAAqvAAALb/JADC/0gAzv9sANr/kADm/7QAPj4AAF1dAAB8fAAAm5sAALq6AADZ2QAA8PAAAP//JAD//0gA//9sAP//kAD//7QAPioAAF0/AAB8VAAAm2kAALp+AADZkwAA8KoAAP+2JAD/wkgA/85sAP/akAD/5rQAPhQAAF0eAAB8KAAAmzIAALo8AADZRgAA8FUAAP9tJAD/hUgA/51sAP+1kAD/zbQAPgAAAF0AAAB8AAAAmwAAALoAAADZAAAA8AAAAP8kJAD/SEgA/2xsAP+QkAD/tLQAPgAUAF0AHgB8ACgAmwAyALoAPADZAEYA8ABVAP8kbQD/SIUA/2ydAP+QtQD/tM0APgAqAF0APwB8AFQAmwBpALoAfgDZAJMA8ACqAP8ktgD/SMIA/2zOAP+Q2gD/tOYAPgA+AF0AXQB8AHwAmwCbALoAugDZANkA8ADwAP8k/wD/SP8A/2z/AP+Q/wD/tP8AKgA+AD8AXQBUAHwAaQCbAH4AugCTANkAqgDwALYk/wDCSP8Azmz/ANqQ/wDmtP8AFAA+AB4AXQAoAHwAMgCbADwAugBGANkAVQDwAG0k/wCFSP8AnWz/ALWQ/wDNtP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/////////////////////////////////////////////////f////z////9f////b///+HAB//v//f/7//3/+//9//sADf/7//3/+//9//v//f/7AA3/+//9//v//f/7//3/+AAB/////////////////////////////////"},209:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACiWYf/olmH/wAAAACiWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/8AAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/6JZh/8AAAAAolmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/AAAAAKJZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/wAAAACiWYf/olmH/6JZh/+iWYf/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/+iWYf/olmH/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAolmH/6JZh/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////9/////n////4f////J////0P///+B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8B////gP///8F////iP///9D////h////8///////////////////////////8="},8483:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD//////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////////////////////wAAAP//////AAAAAP////8AAAD//////wAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP///////////wAAAP//////AAAA//////8AAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////wAAAP8AAAD///////////8AAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA/wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP///////////wAAAP8AAAD///////////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD//////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAAA/////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////hD///4A///+AP///8f/+ARH//gAx//4Ecf//DvH/+AHx//gB8f/4AfH//w/x//gB8f/4AfH/+AHx////gD///4A///+EP/////////////////////////////////////8="},1342:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAEBAAAAAAAABoAwAAFgAAACgAAAAQAAAAIAAAAAEAGAAAAAAAQAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS4AAAAAAAAAAAAAAACtbS4AAAAAAAAAAACtbS6tbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAACtbS6tbS4AAAAAAACtbS6tbS6tbS6tbS4AAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAACtbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS4AAAAAAACtbS4AAAAAAAAAAAAAAAAAAAAAAAAAAACtbS6tbS6tbS6tbS6tbS6tbS4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA+B8AAPAPAADgBwAAw8MAAIfhAACP8QAAj/EAAI/xAACPcQAAhmEAAMBDAADgRwAA8G8AAOB/AAD//wAA"},6294:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////AAAAAP///////////////wAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///////////////wAAAAD///////////////8AAAAA////////////////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/////////////////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB//iMAf/wB4//4AOP/+Ijj//8H4//+A+P//HHj//xx4//8ceP//HHj//xx4//8ceP//vvj////AH///wB///8If/////////////////////////////////////8="},7710:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKNnK0CjZytAo2crQKNnK0CfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgomcqYKNpK4CjaCvAo2ks4KRqLf+kai3/pGot/6RqLf+kai3/pGot/6RqLf+kai3/o2kssKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ9fHxCiaSxQo2krgKNpK4CiaSxQo2crQJ9fHxAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0CiaCyQo2ks8KNoK8CfXx8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2grwKJpLKCjaCtwn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgo2ks0KNpLLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACjaCvApGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZycgpGot/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNoK3Ckai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNnK0Ckai3/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAo2ks0KNoK8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKJpLKCjaSzwn2cnIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAACiZypgpGot/6JnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAn2cnIKNpLPCjaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAACjaCtwo2ks4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEKNnK0Ckai3/o2krgJ9nJyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6NpLNCfXx8QAAAAAKJpLFCjaSzQpGot/6RqLf+jaCvAo2grwKNoK8CjaSywo2krgKJnKmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCjaSzQn18fEKJnKmCjaSzQn18fEAAAAACfXx8Qo2crQKNoK3CjaSuAo2krgKNpK4CjaSuAomcqYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEJ9fHxCiZypgpGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACfZCown18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSzQn18fEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6RqLf+jaSuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+iZypgn18fEKNpLNCkai3/pGot/6JpLFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAomcqYKRqLf+fZCowAAAAAJ9nJyCfZCowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAn2QqMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////gf//4AA//+A+D//h/4//4P/P/+B/z//gP8//8B+P//gPH//8Bj///gJ///8AH///gQA//8BAP//gP///+B////gP///4B///8AP///gB///8Af///gH///8T////v//////////////////////8="},6623:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP8AAAD//////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////8AAAD/AAAA//////////////////////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA////////////AAAA/wAAAP///////////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8D4///A+P//4fj//+H4//8AOP//ADj//wA4///h+P//ADj//wA4//8AOP////j////AH///wB///8If/////////////////////////////////////8="},4113:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAgACACoDAAAFgAAACgAAAAgAAAAQAAAAAEAGAAAAAAAgAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///8AAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAD///////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAD///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///////////////////////8AAAD///////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//////////////////////////////////////////////////////////////////f////z//wAAf/8AAD//AAAAfx48AP8ePAH/HjwD/x48B/8ePA//Hjwf/x48P/8ePH//Hjx//x48f/8ePH//Hjx//wAAf/8AAH//AAB//w=="},3800:e=>{e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADaSURBVFiF7dbNDYMwDIbhT6H3jJBNccIgMEo3yEa2ewEp/UkLFNMe8kpIICHlSQ4YoNVq/WvMTCKixXUtn5mZTAEioiEEBaDee52mSb33CkBDCCoiagpg5rjsNuesADTnXJ5ANAWUzbt9u2tmjntQl29g5eLDMNB8j67rVkMOASyllACAtiAOBexBHA7YijABbEGYAdYiTAFrEOaATwgTABGB6H5UqGo65QSICH3fJ+fc02KvchaLb/kSVivHcWUY0cP7u2ZBtcdxPI7j78Zx5YckmgJardZZ3QBYf/tz/TccpQAAAABJRU5ErkJggg=="},5225:e=>{e.exports="data:image/png;charset=utf-8;base64,AAACAAEAICAAAAAAAACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAgBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAAAP////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAP//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA/////////////////wAAAP//////AAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAD/////AAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAP////8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAAAAAAAAAAA/////wAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////AAAA//////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////8AAAD/AAAA/wAAAP//////AAAA/wAAAP8AAAD//////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////wAAAAD/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////CH///wB///8Af/8B4//+AOP//wHj//+D4///AeP//jjj//444//+OOP//jjj//444//+OOP//33j////AH///wB///8If/////////////////////////////////////8="},7047:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCA1MCA1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Zz48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIGF0dHJpYnV0ZVR5cGU9InhtbCIgZHVyPSIxcyIgZnJvbT0iMCAyNSAyNSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHRvPSIzNjAgMjUgMjUiIHR5cGU9InJvdGF0ZSIvPjxjaXJjbGUgY3g9IjE3IiBjeT0iMTUiIHI9IjUiIGZpbGw9IiNFN0I3RTgiLz48Y2lyY2xlIGN4PSIzNiIgY3k9IjE4IiByPSI1IiBmaWxsPSIjQ0Q4RENFIi8+PGNpcmNsZSBjeD0iMTUiIGN5PSIzMiIgcj0iNSIgZmlsbD0iI0MxNzVDMiIvPjxjaXJjbGUgY3g9IjMzIiBjeT0iMzYiIHI9IjUiIGZpbGw9IiM5NjQ5OTgiLz48L2c+PC9zdmc+Cg=="},6989:e=>{e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9IiNkZGQiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAiIGNhbGNNb2RlPSJzcGxpbmUiIGR1cj0iMS4ycyIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGtleXRpbWVzPSIwOy4yOy41OzEiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIvPjwvcGF0aD48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuMiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuNiIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2KSIgZD0ibTAgMTJ2OGg0di04eiI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgYmVnaW49IjAuOCIgY2FsY01vZGU9InNwbGluZSIgZHVyPSIxLjJzIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIga2V5dGltZXM9IjA7LjI7LjU7MSIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6Ii8+PC9wYXRoPjwvc3ZnPgo="},9411:e=>{e.exports="data:application/vnd.ms-fontobject;charset=utf-8;base64,yA0AAPgMAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAePjH6wAAAAAAAAAAAAAAAAAAAAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAOAFIAZQBnAHUAbABhAHIAAAAWAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAACQAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAAAAAAAABAAAACwCAAAMAMEdTVUIgiyV6AAABOAAAAFRPUy8yQG9MCAAAAYwAAABWY21hcIsI7vIAAAIIAAAB0mdseWap/oa/AAAD8AAABhRoZWFkGMy1jwAAAOAAAAA2aGhlYQe/A8gAAAC8AAAAJGhtdHggAP/6AAAB5AAAACRsb2NhBp4H6AAAA9wAAAAUbWF4cAEaAI4AAAEYAAAAIG5hbWWhQ3MWAAAKBAAAAo5wb3N0ObP5owAADJQAAABjAAEAAAPA/8AAAAQA//r//gQCAAEAAAAAAAAAAAAAAAAAAAAJAAEAAAABAADrx/h4Xw889QALBAAAAAAA2ti4iQAAAADa2LiJ//r/wAQCA8AAAAAIAAIAAAAAAAAAAQAAAAkAggAHAAAAAAACAAAACgAKAAAA/wAAAAAAAAABAAAACgAwAD4AAkRGTFQADmxhdG4AGgAEAAAAAAAAAAEAAAAEAAAAAAAAAAEAAAABbGlnYQAIAAAAAQAAAAEABAAEAAAAAQAIAAEABgAAAAEAAAABA44BkAAFAAACiQLMAAAAjwKJAswAAAHrADIBCAAAAgAFAwAAAAAAAAAAAAAAAAAAAAAAAAAAAABQZkVkAEDqAeoIA8D/wABcA8AAQAAAAAEAAAAAAAAAAAAABAAAAAQAAAAEAP/6BAAAAAQAAAAEAAAABAAAAAQAAAAAAAAFAAAAAwAAACwAAAAEAAABYgABAAAAAABcAAMAAQAAACwAAwAKAAABYgAEADAAAAAEAAQAAQAA6gj//wAA6gH//wAAAAEABAAAAAEAAgADAAQABQAGAAcACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAcAAAAAAAAAAIAADqAQAA6gEAAAABAADqAgAA6gIAAAACAADqAwAA6gMAAAADAADqBAAA6gQAAAAEAADqBQAA6gUAAAAFAADqBgAA6gYAAAAGAADqBwAA6gcAAAAHAADqCAAA6ggAAAAIAAAAAAAAADIAjAFWAdYCSAJ8As4DCgABAAAAAAOTA3cAIwAAARUUBisBFRQGKwEiJj0BIyImPQE0NjsBNTQ2OwEyFh0BMzIWA5IgF+0gF24XIO0XICAX7SAXbhcg7RcgAhttFyDuFyAgF+4gF20XIO4XICAX7iAAAAAABQAA/8AEAAPAAB8AIgAlADMAPAAAATIWFREUBiMhIiY9ASEiJjURNDY/AT4BOwEyFh0BNjMPATMBBzMXNzUjFRQGKwERITU0NgERIxUUBisBEQPJFyAgF/3cFyD+yRcgFxDpEDcX7RcgJyJJq6v+k6urcLTbIBfuASUXAjLcIBbuAuUgF/1JFyAgF6QgFwGAFzcQ6RAXIBe7F3qrAYarxrTu7hcg/pOSFzf+RAKS7Rcg/pIAB//6AAAEAgMuAAgASwBZAGcAcgB7AIEAAAEyFhQGIiY0NhcFFgYPAQYiJyUHBgcWBw4BBwYjIicmNz4BNzYzMhc2PwEnJicGIyInLgEnJjY3NjMyFx4BFxYHMh8BJTYyHwEeAQcFNiYnJiMiBwYWFxYzMgM+AScmIyIHDgEXFjMyExc1ND8BJwcGDwEfAQEnBRUHHwEFNyUHBgcCJQ4WFh0WFroBIhAFEUkIEgj+dT8EAggDBDgvTFJOMTQHBDguTFMwJwUHRkYHBScwU0wuOAQDFxkwT1JMLzgEAwgCBD8BiwgSCEkRBRD9WRocLzQ5KxYaHC80OSsbLxwaFis5NC8cGhYrOZo3EwgtFQQDBHs3AaRJ/klbCRwB7Un+12UBBgHAFh0WFh0WJeMLKQklBAXdJgIBHBssUR4wLTBGK1IeMBIIBSkqBQgSMB5RLCI9Fy0wHlEsHBwCJt0FBCUJKQtPGEseIRQYTB0i/msdTBgUIR1MGBQBgCIHFAwEGxUFAgOFEwFJJfZBNwgctyTqTwICAAAFAAAAAAOTA3cADwAfAC8ANwBbAAAlETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNjcRNCYrASIGFREUFjsBMjYBIScmJyMGBwUVFAYrAREUBiMhIiY1ESMiJj0BNDY7ATc+ATsBMhYfATMyFgGSCgglCAoKCCUICpMLCCQICwsIJAgLkgoIJQgKCgglCAr+yQEAGwQGtQYEAfYKCDc2Jf4kJTY3CAoKCLEoCC0XthctCCixCAquAZIICgoI/m4ICwsIAZIICgoI/m4ICwsIAZIICgoI/m4ICwsCP0IGAQEGVSQIC/3jMEVDLwIgCwgkCAtfFR4eFV8LAAAABQAAAAAD/AN3AAYADwA5AD4ASAAAATcnBxUzFQEmDwEGFj8BNhMVFAYjISImNRE0NjMhMhceAQ8BBicmIyEiBhURFBYzITI2PQE0PwE2FgMXASM1AQcnNzYyHwEWFAH7Q1dCNgEcCQrIChMJyAolYUT+JURhYUQB2yQfCAQHHAgKDQ3+JSY2NiYB2yY1BiQJFzek/oCkAn00pTUQLhBWEAEbQ1dDIDcBnAkKyAkTCsgK/rVsRGFhRAHbRGEOBBMHHAgDBDYm/iUmNjYmSAcFJQkKAZqk/oCkATU1pTQQEFcQLQAAAQAA/9ID7gOpACEAAAEUDgIiLgI1ND4BNxUOARUUHgIyPgI1NCYnNR4CA+5PhLbKtoRPb8B2fqc7YYiUiGE7p352wG8BwGW2hE9PhLZletSJEoMZyoNKiGE7O2GISoPKGYMSidQAAAAEAAD/wAQAA8AACAAYABsANwAAJSERIyImPQEjNzU0JiMhIgYdARQWMyEyNhMzJwURFAYjISImPQEhIiY1ETQ2MyEyFh0BFh8BHgEBtwIA7hcg25ILB/5uCAsLCAGSBwuSq6sBJSAX/dwXIP7JFyAgFwJuFiAMCekQFwkBbiAX7aUlBwsLByUHCwv+h6v0/oAXICAXWyAXAwAXICAXuwgI6RA3AAEAAAAAA1QC7wAkAAAlFA8BBiIvAQcGIi8BJjQ/AScmND8BNjIfATc2Mh8BFhQPARcWA1MQTRAuEKioEC4QTRAQqKgQEE0QLhCoqBAuEE0QEKioEM0XEE4QEKioEBBOEC0QqKgQLhBOEBCoqBAQThAuEKioEAAAAAAAEADGAAEAAAAAAAEAEgAAAAEAAAAAAAIABwASAAEAAAAAAAMAEgAZAAEAAAAAAAQAEgArAAEAAAAAAAUACwA9AAEAAAAAAAYAEgBIAAEAAAAAAAoAKwBaAAEAAAAAAAsAEwCFAAMAAQQJAAEAJACYAAMAAQQJAAIADgC8AAMAAQQJAAMAJADKAAMAAQQJAAQAJADuAAMAAQQJAAUAFgESAAMAAQQJAAYAJAEoAAMAAQQJAAoAVgFMAAMAAQQJAAsAJgGiY29udGV4dC1tZW51LWljb25zUmVndWxhcmNvbnRleHQtbWVudS1pY29uc2NvbnRleHQtbWVudS1pY29uc1ZlcnNpb24gMS4wY29udGV4dC1tZW51LWljb25zR2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMAUgBlAGcAdQBsAGEAcgBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBWAGUAcgBzAGkAbwBuACAAMQAuADAAYwBvAG4AdABlAHgAdAAtAG0AZQBuAHUALQBpAGMAbwBuAHMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAQIBAwEEAQUBBgEHAQgBCQEKAANhZGQEY29weQNjdXQGZGVsZXRlBGVkaXQHbG9hZGluZwVwYXN0ZQRxdWl0AAAA"},5259:e=>{e.exports="data:font/ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJAb0wIAAABjAAAAFZjbWFwiwju8gAAAggAAAHSZ2x5Zqn+hr8AAAPwAAAGFGhlYWQYzLWPAAAA4AAAADZoaGVhB78DyAAAALwAAAAkaG10eCAA//oAAAHkAAAAJGxvY2EGngfoAAAD3AAAABRtYXhwARoAjgAAARgAAAAgbmFtZaFDcxYAAAoEAAACjnBvc3Q5s/mjAAAMlAAAAGMAAQAAA8D/wAAABAD/+v/+BAIAAQAAAAAAAAAAAAAAAAAAAAkAAQAAAAEAAOvH+HhfDzz1AAsEAAAAAADa2LiJAAAAANrYuIn/+v/ABAIDwAAAAAgAAgAAAAAAAAABAAAACQCCAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEDjgGQAAUAAAKJAswAAACPAokCzAAAAesAMgEIAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOoB6ggDwP/AAFwDwABAAAAAAQAAAAAAAAAAAAAEAAAABAAAAAQA//oEAAAABAAAAAQAAAAEAAAABAAAAAAAAAUAAAADAAAALAAAAAQAAAFiAAEAAAAAAFwAAwABAAAALAADAAoAAAFiAAQAMAAAAAQABAABAADqCP//AADqAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAABwAAAAAAAAAAgAAOoBAADqAQAAAAEAAOoCAADqAgAAAAIAAOoDAADqAwAAAAMAAOoEAADqBAAAAAQAAOoFAADqBQAAAAUAAOoGAADqBgAAAAYAAOoHAADqBwAAAAcAAOoIAADqCAAAAAgAAAAAAAAAMgCMAVYB1gJIAnwCzgMKAAEAAAAAA5MDdwAjAAABFRQGKwEVFAYrASImPQEjIiY9ATQ2OwE1NDY7ATIWHQEzMhYDkiAX7SAXbhcg7RcgIBftIBduFyDtFyACG20XIO4XICAX7iAXbRcg7hcgIBfuIAAAAAAFAAD/wAQAA8AAHwAiACUAMwA8AAABMhYVERQGIyEiJj0BISImNRE0Nj8BPgE7ATIWHQE2Mw8BMwEHMxc3NSMVFAYrAREhNTQ2AREjFRQGKwERA8kXICAX/dwXIP7JFyAXEOkQNxftFyAnIkmrq/6Tq6twtNsgF+4BJRcCMtwgFu4C5SAX/UkXICAXpCAXAYAXNxDpEBcgF7sXeqsBhqvGtO7uFyD+k5IXN/5EApLtFyD+kgAH//oAAAQCAy4ACABLAFkAZwByAHsAgQAAATIWFAYiJjQ2FwUWBg8BBiInJQcGBxYHDgEHBiMiJyY3PgE3NjMyFzY/AScmJwYjIicuAScmNjc2MzIXHgEXFgcyHwElNjIfAR4BBwU2JicmIyIHBhYXFjMyAz4BJyYjIgcOARcWMzITFzU0PwEnBwYPAR8BAScFFQcfAQU3JQcGBwIlDhYWHRYWugEiEAURSQgSCP51PwQCCAMEOC9MUk4xNAcEOC5MUzAnBQdGRgcFJzBTTC44BAMXGTBPUkwvOAQDCAIEPwGLCBIISREFEP1ZGhwvNDkrFhocLzQ5KxsvHBoWKzk0LxwaFis5mjcTCC0VBAMEezcBpEn+SVsJHAHtSf7XZQEGAcAWHRYWHRYl4wspCSUEBd0mAgEcGyxRHjAtMEYrUh4wEggFKSoFCBIwHlEsIj0XLTAeUSwcHAIm3QUEJQkpC08YSx4hFBhMHSL+ax1MGBQhHUwYFAGAIgcUDAQbFQUCA4UTAUkl9kE3CBy3JOpPAgIAAAUAAAAAA5MDdwAPAB8ALwA3AFsAACURNCYrASIGFREUFjsBMjY3ETQmKwEiBhURFBY7ATI2NxE0JisBIgYVERQWOwEyNgEhJyYnIwYHBRUUBisBERQGIyEiJjURIyImPQE0NjsBNz4BOwEyFh8BMzIWAZIKCCUICgoIJQgKkwsIJAgLCwgkCAuSCgglCAoKCCUICv7JAQAbBAa1BgQB9goINzYl/iQlNjcICgoIsSgILRe2Fy0IKLEICq4BkggKCgj+bggLCwgBkggKCgj+bggLCwgBkggKCgj+bggLCwI/QgYBAQZVJAgL/eMwRUMvAiALCCQIC18VHh4VXwsAAAAFAAAAAAP8A3cABgAPADkAPgBIAAABNycHFTMVASYPAQYWPwE2ExUUBiMhIiY1ETQ2MyEyFx4BDwEGJyYjISIGFREUFjMhMjY9ATQ/ATYWAxcBIzUBByc3NjIfARYUAftDV0I2ARwJCsgKEwnICiVhRP4lRGFhRAHbJB8IBAccCAoNDf4lJjY2JgHbJjUGJAkXN6T+gKQCfTSlNRAuEFYQARtDV0MgNwGcCQrICRMKyAr+tWxEYWFEAdtEYQ4EEwccCAMENib+JSY2NiZIBwUlCQoBmqT+gKQBNTWlNBAQVxAtAAABAAD/0gPuA6kAIQAAARQOAiIuAjU0PgE3FQ4BFRQeAjI+AjU0Jic1HgID7k+Etsq2hE9vwHZ+pzthiJSIYTunfnbAbwHAZbaET0+EtmV61IkSgxnKg0qIYTs7YYhKg8oZgxKJ1AAAAAQAAP/ABAADwAAIABgAGwA3AAAlIREjIiY9ASM3NTQmIyEiBh0BFBYzITI2EzMnBREUBiMhIiY9ASEiJjURNDYzITIWHQEWHwEeAQG3AgDuFyDbkgsH/m4ICwsIAZIHC5KrqwElIBf93Bcg/skXICAXAm4WIAwJ6RAXCQFuIBftpSUHCwsHJQcLC/6Hq/T+gBcgIBdbIBcDABcgIBe7CAjpEDcAAQAAAAADVALvACQAACUUDwEGIi8BBwYiLwEmND8BJyY0PwE2Mh8BNzYyHwEWFA8BFxYDUxBNEC4QqKgQLhBNEBCoqBAQTRAuEKioEC4QTRAQqKgQzRcQThAQqKgQEE4QLRCoqBAuEE4QEKioEBBOEC4QqKgQAAAAAAAQAMYAAQAAAAAAAQASAAAAAQAAAAAAAgAHABIAAQAAAAAAAwASABkAAQAAAAAABAASACsAAQAAAAAABQALAD0AAQAAAAAABgASAEgAAQAAAAAACgArAFoAAQAAAAAACwATAIUAAwABBAkAAQAkAJgAAwABBAkAAgAOALwAAwABBAkAAwAkAMoAAwABBAkABAAkAO4AAwABBAkABQAWARIAAwABBAkABgAkASgAAwABBAkACgBWAUwAAwABBAkACwAmAaJjb250ZXh0LW1lbnUtaWNvbnNSZWd1bGFyY29udGV4dC1tZW51LWljb25zY29udGV4dC1tZW51LWljb25zVmVyc2lvbiAxLjBjb250ZXh0LW1lbnUtaWNvbnNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAGMAbwBuAHQAZQB4AHQALQBtAGUAbgB1AC0AaQBjAG8AbgBzAFYAZQByAHMAaQBvAG4AIAAxAC4AMABjAG8AbgB0AGUAeAB0AC0AbQBlAG4AdQAtAGkAYwBvAG4AcwBHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkBAgEDAQQBBQEGAQcBCAEJAQoAA2FkZARjb3B5A2N1dAZkZWxldGUEZWRpdAdsb2FkaW5nBXBhc3RlBHF1aXQAAAA="},4128:e=>{e.exports="data:font/woff2;charset=utf-8;base64,d09GMgABAAAAAAaUAAsAAAAADPgAAAZFAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHFQGVgCDUgqMFIoSATYCJAMkCxQABCAFhQ4HYxscCxEVpHmS/UzI3LzQrNryNVzHQVwiFCHL2nz5zVFEm2eC5/m83nPzEn+VTgF40nqmslaC90wAXJvabmNfmEyZq06qp8x+IPMpPBlDbunxSiB1omoQc5nwqsJUMxuz/acq/O9+v/o3zCPnR85OJzSLhTjB7raHiA9R614hFE0m0qBkQo2AAHhriYeV34IALkWohFajVmouSBjQtbsVpEdHmClgN5cBfesqgH1IRI/xE+wYM+RMNQ9aAAzQZsuuA/P1OvKNYgIzN4ZCOLJJr7hqUOWrfLXVhfASHdRkqpSXD7BvhAIKtCdZuoVmdkCZUEBXblimTpF4qdPuqx2Gh6+iitZy6moodIzbP56FDWIiqDichlTa8FVkia41JGiFBK0jQRtI0CYStIUEbYPJBEdtmxzIBJpF0jQgeJbACAYWypi3o8S3VPIEx6mekOA5ZtL6NratWiefEsmus1ZuajceRHYgrmKPCpDYAxH1/GOHADCkgx6LE1BcYxUcNSD4u9tap70WLdBeUlbL1lAZTbV4CY52KB1pw2OH9J9fFCbEvAp2q20us6hfmcpgmwy3PivzDImmP2i9/mX5l2gsiDcgcE7/FBLFz7zIvP2oy0U0lnf6eaZNhkt6aVW88st5+7ZhzeKLcg+QqOPB52Xvo7H8sy/zCUg09dSzvIfQWFEaFDgYlMuzBMNaJtXh5aBFKqeuRGUug1XJA65nhgFahG3uRHjCHd+4qhHPRBisAkSWIK4eeebGRV+I4UY5SAIe9VqvPpsk7bRRnnIMW0fgucCj9zIslzk0HskFIOkxKnjpxcfs2E2Y4xJ9zguPiobHwNMCdjaIWL6vMK8akeFN8Jx+lbHjQ+PPBNfow1oSvHzUGjuNyANcY4+MBC9aCVndE9X0ZLSWoLB0BtBWygJ8Adqqq2xqwJo3nAhLS7UdltiIK1xJ4CaGmMFrFAAbRQkcZJ1hoIGU5scKDJLjf2rp35fPY9HyAY5vkB+/JWDTPmJQK33+HNamSb3N6VrrxAFBEJtnqNd2/fDhlWd5t/nZkpMyqPU6S71L0DH1z1b886tbZhK/4rSt1dvfT7iO37W+e/Hdh6JrxzuHlG6irV84O123siquXEDT9/YTcjwrEqrjHOOcqhMqPHNSPN4HZIZYDZj9m5G9Qtqru4yXFV1efD4ieVeiLZz4e386b5KsLRKUv7num6IpmpZ+iWZXxee4BBXhW1eOVahTugy/U6OEVbFx05V7EhNtT3yLKvSfO6s5VsfG8Ut1I6gpC/dS8Eo4p0xBq9psptSL4J2wDwXtmk0g1bHb+4eTvqpf5vFMv28tbL3blzYrUrKG3Ts7v2oelqWP/LLFQYfS7vtpThjc7zaiD3M18Ns4OhrHo6It/UtnWD2/6ealFdkXlLBW+snNseXlsW/P8LVdxWrP9lFX45/lyrOXrxJnn6huUWK+wX/Tnj1jY3v3Dvv6cqUYqVDYspVUkEpvLvVsdHxq6nj6HYlq1LpizWDr0/OzetZNjRjuvz21XvBceflcMLOma7qOS57y0qDoqYj2F+dbn3LMZtC01f3xduEWO7XQSSozPQ5eRBeyXxQE2y+RJwC3B3AdpJ9x+uTcQmhDySI3DKQGDRsB2wWmMTtowVAKFZJHwPpAtVg+OvyNrqlCbqHjvw3Cu+qn2kl2C+3X/3Qvnl26R+fECt9s77db8vTxidmbfOl3eKGcphcAG+3rqPhXsjuLsf2P+ltGCkkOlwh5Zvhbd4cjcgQ4TMEyGuCKJRAiZCdxsdxsIXlqP9Cs5DYo00oH0p3yEwOPisQkOXWIS37ane+RgukoRHcQfFasiEYCZ4jC5yrSnX4Sg9Synpj44khcWkmD63hAcsmmhmbGjb0JZ+d1h1XYF0o3ViZwAN9f/NDYjmaI/DDiJRnOaCrGFuod7CJjZgHC0ARpunuNI4E21GPDvmLWSRCIsHf7DU2HhmbGjT0mnJ1HF55uX4f1l26sTOohx8NvXWFs5155IMInzKUyP8+pqlTQkl7val27yPhmWIBsDE1mbFomjGIFATo8vcd1BfuoHEYnBJvxRFrl12xNz/08wEX4ekc0UaKLIaZYYosjLqpr214a0vu5cXxrcUTGC7Yd30eqtDqzvOrKel3/LuFwAAAAAA=="},1787:e=>{e.exports="data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAiEAAsAAAAADPgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAb0wIY21hcAAAAYgAAABuAAAB0osI7vJnbHlmAAAB+AAABGMAAAYUqf6Gv2hlYWQAAAZcAAAAMQAAADYYzLWPaGhlYQAABpAAAAAgAAAAJAe/A8hobXR4AAAGsAAAABUAAAAkIAD/+mxvY2EAAAbIAAAAFAAAABQGngfobWF4cAAABtwAAAAfAAAAIAEaAI5uYW1lAAAG/AAAATwAAAKOoUNzFnBvc3QAAAg4AAAATAAAAGM5s/mjeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGTuY5zAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwOrxhfcTAf+H+AIYb5AIMDUJgRJAcAElcM+QB4nO2R0Q2EQAhE37q4EmMpflxB92UFV/c24TFgGZK8mTAhfACwAj04A4N20VB9I22Zd/bMjU/OmPLp9x3apNFb6hKzFhsHGx7B4K0j9fd0rpsVecWlQN4LfWNaobvOtdCn5iiQbwVyL/A/vZIXbwAAeJyFVEtoXFUYPv99z0w7uZOZuSfpvO487r2N6Tycx70JsQk2MXTaaUITNZQsyiyCCzUVwQotlkiqtribuCouE1oZEAptCnYzK2kDbqTgIu2quFDIuJEu1Nz6n7lJWgriXfznf5zzP8757keA4Mev8Z+SLCEQjUjDnsiYxyHLRNUegxoTZS0BlbLGt3S6o9Nlqu9Q/SWVi31I9S5zdXX6QmXpRUKedwTCd0iKZIhBKuQNrFXWoqGIlE2zIihqoao9AePgFbIrfVABuUKdWrbXTyiNTUBoz+Afsuy7j6nuokbV31SHYg9Wpt5uu2vt9kd3trE4GJQrP9a1Lvcrbq6zI+s6hRXq4AE8dp9easOX7R/vdLFZd61FHXeKa2Eet0Xk538RInB8gSjkNDlH3iMfk8vk817fESljVm0qalIfSBnLkCVZk4MgS9mMZTrj4NiVMsVhLNNirgIqds+XBKrJ5RQYNookyKJtWmY2I0sa1Splfhx6VhCYFaa1KqaQsUYKwBKjcgpEh9XijKCmJTTtB8ioYqiu9CvuJxMCp/DCSLExN/N6VRZGCo35kiXK09OyaJXmG4URgaeDpdm5RhE1hRMm4Gs8Vw+J6u65I/FidXRY85ZYMX5EGx6tessNJ6zkowIvXHZgve7WF31x2Km7vyyBBB3WQ0IzngaGfIYgPjE5iMeOnU2W8qXp4blkqV8Rh14Tlf5S8uyxzHGaZ2s8zplPRMHwDQVmB04n05GBRiLjvp9oDETSTMBKRo4cEmJRkeO/CEPdePamo8Tv5X6f5bgejvaw2odIKhKHLBJihKomwlVCMGmIHdv5HxvS+CxZSRY9JHkIrIUOsO54EEwxrEPLrxiKvyfWAkpOCfTES173IZCYIN2VBHjmVxzbcHOG7bDg7aNKnm7SvHL0tuL/HlrM5y6zDP+hcxMnJADpHSyw+7T01mSR03vVzkeTyej5ANmf/x+cX8IbGCXj5CTi0bHkaCUKJmJRmwA7HN0fqWpX0gxzGEBcpb0rQJeNg+JGjaeQrYFsOQyNWgT+nlw4YUPc53/gD/se+I3mlGtMNZtTsJ1LKYIcV/yHD7uGadsmbJs1Keejzrq7ss59Vt2oqQX1XRVikwuTugPfYgpfGNO4dz/wEkw1g0IYM/CCbXopTsqi4fPDDZYBarWNqqouqHkcB7niZ77Lf0fSaESCXKbA1ar4T0WDSExJrjyOpmnVkhzfnb26ubV5dfZC5+KVm2PNa99ca47dvHKxcwE6S+jG6NKlR9f7Vwe3Vk9hCHecWt0aXO2//givUTjgJIUMkBhiiRhpDwVZByuw+0qAd1/hiiW+SlXoR5rS2G8M9ziCBLLdCsj7jyoHWu02GC8oSqfcsqYf8iHv+GAZaXPDkAMBmQn3q/af7grbsqhTnjDlvqIgoxGPm9/m/iA57C7CyKaILIPCZNTABHu6vffrQ9rg59Uz+BS3bqE4o7L1Vfsnqs54gRk17wUO7N5GQv4FV5EzGAB4nGNgZGBgAOLXxy8zxPPbfGXgZmEAgVs3dnTC6P+//h9gYWI+AORyMDCBRAGNQQ6nAAAAeJxjYGRgYD7w/wADAwvD/1///7EwMQBFUAAnAKWfBo54nGNgYGBggeP/v1hQ+BAMACzQAhoAAAAAAAAAADIAjAFWAdYCSAJ8As4DCnicY2BkYGDgZGhiYGcAASYg5gJCBob/YD4DABaQAakAeJyNjrtOwzAUhn/TC6KVECoSEpuHCiGhppexEmvLwNShA1uaOm2qJI4ct2ofgHdg5jmYGXgYnoE/xmKgS23p+DvfuSQArvAJgeoIdFyszhnOmf1yjXTruU5+8NxAG4+em/RPnlvsePHcxjVeuUHUL2i6ePN8hkt8eK7Rf3muk789N3AjOp6b6Ip7zy3MxbPnNu7Ee6Rzq/a2l6l820uYlTO12qahOS4cm7kyZaJzOQwGx8WpypUJrVrKxUGWu9XI2ljGRmdyUvWmqZaF0RsV2WBtbTHu92Pvg0hniKCRw0Jhz9hDRsqxJSW+VmJGt6JLEcKcNHFKz5zO8E1cLjFEgMFJk1PnqunQdS45vcCBscSOfzqitYiZx+zR3CEx+dub8mqawtU2NBF9gLWbKjBGnzf+1x+4r2c/1uR9/3icbcjLCoAgEAXQuT7TvxRnCEHSaFz09wVtO8tDhj6Z/iUYWDh4BERsSMhkC7OrY962Lg0sXVSccNPYR+F27H6W661zNSV6AHljD4A="},5852:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(9411),a=n(4128),A=n(1787),s=n(5259);t=i(!1);var c=r(o),u=r(o,{hash:"#iefix"}),l=r(a),d=r(A),h=r(s);t.push([e.id,'@charset "UTF-8";\r\n/*!\r\n * jQuery contextMenu - Plugin for simple contextMenu handling\r\n *\r\n * Version: v2.9.2\r\n *\r\n * Authors: Björn Brala (SWIS.nl), Rodney Rehm, Addy Osmani (patches for FF)\r\n * Web: http://swisnl.github.io/jQuery-contextMenu/\r\n *\r\n * Copyright (c) 2011-2020 SWIS BV and contributors\r\n *\r\n * Licensed under\r\n *   MIT License http://www.opensource.org/licenses/mit-license\r\n *\r\n * Date: 2020-05-13T13:55:37.023Z\r\n */\r\n@-webkit-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@-o-keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n@keyframes cm-spin {\r\n  0% {\r\n    -webkit-transform: translateY(-50%) rotate(0deg);\r\n         -o-transform: translateY(-50%) rotate(0deg);\r\n            transform: translateY(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: translateY(-50%) rotate(359deg);\r\n         -o-transform: translateY(-50%) rotate(359deg);\r\n            transform: translateY(-50%) rotate(359deg);\r\n  }\r\n}\r\n\r\n@font-face {\r\n  font-family: "context-menu-icons";\r\n  font-style: normal; \r\n  font-weight: normal;\r\n\r\n  src: url('+c+");\r\n  src: url("+u+') format("embedded-opentype"), url('+l+') format("woff2"), url('+d+') format("woff"), url('+h+') format("truetype");\r\n}\r\n\r\n.context-menu-icon-add:before {\r\n  content: "\\EA01";\r\n}\r\n\r\n.context-menu-icon-copy:before {\r\n  content: "\\EA02";\r\n}\r\n\r\n.context-menu-icon-cut:before {\r\n  content: "\\EA03";\r\n}\r\n\r\n.context-menu-icon-delete:before {\r\n  content: "\\EA04";\r\n}\r\n\r\n.context-menu-icon-edit:before {\r\n  content: "\\EA05";\r\n}\r\n\r\n.context-menu-icon-loading:before {\r\n  content: "\\EA06";\r\n}\r\n\r\n.context-menu-icon-paste:before {\r\n  content: "\\EA07";\r\n}\r\n\r\n.context-menu-icon-quit:before {\r\n  content: "\\EA08";\r\n}\r\n\r\n.context-menu-icon::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: "context-menu-icons";\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.context-menu-icon.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n\r\n.context-menu-icon.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon-loading:before {\r\n  -webkit-animation: cm-spin 2s infinite;\r\n       -o-animation: cm-spin 2s infinite;\r\n          animation: cm-spin 2s infinite;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  width: 2em; \r\n  font-family: FontAwesome;\r\n  font-size: 1em;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  color: #2980b9;\r\n  text-align: center;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-hover:before {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa.context-menu-disabled::before {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-icon.context-menu-icon--fa5 {\r\n  display: list-item;\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5 i, .context-menu-icon.context-menu-icon--fa5 svg {\r\n  position: absolute;\r\n  top: .3em; \r\n  left: .5em;\r\n  color: #2980b9;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-hover > i, .context-menu-icon.context-menu-icon--fa5.context-menu-hover > svg {\r\n  color: #fff;\r\n}\r\n.context-menu-icon.context-menu-icon--fa5.context-menu-disabled i, .context-menu-icon.context-menu-icon--fa5.context-menu-disabled svg {\r\n  color: #bbb;\r\n}\r\n\r\n.context-menu-list {\r\n  position: absolute; \r\n  display: inline-block;\r\n  min-width: 13em;\r\n  max-width: 26em;\r\n  padding: .25em 0;\r\n  margin: .3em;\r\n  font-family: inherit;\r\n  font-size: inherit;\r\n  list-style-type: none;\r\n  background: #fff;\r\n  border: 1px solid #bebebe;\r\n  border-radius: .2em;\r\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n          box-shadow: 0 2px 5px rgba(0, 0, 0, .5);\r\n}\r\n\r\n.context-menu-item {\r\n  position: relative;\r\n  -webkit-box-sizing: content-box;\r\n     -moz-box-sizing: content-box;\r\n          box-sizing: content-box;\r\n  padding: .2em 2em;\r\n  color: #2f2f2f;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-separator {\r\n  padding: 0; \r\n  margin: .35em 0;\r\n  border-bottom: 1px solid #e6e6e6;\r\n}\r\n\r\n.context-menu-item > label > input,\r\n.context-menu-item > label > textarea {\r\n  -webkit-user-select: text;\r\n     -moz-user-select: text;\r\n      -ms-user-select: text;\r\n          user-select: text;\r\n}\r\n\r\n.context-menu-item.context-menu-hover {\r\n  color: #fff;\r\n  cursor: pointer; \r\n  background-color: #2980b9;\r\n}\r\n\r\n.context-menu-item.context-menu-disabled {\r\n  color: #bbb;\r\n  cursor: default; \r\n  background-color: #fff;\r\n}\r\n\r\n.context-menu-input.context-menu-hover {\r\n  color: #2f2f2f; \r\n  cursor: default;\r\n}\r\n\r\n.context-menu-submenu:after {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: .5em;\r\n  z-index: 1; \r\n  width: 0;\r\n  height: 0;\r\n  content: \'\';\r\n  border-color: transparent transparent transparent #2f2f2f;\r\n  border-style: solid;\r\n  border-width: .25em 0 .25em .25em;\r\n  -webkit-transform: translateY(-50%);\r\n      -ms-transform: translateY(-50%);\r\n       -o-transform: translateY(-50%);\r\n          transform: translateY(-50%);\r\n}\r\n\r\n/**\r\n * Inputs\r\n */\r\n.context-menu-item.context-menu-input {\r\n  padding: .3em .6em;\r\n}\r\n\r\n/* vertically align inside labels */\r\n.context-menu-input > label > * {\r\n  vertical-align: top;\r\n}\r\n\r\n/* position checkboxes and radios as icons */\r\n.context-menu-input > label > input[type="checkbox"],\r\n.context-menu-input > label > input[type="radio"] {\r\n  position: relative;\r\n  top: .12em; \r\n  margin-right: .4em;\r\n}\r\n\r\n.context-menu-input > label {\r\n  margin: 0;\r\n}\r\n\r\n.context-menu-input > label,\r\n.context-menu-input > label > input[type="text"],\r\n.context-menu-input > label > textarea,\r\n.context-menu-input > label > select {\r\n  display: block;\r\n  width: 100%; \r\n  -webkit-box-sizing: border-box;\r\n     -moz-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n}\r\n\r\n.context-menu-input > label > textarea {\r\n  height: 7em;\r\n}\r\n\r\n.context-menu-item > .context-menu-list {\r\n  top: .3em; \r\n  /* re-positioned by js */\r\n  right: -.3em;\r\n  display: none;\r\n}\r\n\r\n.context-menu-item.context-menu-visible > .context-menu-list {\r\n  display: block;\r\n}\r\n\r\n.context-menu-accesskey {\r\n  text-decoration: underline;\r\n}\r\n',""]),e.exports=t},6729:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\n      /*rtl:begin:ignore*/left:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\n      /*rtl:begin:ignore*/right:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}',""]),e.exports=t},3565:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__action-dialog{padding:22px;overflow:hidden;color:rgba(0,0,0,0);position:fixed;margin:0;left:50%;top:50%;transform:translate(-50%, -50%)}.fv__action-dialog-container{cursor:default}.fv__action-dialog-header{font-size:18px;font-weight:600;display:flex;justify-content:space-between;color:#444}.fv__action-dialog-close-icon{cursor:pointer}.fv__action-dialog-body{padding:22px 0;font-size:12px;color:#212529;color:var(--fv-primary-color, #131313)}.fv__action-dialog-select{line-height:24px}.fv__action-dialog-input{height:24px;border:1px solid #d2d2d2;border-color:var(--fv-input-border-color, #d2d2d2);border-radius:5px}#select-action{width:216px;height:24px;border:1px solid #cecece;border-radius:3px;font-size:12px}.fv__action-dialog-box{width:403px;margin-top:22px;border-radius:5px;display:none}.fv__action-box-title{color:#787878;color:var(--fv-primary-color, #787878);line-height:18px;margin-bottom:9px}.fv__action-dialog-btns{float:right}.fv__action-dialog-btns .fv__ui-dialog-ok-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:1.75rem;border:1px solid #a236b2;color:#fff;background-color:#a236b2;text-align:center;cursor:pointer;user-select:none;color:var(--Accent_button_text, #FFFFFF);background-color:var(--fv-accent-btn-bg, #A236B2);border-color:var(--fv-accent-btn-border-color, #A236B2)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:1.75rem}.fv__action-dialog-btns .fv__ui-dialog-ok-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-ok-button .fv__ui-button-text{color:#fff;text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled):hover,.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(:disabled):hover{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-hover-color, #FFFFFF);background-color:var(--fv-accent-btn-hover-bg, #A236B2);border-color:var(--fv-accent-btn-border-hover-color, #A236B2);box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled):focus,.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(:disabled):focus{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-focus-color, #FFFFFF);background-color:var(--fv-accent-btn-focus-bg, #A236B2);border-color:var(--fv-accent-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(.disabled):active,.fv__action-dialog-btns .fv__ui-dialog-ok-button:not(:disabled):active{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-pressed-color, #FFFFFF);background-color:var(--fv-accent-btn-pressed-bg, #A236B2);border-color:var(--fv-accent-btn-border-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__action-dialog-btns .fv__ui-dialog-ok-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-ok-button:disabled{color:#fff;background-color:#a236b2;border-color:#a236b2;color:var(--fv-accent-btn-disabled-color, #FFFFFF);background-color:var(--fv-accent-btn-disabled-bg, #A236B2);border-color:var(--fv-accent-btn-border-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.3)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:1.75rem;border:1px solid #ddd;color:#999;background-color:#fff;text-align:center;cursor:pointer;user-select:none;color:var(--fv-btn-color, #999999);background-color:var(--fv-btn-bg, #FFFFFF);border-color:var(--fv-btn-border-color, #DDDDDD)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:.875rem;min-width:.875rem;max-width:11.375rem;border-radius:1.75rem}.fv__action-dialog-btns .fv__ui-dialog-cancel-button input[type=checkbox]:last-child{margin-right:0}.fv__action-dialog-btns .fv__ui-dialog-cancel-button .fv__ui-button-text{color:#999;text-align:center;line-height:1}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover{color:#a236b2;color:var(--fv-btn-hover-color, #A236B2);background-color:#fff;background-color:var(--fv-btn-hover-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-hover-color, #A236B2)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):hover .fv__ui-button-text,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):hover .fv__ui-button-text{color:#a236b2 !important;color:var(--fv-btn-hover-color, #A236B2) !important}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):focus,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):focus{color:#a236b2;color:var(--fv-btn-focus-color, #A236B2);background-color:#fff;background-color:var(--fv-btn-focus-bg, #FFFFFF);border-color:#a236b2;border-color:var(--fv-btn-border-focus-color, #A236B2);opacity:.8;opacity:var(--fv-btn-focus-opacity, 0.8)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(.disabled):active,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:not(:disabled):active{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-pressed-color, #A236B2);background-color:var(--fv-btn-pressed-bg, #FFFFFF);border-color:var(--fv-btn-pressed-color, #A236B2);opacity:.5;opacity:var(--fv-btn-pressed-opacity, 0.5)}.fv__action-dialog-btns .fv__ui-dialog-cancel-button.disabled,.fv__action-dialog-btns .fv__ui-dialog-cancel-button:disabled{color:#a236b2;background-color:#fff;border-color:#a236b2;color:var(--fv-btn-disabled-color, #A236B2);background-color:var(--fv-btn-disabled-color, #FFFFFF);border-color:var(--fv-btn-disabled-color, #A236B2);opacity:.3;opacity:var(--fv-btn-disabled-opacity, 0.3)}#url-input{width:375px}#goto-input{width:157px}.fv__action-dialog-goto-container{display:flex}.fv__action-dialog-goto-center{display:flex}.fv__action-dialog-select-title,.fv__action-dialog-goto-target{line-height:24px;white-space:nowrap;display:inline-block;width:140px;padding-right:12px}.fv__action-dialog-goto-input{display:inline-block;margin-right:10px}.fv__action-dialog-goto-position{display:inline-block;color:#969696}.fv__action-dialog-goto-left-value{margin-right:10px}.fv__action-btn{min-width:64px;height:30px;border-radius:5px;background:#f8f8f8;cursor:pointer;outline:none}.fv__action-btn:hover{background:#f0f1f5}.fv__action-dialog-footer{overflow:hidden}.fv__action-btn-ok{border:1px solid #dd88e0;color:#444}.fv__action-btn-cancel{border:1px solid #ddd;color:#444;margin-right:20px}",""]),e.exports=t},1044:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__place-redaction-dialog{top:40%}.fv__place-redaction-dialog .fv__place-redaction-dialog-header{height:30px}.fv__place-redaction-dialog .fv__place-redaction-dialog-title{float:left}.fv__place-redaction-dialog .fv__place-redaction-dialog-close-icon{float:right}.fv__place-redaction-dialog span{vertical-align:text-bottom;padding:10px}.fv__place-redaction-dialog .fv__redaction-range{padding:10px 30px;font-size:12px}.fv__place-redaction-dialog .fv__redaction-page-range{padding:2px 42px 2px 5px;border:1px solid #e1e1e1;border-radius:5px;height:30px}.fv__place-redaction-dialog .fv__redaction-page-range.fv__redaction-error{border:1px solid red}.fv__redaction-container:not(:last-child){margin-bottom:10px}.fv__redaction-container{font-size:14px}",""]),e.exports=t},8433:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv_shapes_ui{position:absolute;z-index:25;left:0;top:0}",""]),e.exports=t},9744:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.js-window-modal .js-modal-dialog .modal-content .modal-body{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;-webkit-flex:1;-moz-flex:1;flex:1}.js-window-modal .js-modal-dialog{-webkit-box-flex:auto;-moz-box-flex:auto;box-flex:auto;-webkit-flex:auto;-moz-flex:auto;flex:auto}.js-window-modal{z-index:10020;position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(125,125,125,.5)}.js-window-modal .disabled{filter:alpha(opacity=65);-moz-opacity:.65;-khtml-opacity:.65;opacity:.65;cursor:not-allowed !important}.js-window-modal .js-modal-dialog{position:absolute;top:50%;left:50%;border:1px solid;border-radius:4px;transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);background:#fff;max-height:82%;width:700px;max-width:80%}.js-window-modal .js-modal-dialog .modal-content{height:100%}.js-window-modal .js-modal-dialog .modal-content .modal-header{position:relative;line-height:19px;padding:5px 10px;border-bottom-width:1px;border-bottom-color:gray;border-bottom-style:solid;font-size:14px;height:50px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .modal-header button.close{float:right;border:0;background:rgba(0,0,0,0);font-size:24px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.js-window-modal .js-modal-dialog .modal-content .modal-body{padding:20px;line-height:1.42857143;height:calc(100% - 106px);overflow:auto;max-height:325px}.js-window-modal .js-modal-dialog .modal-content .modal-footer{padding:5px 20px 20px;height:56px;box-sizing:border-box}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer{padding:5px 20px 20px}.js-window-modal .js-modal-dialog .modal-content .js-warning-footer .js-warning{padding:5px;border:1px solid gray;color:red;font-size:14px}.js-window-modal .js-modal-dialog .modal-content .js-view-component+*{margin-top:20px}.js-window-modal .js-modal-dialog .modal-content .js-view-component{overflow:hidden;word-break:keep-all}.js-window-modal .js-modal-dialog .modal-content .js-view-component>*{max-width:100%}.js-window-modal .js-modal-dialog .modal-content .children-in-row::before,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::before{display:table;content:" "}.js-window-modal .js-modal-dialog .modal-content .children-in-row::after,.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper::after{display:table;content:" ";clear:both}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>input{float:left;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper>span{float:left;height:19px;line-height:19px}.js-window-modal .js-modal-dialog .modal-content .children-in-row{position:relative}.js-window-modal .js-modal-dialog .modal-content .children-in-row .js-item-wrapper{float:left}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper:not(:last-child){margin-right:15px}.js-window-modal .js-modal-dialog .modal-content .js-item-wrapper.btn-wrapper .btn{min-width:80px;min-height:21px}.js-window-modal .js-modal-dialog .modal-content .js-buttons .js-item-wrapper{display:inline-block}.js-window-modal .js-modal-dialog .modal-content .align-right{text-align:right}.js-window-modal .js-modal-dialog .modal-content .align-left{text-align:left}',""]),e.exports=t},1411:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__ui-print-process{position:fixed;width:40%;left:50%;top:50%;transform:translate(-50%, -50%);background:#fff;box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;border-radius:5px;z-index:100;padding:23px;font-size:18px}.fv__ui-print-process-digital-progress{margin:18px 0}.fv__ui-print-process-bar{height:24px;box-shadow:0 2px 4px #555;border-radius:5px;overflow:hidden;border:1px solid rgba(0,0,0,0);box-sizing:border-box}.fv__ui-print-process-percent{border-top:24px solid #a3bde3;width:0%;height:0}",""]),e.exports=t},6115:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-snapped-point{position:absolute;z-index:1000;pointer-events:none}",""]),e.exports=t},9520:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-image-blank{position:absolute;border:1px solid red}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-image-blank{forced-color-adjust:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-image-blank{forced-color-adjust:none}}",""]),e.exports=t},1582:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__mark-link-blank{position:absolute;border:1px solid blue}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__mark-link-blank{forced-color-adjust:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__mark-link-blank{forced-color-adjust:none}}",""]),e.exports=t},4027:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,'.fv__mark-selection-blank{position:absolute;filter:alpha(opacity=30);-moz-opacity:.3;-khtml-opacity:.3;opacity:.3;padding:0;background-color:#59f}.fv__selection-tool-tip-container{position:absolute;display:none;z-index:100}.fv__selection-tool-tip-container.fv__active{display:block}.fv__selection-tool-tip-container::before,.fv__selection-tool-tip-container::after{content:"";position:absolute;left:-10px;display:block;border:10px solid rgba(0,0,0,0);width:0;height:0}.fv__selection-tool-tip-container::before{bottom:-11px;border-top-color:#ccc}.fv__selection-tool-tip-container::after{bottom:-10px;border-top-color:#fff}.fv__selection-tool-tip-items{position:relative;margin-top:-50px;left:-50%;box-shadow:rgba(151,151,151,.35) 0 0 14px;font-size:0;white-space:nowrap}.fv__selection-tool-tip-item{display:inline-block;width:40px;height:40px;cursor:pointer;background-color:#fff}.fv__selection-tool-tip-item:first-child{border-radius:5px 0 0 5px}.fv__selection-tool-tip-item:last-child{border-radius:0 5px 5px 0}.fv__selection-tool-tip-item.disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5;cursor:initial}.fv__mark-text-selection-range{position:absolute;padding:0;border:solid 1px #000}',""]),e.exports=t},9789:(e,t,n)=>{var i=n(3645),r=n(6729),o=n(1667),a=n(209),A=n(6190),s=n(6189),c=n(6294),u=n(5225),l=n(6623),d=n(8483),h=n(4420),f=n(3800),p=n(4113),g=n(4404),v=n(7898),m=n(3350),y=n(1342),b=n(9382),w=n(5481),k=n(8555),x=n(3296),_=n(4853),P=n(7e3),D=n(4005),C=n(5672),S=n(8244),I=n(5618),E=n(527),R=n(7710),T=n(4855),M=n(9456),F=n(2142),L=n(384),N=n(3954),O=n(6989),B=n(5471),j=n(4031),V=n(3434),U=n(5412),H=n(2954),z=n(329),W=n(6627),Y=n(5080),G=n(8488),$=n(5906),K=n(9416),q=n(3231),J=n(2272),X=n(1759),Q=n(383);(t=i(!1)).i(r);var Z=o(a),ee=o(A),te=o(s),ne=o(c),ie=o(u),re=o(l),oe=o(d),ae=o(h),Ae=o(f),se=o(p),ce=o(g),ue=o(v),le=o(m),de=o(y),he=o(b),fe=o(w),pe=o(k),ge=o(x),ve=o(_),me=o(P),ye=o(D),be=o(C),we=o(S),ke=o(I),xe=o(E),_e=o(R),Pe=o(T),De=o(M),Ce=o(F),Se=o(L),Ie=o(N),Ee=o(O),Re=o(B),Te=o(j),Me=o(V),Fe=o(U),Le=o(H),Ne=o(z),Oe=o(W),Be=o(Y),je=o(G),Ve=o($),Ue=o(K),He=o(q),ze=o(J),We=o(X),Ye=o(Q);t.push([e.id,".fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__pdf-page-caret-annot-handler-container.disabled{cursor:not-allowed;filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__tiles-container{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__h-continuous-view-mode-layout,.fv__tiles-row,.fv__loading-animation{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__cursor-pencil{cursor:crosshair;cursor:url("+Z+") 3 28,crosshair}.fv__cursor-insert-text{cursor:text;cursor:url("+ee+") 16 16,text}.fv__cursor-highlight{cursor:text;cursor:url("+te+") 16 16,text}.fv__cursor-s-underline{cursor:text;cursor:url("+ne+") 16 16,text}.fv__cursor-underline{cursor:text;cursor:url("+ie+") 16 16,text}.fv__cursor-strikeout{cursor:text;cursor:url("+re+") 16 16,text}.fv__cursor-replace-text{cursor:text;cursor:url("+oe+") 16 16,text}.fv__cursor-file{cursor:crosshair;cursor:url("+ae+") 5 27,crosshair}.fv__cursor-typewriter{cursor:text;cursor:url("+Ae+") -16 -16,text}.fv__cursor-textbox{cursor:text;cursor:url("+se+") 16 16,text}.fv__cursor-eraser{cursor:crosshair;cursor:url("+ce+") 3 28,crosshair}.fv__cursor-marquee{cursor:crosshair;cursor:url("+ue+") 0 0,crosshair}.fv__cursor-loupe{cursor:crosshair;cursor:url("+le+") 0 0,crosshair}.fv__cursor-rotation{cursor:text;cursor:url("+de+") 8 8,text}.fv__cursor-fill-text{cursor:text;cursor:url("+he+") 16 16,text}.fv__cursor-fill-tick{cursor:text;cursor:url("+fe+") 16 16,text}.fv__cursor-fill-cross{cursor:text;cursor:url("+pe+") 16 16,text}.fv__cursor-fill-dot{cursor:text;cursor:url("+ge+") 16 16,text}.fv__cursor-fill-line{cursor:text;cursor:url("+ve+") 16 16,text}.fv__cursor-fill-rectangle{cursor:text;cursor:url("+me+") 16 16,text}.fv__cursor-note{cursor:crosshair;cursor:url("+ye+") 6 6,crosshair}.fv__cursor-article{cursor:auto;cursor:url("+be+") 0 0,auto}.fv__cursor-eraser-2{cursor:auto;cursor:url("+we+") 0 0,auto}.fv__cursor-forbidden{cursor:auto;cursor:url("+ke+") 0 0,auto}.fv__cursor-hand{cursor:auto;cursor:url("+xe+") 0 0,auto}.fv__cursor-sign{cursor:auto;cursor:url("+_e+") 0 0,auto}.fv__cursor-disable.fv__cursor-disable.fv__cursor-disable{cursor:no-drop}.fv__cursor-none{cursor:none}.fv__cursor-grab{cursor:grab}.fv__cursor-text{cursor:text}.fv__cursor-grabbing{cursor:grabbing}.fv__cursor-text{cursor:text}.fv__cursor-crosshair{cursor:crosshair}.fv__cursor-pointer{cursor:pointer}.fv__icon-toolbar-edit-text,.fv__icon-popup-copy,.fv__icon-toolbar-underline,.fv__icon-toolbar-strikeout,.fv__icon-toolbar-text-highlight{background-repeat:no-repeat;background-position:center}.fv__icon-toolbar-text-highlight{background-image:url("+Pe+")}.fv__icon-toolbar-strikeout{background-image:url("+De+")}.fv__icon-toolbar-underline{background-image:url("+Ce+")}.fv__icon-popup-copy{background-image:url("+Se+")}.fv__icon-toolbar-edit-text{background-image:url("+Ie+')}@font-face{font-family:FoxitPDFSDKForWeb;src:local("Helvetica"),local("Arial"),local("Times New Roman"),local("宋体")}html{--facing-margin: 8px}[contenteditable]{-webkit-user-select:text;user-select:text}.fv__hide{display:none !important}.fv__block{display:block !important}.fv__inline{display:inline !important}.fv__hidden{display:none !important}.fv__mb_5{margin-bottom:5px}.fv__mb_15{margin-bottom:15px}.fv__btn{cursor:pointer}.fv__pdf-page-not-rendered{height:100vh}.fv__rendering-svg{background-image:url('+Ee+');background-repeat:no-repeat;background-size:100%;background-position:center;width:128px;height:128px}.fv__pdf-viewer-rendering,.fv__pdf-doc-rendering,.fv__pdf-page-rendering{text-align:center;height:100%}.fv__pdf-viewer-rendering.rendered,.fv__pdf-doc-rendering.rendered,.fv__pdf-page-rendering.rendered{height:unset}.fv__pdf-viewer-rendering .fv__rendering-svg,.fv__pdf-doc-rendering .fv__rendering-svg,.fv__pdf-page-rendering .fv__rendering-svg{width:128px;vertical-align:middle}.fv__pdf-viewer-rendering .fv__loading-animation,.fv__pdf-doc-rendering .fv__loading-animation,.fv__pdf-page-rendering .fv__loading-animation{width:128px;height:128px}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(1),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(1){animation-delay:0s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(2),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(2){animation-delay:.2s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(3),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(3){animation-delay:.4s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(4),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(4){animation-delay:.6s}.fv__pdf-viewer-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-doc-rendering .fv__loading-animation li:nth-child(5),.fv__pdf-page-rendering .fv__loading-animation li:nth-child(5){animation-delay:.8s}.fv__loading-animation{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;-webkit-justify-content:stretch;-moz-justify-content:stretch;-o-justify-content:stretch;justify-content:stretch;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;list-style:none;padding:0}.fv__loading-animation li{background-color:#ddd;-webkit-box-flex:1 1 auto;-moz-box-flex:1 1 auto;box-flex:1 1 auto;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;height:26.56%;animation:loading-animation 1.2s infinite}.fv__loading-animation li:first-child{margin-left:5.859%}.fv__loading-animation li:last-child{margin-right:5.859%}.fv__loading-animation li+li{margin-left:5.468%}@-webkit-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-moz-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@-o-keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}@keyframes loading-animation{0%{height:26.56%}50%{height:67.18%}100%{height:26.56%}}.fv__pdf-doc-layout{position:relative}.fv__pdf-doc-layout.fv__destroy{display:none}.fv__pdf-doc-layout .fv__pdf-doc-container{position:relative}.fv__pdf-doc-layout .fv__pdf-doc-container .fv__pdf-view-mode-item{margin-top:var(--facing-margin);margin-right:var(--facing-margin);margin-bottom:0}.fv__pdf-view-mode-item{margin:8px auto 0}.fv__pdf-invisible-page-item canvas{display:none}.fv__pdf-page-layout{overflow:visible;margin:8px auto;margin:0 auto;position:relative}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering{position:absolute;width:100%;height:100%;z-index:100;display:table}.fv__pdf-page-layout.fv__rendering .fv__pdf-page-rendering .fv__rendering-container{display:table-cell;vertical-align:middle}.fv__pdf-page-container{position:relative;transform-origin:0 0;overflow:hidden;width:100%;height:100%;background-color:var(--bgc)}.fv__pdf-page-annots-container,.fv__pdf-page-customs-container{position:absolute;transform-origin:0 0;top:0;left:0;width:100%;height:100%;overflow:hidden}.fv__tiles-container{transform-origin:0 0;position:relative}.fv__pdf-viewer{--bgc: #fff;position:relative;display:inline-block;min-width:100%}.fv__h-continuous-view-mode-layout{height:100%;-webkit-box-align:center;-moz-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.fv__pdf-viewer canvas{vertical-align:top}.fv__tiles-canvas{vertical-align:top;width:100%;height:100%}.fv__pdf-page-annot-container{position:absolute;overflow:visible;overflow:unset;z-index:22;transform-origin:0 0;cursor:pointer;line-height:0}.fv__pdf-page-annot-container.fv__annot-flags-nozoom{overflow:hidden;transform:scale(1) !important}.fv__pdf-page-annot-container.fv__zindex-down{z-index:21}.fv__pdf-page-highlight-annot-container,.fv__viewer-fake-highlight-area-annot{mix-blend-mode:multiply}.fv__color-property-row{display:flex;flex-direction:row;margin:1px 0}.fv__color-property-col{position:relative;-webkit-box-flex:1 0 28px;-moz-box-flex:1 0 28px;box-flex:1 0 28px;-webkit-flex:1 0 28px;-moz-flex:1 0 28px;-ms-flex:1 0 28px;flex:1 0 28px;height:26px;display:flex;margin:1px;cursor:pointer;line-height:26px;text-align:center}.fv__color-property-item{position:absolute;z-index:-1;top:0;right:0;bottom:0;left:0}.fv__color-property-item.fv__transparent{position:relative}.fv__color-property-item.fv__transparent:before{content:"";transform:rotate(-45deg);position:absolute;top:49%;width:100%;height:0;border-top:1px solid red}.fv__pdf-doc-handler-container{z-index:9;position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(1,0,0,0)}.fv__pdf-page-content-container{z-index:10}.fv__pdf-page-highlight-container{position:absolute;top:0;left:0;z-index:1;transform-origin:0 0}.fv__pdf-page-no-highlight-container{position:absolute;top:0;left:0;z-index:20;transform-origin:0 0}.fv__virtual-pdf-page{position:relative}.fv__virtual-pdf-page>*{pointer-events:none}.fv__virtual-pdf-page:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;cursor:not-allowed;z-index:30}.fv_choice_border{box-sizing:border-box}.fv_choice_icon{position:absolute;top:0;left:0;width:100%;height:100%}.fv__height100{height:100%}.fv__width100{width:100%}.fv__annot-container-zindex-up .fv__pdf-page-handler-container{z-index:26}.fv__annot-container-zindex-up .fv__pdf-page-annot-container{z-index:28}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__zindex-down{z-index:27}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-page-watermark-annot-container{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container{z-index:25;user-select:none}.fv__annot-container-zindex-up .fv__pdf-page-annot-container.fv__pdf-form-control-container.fv__zindex-down{z-index:24}.fv__annot-container-zindex-up .fv__pdf-page-highlight-annot-container{z-index:27}.fv__annot-container-zindex-up .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:25}.fv__annot-container-zindex-up.fv__allow-modify-form-control .fv__pdf-form-control-handler-container.fv__pdf-page-annot-handler-container{z-index:29}.fv__pdf-page-handler-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:30;transform-origin:0 0;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:31;display:none;background-color:rgba(1,0,0,0)}.fv__pdf-page-annot-handler-container.active{display:block}.fv__pdf-page-annot-handler-container.fv__pdf-form-control-handler-container{z-index:29;forced-color-adjust:none}.fv__pdf-page-annot-handler-container.fv__pdf-page-caret-annot-handler-container{z-index:31}.fv__pdf-page-3d-annot-interaction-canvas{width:100%;height:100%}.fv__pdf-page-text-selection-container{position:absolute;top:0;left:0;width:0;height:0;transform-origin:0 0;z-index:32}.fv__pdf-page-annot-handler-blank{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1}.fv__pdf-page-annot-handler-rect{position:absolute;z-index:2;outline-offset:-1px}.fv__pdf-page-annot-handler-rect.active{outline:1px solid red}.fv__pdf-page-annot-handler-rect.fv__annot-active{outline:1px solid #5aa}.fv__text-boundary{z-index:10;position:absolute;width:0;cursor:e-resize}.fv__text-boundary.ban{cursor:default}.fv__text-boundary.ban .fv__text-boundary-cursor{border:2px solid gray}.fv__text-boundary.ban .fv__text-boundary-sign{border:2px solid gray}.fv__text-boundary-blank{padding:0 7px;margin-left:-8px;height:100%}.fv__text-boundary-cursor{border:1px solid blue;width:0;height:100%}.fv__text-boundary-sign{position:absolute;border:2px solid blue;width:12px;height:12px;left:-8px;border-radius:50%;box-sizing:content-box}.fv__text-boundary-left{transform-origin:left top}.fv__text-boundary-left .fv__text-boundary-sign{top:-15px}.fv__text-boundary-right{transform-origin:left bottom}.fv__text-boundary-right .fv__text-boundary-sign{bottom:-15px}.fv__pdf-page-annot-action-container{position:absolute;z-index:40;display:none}.fv__pdf-page-annot-action-container.active{display:block}.fv__clipboard-copy-textarea{position:absolute;filter:alpha(opacity=0);-moz-opacity:0;-khtml-opacity:0;opacity:0}.fv__dialog{position:absolute;left:0;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;padding:1em;background:#fff;color:#333;display:block;box-shadow:1px 1px 3px 0px #ddd;border:1px solid #ddd;border-radius:5px}.fv__dialog:not([open]){display:none}.fv__dialog+.backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.1)}.fv__dialog.fixed{position:fixed;top:50%;transform:translate(0, -50%)}.fv__annot-reply-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-reply-dialog .fv__textarea-container{margin-bottom:5px;margin-bottom:.2rem}.fv__annot-reply-dialog .trust-dia-inbox label{display:block}.fv__annot-reply-dialog .trust-dia-inbox label input{vertical-align:-2px}.fv__annot-reply-dialog .fv__block-textarea{border-color:#e5e5e5;border-radius:4px;width:300px;color:#666}.fv__annot-reply-dialog .fv__btn-reply{border-color:#e2a1e6;color:#e2a1e6}.fv__annot-reply-dialog .fv__btn-replay-disabled{border-color:gray;color:gray}.fv__annot-reply-dialog .fv__btn_reply_container{text-align:right;margin-bottom:-5px;margin-bottom:-0.2rem}.fv__annot-reply-dialog .fv__btn-close-container{border-top:1px solid #ddd;padding-top:10px;margin-top:10px;text-align:right}.trust-dia-dibox{padding:22px;background:#fff;box-shadow:rgba(151,151,151,.85) 0 0 14px 3px;max-width:480px}.trust-dia-dibox .btn-bot-box{margin-top:20px;margin-bottom:0}.trust-dia-dibox>p{margin-bottom:22px;padding:0;font-size:16px;color:rgba(0,0,0,.65);font-weight:400;display:flex;justify-content:space-between}.trust-dia-dibox>p i{width:16px;height:16px;cursor:pointer}.trust-dia-dibox .fv__icon-dialog-level-warning{display:inline-block;width:30px;height:24px;flex:0 0 30px;margin-top:5px}.trust-dia-dibox .fv__trust-tip-container>p{display:flex}.trust-dia-dibox .fv__trust-tip-container>p span{margin-left:8px}.trust-dia-dibox .trust-ok-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;margin-right:.875rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:1.75rem;border:1px solid #923094;color:#fff;background-color:#923094;text-align:center;cursor:pointer;user-select:none}.trust-dia-dibox .trust-ok-btn:hover{color:#fff;background-color:#923094;border-color:#923094;box-shadow:0 .125rem .1875rem rgba(0,0,0,.15)}.trust-dia-dibox .trust-ok-btn:active{color:#fff;background-color:#923094;border-color:#923094;opacity:.5}.trust-dia-dibox .trust-no-btn{display:inline-flex;align-items:center;justify-content:center;font-size:.875rem;margin:0rem 0rem 0rem 0rem;height:1.75rem;min-width:5.25rem;max-width:11.375rem;border-radius:1.75rem;border:1px solid #ddd;color:#333;background-color:#fff;text-align:center;cursor:pointer;user-select:none}.trust-dia-dibox .trust-no-btn:hover{color:#923094;background-color:#fff;border-color:#923094}.trust-dia-dibox .trust-no-btn:active{color:#923094;background-color:#fff;border-color:#923094;opacity:.5}.fv__replies_list{list-style:none;margin:0;padding:2px 0}.fv__replies_list .fv__replies_list{margin-left:5px}.fv__replies_item{line-height:2;border-top:1px dashed #ddd;color:#666}.fv__replies_content{white-space:pre}.fv__label-block-text{display:block;font-weight:bold;margin-bottom:5px;margin-bottom:.2rem}.fv__block-textarea{display:block;width:100%;box-sizing:border-box}.fv__annot-properties-dialog+.backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog::backdrop{background:rgba(0,0,0,0)}.fv__annot-properties-dialog .fv__btn{background-color:#f8f8f8;line-height:1.3;border:1px solid #ddd;border-radius:3px}.fv__annot-properties-dialog .fv__property-item{margin-bottom:5px;padding-bottom:5px;border-bottom:1px dashed #ddd}.fv__annot-properties-dialog .fv__property-item:last-child{border-bottom:none}.fv__annot-properties-dialog .fv__property-item-name-container{display:inline-block;width:100px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fv__annot-properties-dialog .fv__property-item-field-container{display:inline-block;width:200px}.fv__annot-properties-dialog .fv__property-item-field-container select,.fv__annot-properties-dialog .fv__property-item-field-container input{width:100%;border:1px solid #d4d4d4;border-radius:3px}.fv__annot-properties-dialog .fv__property-item-field-container input[type=range]{vertical-align:middle}.fv__annot-properties-dialog .fv__property-item-field-container input[type=number]{text-align:right}.fv__annot-properties-dialog .fv__property-item-field-container input[type=checkbox]{width:auto}.fv__annot-properties-dialog .fv__property-item-field-container select{vertical-align:super}.fv__annot-properties-dialog .fv__property-item-only-field-container{text-align:center}.fv__annot-properties-dialog .fv__btn-close-container{text-align:right}.fv__dialog-replies-block{margin-bottom:5px}.fv__pdf-annot-line-point{position:absolute;cursor:pointer}.fv__pdf-annot-line-point-item{position:absolute;top:-4px;left:-4px;width:8px;height:8px;background-color:#5aa;z-index:3}.fv__pdf-annot-line-caption{position:absolute;top:0px;left:0px;padding:0px 1px;white-space:nowrap;color:rgba(0,0,0,0);z-index:3;cursor:pointer}.fv__freetext-content-edit-textarea{display:none;position:absolute;transform-origin:0 0}.fv__freetext-content-edit-textarea.fv__active{display:block}.fv__mark-selection-blank{position:absolute;filter:alpha(opacity=30);-moz-opacity:.3;-khtml-opacity:.3;opacity:.3;padding:0;background-color:#59f}.fv__page-area-renderer{overflow:hidden;background-color:gray;width:100%;height:100%}.fv__page-area-renderer canvas{background-color:#fff;outline:1px solid #000;position:relative}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__shape-control,.fv__process-innerrect-control,.fv__move-whole-control{display:block;position:absolute;outline:1px solid #5aa;outline-offset:-1px;forced-color-adjust:none;transform-origin:50% 50%;z-index:1}.fv__shape-control.disabled,.fv__process-innerrect-control.disabled,.fv__move-whole-control.disabled{filter:alpha(opacity=100);-moz-opacity:1;-khtml-opacity:1;opacity:1}.fv__shape-control.disabled .fv__shape-controller,.fv__process-innerrect-control.disabled .fv__shape-controller,.fv__move-whole-control.disabled .fv__shape-controller{visibility:hidden;display:none}.fv__shape-control.move-disabled,.fv__shape-control.move-disabled .fv__shape-control-move-area,.fv__shape-control.disabled,.fv__shape-control.disabled .fv__shape-control-move-area,.fv__process-innerrect-control.move-disabled,.fv__process-innerrect-control.move-disabled .fv__shape-control-move-area,.fv__process-innerrect-control.disabled,.fv__process-innerrect-control.disabled .fv__shape-control-move-area,.fv__move-whole-control.move-disabled,.fv__move-whole-control.move-disabled .fv__shape-control-move-area,.fv__move-whole-control.disabled,.fv__move-whole-control.disabled .fv__shape-control-move-area{cursor:not-allowed}.fv__shape-control.callout,.fv__process-innerrect-control.callout,.fv__move-whole-control.callout{left:0;top:0;width:100%;height:100%;outline:none;z-index:31}.fv__shape-control.current-annot:before,.fv__process-innerrect-control.current-annot:before,.fv__move-whole-control.current-annot:before{content:"";width:calc(100% + 2px);height:calc(100% + 2px);position:absolute;top:-1px;left:-1px;border:1px dashed #666}.fv__move-whole-control,.fv__process-innerrect-control{background:rgba(123,178,189,.2)}.fv__shape-control-move-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0;cursor:move;background:rgba(1,0,0,0)}.fv__shape-control-text-area,.fv__shape-control-inner-area{display:block;position:absolute;left:0;top:0;right:0;bottom:0}.fv__shape-control-text-area{z-index:4}.fv__shape-control-inner-area{z-index:3}.fv__shape-control-inner-area .fv__shape-controller{z-index:5}.fv__shape-control-previewer{background:rgba(0,0,0,0);position:absolute;left:0;top:0;filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv_form-editing .fv__shape-controller{background-color:#1492e6;outline:1px solid #1492e6}.fv_form-editing .fv_form-editing-label.active div{background-color:#1492e6}.fv_form-editing .fv__shape-control,.fv_form-editing .fv__process-innerrect-control,.fv_form-editing .fv__move-whole-control{outline:1px solid #1492e6}.fv__ui-tablet .fv__shape-controller:after,.fv__ui-mobile .fv__shape-controller:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__shape-controller{position:absolute;width:8px;height:8px;background-color:#5aa;pointer-events:initial}.fv__shape-controller.callout{cursor:pointer}.fv__shape-controller[direction=north],.fv__shape-controller.top{left:50%;margin-left:-4px;top:-4px;cursor:n-resize}.fv__shape-controller[direction=south],.fv__shape-controller.bottom{left:50%;margin-left:-4px;bottom:-4px;cursor:s-resize}.fv__shape-controller[direction=west],.fv__shape-controller.left{top:50%;margin-top:-4px;left:-4px;cursor:w-resize}.fv__shape-controller[direction=east],.fv__shape-controller.right{top:50%;margin-top:-4px;right:-4px;cursor:e-resize}.fv__shape-controller[direction=north-west]{left:-4px;top:-4px;cursor:nw-resize}.fv__shape-controller[direction=north-east]{right:-4px;top:-4px;cursor:ne-resize}.fv__shape-controller[direction=south-west]{left:-4px;bottom:-4px;cursor:sw-resize}.fv__shape-controller[direction=south-east]{right:-4px;bottom:-4px;cursor:se-resize}.fv__shape-rotate{height:60%;width:6px;left:50%;top:-10%;position:absolute;transform-origin:0 100%}.fv__shape-rotate>.fv-shape-rotate-handle{position:absolute;width:12px;height:12px;left:-5px;top:-11px;border-radius:50%;border:2px solid #5aa;box-sizing:border-box}.fv__shape-rotate>.fv-shape-rotate-bound{position:absolute;height:100%;width:2px;background-color:#5aa;box-sizing:border-box}.fv__shape-size{position:absolute;right:1px;background:#ccc;padding:4px;font-size:12px;height:18px;overflow:hidden}.fv-shape-rotate-degree{position:absolute;top:0;left:10px;border:1px solid #ccc;background:#ccc;padding:2px}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__shape-controller{outline:4px solid #000;outline-offset:-4px}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__annot-properties-dialog{user-select:none}.fv__half-width{display:inline-block}input[type=range]:disabled{filter:alpha(opacity=50);-moz-opacity:.5;-khtml-opacity:.5;opacity:.5}.fv__tiles-container,.fv__tiles-row,.fv__h-continuous-view-mode-layout{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.fv__loading-animation{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.fv__tiles-container{-webkit-box-direction:normal;-webkit-box-orient:vertical;-moz-box-direction:normal;-moz-box-orient:vertical;-webkit-flex-direction:column;flex-direction:column}.fv__loading-animation,.fv__tiles-row,.fv__h-continuous-view-mode-layout{-webkit-box-direction:normal;-webkit-box-orient:horizontal;-moz-box-direction:normal;-moz-box-orient:horizontal;-webkit-flex-direction:row;flex-direction:row}.fv__rendering-svg{display:inline-block}.fv__autocomp-ul{position:absolute;z-index:29;list-style-type:none;max-height:400px;overflow-y:auto;border:1px solid #000;margin:0;padding:0;cursor:pointer}.fv__autocomp-ul.fv__autocomp-open{display:block}.fv__autocomp-ul.fv__autocomp-close{display:none}.fv__autocomp-li{color:#000;font-size:20px;padding:4px 10px;background-color:#fff}.fv__autocomp-li.active{background-color:#daf6ff}.datepicker.datepicker td.old.day,.datepicker.datepicker td.new.day{opacity:1}.checkbox.form-field-options{z-index:35}.form-field-option.selected{color:#fff;background-color:#003371 !important}.form-field-option:not(.readonly):hover{background-color:rgba(0,51,113,.2)}.fv__ui-form-foreground:not(.form-field-readonly):hover{border:1px solid}.fv__ui-form-foreground{z-index:1;mix-blend-mode:multiply}.textCombContainer{display:flex}.textCombContainer,.textCombInput{position:absolute;height:100%;width:100%;font-size:0}.textCombContainer input,.textCombInput input{transform-origin:0 0;box-sizing:border-box;position:relative;outline:none}.textComb{display:inline-block;font-size:14px;text-align:center;vertical-align:middle}.fv__push_button{white-space:nowrap}.form-field-required{border-color:red}.fwr__ui-combo-dropdown{position:absolute;right:10px;top:10%;width:0;height:0;border-width:10px 10px 0;border-style:solid;border-color:#333 rgba(0,0,0,0) rgba(0,0,0,0)}.fwr__ui-combo-arrow{position:absolute;width:20px;height:100%;color:#000;background-color:#d0d0d0;font-size:20px}.fwr__ui-combo-arrow span{position:absolute;border-style:solid;border-width:12px 6px 0 6px;border-color:#666 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);top:50%;left:4px}.datepicker{background:#fff;border:1px solid #000;position:absolute;user-select:none}.datepicker td.old.day,.datepicker td.new.day{filter:alpha(opacity=40);-moz-opacity:.4;-khtml-opacity:.4;opacity:.4}.datepicker td.active{background:rgba(0,255,0,.2)}.datepicker span:not(:first-child){margin-left:10px}.fv__control_focus{outline:dashed 1px #000}.hide-form-field-focus-rectangle .fv__control_focus{outline:none}.fv__pdf-form-control-handler-container input::-ms-clear{display:none}.fv__ui-form-selected-container{position:absolute;border:1px solid #000;display:none;justify-content:center;align-items:center;overflow:hidden}.fv__ui-form-selected-container>div{background:#000;color:#fff;white-space:nowrap;font-size:12px;line-height:normal}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected{z-index:31}.fv__pdf-page-annot-container.fv__pdf-form-control-container.selected .fv__ui-form-selected-container{display:flex}.fv__pdf-page-annot-container.fv__pdf-form-control-container.editing .fv__ui-form-selected-container>div{background:#5aa}.flatpickr-calendar.hasTime.open{box-shadow:rgba(151,151,151,.85) 0 0 14px 3px}.fv__pdf-form-field-combo-textarea{overflow:hidden;padding:0}.fv__pdf-form-field-combo-textarea.fv__scroll-text:focus{overflow:auto}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:#393939;opacity:.3}.flatpickr-day{border-width:0;box-sizing:border-box}.flatpickr-day.today{border-width:1px}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}@media(forced-colors: active){.fv__ui-high-contrast .flatpickr-day.selected{border-width:2px;line-height:35px;border-color:highlight;border-color:-webkit-focus-ring-color}}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span{position:absolute;border:none}.fv__ui-high-contrast.fv__ui-browser-firefox .fwr__ui-combo-arrow span:before{content:"▼"}.fv__select-annot-state-handler .fv__ui-field-show-in-select-annot-handler{display:block !important}.fv__ui-canvas-mirror{position:fixed;left:-100%;top:-100%;z-index:-1}.fv__pdf-page-multi-media-annot-container{width:96%;height:96%;left:2%;top:2%;position:absolute;z-index:11}.fv__pdf-page-multi-media-annot-container .play{width:100%;height:100%;background:url('+Re+") no-repeat center center}.fv__pdf-page-multi-media-annot-container .pause{width:100%;height:100%;background:url("+Te+") no-repeat center center}.fv__pdf-player{position:absolute}.fv__pdf-player .IE-player{height:50px}.fv__pdf-player .player{position:absolute;left:0;top:0}.fv__pdf-player button{padding:0;margin:0;position:absolute;left:-1px;top:-1px;background:#fff;cursor:pointer;width:18px;height:18px;z-index:1999;border:1px solid #eee}.fv__pdf-player .fv__close-video{position:absolute;left:0;top:0;background:url("+Me+");cursor:pointer;width:18px;height:18px;z-index:1999}.fv__pdf-player .err-tips{background:#eee;padding:16px 8px;width:200px;position:absolute;top:0}.fv__ui-mobile .fv__pdf-page-multi-media-annot-container .play{background:url("+Fe+") no-repeat center center}.fv__ui-mobile .fv__pdf-player button{width:14px;height:14px}.fv__ui-mobile .fv__pdf-player .fv__close-video{width:14px;height:14px;background:url("+Le+')}.fv__ui-mobile .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-mobile .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__ui-tablet .fv__pdf-page-annot-container:hover{outline:inherit !important}.fv__ui-tablet .fv__pdf-annot-line-point-item:after{content:"";height:500%;left:-200%;position:absolute;top:-200%;width:500%}.fv__contextmenu-container{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0}.fv__edid-text-container{position:absolute;left:0;top:0}.fv__edit-text-background{position:absolute;background-color:#fff;outline:1px solid #7dbaff}.fv__edit-text-content{position:absolute;border:none;background:rgba(0,0,0,0);transform-origin:left bottom}.fv__ui-freetext-editor{position:absolute;z-index:3;display:none;resize:none;outline:none;line-height:18.7px;word-break:break-word;overflow:hidden;outline:none;padding:0;margin:0;border:none}.fwr__graphics-object-handler{z-index:50;position:absolute;left:0;top:0}.fv__text-object-edit-char-container{position:absolute;width:0;height:0;top:0;left:0}.fv__text-fill-sign-toolbar,.fv__text-object-edit-char-mask-layer,.fv__text-object-edit-char-form,.fv__text-object-edit-char-input{position:absolute;z-index:50;left:0;bottom:0;transform-origin:left bottom}.fv__text-object-edit-char-mask-layer{background:#fff;outline:none}.fv__text-object-edit-char-input{-webkit-text-size-adjust:none;-webkit-user-select:text;border:none;line-height:1;padding:0;background-color:#fff;outline:1px dashed #4d90fe;white-space:pre-line;overflow-wrap:break-word;word-break:break-all;overflow:hidden;width:max-content;forced-color-adjust:none}.fv__text_fill-sign-container .fv__text-object-edit-char-input{white-space:nowrap}.fv__text-fill-sign-toolbar{transform:translateY(-30px);height:25px;left:-5px;background-color:#fff;margin-bottom:10px;padding:0 3px;border:1px solid rgba(151,151,151,.6);border-radius:5px;box-shadow:-4px 4px 4px rgba(151,151,151,.6)}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:flex;align-items:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-exp{display:none}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-icon{cursor:pointer;width:24px;height:24px}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-increase{background-image:url('+Ne+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-decrease{background-image:url("+Oe+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-delete{background-image:url("+Be+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-combo-filed{background-image:url("+je+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-more,.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-base-button{background-image:url("+Ve+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-tick{background-image:url("+Ue+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-cross{background-image:url("+He+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-dot{background-image:url("+ze+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-line{background-image:url("+We+");background-repeat:no-repeat;background-position:center}.fv__text-fill-sign-toolbar .fv__text-fill-sign-toolbar-rectangle{background-image:url("+Ye+');background-repeat:no-repeat;background-position:center}.fv__pdf-view-mode-item-split{display:none}.fv__viewer-fake-annot-container{position:absolute;z-index:22}.fv__markup-annot-invisible{display:none !important}.fv__typewriter_ui{margin:0;padding:0;font-family:"","","","",FoxitPDFSDKForWeb;line-height:100%}.fv__textbox_ui{position:absolute;word-break:break-word;white-space:pre-wrap;line-height:18px}.fv__ftui-container{position:relative;z-index:2;transform-origin:0}.fv__viewer-render-square-canvas{position:relative;z-index:-1}.fv_viewer-tooltip-container{width:250px;min-height:40px;background-color:#fff;box-shadow:0px 0px 10px rgba(151,151,151,.6);position:absolute;border-radius:5px;z-index:999}.fv_viewer-tooltip-container .fv_viewer-tooltip-title,.fv_viewer-tooltip-container .fv_viewer-tooltip-content{width:100%;overflow:hidden;text-overflow:ellipsis}.fv_viewer-tooltip-container .fv_viewer-tooltip-title{font-weight:bold;padding:3px 8px;text-align:left;box-sizing:border-box;line-height:24px}.fv_viewer-tooltip-container .fv_viewer-tooltip-content{padding-left:8px;padding-right:8px;font-size:12px;line-height:2;box-sizing:border-box}.fv__ui-predefined-cursor-img{position:absolute;transform-origin:0 50%;opacity:.5;font-family:Courier;font-size:16px}.tooltip-unactive{display:none}.tooltip-active{display:block}.fv__table-fixed-head{border:1px solid #ddd;border-color:var(--fv-border-color, #ddd);position:relative;overflow:hidden;padding:30px 0 0 0}.fv__table-fixed-head .thead{position:absolute;left:0;top:0;right:0}.fv__table-fixed-head .thead .tr{height:30px;line-height:30px;background:#eee;background-color:var(--fv-secondary-bg, #eee)}.fv__table-fixed-head .thead .tr .td{font-weight:bold;color:#666;color:var(--fv-primary-color, #666)}.fv__table-fixed-head .tbody{width:100%;height:100%;overflow:auto}.fv__table-fixed-head .tbody .tr{height:25px;line-height:25px}.fv__table-fixed-head .thead .tr,.fv__table-fixed-head .tbody .tr{border-bottom:1px solid #ddd;border-color:var(--fv-border-color, #ddd);display:-ms-flex;display:flex;-ms-flex-align:center;align-items:center}.fv__table-fixed-head .thead .tr .td,.fv__table-fixed-head .tbody .tr .td{border-right:1px solid #ddd;border-color:var(--fv-border-color, #ddd);padding:0 0 0 10px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;height:100%}.fv__table-fixed-head .thead .tr .td:last-child,.fv__table-fixed-head .tbody .tr .td:last-child{border-right:none}.fv__table-fixed-head .tbody .tr{cursor:pointer;user-select:none;-webkit-user-select:none}.fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:var(--fv-content-bg, #f9e3fa);color:var(--fv-accent-color)}.tooltip-active{display:block}.flatpickr-calendar::before,.flatpickr-calendar::after{forced-color-adjust:none;width:8px;height:8px;transform:rotate(45deg);border:none;background-color:#e6e6e6;display:none;z-index:-1}.flatpickr-calendar.arrowTop::before{display:block;margin-bottom:-3px}.flatpickr-calendar.arrowBottom::after{display:block;margin-top:-4px}.flatpickr-calendar>.flatpickr-months,.flatpickr-calendar>.flatpickr-innerContainer,.flatpickr-calendar>.flatpickr-time{background-color:#fff}.fv__viewer-annot-container-hide{visibility:hidden}.annotRenderers,.highlightAP{position:absolute;z-index:11;transform-origin:0 0}.highlightAP{mix-blend-mode:multiply}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast.fv__ui-browser-firefox .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast.fv__ui-browser-firefox .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none}@media(forced-colors: active){.fv__ui-high-contrast .fv__loading-animation li{background-color:highlight}.fv__ui-high-contrast .fv__text-boundary-sign{background-color:Highlight;border-color:Highlight}.fv__ui-high-contrast .fv__text-boundary-cursor{border-color:Highlight}.fv__ui-high-contrast .fv__pdf-page-layout{outline:1px solid #fff}.fv__ui-high-contrast .fv__pdf-doc-container.facing-page-view-mode,.fv__ui-high-contrast .fv__pdf-doc-container.facing-continuous-page-view-mode{overflow:visible}.fv__ui-high-contrast .fv__text-object-edit-char-mask-layer{outline:none;forced-color-adjust:none}.fv__ui-high-contrast .flatpickr-calendar{outline:1px solid #fff}.fv__ui-high-contrast .flatpickr-calendar::before,.fv__ui-high-contrast .flatpickr-calendar::after{background-color:Highlight}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span{font-family:"Segoe UI Symbol",arial,sans-serif;font-size:16px;line-height:12.5px;overflow:hidden;padding:0}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span:after{position:relative;top:0;display:block;text-align:center}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowUp:after{border:none;content:"▴"}.fv__ui-high-contrast .flatpickr-current-month .numInputWrapper span.arrowDown:after{border:none;content:"▾"}.fv__ui-high-contrast .fv__table-fixed-head .tbody .tr.selected{background:#f9e3fa;background-color:highlight;color:highlighttext;forced-color-adjust:none}}.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::before,.fv__ui-high-contrast.fv__ui-browser-firefox .flatpickr-calendar::after{-moz-filter:contrast(0.1);filter:contrast(0.5)}@media(inverted-colors: inverted){.fv__ui-browser-safari img{filter:none}}',""]),e.exports=t},7933:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".d_f{display:-webkit-box;display:box;display:-webkit-flex;display:-moz-flex;display:-moz-box;display:flex}.d-if{display:-webkit-inline-box;display:inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-moz-inline-box;display:inline-flex}.d-ib{display:inline-block}.fd_c{-ms-flex-direction:column;flex-direction:column}.fw_w{-ms-flex-wrap:wrap;flex-wrap:wrap}.jc_fs{-ms-flex-pack:start;justify-content:flex-start}.jc_c{-ms-flex-pack:center;justify-content:center}.jc_fe{-ms-flex-pack:end;justify-content:flex-end}.jc_sb{-ms-flex-pack:justify;justify-content:space-between}.jc_sa{-ms-flex-pack:distribute;justify-content:space-around}.ai_fs{-ms-flex-align:start;align-items:flex-start}.ai_c{-ms-flex-align:center;align-items:center}.ai_fe{-ms-flex-align:end;align-items:flex-end}.fg_0{-ms-flex-positive:0;flex-grow:0}.fg_1{-ms-flex-positive:1;flex-grow:1}.fg_2{-ms-flex-positive:2;flex-grow:2}.fg_3{-ms-flex-positive:3;flex-grow:3}.fg_4{-ms-flex-positive:4;flex-grow:4}.fg_5{-ms-flex-positive:5;flex-grow:5}.fs_0{-ms-flex-negative:0;flex-shrink:0}.fs_1{-ms-flex-negative:1;flex-shrink:1}.fs_2{-ms-flex-negative:2;flex-shrink:2}.fs_3{-ms-flex-negative:3;flex-shrink:3}.fs_4{-ms-flex-negative:4;flex-shrink:4}.fs_5{-ms-flex-negative:5;flex-shrink:5}.fb_0{-ms-flex-preferred-size:0;flex-basis:0}.fb_10z{-ms-flex-preferred-size:10%;flex-basis:10%}.fb_20z{-ms-flex-preferred-size:20%;flex-basis:20%}.fb_30z{-ms-flex-preferred-size:30%;flex-basis:30%}.fb_40z{-ms-flex-preferred-size:40%;flex-basis:40%}.fb_50z{-ms-flex-preferred-size:50%;flex-basis:50%}.fb_60z{-ms-flex-preferred-size:60%;flex-basis:60%}.fb_70z{-ms-flex-preferred-size:70%;flex-basis:70%}.fb_80z{-ms-flex-preferred-size:80%;flex-basis:80%}.fb_90z{-ms-flex-preferred-size:90%;flex-basis:90%}.fb_100z{-ms-flex-preferred-size:100%;flex-basis:100%}.fb_25z{-ms-flex-preferred-size:25%;flex-basis:25%}.fb_33z{-ms-flex-preferred-size:33.3%;flex-basis:33.3%}.f_0{-ms-flex:0 0 0px;flex:0 0 0px}.f_1{-ms-flex:1 0 0px;flex:1 0 0px}.f_2{-ms-flex:2 0 0px;flex:2 0 0px}.f_3{-ms-flex:3 0 0px;flex:3 0 0px}.f_4{-ms-flex:4 0 0px;flex:4 0 0px}.f_5{-ms-flex:5 0 0px;flex:5 0 0px}.f_6{-ms-flex:6 0 0px;flex:6 0 0px}.f_7{-ms-flex:7 0 0px;flex:7 0 0px}.f_8{-ms-flex:8 0 0px;flex:8 0 0px}.f_9{-ms-flex:9 0 0px;flex:9 0 0px}.m_a{margin:auto}.mt_0{margin-top:0px}.mr_0{margin-right:0px}.mb_0{margin-bottom:0px}.ml_0{margin-left:0px}.mtmb_0{margin-top:0px;margin-bottom:0px}.mlmr_0{margin-left:0px;margin-right:0px}.mt_1{margin-top:1px}.mr_1{margin-right:1px}.mb_1{margin-bottom:1px}.ml_1{margin-left:1px}.mtmb_1{margin-top:1px;margin-bottom:1px}.mlmr_1{margin-left:1px;margin-right:1px}.mt_2{margin-top:2px}.mr_2{margin-right:2px}.mb_2{margin-bottom:2px}.ml_2{margin-left:2px}.mtmb_2{margin-top:2px;margin-bottom:2px}.mlmr_2{margin-left:2px;margin-right:2px}.mt_3{margin-top:3px}.mr_3{margin-right:3px}.mb_3{margin-bottom:3px}.ml_3{margin-left:3px}.mtmb_3{margin-top:3px;margin-bottom:3px}.mlmr_3{margin-left:3px;margin-right:3px}.mt_4{margin-top:4px}.mr_4{margin-right:4px}.mb_4{margin-bottom:4px}.ml_4{margin-left:4px}.mtmb_4{margin-top:4px;margin-bottom:4px}.mlmr_4{margin-left:4px;margin-right:4px}.mt_5{margin-top:5px}.mr_5{margin-right:5px}.mb_5{margin-bottom:5px}.ml_5{margin-left:5px}.mtmb_5{margin-top:5px;margin-bottom:5px}.mlmr_5{margin-left:5px;margin-right:5px}.mt_6{margin-top:6px}.mr_6{margin-right:6px}.mb_6{margin-bottom:6px}.ml_6{margin-left:6px}.mtmb_6{margin-top:6px;margin-bottom:6px}.mlmr_6{margin-left:6px;margin-right:6px}.mt_7{margin-top:7px}.mr_7{margin-right:7px}.mb_7{margin-bottom:7px}.ml_7{margin-left:7px}.mtmb_7{margin-top:7px;margin-bottom:7px}.mlmr_7{margin-left:7px;margin-right:7px}.mt_8{margin-top:8px}.mr_8{margin-right:8px}.mb_8{margin-bottom:8px}.ml_8{margin-left:8px}.mtmb_8{margin-top:8px;margin-bottom:8px}.mlmr_8{margin-left:8px;margin-right:8px}.mt_9{margin-top:9px}.mr_9{margin-right:9px}.mb_9{margin-bottom:9px}.ml_9{margin-left:9px}.mtmb_9{margin-top:9px;margin-bottom:9px}.mlmr_9{margin-left:9px;margin-right:9px}.mt_10{margin-top:10px}.mr_10{margin-right:10px}.mb_10{margin-bottom:10px}.ml_10{margin-left:10px}.mtmb_10{margin-top:10px;margin-bottom:10px}.mlmr_10{margin-left:10px;margin-right:10px}.mt_11{margin-top:11px}.mr_11{margin-right:11px}.mb_11{margin-bottom:11px}.ml_11{margin-left:11px}.mtmb_11{margin-top:11px;margin-bottom:11px}.mlmr_11{margin-left:11px;margin-right:11px}.mt_12{margin-top:12px}.mr_12{margin-right:12px}.mb_12{margin-bottom:12px}.ml_12{margin-left:12px}.mtmb_12{margin-top:12px;margin-bottom:12px}.mlmr_12{margin-left:12px;margin-right:12px}.mt_13{margin-top:13px}.mr_13{margin-right:13px}.mb_13{margin-bottom:13px}.ml_13{margin-left:13px}.mtmb_13{margin-top:13px;margin-bottom:13px}.mlmr_13{margin-left:13px;margin-right:13px}.mt_14{margin-top:14px}.mr_14{margin-right:14px}.mb_14{margin-bottom:14px}.ml_14{margin-left:14px}.mtmb_14{margin-top:14px;margin-bottom:14px}.mlmr_14{margin-left:14px;margin-right:14px}.mt_15{margin-top:15px}.mr_15{margin-right:15px}.mb_15{margin-bottom:15px}.ml_15{margin-left:15px}.mtmb_15{margin-top:15px;margin-bottom:15px}.mlmr_15{margin-left:15px;margin-right:15px}.mt_16{margin-top:16px}.mr_16{margin-right:16px}.mb_16{margin-bottom:16px}.ml_16{margin-left:16px}.mtmb_16{margin-top:16px;margin-bottom:16px}.mlmr_16{margin-left:16px;margin-right:16px}.mt_17{margin-top:17px}.mr_17{margin-right:17px}.mb_17{margin-bottom:17px}.ml_17{margin-left:17px}.mtmb_17{margin-top:17px;margin-bottom:17px}.mlmr_17{margin-left:17px;margin-right:17px}.mt_18{margin-top:18px}.mr_18{margin-right:18px}.mb_18{margin-bottom:18px}.ml_18{margin-left:18px}.mtmb_18{margin-top:18px;margin-bottom:18px}.mlmr_18{margin-left:18px;margin-right:18px}.mt_19{margin-top:19px}.mr_19{margin-right:19px}.mb_19{margin-bottom:19px}.ml_19{margin-left:19px}.mtmb_19{margin-top:19px;margin-bottom:19px}.mlmr_19{margin-left:19px;margin-right:19px}.mt_20{margin-top:20px}.mr_20{margin-right:20px}.mb_20{margin-bottom:20px}.ml_20{margin-left:20px}.mtmb_20{margin-top:20px;margin-bottom:20px}.mlmr_20{margin-left:20px;margin-right:20px}.mt_21{margin-top:21px}.mr_21{margin-right:21px}.mb_21{margin-bottom:21px}.ml_21{margin-left:21px}.mtmb_21{margin-top:21px;margin-bottom:21px}.mlmr_21{margin-left:21px;margin-right:21px}.mt_22{margin-top:22px}.mr_22{margin-right:22px}.mb_22{margin-bottom:22px}.ml_22{margin-left:22px}.mtmb_22{margin-top:22px;margin-bottom:22px}.mlmr_22{margin-left:22px;margin-right:22px}.mt_23{margin-top:23px}.mr_23{margin-right:23px}.mb_23{margin-bottom:23px}.ml_23{margin-left:23px}.mtmb_23{margin-top:23px;margin-bottom:23px}.mlmr_23{margin-left:23px;margin-right:23px}.mt_24{margin-top:24px}.mr_24{margin-right:24px}.mb_24{margin-bottom:24px}.ml_24{margin-left:24px}.mtmb_24{margin-top:24px;margin-bottom:24px}.mlmr_24{margin-left:24px;margin-right:24px}.mt_25{margin-top:25px}.mr_25{margin-right:25px}.mb_25{margin-bottom:25px}.ml_25{margin-left:25px}.mtmb_25{margin-top:25px;margin-bottom:25px}.mlmr_25{margin-left:25px;margin-right:25px}.mt_26{margin-top:26px}.mr_26{margin-right:26px}.mb_26{margin-bottom:26px}.ml_26{margin-left:26px}.mtmb_26{margin-top:26px;margin-bottom:26px}.mlmr_26{margin-left:26px;margin-right:26px}.mt_27{margin-top:27px}.mr_27{margin-right:27px}.mb_27{margin-bottom:27px}.ml_27{margin-left:27px}.mtmb_27{margin-top:27px;margin-bottom:27px}.mlmr_27{margin-left:27px;margin-right:27px}.mt_28{margin-top:28px}.mr_28{margin-right:28px}.mb_28{margin-bottom:28px}.ml_28{margin-left:28px}.mtmb_28{margin-top:28px;margin-bottom:28px}.mlmr_28{margin-left:28px;margin-right:28px}.mt_29{margin-top:29px}.mr_29{margin-right:29px}.mb_29{margin-bottom:29px}.ml_29{margin-left:29px}.mtmb_29{margin-top:29px;margin-bottom:29px}.mlmr_29{margin-left:29px;margin-right:29px}.mt_30{margin-top:30px}.mr_30{margin-right:30px}.mb_30{margin-bottom:30px}.ml_30{margin-left:30px}.mtmb_30{margin-top:30px;margin-bottom:30px}.mlmr_30{margin-left:30px;margin-right:30px}.mt_35{margin-top:35px}.mr_35{margin-right:35px}.mb_35{margin-bottom:35px}.ml_35{margin-left:35px}.mtmb_35{margin-top:35px;margin-bottom:35px}.mlmr_35{margin-left:35px;margin-right:35px}.mt_40{margin-top:40px}.mr_40{margin-right:40px}.mb_40{margin-bottom:40px}.ml_40{margin-left:40px}.mtmb_40{margin-top:40px;margin-bottom:40px}.mlmr_40{margin-left:40px;margin-right:40px}.mt_45{margin-top:45px}.mr_45{margin-right:45px}.mb_45{margin-bottom:45px}.ml_45{margin-left:45px}.mtmb_45{margin-top:45px;margin-bottom:45px}.mlmr_45{margin-left:45px;margin-right:45px}.mt_50{margin-top:50px}.mr_50{margin-right:50px}.mb_50{margin-bottom:50px}.ml_50{margin-left:50px}.mtmb_50{margin-top:50px;margin-bottom:50px}.mlmr_50{margin-left:50px;margin-right:50px}.mt_55{margin-top:55px}.mr_55{margin-right:55px}.mb_55{margin-bottom:55px}.ml_55{margin-left:55px}.mtmb_55{margin-top:55px;margin-bottom:55px}.mlmr_55{margin-left:55px;margin-right:55px}.mt_60{margin-top:60px}.mr_60{margin-right:60px}.mb_60{margin-bottom:60px}.ml_60{margin-left:60px}.mtmb_60{margin-top:60px;margin-bottom:60px}.mlmr_60{margin-left:60px;margin-right:60px}.pt_0{padding-top:0px}.pr_0{padding-right:0px}.pb_0{padding-bottom:0px}.pl_0{padding-left:0px}.ptpb_0{padding-top:0px;padding-bottom:0px}.plpr_0{padding-left:0px;padding-right:0px}.pt_1{padding-top:1px}.pr_1{padding-right:1px}.pb_1{padding-bottom:1px}.pl_1{padding-left:1px}.ptpb_1{padding-top:1px;padding-bottom:1px}.plpr_1{padding-left:1px;padding-right:1px}.pt_2{padding-top:2px}.pr_2{padding-right:2px}.pb_2{padding-bottom:2px}.pl_2{padding-left:2px}.ptpb_2{padding-top:2px;padding-bottom:2px}.plpr_2{padding-left:2px;padding-right:2px}.pt_3{padding-top:3px}.pr_3{padding-right:3px}.pb_3{padding-bottom:3px}.pl_3{padding-left:3px}.ptpb_3{padding-top:3px;padding-bottom:3px}.plpr_3{padding-left:3px;padding-right:3px}.pt_4{padding-top:4px}.pr_4{padding-right:4px}.pb_4{padding-bottom:4px}.pl_4{padding-left:4px}.ptpb_4{padding-top:4px;padding-bottom:4px}.plpr_4{padding-left:4px;padding-right:4px}.pt_5{padding-top:5px}.pr_5{padding-right:5px}.pb_5{padding-bottom:5px}.pl_5{padding-left:5px}.ptpb_5{padding-top:5px;padding-bottom:5px}.plpr_5{padding-left:5px;padding-right:5px}.pt_6{padding-top:6px}.pr_6{padding-right:6px}.pb_6{padding-bottom:6px}.pl_6{padding-left:6px}.ptpb_6{padding-top:6px;padding-bottom:6px}.plpr_6{padding-left:6px;padding-right:6px}.pt_7{padding-top:7px}.pr_7{padding-right:7px}.pb_7{padding-bottom:7px}.pl_7{padding-left:7px}.ptpb_7{padding-top:7px;padding-bottom:7px}.plpr_7{padding-left:7px;padding-right:7px}.pt_8{padding-top:8px}.pr_8{padding-right:8px}.pb_8{padding-bottom:8px}.pl_8{padding-left:8px}.ptpb_8{padding-top:8px;padding-bottom:8px}.plpr_8{padding-left:8px;padding-right:8px}.pt_9{padding-top:9px}.pr_9{padding-right:9px}.pb_9{padding-bottom:9px}.pl_9{padding-left:9px}.ptpb_9{padding-top:9px;padding-bottom:9px}.plpr_9{padding-left:9px;padding-right:9px}.pt_10{padding-top:10px}.pr_10{padding-right:10px}.pb_10{padding-bottom:10px}.pl_10{padding-left:10px}.ptpb_10{padding-top:10px;padding-bottom:10px}.plpr_10{padding-left:10px;padding-right:10px}.pt_11{padding-top:11px}.pr_11{padding-right:11px}.pb_11{padding-bottom:11px}.pl_11{padding-left:11px}.ptpb_11{padding-top:11px;padding-bottom:11px}.plpr_11{padding-left:11px;padding-right:11px}.pt_12{padding-top:12px}.pr_12{padding-right:12px}.pb_12{padding-bottom:12px}.pl_12{padding-left:12px}.ptpb_12{padding-top:12px;padding-bottom:12px}.plpr_12{padding-left:12px;padding-right:12px}.pt_13{padding-top:13px}.pr_13{padding-right:13px}.pb_13{padding-bottom:13px}.pl_13{padding-left:13px}.ptpb_13{padding-top:13px;padding-bottom:13px}.plpr_13{padding-left:13px;padding-right:13px}.pt_14{padding-top:14px}.pr_14{padding-right:14px}.pb_14{padding-bottom:14px}.pl_14{padding-left:14px}.ptpb_14{padding-top:14px;padding-bottom:14px}.plpr_14{padding-left:14px;padding-right:14px}.pt_15{padding-top:15px}.pr_15{padding-right:15px}.pb_15{padding-bottom:15px}.pl_15{padding-left:15px}.ptpb_15{padding-top:15px;padding-bottom:15px}.plpr_15{padding-left:15px;padding-right:15px}.pt_16{padding-top:16px}.pr_16{padding-right:16px}.pb_16{padding-bottom:16px}.pl_16{padding-left:16px}.ptpb_16{padding-top:16px;padding-bottom:16px}.plpr_16{padding-left:16px;padding-right:16px}.pt_17{padding-top:17px}.pr_17{padding-right:17px}.pb_17{padding-bottom:17px}.pl_17{padding-left:17px}.ptpb_17{padding-top:17px;padding-bottom:17px}.plpr_17{padding-left:17px;padding-right:17px}.pt_18{padding-top:18px}.pr_18{padding-right:18px}.pb_18{padding-bottom:18px}.pl_18{padding-left:18px}.ptpb_18{padding-top:18px;padding-bottom:18px}.plpr_18{padding-left:18px;padding-right:18px}.pt_19{padding-top:19px}.pr_19{padding-right:19px}.pb_19{padding-bottom:19px}.pl_19{padding-left:19px}.ptpb_19{padding-top:19px;padding-bottom:19px}.plpr_19{padding-left:19px;padding-right:19px}.pt_20{padding-top:20px}.pr_20{padding-right:20px}.pb_20{padding-bottom:20px}.pl_20{padding-left:20px}.ptpb_20{padding-top:20px;padding-bottom:20px}.plpr_20{padding-left:20px;padding-right:20px}.pt_21{padding-top:21px}.pr_21{padding-right:21px}.pb_21{padding-bottom:21px}.pl_21{padding-left:21px}.ptpb_21{padding-top:21px;padding-bottom:21px}.plpr_21{padding-left:21px;padding-right:21px}.pt_22{padding-top:22px}.pr_22{padding-right:22px}.pb_22{padding-bottom:22px}.pl_22{padding-left:22px}.ptpb_22{padding-top:22px;padding-bottom:22px}.plpr_22{padding-left:22px;padding-right:22px}.pt_23{padding-top:23px}.pr_23{padding-right:23px}.pb_23{padding-bottom:23px}.pl_23{padding-left:23px}.ptpb_23{padding-top:23px;padding-bottom:23px}.plpr_23{padding-left:23px;padding-right:23px}.pt_24{padding-top:24px}.pr_24{padding-right:24px}.pb_24{padding-bottom:24px}.pl_24{padding-left:24px}.ptpb_24{padding-top:24px;padding-bottom:24px}.plpr_24{padding-left:24px;padding-right:24px}.pt_25{padding-top:25px}.pr_25{padding-right:25px}.pb_25{padding-bottom:25px}.pl_25{padding-left:25px}.ptpb_25{padding-top:25px;padding-bottom:25px}.plpr_25{padding-left:25px;padding-right:25px}.pt_26{padding-top:26px}.pr_26{padding-right:26px}.pb_26{padding-bottom:26px}.pl_26{padding-left:26px}.ptpb_26{padding-top:26px;padding-bottom:26px}.plpr_26{padding-left:26px;padding-right:26px}.pt_27{padding-top:27px}.pr_27{padding-right:27px}.pb_27{padding-bottom:27px}.pl_27{padding-left:27px}.ptpb_27{padding-top:27px;padding-bottom:27px}.plpr_27{padding-left:27px;padding-right:27px}.pt_28{padding-top:28px}.pr_28{padding-right:28px}.pb_28{padding-bottom:28px}.pl_28{padding-left:28px}.ptpb_28{padding-top:28px;padding-bottom:28px}.plpr_28{padding-left:28px;padding-right:28px}.pt_29{padding-top:29px}.pr_29{padding-right:29px}.pb_29{padding-bottom:29px}.pl_29{padding-left:29px}.ptpb_29{padding-top:29px;padding-bottom:29px}.plpr_29{padding-left:29px;padding-right:29px}.pt_30{padding-top:30px}.pr_30{padding-right:30px}.pb_30{padding-bottom:30px}.pl_30{padding-left:30px}.ptpb_30{padding-top:30px;padding-bottom:30px}.plpr_30{padding-left:30px;padding-right:30px}.pt_35{padding-top:35px}.pr_35{padding-right:35px}.pb_35{padding-bottom:35px}.pl_35{padding-left:35px}.ptpb_35{padding-top:35px;padding-bottom:35px}.plpr_35{padding-left:35px;padding-right:35px}.pt_40{padding-top:40px}.pr_40{padding-right:40px}.pb_40{padding-bottom:40px}.pl_40{padding-left:40px}.ptpb_40{padding-top:40px;padding-bottom:40px}.plpr_40{padding-left:40px;padding-right:40px}.pt_45{padding-top:45px}.pr_45{padding-right:45px}.pb_45{padding-bottom:45px}.pl_45{padding-left:45px}.ptpb_45{padding-top:45px;padding-bottom:45px}.plpr_45{padding-left:45px;padding-right:45px}.pt_50{padding-top:50px}.pr_50{padding-right:50px}.pb_50{padding-bottom:50px}.pl_50{padding-left:50px}.ptpb_50{padding-top:50px;padding-bottom:50px}.plpr_50{padding-left:50px;padding-right:50px}.pt_55{padding-top:55px}.pr_55{padding-right:55px}.pb_55{padding-bottom:55px}.pl_55{padding-left:55px}.ptpb_55{padding-top:55px;padding-bottom:55px}.plpr_55{padding-left:55px;padding-right:55px}.pt_60{padding-top:60px}.pr_60{padding-right:60px}.pb_60{padding-bottom:60px}.pl_60{padding-left:60px}.ptpb_60{padding-top:60px;padding-bottom:60px}.plpr_60{padding-left:60px;padding-right:60px}.b_n{border:none}.b_1s{border:1px solid}.bt_1s{border-top:1px solid}.br_1s{border-right:1px solid}.bb_1s{border-bottom:1px solid}.bl_1s{border-left:1px solid}.b_2s{border:2px solid}.bt_2s{border-top:2px solid}.br_2s{border-right:2px solid}.bb_2s{border-bottom:2px solid}.bl_2s{border-left:2px solid}.b_3s{border:3px solid}.bt_3s{border-top:3px solid}.br_3s{border-right:3px solid}.bb_3s{border-bottom:3px solid}.bl_3s{border-left:3px solid}.b_1d{border:1px dashed}.bt_1d{border-top:1px dashed}.br_1d{border-right:1px dashed}.bb_1d{border-bottom:1px dashed}.bl_1d{border-left:1px dashed}.b_2d{border:2px dashed}.bt_2d{border-top:2px dashed}.br_2d{border-right:2px dashed}.bb_2d{border-bottom:2px dashed}.bl_2d{border-left:2px dashed}.b_3d{border:3px dashed}.bt_3d{border-top:3px dashed}.br_3d{border-right:3px dashed}.bb_3d{border-bottom:3px dashed}.bl_3d{border-left:3px dashed}.br_50z{border-radius:50%}.br_100z{border-radius:100%}.br_999{border-radius:999px}.br_0{border-radius:0px}.br_1{border-radius:1px}.br_2{border-radius:2px}.br_3{border-radius:3px}.br_4{border-radius:4px}.br_5{border-radius:5px}.br_6{border-radius:6px}.br_7{border-radius:7px}.br_8{border-radius:8px}.br_9{border-radius:9px}.br_10{border-radius:10px}.br_11{border-radius:11px}.br_12{border-radius:12px}.br_13{border-radius:13px}.br_14{border-radius:14px}.br_15{border-radius:15px}.br_16{border-radius:16px}.br_17{border-radius:17px}.br_18{border-radius:18px}.br_19{border-radius:19px}.br_20{border-radius:20px}.br_25{border-radius:25px}.br_30{border-radius:30px}.br_35{border-radius:35px}.br_40{border-radius:40px}.br_45{border-radius:45px}.br_50{border-radius:50px}.br_55{border-radius:55px}.br_60{border-radius:60px}.bc_t{border-color:rgba(0,0,0,0)}.bc_000{border-color:#000}.bc_111{border-color:#111}.bc_222{border-color:#222}.bc_333{border-color:#333}.bc_444{border-color:#444}.bc_555{border-color:#555}.bc_666{border-color:#666}.bc_777{border-color:#777}.bc_888{border-color:#888}.bc_999{border-color:#999}.bc_aaa{border-color:#aaa}.bc_bbb{border-color:#bbb}.bc_ccc{border-color:#ccc}.bc_ddd{border-color:#ddd}.bc_eee{border-color:#eee}.bc_fff{border-color:#fff}.bc_primary{border-color:#e2a1e6}.bc_red{border-color:#fb7878}.bc_green{border-color:#4ddc8a}.bc_blue{border-color:#4cb3ff}.bc_search{border-color:#454545}.c_t{color:rgba(0,0,0,0)}.c_000{color:#000}.c_111{color:#111}.c_222{color:#222}.c_333{color:#333}.c_444{color:#444}.c_555{color:#555}.c_666{color:#666}.c_777{color:#777}.c_888{color:#888}.c_999{color:#999}.c_aaa{color:#aaa}.c_bbb{color:#bbb}.c_ccc{color:#ccc}.c_ddd{color:#ddd}.c_eee{color:#eee}.c_fff{color:#fff}.c_primary{color:#e2a1e6}.c_red{color:#fb7878}.c_green{color:#4ddc8a}.c_blue{color:#4cb3ff}.c_error{color:#e12b2b}.b_t{background:rgba(0,0,0,0)}.b_000{background:#000}.b_111{background:#111}.b_222{background:#222}.b_333{background:#333}.b_444{background:#444}.b_555{background:#555}.b_666{background:#666}.b_777{background:#777}.b_888{background:#888}.b_999{background:#999}.b_aaa{background:#aaa}.b_bbb{background:#bbb}.b_ccc{background:#ccc}.b_ddd{background:#ddd}.b_eee{background:#eee}.b_fff{background:#fff}.b_primary{background:#e2a1e6}.b_red{background:#fb7878}.b_green{background:#4ddc8a}.b_blue{background:#4cb3ff}.b_body{background:#f4f4f4}.fs_8{font-size:8px}.fs_9{font-size:9px}.fs_10{font-size:10px}.fs_11{font-size:11px}.fs_12{font-size:12px}.fs_13{font-size:13px}.fs_14{font-size:14px}.fs_15{font-size:15px}.fs_16{font-size:16px}.fs_17{font-size:17px}.fs_18{font-size:18px}.fs_19{font-size:19px}.fs_20{font-size:20px}.fs_21{font-size:21px}.fs_22{font-size:22px}.fs_23{font-size:23px}.fs_24{font-size:24px}.fs_25{font-size:25px}.fs_26{font-size:26px}.fs_27{font-size:27px}.fs_28{font-size:28px}.fs_29{font-size:29px}.fs_30{font-size:30px}.fw_n{font-weight:normal}.fw_b{font-weight:bold}.fw_l{font-weight:lighter}.fw_100{font-weight:100}.fw_200{font-weight:200}.fw_300{font-weight:300}.fw_400{font-weight:400}.fw_500{font-weight:500}.fw_600{font-weight:600}.fw_700{font-weight:700}.fw_800{font-weight:800}.fw_900{font-weight:900}.fs_n{font-style:normal}.fs_i{font-style:italic}.w_a{width:auto}.w_fc{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.w_minc{width:-webkit-min-content;width:-moz-min-content;width:min-content}.w_maxc{width:-webkit-max-content;width:-moz-max-content;width:max-content}.w_5z{width:5%}.w_5vw{width:5vw}.w_10z{width:10%}.w_10vw{width:10vw}.w_15z{width:15%}.w_15vw{width:15vw}.w_20z{width:20%}.w_20vw{width:20vw}.w_25z{width:25%}.w_25vw{width:25vw}.w_30z{width:30%}.w_30vw{width:30vw}.w_35z{width:35%}.w_35vw{width:35vw}.w_40z{width:40%}.w_40vw{width:40vw}.w_45z{width:45%}.w_45vw{width:45vw}.w_50z{width:50%}.w_50vw{width:50vw}.w_55z{width:55%}.w_55vw{width:55vw}.w_60z{width:60%}.w_60vw{width:60vw}.w_65z{width:65%}.w_65vw{width:65vw}.w_70z{width:70%}.w_70vw{width:70vw}.w_75z{width:75%}.w_75vw{width:75vw}.w_80z{width:80%}.w_80vw{width:80vw}.w_85z{width:85%}.w_85vw{width:85vw}.w_90z{width:90%}.w_90vw{width:90vw}.w_95z{width:95%}.w_95vw{width:95vw}.w_100z{width:100%}.w_100vw{width:100vw}.w_0{width:0px}.w_1{width:1px}.w_2{width:2px}.w_3{width:3px}.w_4{width:4px}.w_5{width:5px}.w_6{width:6px}.w_7{width:7px}.w_8{width:8px}.w_9{width:9px}.w_10{width:10px}.w_11{width:11px}.w_12{width:12px}.w_13{width:13px}.w_14{width:14px}.w_15{width:15px}.w_16{width:16px}.w_17{width:17px}.w_18{width:18px}.w_19{width:19px}.w_20{width:20px}.w_21{width:21px}.w_22{width:22px}.w_23{width:23px}.w_24{width:24px}.w_25{width:25px}.w_26{width:26px}.w_27{width:27px}.w_28{width:28px}.w_29{width:29px}.w_30{width:30px}.w_35{width:35px}.w_40{width:40px}.w_45{width:45px}.w_50{width:50px}.w_55{width:55px}.w_60{width:60px}.w_65{width:65px}.w_70{width:70px}.w_75{width:75px}.w_80{width:80px}.w_85{width:85px}.w_90{width:90px}.w_95{width:95px}.w_100{width:100px}.w_110{width:110px}.w_120{width:120px}.w_130{width:130px}.w_140{width:140px}.w_150{width:150px}.w_160{width:160px}.w_170{width:170px}.w_180{width:180px}.w_190{width:190px}.w_200{width:200px}.w_210{width:210px}.w_220{width:220px}.w_230{width:230px}.w_240{width:240px}.w_250{width:250px}.w_260{width:260px}.w_270{width:270px}.w_280{width:280px}.w_290{width:290px}.w_300{width:300px}.h_a{height:auto}.h_fc{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.h_minc{height:-webkit-min-content;height:-moz-min-content;height:min-content}.h_maxc{height:-webkit-max-content;height:-moz-max-content;height:max-content}.h_5z{height:5%}.h_5vh{height:5vh}.h_10z{height:10%}.h_10vh{height:10vh}.h_15z{height:15%}.h_15vh{height:15vh}.h_20z{height:20%}.h_20vh{height:20vh}.h_25z{height:25%}.h_25vh{height:25vh}.h_30z{height:30%}.h_30vh{height:30vh}.h_35z{height:35%}.h_35vh{height:35vh}.h_40z{height:40%}.h_40vh{height:40vh}.h_45z{height:45%}.h_45vh{height:45vh}.h_50z{height:50%}.h_50vh{height:50vh}.h_55z{height:55%}.h_55vh{height:55vh}.h_60z{height:60%}.h_60vh{height:60vh}.h_65z{height:65%}.h_65vh{height:65vh}.h_70z{height:70%}.h_70vh{height:70vh}.h_75z{height:75%}.h_75vh{height:75vh}.h_80z{height:80%}.h_80vh{height:80vh}.h_85z{height:85%}.h_85vh{height:85vh}.h_90z{height:90%}.h_90vh{height:90vh}.h_95z{height:95%}.h_95vh{height:95vh}.h_100z{height:100%}.h_100vh{height:100vh}.h_0{height:0px}.h_1{height:1px}.h_2{height:2px}.h_3{height:3px}.h_4{height:4px}.h_5{height:5px}.h_6{height:6px}.h_7{height:7px}.h_8{height:8px}.h_9{height:9px}.h_10{height:10px}.h_11{height:11px}.h_12{height:12px}.h_13{height:13px}.h_14{height:14px}.h_15{height:15px}.h_16{height:16px}.h_17{height:17px}.h_18{height:18px}.h_19{height:19px}.h_20{height:20px}.h_21{height:21px}.h_22{height:22px}.h_23{height:23px}.h_24{height:24px}.h_25{height:25px}.h_26{height:26px}.h_27{height:27px}.h_28{height:28px}.h_29{height:29px}.h_30{height:30px}.h_35{height:35px}.h_40{height:40px}.h_45{height:45px}.h_50{height:50px}.h_55{height:55px}.h_60{height:60px}.h_65{height:65px}.h_70{height:70px}.h_75{height:75px}.h_80{height:80px}.h_85{height:85px}.h_90{height:90px}.h_95{height:95px}.h_100{height:100px}.h_110{height:110px}.h_120{height:120px}.h_130{height:130px}.h_140{height:140px}.h_150{height:150px}.h_160{height:160px}.h_170{height:170px}.h_180{height:180px}.h_190{height:190px}.h_200{height:200px}.h_210{height:210px}.h_220{height:220px}.h_230{height:230px}.h_240{height:240px}.h_250{height:250px}.h_260{height:260px}.h_270{height:270px}.h_280{height:280px}.h_290{height:290px}.h_300{height:300px}.lh_n{line-height:normal}.lh_10z{line-height:10%}.lh_10vh{line-height:10vh}.lh_20z{line-height:20%}.lh_20vh{line-height:20vh}.lh_30z{line-height:30%}.lh_30vh{line-height:30vh}.lh_40z{line-height:40%}.lh_40vh{line-height:40vh}.lh_50z{line-height:50%}.lh_50vh{line-height:50vh}.lh_60z{line-height:60%}.lh_60vh{line-height:60vh}.lh_70z{line-height:70%}.lh_70vh{line-height:70vh}.lh_80z{line-height:80%}.lh_80vh{line-height:80vh}.lh_90z{line-height:90%}.lh_90vh{line-height:90vh}.lh_100z{line-height:100%}.lh_100vh{line-height:100vh}.lh_0{line-height:0px}.lh_1{line-height:1px}.lh_2{line-height:2px}.lh_3{line-height:3px}.lh_4{line-height:4px}.lh_5{line-height:5px}.lh_6{line-height:6px}.lh_7{line-height:7px}.lh_8{line-height:8px}.lh_9{line-height:9px}.lh_10{line-height:10px}.lh_11{line-height:11px}.lh_12{line-height:12px}.lh_13{line-height:13px}.lh_14{line-height:14px}.lh_15{line-height:15px}.lh_16{line-height:16px}.lh_17{line-height:17px}.lh_18{line-height:18px}.lh_19{line-height:19px}.lh_20{line-height:20px}.lh_21{line-height:21px}.lh_22{line-height:22px}.lh_23{line-height:23px}.lh_24{line-height:24px}.lh_25{line-height:25px}.lh_26{line-height:26px}.lh_27{line-height:27px}.lh_28{line-height:28px}.lh_29{line-height:29px}.lh_30{line-height:30px}.lh_35{line-height:35px}.lh_40{line-height:40px}.lh_45{line-height:45px}.lh_50{line-height:50px}.lh_55{line-height:55px}.lh_60{line-height:60px}.lh_65{line-height:65px}.lh_70{line-height:70px}.lh_75{line-height:75px}.lh_80{line-height:80px}.lh_85{line-height:85px}.lh_90{line-height:90px}.lh_95{line-height:95px}.lh_100{line-height:100px}.lh_110{line-height:110px}.lh_120{line-height:120px}.lh_130{line-height:130px}.lh_140{line-height:140px}.lh_150{line-height:150px}.lh_160{line-height:160px}.lh_170{line-height:170px}.lh_180{line-height:180px}.lh_190{line-height:190px}.lh_200{line-height:200px}.lh_210{line-height:210px}.lh_220{line-height:220px}.lh_230{line-height:230px}.lh_240{line-height:240px}.lh_250{line-height:250px}.lh_260{line-height:260px}.lh_270{line-height:270px}.lh_280{line-height:280px}.lh_290{line-height:290px}.lh_300{line-height:300px}.d_i{display:inline}.d_b{display:block}.d_n{display:none}.p_a{position:absolute}.p_r{position:relative}.p_sti{position:-webkit-sticky;position:sticky}.p_sta{position:static}.p_f{position:fixed}.t_0{top:0px}.r_0{right:0px}.b_0{bottom:0px}.l_0{left:0px}.t_1{top:1px}.r_1{right:1px}.b_1{bottom:1px}.l_1{left:1px}.t_2{top:2px}.r_2{right:2px}.b_2{bottom:2px}.l_2{left:2px}.t_3{top:3px}.r_3{right:3px}.b_3{bottom:3px}.l_3{left:3px}.t_4{top:4px}.r_4{right:4px}.b_4{bottom:4px}.l_4{left:4px}.t_5{top:5px}.r_5{right:5px}.b_5{bottom:5px}.l_5{left:5px}.t_6{top:6px}.r_6{right:6px}.b_6{bottom:6px}.l_6{left:6px}.t_7{top:7px}.r_7{right:7px}.b_7{bottom:7px}.l_7{left:7px}.t_8{top:8px}.r_8{right:8px}.b_8{bottom:8px}.l_8{left:8px}.t_9{top:9px}.r_9{right:9px}.b_9{bottom:9px}.l_9{left:9px}.t_10{top:10px}.r_10{right:10px}.b_10{bottom:10px}.l_10{left:10px}.t_11{top:11px}.r_11{right:11px}.b_11{bottom:11px}.l_11{left:11px}.t_12{top:12px}.r_12{right:12px}.b_12{bottom:12px}.l_12{left:12px}.t_13{top:13px}.r_13{right:13px}.b_13{bottom:13px}.l_13{left:13px}.t_14{top:14px}.r_14{right:14px}.b_14{bottom:14px}.l_14{left:14px}.t_15{top:15px}.r_15{right:15px}.b_15{bottom:15px}.l_15{left:15px}.t_16{top:16px}.r_16{right:16px}.b_16{bottom:16px}.l_16{left:16px}.t_17{top:17px}.r_17{right:17px}.b_17{bottom:17px}.l_17{left:17px}.t_18{top:18px}.r_18{right:18px}.b_18{bottom:18px}.l_18{left:18px}.t_19{top:19px}.r_19{right:19px}.b_19{bottom:19px}.l_19{left:19px}.t_20{top:20px}.r_20{right:20px}.b_20{bottom:20px}.l_20{left:20px}.t_21{top:21px}.r_21{right:21px}.b_21{bottom:21px}.l_21{left:21px}.t_22{top:22px}.r_22{right:22px}.b_22{bottom:22px}.l_22{left:22px}.t_23{top:23px}.r_23{right:23px}.b_23{bottom:23px}.l_23{left:23px}.t_24{top:24px}.r_24{right:24px}.b_24{bottom:24px}.l_24{left:24px}.t_25{top:25px}.r_25{right:25px}.b_25{bottom:25px}.l_25{left:25px}.t_26{top:26px}.r_26{right:26px}.b_26{bottom:26px}.l_26{left:26px}.t_27{top:27px}.r_27{right:27px}.b_27{bottom:27px}.l_27{left:27px}.t_28{top:28px}.r_28{right:28px}.b_28{bottom:28px}.l_28{left:28px}.t_29{top:29px}.r_29{right:29px}.b_29{bottom:29px}.l_29{left:29px}.t_30{top:30px}.r_30{right:30px}.b_30{bottom:30px}.l_30{left:30px}.t_35{top:35px}.r_35{right:35px}.b_35{bottom:35px}.l_35{left:35px}.t_40{top:40px}.r_40{right:40px}.b_40{bottom:40px}.l_40{left:40px}.t_45{top:45px}.r_45{right:45px}.b_45{bottom:45px}.l_45{left:45px}.t_50{top:50px}.r_50{right:50px}.b_50{bottom:50px}.l_50{left:50px}.t_55{top:55px}.r_55{right:55px}.b_55{bottom:55px}.l_55{left:55px}.t_60{top:60px}.r_60{right:60px}.b_60{bottom:60px}.l_60{left:60px}.o_0{opacity:0}.o_1{opacity:1}.o_01{opacity:.1}.o_02{opacity:.2}.o_03{opacity:.3}.o_04{opacity:.4}.o_05{opacity:.5}.o_06{opacity:.6}.o_07{opacity:.7}.o_08{opacity:.8}.o_09{opacity:.9}.ta_l{text-align:left}.ta_c{text-align:center}.ta_r{text-align:right}.ta_s{text-align:start}.ta_e{text-align:end}.f_n{float:none}.f_l{float:left}.f_r{float:right}.va_t{vertical-align:top}.va_m{vertical-align:middle}.va_b{vertical-align:bottom}.o_h{overflow:hidden}.o_a{overflow:auto}.o_v{overflow:visible}.ox_h{overflow-x:hidden}.oy_h{overflow-y:hidden}.ox_s{overflow-x:scroll}.oy_s{overflow-y:scroll}.zi_a{z-index:auto}.zi_0{z-index:0}.zi_1{z-index:1}.zi_2{z-index:2}.zi_3{z-index:3}.zi_4{z-index:4}.zi_5{z-index:5}.zi_6{z-index:6}.zi_7{z-index:7}.zi_8{z-index:8}.zi_9{z-index:9}.zi_10{z-index:10}.ws_n{white-space:nowrap}.to_e{text-overflow:ellipsis}.to_c{text-overflow:clip}.ww_bw{word-wrap:break-word}.wb_ba{word-break:break-all}.v_h{visibility:hidden}.c_b{clear:both}.c_p{cursor:pointer}.c_a{cursor:auto}.v_h{visibility:hidden}.us_n{user-select:none}",""]),e.exports=t},6381:(e,t,n)=>{var i=n(3645),r=n(1667),o=n(7047);t=i(!1);var a=r(o);t.push([e.id,".fv__ui-progress-layer{position:absolute;left:0;right:0;top:0;bottom:0;box-shadow:none;background:rgba(255,255,255,.6);z-index:99}.fv__ui-progress-layer .fv__ui-progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);color:#923094;font-size:16px;font-weight:bold}.fv__ui-progress-layer .fv__ui-progress-icon{background-image:url("+a+");background-repeat:no-repeat;background-size:50px;width:50px;height:50px;position:absolute;top:calc(50% - 40px);left:50%;transform:translate(-50%, -50%)}",""]),e.exports=t},7410:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__pdf-page-rendering>.fv__ui-layer-backdrop{background-color:#fff;opacity:0}",""]),e.exports=t},3138:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-single-view-mode .fv__pdf-doc-container{position:relative}.fv__viewer-single-view-mode .fv__pdf-view-mode-item{position:relative;--facing-margin: 0}",""]),e.exports=t},8049:(e,t,n)=>{(t=n(3645)(!1)).push([e.id,".fv__viewer-selections-area{position:fixed;display:block;padding:0;margin:0;z-index:50}",""]),e.exports=t},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,A=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),"/*# ".concat(s," */")),o=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([r]).join("\n")}var a,A,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var A=0;A<e.length;A++){var s=[].concat(e[A]);i&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},5461:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=(new Date).getTimezoneOffset(),c=Date.prototype;function u(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s))}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-u(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+u(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&A(t.prototype,n),i&&A(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments)}})),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(new Date(this.$d.getTime()+u(this.$timezoneOffset)),arguments)}})),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach((function(e){l.prototype[e]=function(){var t=new Date(this.$d.getTime()+u(this.$timezoneOffset));c[e].apply(t,arguments),t.setTime(t.getTime()-u(this.$timezoneOffset)),this.$d=t}})),["toString","toTimeString"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}}));var d=l,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach((function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}})),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-s)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===s},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?s:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7484:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",A="day",s="week",c="month",u="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,a=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:s,d:A,D:d,h:a,m:o,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=g;var w="$isDayjsObject",k=function(e){return e instanceof D||!(!e||!e[w])},x=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(r=o),n&&(b[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var A=t.name;b[A]=t,r=A}return!i&&r&&(y=r),r||!i&&y},_=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},P=m;P.l=x,P.i=k,P.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return _(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<_(e)},v.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!P.u(t)||t,u=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(A)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(u){case l:return i?h(1,0):h(31,11);case c:return i?h(1,g):h(0,g+1);case s:var y=this.$locale().weekStart||0,b=(p<y?p+7:p)-y;return h(i?v-b:v+(6-b),g);case A:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,s=P.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[A]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[l]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[s],f=s===A?this.$D+(t-this.$W):t;if(s===c||s===l){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[P.p(e)]()},v.add=function(i,u){var d,h=this;i=Number(i);var f=P.p(u),p=function(e){var t=_(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===l)return this.set(l,this.$y+i);if(f===A)return p(1);if(f===s)return p(7);var g=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,v=this.$d.getTime()+i*g;return P.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,A=this.$M,s=n.weekdays,c=n.months,u=n.meridiem,l=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return A+1;case"MM":return P.s(A+1,2,"0");case"MMM":return l(n.monthsShort,A,c,3);case"MMMM":return l(c,A);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return l(n.weekdaysMin,t.$W,s,2);case"ddd":return l(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,d,h){var f,p=this,g=P.p(d),v=_(i),m=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=function(){return P.m(p,v)};switch(g){case l:f=b()/12;break;case c:f=b();break;case u:f=b()/3;break;case s:f=(y-m)/6048e5;break;case A:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=x(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),C=D.prototype;return _.prototype=C,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",A],["$M",c],["$y",l],["$D",d]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,D,_),e.$i=!0),_},_.locale=x,_.isDayjs=k,_.unix=function(e){return _(1e3*e)},_.en=b[y],_.Ls=b,_.p={},_}()},7211:(e,t,n)=>{var i;!function(){var r=window.CustomEvent;function o(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function a(e){e&&e.blur&&e!==document.body&&e.blur()}function A(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function s(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,14)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}r&&"object"!=typeof r||((r=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}a(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new r("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var u={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(e){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&A(a,e)){var s=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(s&&"auto"!==s||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!u.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||u.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=o(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),a(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new r("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},u.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,void 0===window.HTMLDialogElement){var l=document.createElement("form");if(l.setAttribute("method","dialog"),"dialog"!==l.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var h=d.get;d.get=function(){return s(this)?"dialog":h.call(this)};var f=d.set;d.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(e){if(u.formSubmitter=null,u.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&s(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;u.useValue=e.offsetX+","+e.offsetY}o(t)&&(u.formSubmitter=t)}}}),!1);var p=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!s(this))return p.call(this);var e=o(this);e&&e.close()},document.addEventListener("submit",(function(e){var t=e.target;if(s(t)){e.preventDefault();var n=o(t);if(n){var i=u.formSubmitter;i&&i.form===t?n.close(u.useValue||i.value):n.close(),u.formSubmitter=null}}}),!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,"amd"in n.amdD?void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i):"object"==typeof e.exports?e.exports=u:window.dialogPolyfill=u}()},9463:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var A=new r(i,o||e,a),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],A]:e._events[s].push(A):(e._events[s]=A,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function A(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),A.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},A.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},A.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},A.prototype.emit=function(e,t,i,r,o,a){var A=n?n+e:e;if(!this._events[A])return!1;var s,c,u=this._events[A],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,r);break;default:if(!s)for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];u[c].fn.apply(u[c].context,s)}}return!0},A.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},A.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},A.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var A=this._events[o];if(A.fn)A.fn!==t||r&&!A.once||i&&A.context!==i||a(this,o);else{for(var s=0,c=[],u=A.length;s<u;s++)(A[s].fn!==t||r&&!A[s].once||i&&A[s].context!==i)&&c.push(A[s]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},A.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=n,A.EventEmitter=A,e.exports=A},7187:e=>{var t=Object.create||function(e){var t=function(){};return t.prototype=e,new t},n=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=t(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var o,a=10;try{var A={};Object.defineProperty&&Object.defineProperty(A,"x",{value:0}),o=0===A.x}catch(e){o=!1}function s(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function c(e,n,i,r){var o,a,A;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",n,i.listener?i.listener:i),a=e._events),A=a[n]):(a=e._events=t(null),e._eventsCount=0),A){if("function"==typeof A?A=a[n]=r?[i,A]:[A,i]:r?A.unshift(i):A.push(i),!A.warned&&(o=s(e))&&o>0&&A.length>o){A.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+A.length+' "'+String(n)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=A.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else A=a[n]=i,++e._eventsCount;return e}function u(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=i.call(u,r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var i=e._events;if(!i)return[];var r=i[t];return r?"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):f(r,r.length):[]}function h(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function f(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}o?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');a=e}}):r.defaultMaxListeners=a,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return s(this)},r.prototype.emit=function(e){var t,n,i,r,o,a,A="error"===e;if(a=this._events)A=A&&null==a.error;else if(!A)return!1;if(A){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var s=new Error('Unhandled "error" event. ('+t+")");throw s.context=t,s}if(!(n=a[e]))return!1;var c="function"==typeof n;switch(i=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var i=e.length,r=f(e,i),o=0;o<i;++o)r[o].call(n)}(n,c,this);break;case 2:!function(e,t,n,i){if(t)e.call(n,i);else for(var r=e.length,o=f(e,r),a=0;a<r;++a)o[a].call(n,i)}(n,c,this,arguments[1]);break;case 3:!function(e,t,n,i,r){if(t)e.call(n,i,r);else for(var o=e.length,a=f(e,o),A=0;A<o;++A)a[A].call(n,i,r)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,i,r,o){if(t)e.call(n,i,r,o);else for(var a=e.length,A=f(e,a),s=0;s<a;++s)A[s].call(n,i,r,o)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(i-1),o=1;o<i;o++)r[o-1]=arguments[o];!function(e,t,n,i){if(t)e.apply(n,i);else for(var r=e.length,o=f(e,r),a=0;a<r;++a)o[a].apply(n,i)}(n,c,this,r)}return!0},r.prototype.addListener=function(e,t){return c(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return c(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,l(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,l(this,e,t)),this},r.prototype.removeListener=function(e,n){var i,r,o,a,A;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(i=r[e]))return this;if(i===n||i.listener===n)0==--this._eventsCount?this._events=t(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||n));else if("function"!=typeof i){for(o=-1,a=i.length-1;a>=0;a--)if(i[a]===n||i[a].listener===n){A=i[a].listener,o=a;break}if(o<0)return this;0===o?i.shift():function(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}(i,o),1===i.length&&(r[e]=i[0]),r.removeListener&&this.emit("removeListener",e,A||n)}return this},r.prototype.removeAllListeners=function(e){var i,r,o;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=t(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=t(null):delete r[e]),this;if(0===arguments.length){var a,A=n(r);for(o=0;o<A.length;++o)"removeListener"!==(a=A[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=t(null),this._eventsCount=0,this}if("function"==typeof(i=r[e]))this.removeListener(e,i);else if(i)for(o=i.length-1;o>=0;o--)this.removeListener(e,i[o]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},r.prototype.listenerCount=h,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},3162:function(e,t,n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function i(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){s(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,A=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!A?function(e,t,n){var A=a.URL||a.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?o(s):r(s.href)?i(e,t,n):o(s,s.target="_blank")):(s.href=A.createObjectURL(e),setTimeout((function(){A.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))i(e,n,a);else{var A=document.createElement("a");A.href=e,A.target="_blank",setTimeout((function(){o(A)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return i(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&s||A)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var l=a.URL||a.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?i.apply(t,r):i)||(e.exports=o)},4953:function(e){
/* flatpickr v4.6.9, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,A=o.length;a<A;a++,r++)i[r]=o[a];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},a=function(e){return!0===e?1:0};function A(e,t){var n;return function(){var i=this;clearTimeout(n),n=setTimeout((function(){return e.apply(i,arguments)}),t)}}var s=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){return t(e)?e:e.parentNode?d(e.parentNode,t):void 0}function h(e,t){var n=u("div","numInputWrapper"),i=u("input","numInput "+e),r=u("span","arrowUp"),o=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}function f(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var p=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:p,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*a(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:p,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:p,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},m={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return g(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return o(y.h(e,t,n))},H:function(e){return o(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[a(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return o(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return o(e.getFullYear(),4)},d:function(e){return o(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return o(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var t=e.config,n=void 0===t?i:t,o=e.l10n,a=void 0===o?r:o,A=e.isMobile,s=void 0!==A&&A;return function(e,t,i){var r=i||a;return void 0===n.formatDate||s?t.split("").map((function(t,i,o){return y[t]&&"\\"!==o[i-1]?y[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},w=function(e){var t=e.config,n=void 0===t?i:t,o=e.l10n,a=void 0===o?r:o;return function(e,t,r,o){if(0===e||e){var A,s=o||a,c=e;if(e instanceof Date)A=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)A=new Date(e);else if("string"==typeof e){var u=t||(n||i).dateFormat,l=String(e).trim();if("today"===l)A=new Date,r=!0;else if(/Z$/.test(l)||/GMT$/.test(l))A=new Date(e);else if(n&&n.parseDate)A=n.parseDate(e,u);else{A=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,h=[],f=0,p=0,g="";f<u.length;f++){var y=u[f],b="\\"===y,w="\\"===u[f-1]||b;if(m[y]&&!w){g+=m[y];var k=new RegExp(g).exec(e);k&&(d=!0)&&h["Y"!==y?"push":"unshift"]({fn:v[y],val:k[++p]})}else b||(g+=".");h.forEach((function(e){var t=e.fn,n=e.val;return A=t(A,n,s)||A}))}A=d?A:void 0}}if(A instanceof Date&&!isNaN(A.getTime()))return!0===r&&A.setHours(0,0,0,0),A;n.errorHandler(new Error("Invalid date provided: "+c))}}};function k(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var x=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},_={DAY:864e5};function P(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var r=e.minDate.getHours(),o=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<r&&(t=r),t===r&&n<o&&(n=o),t===r&&n===o&&i<a&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var A=e.maxDate.getHours(),s=e.maxDate.getMinutes();(t=Math.min(t,A))===A&&(n=Math.min(s,n)),t===A&&n===s&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,o=t;r<o.length;r++)i(o[r]);return e});var D=300;function C(p,v){var y={config:e(e({},i),I.defaultConfig),l10n:r};function C(){y.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=y.currentMonth),void 0===t&&(t=y.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:y.l10n.daysInMonth[e]}}}function S(){y.element=y.input=p,y.isOpen=!1,ke(),_e(),Oe(),Ne(),C(),y.isMobile||Y(),U(),(y.selectedDates.length||y.config.noCalendar)&&(y.config.enableTime&&N(y.config.noCalendar?y.latestSelectedDateObj:void 0),Ge(!1)),R();var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!y.isMobile&&e&&Pe(),Ve("onReady")}function E(e){return e.bind(y)}function R(){var e=y.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==y.calendarContainer&&(y.calendarContainer.style.visibility="hidden",y.calendarContainer.style.display="block"),void 0!==y.daysContainer){var t=(y.days.offsetWidth+1)*e.showMonths;y.daysContainer.style.width=t+"px",y.calendarContainer.style.width=t+(void 0!==y.weekWrapper?y.weekWrapper.offsetWidth:0)+"px",y.calendarContainer.style.removeProperty("visibility"),y.calendarContainer.style.removeProperty("display")}}))}function T(e){if(0===y.selectedDates.length){var t=void 0===y.config.minDate||k(new Date,y.config.minDate)>=0?new Date:new Date(y.config.minDate.getTime()),n=P(y.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),y.selectedDates=[t],y.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&Ke(e);var i=y._input.value;L(),Ge(),y._input.value!==i&&y._debouncedChange()}function M(e,t){return e%12+12*a(t===y.l10n.amPM[1])}function F(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function L(){if(void 0!==y.hourElement&&void 0!==y.minuteElement){var e=(parseInt(y.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(y.minuteElement.value,10)||0)%60,n=void 0!==y.secondElement?(parseInt(y.secondElement.value,10)||0)%60:0;void 0!==y.amPM&&(e=M(e,y.amPM.textContent));var i=void 0!==y.config.minTime||y.config.minDate&&y.minDateHasTime&&y.latestSelectedDateObj&&0===k(y.latestSelectedDateObj,y.config.minDate,!0);if(void 0!==y.config.maxTime||y.config.maxDate&&y.maxDateHasTime&&y.latestSelectedDateObj&&0===k(y.latestSelectedDateObj,y.config.maxDate,!0)){var r=void 0!==y.config.maxTime?y.config.maxTime:y.config.maxDate;(e=Math.min(e,r.getHours()))===r.getHours()&&(t=Math.min(t,r.getMinutes())),t===r.getMinutes()&&(n=Math.min(n,r.getSeconds()))}if(i){var o=void 0!==y.config.minTime?y.config.minTime:y.config.minDate;(e=Math.max(e,o.getHours()))===o.getHours()&&t<o.getMinutes()&&(t=o.getMinutes()),t===o.getMinutes()&&(n=Math.max(n,o.getSeconds()))}O(e,t,n)}}function N(e){var t=e||y.latestSelectedDateObj;t&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function O(e,t,n){void 0!==y.latestSelectedDateObj&&y.latestSelectedDateObj.setHours(e%24,t,n||0,0),y.hourElement&&y.minuteElement&&!y.isMobile&&(y.hourElement.value=o(y.config.time_24hr?e:(12+e)%12+12*a(e%12==0)),y.minuteElement.value=o(t),void 0!==y.amPM&&(y.amPM.textContent=y.l10n.amPM[a(e>=12)]),void 0!==y.secondElement&&(y.secondElement.value=o(n)))}function B(e){var t=f(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&he(n)}function j(e,t,n,i){return t instanceof Array?t.forEach((function(t){return j(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return j(e,t,n,i)})):(e.addEventListener(t,n,i),void y._handlers.push({remove:function(){return e.removeEventListener(t,n)}}))}function V(){Ve("onChange")}function U(){if(y.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(y.element.querySelectorAll("[data-"+e+"]"),(function(t){return j(t,"click",y[e])}))})),y.isMobile)Be();else{var e=A(ye,50);if(y._debouncedChange=A(V,D),y.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&j(y.daysContainer,"mouseover",(function(e){"range"===y.config.mode&&me(f(e))})),j(window.document.body,"keydown",ve),y.config.inline||y.config.static||j(window,"resize",e),void 0!==window.ontouchstart?j(window.document,"touchstart",de):j(window.document,"mousedown",de),j(window.document,"focus",de,{capture:!0}),!0===y.config.clickOpens&&(j(y._input,"focus",y.open),j(y._input,"click",y.open)),void 0!==y.daysContainer&&(j(y.monthNav,"click",$e),j(y.monthNav,["keyup","increment"],B),j(y.daysContainer,"click",Ee)),void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement){var t=function(e){return f(e).select()};j(y.timeContainer,["increment"],T),j(y.timeContainer,"blur",T,{capture:!0}),j(y.timeContainer,"click",z),j([y.hourElement,y.minuteElement],["focus","click"],t),void 0!==y.secondElement&&j(y.secondElement,"focus",(function(){return y.secondElement&&y.secondElement.select()})),void 0!==y.amPM&&j(y.amPM,"click",(function(e){T(e),V()}))}y.config.allowInput&&j(y._input,"blur",ge)}}function H(e,t){var n=void 0!==e?y.parseDate(e):y.latestSelectedDateObj||(y.config.minDate&&y.config.minDate>y.now?y.config.minDate:y.config.maxDate&&y.config.maxDate<y.now?y.config.maxDate:y.now),i=y.currentYear,r=y.currentMonth;try{void 0!==n&&(y.currentYear=n.getFullYear(),y.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,y.config.errorHandler(e)}t&&y.currentYear!==i&&(Ve("onYearChange"),Z()),!t||y.currentYear===i&&y.currentMonth===r||Ve("onMonthChange"),y.redraw()}function z(e){var t=f(e);~t.className.indexOf("arrow")&&W(e,t.classList.contains("arrowUp")?1:-1)}function W(e,t,n){var i=e&&f(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,o=Ue("increment");o.delta=t,r&&r.dispatchEvent(o)}function Y(){var e=window.document.createDocumentFragment();if(y.calendarContainer=u("div","flatpickr-calendar"),y.calendarContainer.tabIndex=-1,!y.config.noCalendar){if(e.appendChild(ne()),y.innerContainer=u("div","flatpickr-innerContainer"),y.config.weekNumbers){var t=ae(),n=t.weekWrapper,i=t.weekNumbers;y.innerContainer.appendChild(n),y.weekNumbers=i,y.weekWrapper=n}y.rContainer=u("div","flatpickr-rContainer"),y.rContainer.appendChild(re()),y.daysContainer||(y.daysContainer=u("div","flatpickr-days"),y.daysContainer.tabIndex=-1),Q(),y.rContainer.appendChild(y.daysContainer),y.innerContainer.appendChild(y.rContainer),e.appendChild(y.innerContainer)}y.config.enableTime&&e.appendChild(ie()),c(y.calendarContainer,"rangeMode","range"===y.config.mode),c(y.calendarContainer,"animate",!0===y.config.animate),c(y.calendarContainer,"multiMonth",y.config.showMonths>1),y.calendarContainer.appendChild(e);var r=void 0!==y.config.appendTo&&void 0!==y.config.appendTo.nodeType;if((y.config.inline||y.config.static)&&(y.calendarContainer.classList.add(y.config.inline?"inline":"static"),y.config.inline&&(!r&&y.element.parentNode?y.element.parentNode.insertBefore(y.calendarContainer,y._input.nextSibling):void 0!==y.config.appendTo&&y.config.appendTo.appendChild(y.calendarContainer)),y.config.static)){var o=u("div","flatpickr-wrapper");y.element.parentNode&&y.element.parentNode.insertBefore(o,y.element),o.appendChild(y.element),y.altInput&&o.appendChild(y.altInput),o.appendChild(y.calendarContainer)}y.config.static||y.config.inline||(void 0!==y.config.appendTo?y.config.appendTo:window.document.body).appendChild(y.calendarContainer)}function G(e,t,n,i){var r=fe(t,!0),o=u("span","flatpickr-day "+e,t.getDate().toString());return o.dateObj=t,o.$i=i,o.setAttribute("aria-label",y.formatDate(t,y.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===k(t,y.now)&&(y.todayDateElem=o,o.classList.add("today"),o.setAttribute("aria-current","date")),r?(o.tabIndex=-1,He(t)&&(o.classList.add("selected"),y.selectedDateElem=o,"range"===y.config.mode&&(c(o,"startRange",y.selectedDates[0]&&0===k(t,y.selectedDates[0],!0)),c(o,"endRange",y.selectedDates[1]&&0===k(t,y.selectedDates[1],!0)),"nextMonthDay"===e&&o.classList.add("inRange")))):o.classList.add("flatpickr-disabled"),"range"===y.config.mode&&ze(t)&&!He(t)&&o.classList.add("inRange"),y.weekNumbers&&1===y.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&y.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+y.config.getWeek(t)+"</span>"),Ve("onDayCreate",o),o}function $(e){e.focus(),"range"===y.config.mode&&me(e)}function K(e){for(var t=e>0?0:y.config.showMonths-1,n=e>0?y.config.showMonths:-1,i=t;i!=n;i+=e)for(var r=y.daysContainer.children[i],o=e>0?0:r.children.length-1,a=e>0?r.children.length:-1,A=o;A!=a;A+=e){var s=r.children[A];if(-1===s.className.indexOf("hidden")&&fe(s.dateObj))return s}}function q(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():y.currentMonth,i=t>0?y.config.showMonths:-1,r=t>0?1:-1,o=n-y.currentMonth;o!=i;o+=r)for(var a=y.daysContainer.children[o],A=n-y.currentMonth===o?e.$i+t:t<0?a.children.length-1:0,s=a.children.length,c=A;c>=0&&c<s&&c!=(t>0?s:-1);c+=r){var u=a.children[c];if(-1===u.className.indexOf("hidden")&&fe(u.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return $(u)}y.changeMonth(r),J(K(r),0)}function J(e,t){var n=pe(document.activeElement||document.body),i=void 0!==e?e:n?document.activeElement:void 0!==y.selectedDateElem&&pe(y.selectedDateElem)?y.selectedDateElem:void 0!==y.todayDateElem&&pe(y.todayDateElem)?y.todayDateElem:K(t>0?1:-1);void 0===i?y._input.focus():n?q(i,t):$(i)}function X(e,t){for(var n=(new Date(e,t,1).getDay()-y.l10n.firstDayOfWeek+7)%7,i=y.utils.getDaysInMonth((t-1+12)%12,e),r=y.utils.getDaysInMonth(t,e),o=window.document.createDocumentFragment(),a=y.config.showMonths>1,A=a?"prevMonthDay hidden":"prevMonthDay",s=a?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,l=0;c<=i;c++,l++)o.appendChild(G(A,new Date(e,t-1,c),c,l));for(c=1;c<=r;c++,l++)o.appendChild(G("",new Date(e,t,c),c,l));for(var d=r+1;d<=42-n&&(1===y.config.showMonths||l%7!=0);d++,l++)o.appendChild(G(s,new Date(e,t+1,d%r),d,l));var h=u("div","dayContainer");return h.appendChild(o),h}function Q(){if(void 0!==y.daysContainer){l(y.daysContainer),y.weekNumbers&&l(y.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<y.config.showMonths;t++){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),e.appendChild(X(n.getFullYear(),n.getMonth()))}y.daysContainer.appendChild(e),y.days=y.daysContainer.firstChild,"range"===y.config.mode&&1===y.selectedDates.length&&me()}}function Z(){if(!(y.config.showMonths>1||"dropdown"!==y.config.monthSelectorType)){var e=function(e){return!(void 0!==y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&e<y.config.minDate.getMonth()||void 0!==y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()&&e>y.config.maxDate.getMonth())};y.monthsDropdownContainer.tabIndex=-1,y.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=u("option","flatpickr-monthDropdown-month");n.value=new Date(y.currentYear,t).getMonth().toString(),n.textContent=g(t,y.config.shorthandCurrentMonth,y.l10n),n.tabIndex=-1,y.currentMonth===t&&(n.selected=!0),y.monthsDropdownContainer.appendChild(n)}}}function ee(){var e,t=u("div","flatpickr-month"),n=window.document.createDocumentFragment();y.config.showMonths>1||"static"===y.config.monthSelectorType?e=u("span","cur-month"):(y.monthsDropdownContainer=u("select","flatpickr-monthDropdown-months"),y.monthsDropdownContainer.setAttribute("aria-label",y.l10n.monthAriaLabel),j(y.monthsDropdownContainer,"change",(function(e){var t=f(e),n=parseInt(t.value,10);y.changeMonth(n-y.currentMonth),Ve("onMonthChange")})),Z(),e=y.monthsDropdownContainer);var i=h("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",y.l10n.yearAriaLabel),y.config.minDate&&r.setAttribute("min",y.config.minDate.getFullYear().toString()),y.config.maxDate&&(r.setAttribute("max",y.config.maxDate.getFullYear().toString()),r.disabled=!!y.config.minDate&&y.config.minDate.getFullYear()===y.config.maxDate.getFullYear());var o=u("div","flatpickr-current-month");return o.appendChild(e),o.appendChild(i),n.appendChild(o),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function te(){l(y.monthNav),y.monthNav.appendChild(y.prevMonthNav),y.config.showMonths&&(y.yearElements=[],y.monthElements=[]);for(var e=y.config.showMonths;e--;){var t=ee();y.yearElements.push(t.yearElement),y.monthElements.push(t.monthElement),y.monthNav.appendChild(t.container)}y.monthNav.appendChild(y.nextMonthNav)}function ne(){return y.monthNav=u("div","flatpickr-months"),y.yearElements=[],y.monthElements=[],y.prevMonthNav=u("span","flatpickr-prev-month"),y.prevMonthNav.innerHTML=y.config.prevArrow,y.nextMonthNav=u("span","flatpickr-next-month"),y.nextMonthNav.innerHTML=y.config.nextArrow,te(),Object.defineProperty(y,"_hidePrevMonthArrow",{get:function(){return y.__hidePrevMonthArrow},set:function(e){y.__hidePrevMonthArrow!==e&&(c(y.prevMonthNav,"flatpickr-disabled",e),y.__hidePrevMonthArrow=e)}}),Object.defineProperty(y,"_hideNextMonthArrow",{get:function(){return y.__hideNextMonthArrow},set:function(e){y.__hideNextMonthArrow!==e&&(c(y.nextMonthNav,"flatpickr-disabled",e),y.__hideNextMonthArrow=e)}}),y.currentYearElement=y.yearElements[0],We(),y.monthNav}function ie(){y.calendarContainer.classList.add("hasTime"),y.config.noCalendar&&y.calendarContainer.classList.add("noCalendar");var e=P(y.config);y.timeContainer=u("div","flatpickr-time"),y.timeContainer.tabIndex=-1;var t=u("span","flatpickr-time-separator",":"),n=h("flatpickr-hour",{"aria-label":y.l10n.hourAriaLabel});y.hourElement=n.getElementsByTagName("input")[0];var i=h("flatpickr-minute",{"aria-label":y.l10n.minuteAriaLabel});if(y.minuteElement=i.getElementsByTagName("input")[0],y.hourElement.tabIndex=y.minuteElement.tabIndex=-1,y.hourElement.value=o(y.latestSelectedDateObj?y.latestSelectedDateObj.getHours():y.config.time_24hr?e.hours:F(e.hours)),y.minuteElement.value=o(y.latestSelectedDateObj?y.latestSelectedDateObj.getMinutes():e.minutes),y.hourElement.setAttribute("step",y.config.hourIncrement.toString()),y.minuteElement.setAttribute("step",y.config.minuteIncrement.toString()),y.hourElement.setAttribute("min",y.config.time_24hr?"0":"1"),y.hourElement.setAttribute("max",y.config.time_24hr?"23":"12"),y.hourElement.setAttribute("maxlength","2"),y.minuteElement.setAttribute("min","0"),y.minuteElement.setAttribute("max","59"),y.minuteElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(n),y.timeContainer.appendChild(t),y.timeContainer.appendChild(i),y.config.time_24hr&&y.timeContainer.classList.add("time24hr"),y.config.enableSeconds){y.timeContainer.classList.add("hasSeconds");var r=h("flatpickr-second");y.secondElement=r.getElementsByTagName("input")[0],y.secondElement.value=o(y.latestSelectedDateObj?y.latestSelectedDateObj.getSeconds():e.seconds),y.secondElement.setAttribute("step",y.minuteElement.getAttribute("step")),y.secondElement.setAttribute("min","0"),y.secondElement.setAttribute("max","59"),y.secondElement.setAttribute("maxlength","2"),y.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),y.timeContainer.appendChild(r)}return y.config.time_24hr||(y.amPM=u("span","flatpickr-am-pm",y.l10n.amPM[a((y.latestSelectedDateObj?y.hourElement.value:y.config.defaultHour)>11)]),y.amPM.title=y.l10n.toggleTitle,y.amPM.tabIndex=-1,y.timeContainer.appendChild(y.amPM)),y.timeContainer}function re(){y.weekdayContainer?l(y.weekdayContainer):y.weekdayContainer=u("div","flatpickr-weekdays");for(var e=y.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");y.weekdayContainer.appendChild(t)}return oe(),y.weekdayContainer}function oe(){if(y.weekdayContainer){var e=y.l10n.firstDayOfWeek,n=t(y.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=y.config.showMonths;i--;)y.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function ae(){y.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",y.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}function Ae(e,t){void 0===t&&(t=!0);var n=t?e:e-y.currentMonth;n<0&&!0===y._hidePrevMonthArrow||n>0&&!0===y._hideNextMonthArrow||(y.currentMonth+=n,(y.currentMonth<0||y.currentMonth>11)&&(y.currentYear+=y.currentMonth>11?1:-1,y.currentMonth=(y.currentMonth+12)%12,Ve("onYearChange"),Z()),Q(),Ve("onMonthChange"),We())}function se(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),y.input.value="",void 0!==y.altInput&&(y.altInput.value=""),void 0!==y.mobileInput&&(y.mobileInput.value=""),y.selectedDates=[],y.latestSelectedDateObj=void 0,!0===t&&(y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth()),!0===y.config.enableTime){var n=P(y.config);O(n.hours,n.minutes,n.seconds)}y.redraw(),e&&Ve("onChange")}function ce(){y.isOpen=!1,y.isMobile||(void 0!==y.calendarContainer&&y.calendarContainer.classList.remove("open"),void 0!==y._input&&y._input.classList.remove("active")),Ve("onClose")}function ue(){void 0!==y.config&&Ve("onDestroy");for(var e=y._handlers.length;e--;)y._handlers[e].remove();if(y._handlers=[],y.mobileInput)y.mobileInput.parentNode&&y.mobileInput.parentNode.removeChild(y.mobileInput),y.mobileInput=void 0;else if(y.calendarContainer&&y.calendarContainer.parentNode)if(y.config.static&&y.calendarContainer.parentNode){var t=y.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else y.calendarContainer.parentNode.removeChild(y.calendarContainer);y.altInput&&(y.input.type="text",y.altInput.parentNode&&y.altInput.parentNode.removeChild(y.altInput),delete y.altInput),y.input&&(y.input.type=y.input._type,y.input.classList.remove("flatpickr-input"),y.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete y[e]}catch(e){}}))}function le(e){return!(!y.config.appendTo||!y.config.appendTo.contains(e))||y.calendarContainer.contains(e)}function de(e){if(y.isOpen&&!y.config.inline){var t=f(e),n=le(t),i=t===y.input||t===y.altInput||y.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(y.input)||~e.path.indexOf(y.altInput)),r="blur"===e.type?i&&e.relatedTarget&&!le(e.relatedTarget):!i&&!n&&!le(e.relatedTarget),o=!y.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&o&&(void 0!==y.timeContainer&&void 0!==y.minuteElement&&void 0!==y.hourElement&&""!==y.input.value&&void 0!==y.input.value&&T(),y.close(),y.config&&"range"===y.config.mode&&1===y.selectedDates.length&&(y.clear(!1),y.redraw()))}}function he(e){if(!(!e||y.config.minDate&&e<y.config.minDate.getFullYear()||y.config.maxDate&&e>y.config.maxDate.getFullYear())){var t=e,n=y.currentYear!==t;y.currentYear=t||y.currentYear,y.config.maxDate&&y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth=Math.min(y.config.maxDate.getMonth(),y.currentMonth):y.config.minDate&&y.currentYear===y.config.minDate.getFullYear()&&(y.currentMonth=Math.max(y.config.minDate.getMonth(),y.currentMonth)),n&&(y.redraw(),Ve("onYearChange"),Z())}}function fe(e,t){var n;void 0===t&&(t=!0);var i=y.parseDate(e,void 0,t);if(y.config.minDate&&i&&k(i,y.config.minDate,void 0!==t?t:!y.minDateHasTime)<0||y.config.maxDate&&i&&k(i,y.config.maxDate,void 0!==t?t:!y.maxDateHasTime)>0)return!1;if(!y.config.enable&&0===y.config.disable.length)return!0;if(void 0===i)return!1;for(var r=!!y.config.enable,o=null!==(n=y.config.enable)&&void 0!==n?n:y.config.disable,a=0,A=void 0;a<o.length;a++){if("function"==typeof(A=o[a])&&A(i))return r;if(A instanceof Date&&void 0!==i&&A.getTime()===i.getTime())return r;if("string"==typeof A){var s=y.parseDate(A,void 0,!0);return s&&s.getTime()===i.getTime()?r:!r}if("object"==typeof A&&void 0!==i&&A.from&&A.to&&i.getTime()>=A.from.getTime()&&i.getTime()<=A.to.getTime())return r}return!r}function pe(e){return void 0!==y.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&y.daysContainer.contains(e)}function ge(e){e.target!==y._input||!(y.selectedDates.length>0||y._input.value.length>0)||e.relatedTarget&&le(e.relatedTarget)||y.setDate(y._input.value,!0,e.target===y.altInput?y.config.altFormat:y.config.dateFormat)}function ve(e){var t=f(e),n=y.config.wrap?p.contains(t):t===y._input,i=y.config.allowInput,r=y.isOpen&&(!i||!n),o=y.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return y.setDate(y._input.value,!0,t===y.altInput?y.config.altFormat:y.config.dateFormat),t.blur();y.open()}else if(le(t)||r||o){var a=!!y.timeContainer&&y.timeContainer.contains(t);switch(e.keyCode){case 13:a?(e.preventDefault(),T(),Ie()):Ee(e);break;case 27:e.preventDefault(),Ie();break;case 8:case 46:n&&!y.config.allowInput&&(e.preventDefault(),y.clear());break;case 37:case 39:if(a||n)y.hourElement&&y.hourElement.focus();else if(e.preventDefault(),void 0!==y.daysContainer&&(!1===i||document.activeElement&&pe(document.activeElement))){var A=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Ae(A),J(K(1),0)):J(void 0,A)}break;case 38:case 40:e.preventDefault();var s=40===e.keyCode?1:-1;y.daysContainer&&void 0!==t.$i||t===y.input||t===y.altInput?e.ctrlKey?(e.stopPropagation(),he(y.currentYear-s),J(K(1),0)):a||J(void 0,7*s):t===y.currentYearElement?he(y.currentYear-s):y.config.enableTime&&(!a&&y.hourElement&&y.hourElement.focus(),T(e),y._debouncedChange());break;case 9:if(a){var c=[y.hourElement,y.minuteElement,y.secondElement,y.amPM].concat(y.pluginElements).filter((function(e){return e})),u=c.indexOf(t);if(-1!==u){var l=c[u+(e.shiftKey?-1:1)];e.preventDefault(),(l||y._input).focus()}}else!y.config.noCalendar&&y.daysContainer&&y.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),y._input.focus())}}if(void 0!==y.amPM&&t===y.amPM)switch(e.key){case y.l10n.amPM[0].charAt(0):case y.l10n.amPM[0].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[0],L(),Ge();break;case y.l10n.amPM[1].charAt(0):case y.l10n.amPM[1].charAt(0).toLowerCase():y.amPM.textContent=y.l10n.amPM[1],L(),Ge()}(n||le(t))&&Ve("onKeyDown",e)}function me(e){if(1===y.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():y.days.firstElementChild.dateObj.getTime(),n=y.parseDate(y.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,y.selectedDates[0].getTime()),r=Math.max(t,y.selectedDates[0].getTime()),o=!1,a=0,A=0,s=i;s<r;s+=_.DAY)fe(new Date(s),!0)||(o=o||s>i&&s<r,s<n&&(!a||s>a)?a=s:s>n&&(!A||s<A)&&(A=s));for(var c=0;c<y.config.showMonths;c++)for(var u=y.daysContainer.children[c],l=function(i,r){var s=u.children[i],c=s.dateObj.getTime(),l=a>0&&c<a||A>0&&c>A;return l?(s.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){s.classList.remove(e)})),"continue"):o&&!l?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){s.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=y.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&c===n?s.classList.add("startRange"):n>t&&c===n&&s.classList.add("endRange"),c>=a&&(0===A||c<=A)&&x(c,n,t)&&s.classList.add("inRange"))))},d=0,h=u.children.length;d<h;d++)l(d,h)}}function ye(){!y.isOpen||y.config.static||y.config.inline||Pe()}function be(e,t){if(void 0===t&&(t=y._positionElement),!0===y.isMobile){if(e){e.preventDefault();var n=f(e);n&&n.blur()}return void 0!==y.mobileInput&&(y.mobileInput.focus(),y.mobileInput.click()),void Ve("onOpen")}if(!y._input.disabled&&!y.config.inline){var i=y.isOpen;y.isOpen=!0,i||(y.calendarContainer.classList.add("open"),y._input.classList.add("active"),Ve("onOpen"),Pe(t)),!0===y.config.enableTime&&!0===y.config.noCalendar&&(!1!==y.config.allowInput||void 0!==e&&y.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return y.hourElement.select()}),50))}}function we(e){return function(t){var n=y.config["_"+e+"Date"]=y.parseDate(t,y.config.dateFormat),i=y.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(y["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),y.selectedDates&&(y.selectedDates=y.selectedDates.filter((function(e){return fe(e)})),y.selectedDates.length||"min"!==e||N(n),Ge()),y.daysContainer&&(Se(),void 0!==n?y.currentYearElement[e]=n.getFullYear().toString():y.currentYearElement.removeAttribute(e),y.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function ke(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(p.dataset||{}))),v),o={};y.config.parseDate=r.parseDate,y.config.formatDate=r.formatDate,Object.defineProperty(y.config,"enable",{get:function(){return y.config._enable},set:function(e){y.config._enable=Le(e)}}),Object.defineProperty(y.config,"disable",{get:function(){return y.config._disable},set:function(e){y.config._disable=Le(e)}});var a="time"===r.mode;if(!r.dateFormat&&(r.enableTime||a)){var A=I.defaultConfig.dateFormat||i.dateFormat;o.dateFormat=r.noCalendar||a?"H:i"+(r.enableSeconds?":S":""):A+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||a)&&!r.altFormat){var c=I.defaultConfig.altFormat||i.altFormat;o.altFormat=r.noCalendar||a?"h:i"+(r.enableSeconds?":S K":" K"):c+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(y.config,"minDate",{get:function(){return y.config._minDate},set:we("min")}),Object.defineProperty(y.config,"maxDate",{get:function(){return y.config._maxDate},set:we("max")});var u=function(e){return function(t){y.config["min"===e?"_minTime":"_maxTime"]=y.parseDate(t,"H:i:S")}};Object.defineProperty(y.config,"minTime",{get:function(){return y.config._minTime},set:u("min")}),Object.defineProperty(y.config,"maxTime",{get:function(){return y.config._maxTime},set:u("max")}),"time"===r.mode&&(y.config.noCalendar=!0,y.config.enableTime=!0),Object.assign(y.config,o,r);for(var l=0;l<t.length;l++)y.config[t[l]]=!0===y.config[t[l]]||"true"===y.config[t[l]];for(n.filter((function(e){return void 0!==y.config[e]})).forEach((function(e){y.config[e]=s(y.config[e]||[]).map(E)})),y.isMobile=!y.config.disableMobile&&!y.config.inline&&"single"===y.config.mode&&!y.config.disable.length&&!y.config.enable&&!y.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=0;l<y.config.plugins.length;l++){var d=y.config.plugins[l](y)||{};for(var h in d)n.indexOf(h)>-1?y.config[h]=s(d[h]).map(E).concat(y.config[h]):void 0===r[h]&&(y.config[h]=d[h])}r.altInputClass||(y.config.altInputClass=xe().className+" "+y.config.altInputClass),Ve("onParseConfig")}function xe(){return y.config.wrap?p.querySelector("[data-input]"):p}function _e(){"object"!=typeof y.config.locale&&void 0===I.l10ns[y.config.locale]&&y.config.errorHandler(new Error("flatpickr: invalid locale "+y.config.locale)),y.l10n=e(e({},I.l10ns.default),"object"==typeof y.config.locale?y.config.locale:"default"!==y.config.locale?I.l10ns[y.config.locale]:void 0),m.K="("+y.l10n.amPM[0]+"|"+y.l10n.amPM[1]+"|"+y.l10n.amPM[0].toLowerCase()+"|"+y.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(p.dataset||{}))).time_24hr&&void 0===I.defaultConfig.time_24hr&&(y.config.time_24hr=y.l10n.time_24hr),y.formatDate=b(y),y.parseDate=w({config:y.config,l10n:y.l10n})}function Pe(e){if("function"!=typeof y.config.position){if(void 0!==y.calendarContainer){Ve("onPreCalendarPosition");var t=e||y._positionElement,n=Array.prototype.reduce.call(y.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=y.calendarContainer.offsetWidth,r=y.config.position.split(" "),o=r[0],a=r.length>1?r[1]:null,A=t.getBoundingClientRect(),s=window.innerHeight-A.bottom,u="above"===o||"below"!==o&&s<n&&A.top>n,l=window.pageYOffset+A.top+(u?-n-2:t.offsetHeight+2);if(c(y.calendarContainer,"arrowTop",!u),c(y.calendarContainer,"arrowBottom",u),!y.config.inline){var d=window.pageXOffset+A.left,h=!1,f=!1;"center"===a?(d-=(i-A.width)/2,h=!0):"right"===a&&(d-=i-A.width,f=!0),c(y.calendarContainer,"arrowLeft",!h&&!f),c(y.calendarContainer,"arrowCenter",h),c(y.calendarContainer,"arrowRight",f);var p=window.document.body.offsetWidth-(window.pageXOffset+A.right),g=d+i>window.document.body.offsetWidth,v=p+i>window.document.body.offsetWidth;if(c(y.calendarContainer,"rightMost",g),!y.config.static)if(y.calendarContainer.style.top=l+"px",g)if(v){var m=De();if(void 0===m)return;var b=window.document.body.offsetWidth,w=Math.max(0,b/2-i/2),k=".flatpickr-calendar.centerMost:before",x=".flatpickr-calendar.centerMost:after",_=m.cssRules.length,P="{left:"+A.left+"px;right:auto;}";c(y.calendarContainer,"rightMost",!1),c(y.calendarContainer,"centerMost",!0),m.insertRule(k+","+x+P,_),y.calendarContainer.style.left=w+"px",y.calendarContainer.style.right="auto"}else y.calendarContainer.style.left="auto",y.calendarContainer.style.right=p+"px";else y.calendarContainer.style.left=d+"px",y.calendarContainer.style.right="auto"}}}else y.config.position(y,e)}function De(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:Ce()}function Ce(){var e=document.createElement("style");return document.head.appendChild(e),e.sheet}function Se(){y.config.noCalendar||y.isMobile||(Z(),We(),Q())}function Ie(){y._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(y.close,0):y.close()}function Ee(e){e.preventDefault(),e.stopPropagation();var t=function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")},n=d(f(e),t);if(void 0!==n){var i=n,r=y.latestSelectedDateObj=new Date(i.dateObj.getTime()),o=(r.getMonth()<y.currentMonth||r.getMonth()>y.currentMonth+y.config.showMonths-1)&&"range"!==y.config.mode;if(y.selectedDateElem=i,"single"===y.config.mode)y.selectedDates=[r];else if("multiple"===y.config.mode){var a=He(r);a?y.selectedDates.splice(parseInt(a),1):y.selectedDates.push(r)}else"range"===y.config.mode&&(2===y.selectedDates.length&&y.clear(!1,!1),y.latestSelectedDateObj=r,y.selectedDates.push(r),0!==k(r,y.selectedDates[0],!0)&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(L(),o){var A=y.currentYear!==r.getFullYear();y.currentYear=r.getFullYear(),y.currentMonth=r.getMonth(),A&&(Ve("onYearChange"),Z()),Ve("onMonthChange")}if(We(),Q(),Ge(),o||"range"===y.config.mode||1!==y.config.showMonths?void 0!==y.selectedDateElem&&void 0===y.hourElement&&y.selectedDateElem&&y.selectedDateElem.focus():$(i),void 0!==y.hourElement&&void 0!==y.hourElement&&y.hourElement.focus(),y.config.closeOnSelect){var s="single"===y.config.mode&&!y.config.enableTime,c="range"===y.config.mode&&2===y.selectedDates.length&&!y.config.enableTime;(s||c)&&Ie()}V()}}y.parseDate=w({config:y.config,l10n:y.l10n}),y._handlers=[],y.pluginElements=[],y.loadedPlugins=[],y._bind=j,y._setHoursFromDate=N,y._positionCalendar=Pe,y.changeMonth=Ae,y.changeYear=he,y.clear=se,y.close=ce,y._createElement=u,y.destroy=ue,y.isEnabled=fe,y.jumpToDate=H,y.open=be,y.redraw=Se,y.set=Te,y.setDate=Fe,y.toggle=je;var Re={locale:[_e,oe],showMonths:[te,R,re],minDate:[H],maxDate:[H],clickOpens:[function(){!0===y.config.clickOpens?(j(y._input,"focus",y.open),j(y._input,"click",y.open)):(y._input.removeEventListener("focus",y.open),y._input.removeEventListener("click",y.open))}]};function Te(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(y.config,e),e)void 0!==Re[i]&&Re[i].forEach((function(e){return e()}));else y.config[e]=t,void 0!==Re[e]?Re[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(y.config[e]=s(t));y.redraw(),Ge(!0)}function Me(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return y.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[y.parseDate(e,t)];else if("string"==typeof e)switch(y.config.mode){case"single":case"time":n=[y.parseDate(e,t)];break;case"multiple":n=e.split(y.config.conjunction).map((function(e){return y.parseDate(e,t)}));break;case"range":n=e.split(y.l10n.rangeSeparator).map((function(e){return y.parseDate(e,t)}))}else y.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));y.selectedDates=y.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&fe(e,!1)})),"range"===y.config.mode&&y.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function Fe(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=y.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return y.clear(t);Me(e,n),y.latestSelectedDateObj=y.selectedDates[y.selectedDates.length-1],y.redraw(),H(void 0,t),N(),0===y.selectedDates.length&&y.clear(!1),Ge(t),t&&Ve("onChange")}function Le(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?y.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:y.parseDate(e.from,void 0),to:y.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function Ne(){y.selectedDates=[],y.now=y.parseDate(y.config.now)||new Date;var e=y.config.defaultDate||("INPUT"!==y.input.nodeName&&"TEXTAREA"!==y.input.nodeName||!y.input.placeholder||y.input.value!==y.input.placeholder?y.input.value:null);e&&Me(e,y.config.dateFormat),y._initialDate=y.selectedDates.length>0?y.selectedDates[0]:y.config.minDate&&y.config.minDate.getTime()>y.now.getTime()?y.config.minDate:y.config.maxDate&&y.config.maxDate.getTime()<y.now.getTime()?y.config.maxDate:y.now,y.currentYear=y._initialDate.getFullYear(),y.currentMonth=y._initialDate.getMonth(),y.selectedDates.length>0&&(y.latestSelectedDateObj=y.selectedDates[0]),void 0!==y.config.minTime&&(y.config.minTime=y.parseDate(y.config.minTime,"H:i")),void 0!==y.config.maxTime&&(y.config.maxTime=y.parseDate(y.config.maxTime,"H:i")),y.minDateHasTime=!!y.config.minDate&&(y.config.minDate.getHours()>0||y.config.minDate.getMinutes()>0||y.config.minDate.getSeconds()>0),y.maxDateHasTime=!!y.config.maxDate&&(y.config.maxDate.getHours()>0||y.config.maxDate.getMinutes()>0||y.config.maxDate.getSeconds()>0)}function Oe(){y.input=xe(),y.input?(y.input._type=y.input.type,y.input.type="text",y.input.classList.add("flatpickr-input"),y._input=y.input,y.config.altInput&&(y.altInput=u(y.input.nodeName,y.config.altInputClass),y._input=y.altInput,y.altInput.placeholder=y.input.placeholder,y.altInput.disabled=y.input.disabled,y.altInput.required=y.input.required,y.altInput.tabIndex=y.input.tabIndex,y.altInput.type="text",y.input.setAttribute("type","hidden"),!y.config.static&&y.input.parentNode&&y.input.parentNode.insertBefore(y.altInput,y.input.nextSibling)),y.config.allowInput||y._input.setAttribute("readonly","readonly"),y._positionElement=y.config.positionElement||y._input):y.config.errorHandler(new Error("Invalid input element specified"))}function Be(){var e=y.config.enableTime?y.config.noCalendar?"time":"datetime-local":"date";y.mobileInput=u("input",y.input.className+" flatpickr-mobile"),y.mobileInput.tabIndex=1,y.mobileInput.type=e,y.mobileInput.disabled=y.input.disabled,y.mobileInput.required=y.input.required,y.mobileInput.placeholder=y.input.placeholder,y.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",y.selectedDates.length>0&&(y.mobileInput.defaultValue=y.mobileInput.value=y.formatDate(y.selectedDates[0],y.mobileFormatStr)),y.config.minDate&&(y.mobileInput.min=y.formatDate(y.config.minDate,"Y-m-d")),y.config.maxDate&&(y.mobileInput.max=y.formatDate(y.config.maxDate,"Y-m-d")),y.input.getAttribute("step")&&(y.mobileInput.step=String(y.input.getAttribute("step"))),y.input.type="hidden",void 0!==y.altInput&&(y.altInput.type="hidden");try{y.input.parentNode&&y.input.parentNode.insertBefore(y.mobileInput,y.input.nextSibling)}catch(e){}j(y.mobileInput,"change",(function(e){y.setDate(f(e).value,!1,y.mobileFormatStr),Ve("onChange"),Ve("onClose")}))}function je(e){if(!0===y.isOpen)return y.close();y.open(e)}function Ve(e,t){if(void 0!==y.config){var n=y.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](y.selectedDates,y.input.value,y,t);"onChange"===e&&(y.input.dispatchEvent(Ue("change")),y.input.dispatchEvent(Ue("input")))}}function Ue(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function He(e){for(var t=0;t<y.selectedDates.length;t++)if(0===k(y.selectedDates[t],e))return""+t;return!1}function ze(e){return!("range"!==y.config.mode||y.selectedDates.length<2)&&k(e,y.selectedDates[0])>=0&&k(e,y.selectedDates[1])<=0}function We(){y.config.noCalendar||y.isMobile||!y.monthNav||(y.yearElements.forEach((function(e,t){var n=new Date(y.currentYear,y.currentMonth,1);n.setMonth(y.currentMonth+t),y.config.showMonths>1||"static"===y.config.monthSelectorType?y.monthElements[t].textContent=g(n.getMonth(),y.config.shorthandCurrentMonth,y.l10n)+" ":y.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),y._hidePrevMonthArrow=void 0!==y.config.minDate&&(y.currentYear===y.config.minDate.getFullYear()?y.currentMonth<=y.config.minDate.getMonth():y.currentYear<y.config.minDate.getFullYear()),y._hideNextMonthArrow=void 0!==y.config.maxDate&&(y.currentYear===y.config.maxDate.getFullYear()?y.currentMonth+1>y.config.maxDate.getMonth():y.currentYear>y.config.maxDate.getFullYear()))}function Ye(e){return y.selectedDates.map((function(t){return y.formatDate(t,e)})).filter((function(e,t,n){return"range"!==y.config.mode||y.config.enableTime||n.indexOf(e)===t})).join("range"!==y.config.mode?y.config.conjunction:y.l10n.rangeSeparator)}function Ge(e){void 0===e&&(e=!0),void 0!==y.mobileInput&&y.mobileFormatStr&&(y.mobileInput.value=void 0!==y.latestSelectedDateObj?y.formatDate(y.latestSelectedDateObj,y.mobileFormatStr):""),y.input.value=Ye(y.config.dateFormat),void 0!==y.altInput&&(y.altInput.value=Ye(y.config.altFormat)),!1!==e&&Ve("onValueUpdate")}function $e(e){var t=f(e),n=y.prevMonthNav.contains(t),i=y.nextMonthNav.contains(t);n||i?Ae(n?-1:1):y.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?y.changeYear(y.currentYear+1):t.classList.contains("arrowDown")&&y.changeYear(y.currentYear-1)}function Ke(e){e.preventDefault();var t="keydown"===e.type,n=f(e),i=n;void 0!==y.amPM&&n===y.amPM&&(y.amPM.textContent=y.l10n.amPM[a(y.amPM.textContent===y.l10n.amPM[0])]);var r=parseFloat(i.getAttribute("min")),A=parseFloat(i.getAttribute("max")),s=parseFloat(i.getAttribute("step")),c=parseInt(i.value,10),u=c+s*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var l=i===y.hourElement,d=i===y.minuteElement;u<r?(u=A+u+a(!l)+(a(l)&&a(!y.amPM)),d&&W(void 0,-1,y.hourElement)):u>A&&(u=i===y.hourElement?u-A-a(!y.amPM):r,d&&W(void 0,1,y.hourElement)),y.amPM&&l&&(1===s?u+c===23:Math.abs(u-c)>s)&&(y.amPM.textContent=y.l10n.amPM[a(y.amPM.textContent===y.l10n.amPM[0])]),i.value=o(u)}}return S(),y}function S(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var o=n[r];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=C(o,t||{}),i.push(o._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return S(this,e)},HTMLElement.prototype.flatpickr=function(e){return S([this],e)});var I=function(e,t){return"string"==typeof e?S(window.document.querySelectorAll(e),t):e instanceof Node?S([e],t):S(e,t)};return I.defaultConfig={},I.l10ns={en:e({},r),default:e({},r)},I.localize=function(t){I.l10ns.default=e(e({},I.l10ns.default),t)},I.setDefaults=function(t){I.defaultConfig=e(e({},I.defaultConfig),t)},I.parseDate=w({}),I.formatDate=b({}),I.compareDates=k,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return S(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=I),I}()},2805:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};t.l10ns.de=n;var i=t.l10ns;e.German=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},969:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};t.l10ns.es=n;var i=t.l10ns;e.Spanish=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},401:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],longhand:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ordinal:function(e){return e>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Défiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};t.l10ns.fr=n;var i=t.l10ns;e.French=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9088:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return"°"},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};t.l10ns.it=n;var i=t.l10ns;e.Italian=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6741:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",monthAriaLabel:"月",amPM:["午前","午後"],yearAriaLabel:"年",hourAriaLabel:"時間",minuteAriaLabel:"分"};t.l10ns.ja=n;var i=t.l10ns;e.Japanese=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1844:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ "};t.l10ns.ko=n;var i=t.l10ns;e.Korean=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},6679:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" t/m ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(e){return 1===e||8===e||e>=20?"ste":"de"}};t.l10ns.nl=n;var i=t.l10ns;e.Dutch=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},7821:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["週日","週一","週二","週三","週四","週五","週六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"週",scrollTitle:"滾動切換",toggleTitle:"點擊切換 12/24 小時時制"};t.l10ns.zh_tw=n;var i=t.l10ns;e.MandarinTraditional=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},799:function(e,t){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["周日","周一","周二","周三","周四","周五","周六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"周",scrollTitle:"滚动切换",toggleTitle:"点击切换 12/24 小时时制"};t.l10ns.zh=n;var i=t.l10ns;e.Mandarin=n,e.default=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},840:(e,t,n)=>{var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,A){"use strict";var s,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),l="function",d=Math.round,h=Math.abs,f=Date.now;function p(e,t,n){return setTimeout(k(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==A)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}s="function"!=typeof Object.assign?function(e){if(e===A||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==A&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===A)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),b=m((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&s(i,n)}function k(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return typeof e==l?e.apply(t&&t[0]||A,t):e}function _(e,t){return e===A?t:e}function P(e,t,n){v(I(t),(function(t){e.addEventListener(t,n,!1)}))}function D(e,t,n){v(I(t),(function(t){e.removeEventListener(t,n,!1)}))}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function T(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];E(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function M(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((i=(n=c[o])?n+r:t)in e)return i;o++}return A}var F=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var N="ontouchstart"in r,O=M(r,"PointerEvent")!==A,B=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",V="mouse",U=25,H=1,z=4,W=8,Y=1,G=2,$=4,K=8,q=16,J=G|$,X=K|q,Q=J|X,Z=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&H&&i-r==0,a=t&(z|W)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=ie(t));r>1&&!n.firstMultiple?n.firstMultiple=ie(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=re(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(s,c),t.distance=Ae(s,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==H&&o.eventType!==z||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var u=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=h(u.x)>h(u.y)?u.x:u.y,t.scale=a?(l=a.pointers,d=i,Ae(d[0],d[1],ee)/Ae(l[0],l[1],ee)):1,t.rotation=a?function(e,t){return se(t[1],t[0],ee)+se(e[1],e[0],ee)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=W&&(s>U||a.velocity===A)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,l=oe(s,c,u);i=l.x,r=l.y,n=h(l.x)>h(l.y)?l.x:l.y,o=ae(c,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var l,d;var p=e.element;C(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ie(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ae(e,t){return e===t?Y:h(e)>=h(t)?e<0?G:$:t<0?K:q}function Ae(e,t,n){n||(n=Z);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function se(e,t,n){n||(n=Z);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(L(this.element),this.evWin,this.domHandler)}};var ce={mousedown:H,mousemove:2,mouseup:z},ue="mousedown",le="mousemove mouseup";function de(){this.evEl=ue,this.evWin=le,this.pressed=!1,te.apply(this,arguments)}w(de,te,{handler:function(e){var t=ce[e.type];t&H&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:V,srcEvent:e}))}});var he={pointerdown:H,pointermove:2,pointerup:z,pointercancel:W,pointerout:W},fe={2:j,3:"pen",4:V,5:"kinect"},pe="pointerdown",ge="pointermove pointerup pointercancel";function ve(){this.evEl=pe,this.evWin=ge,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(pe="MSPointerDown",ge="MSPointerMove MSPointerUp MSPointerCancel"),w(ve,te,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=he[i],o=fe[e.pointerType]||e.pointerType,a=o==j,A=E(t,e.pointerId,"pointerId");r&H&&(0===e.button||a)?A<0&&(t.push(e),A=t.length-1):r&(z|W)&&(n=!0),A<0||(t[A]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(A,1))}});var me={touchstart:H,touchmove:2,touchend:z,touchcancel:W};function ye(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function be(e,t){var n=R(e.touches),i=R(e.changedTouches);return t&(z|W)&&(n=T(n.concat(i),"identifier",!0)),[n,i]}w(ye,te,{handler:function(e){var t=me[e.type];if(t===H&&(this.started=!0),this.started){var n=be.call(this,e,t);t&(z|W)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}}});var we={touchstart:H,touchmove:2,touchend:z,touchcancel:W},ke="touchstart touchmove touchend touchcancel";function xe(){this.evTarget=ke,this.targetIds={},te.apply(this,arguments)}function _e(e,t){var n=R(e.touches),i=this.targetIds;if(t&(2|H)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=R(e.changedTouches),A=[],s=this.target;if(o=n.filter((function(e){return C(e.target,s)})),t===H)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&A.push(a[r]),t&(z|W)&&delete i[a[r].identifier],r++;return A.length?[T(o.concat(A),"identifier",!0),A]:void 0}w(xe,te,{handler:function(e){var t=we[e.type],n=_e.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}});var Pe=2500;function De(){te.apply(this,arguments);var e=k(this.handler,this);this.touch=new xe(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ce(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,Se.call(this,t)):e&(z|W)&&Se.call(this,t)}function Se(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),Pe)}}function Ie(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}w(De,te,{handler:function(e,t,n){var i=n.pointerType==j,r=n.pointerType==V;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Ce.call(this,t,n);else if(r&&Ie.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ee=M(u.style,"touchAction"),Re=Ee!==A,Te="compute",Me="auto",Fe="manipulation",Le="none",Ne="pan-x",Oe="pan-y",Be=function(){if(!Re)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function je(e,t){this.manager=e,this.set(t)}je.prototype={set:function(e){e==Te&&(e=this.compute()),Re&&this.manager.element.style&&Be[e]&&(this.manager.element.style[Ee]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(S(e,Le))return Le;var t=S(e,Ne),n=S(e,Oe);if(t&&n)return Le;if(t||n)return t?Ne:Oe;if(S(e,Fe))return Fe;return Me}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=S(i,Le)&&!Be[Le],o=S(i,Oe)&&!Be[Oe],a=S(i,Ne)&&!Be[Ne];if(r){var A=1===e.pointers.length,s=e.distance<2,c=e.deltaTime<250;if(A&&s&&c)return}if(!a||!o)return r||o&&n&J||a&&n&X?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Ve=1,Ue=32;function He(e){this.options=s({},this.defaults,e||{}),this.id=F++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Ve,this.simultaneous={},this.requireFail=[]}function ze(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function We(e){return e==q?"down":e==K?"up":e==G?"left":e==$?"right":""}function Ye(e,t){var n=t.manager;return n?n.get(e):e}function Ge(){He.apply(this,arguments)}function $e(){Ge.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){Ge.apply(this,arguments)}function qe(){He.apply(this,arguments),this._timer=null,this._input=null}function Je(){Ge.apply(this,arguments)}function Xe(){Ge.apply(this,arguments)}function Qe(){He.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ze(e,t){return(t=t||{}).recognizers=_(t.recognizers,Ze.defaults.preset),new et(e,t)}He.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=Ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=Ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Ye(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ze(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ze(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ue},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Ue|Ve)))return!1;e++}return!0},recognize:function(e){var t=s({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=Ue);56&this.state&&(this.state=Ve),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Ge,He,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(n&W||!r)?16|t:i||r?n&z?8|t:2&t?4|t:2:Ue}}),w($e,Ge,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var e=this.options.direction,t=[];return e&J&&t.push(Oe),e&X&&t.push(Ne),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&J?(r=0===o?Y:o<0?G:$,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?Y:a<0?K:q,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return Ge.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=We(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(Ke,Ge,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(qe,He,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(z|W)&&!r)this.reset();else if(e.eventType&H)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&z)return 8;return Ue},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Je,Ge,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Le]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Xe,Ge,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:J|X,pointers:1},getTouchAction:function(){return $e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(J|X)?t=e.overallVelocity:n&J?t=e.overallVelocityX:n&X&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=We(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Qe,He,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Fe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=z)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ue},failTimeout:function(){return this._timer=p((function(){this.state=Ue}),this.options.interval,this),Ue},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ze.VERSION="2.0.7",Ze.defaults={domEvents:!1,touchAction:Te,enable:!0,inputTarget:null,inputClass:null,preset:[[Je,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Xe,{direction:J}],[$e,{direction:J},["swipe"]],[Qe],[Qe,{event:"doubletap",taps:2},["tap"]],[qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function et(e,t){var n;this.options=s({},Ze.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(O?ve:B?xe:N?De:de))(n,ne),this.touchAction=new je(this,this.options.touchAction),tt(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,i=e.element;i.style&&(v(e.options.cssProps,(function(r,o){n=M(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}et.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof He)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=E(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==A&&t!==A){var n=this.handlers;return v(I(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==A){var n=this.handlers;return v(I(e),(function(e){t?n[e]&&n[e].splice(E(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Ze,{INPUT_START:H,INPUT_MOVE:2,INPUT_END:z,INPUT_CANCEL:W,STATE_POSSIBLE:Ve,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ue,DIRECTION_NONE:Y,DIRECTION_LEFT:G,DIRECTION_RIGHT:$,DIRECTION_UP:K,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:J,DIRECTION_VERTICAL:X,DIRECTION_ALL:Q,Manager:et,Input:te,TouchAction:je,TouchInput:xe,MouseInput:de,PointerEventInput:ve,TouchMouseInput:De,SingleTouchInput:ye,Recognizer:He,AttrRecognizer:Ge,Tap:Qe,Pan:$e,Swipe:Xe,Pinch:Ke,Rotate:Je,Press:qe,on:P,off:D,each:v,merge:b,extend:y,assign:s,inherit:w,bindFn:k,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ze,(i=function(){return Ze}.call(t,n,t,e))===A||(e.exports=i)}(window,document)},7337:(e,t,n)=>{var i,r,o;r=[n(9755)],void 0===(o="function"==typeof(i=function(e){"use strict";var t;e.support.htmlMenuitem="HTMLMenuItemElement"in window,e.support.htmlCommand="HTMLCommandElement"in window,e.support.eventSelectstart="onselectstart"in document.documentElement,e.ui&&e.widget||(e.cleanData=(t=e.cleanData,function(n){var i,r,o;for(o=0;null!=n[o];o++){r=n[o];try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}}t(n)}));var n=null,i=!1,r=e(window),o=0,a={},A={},s={},c={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},determinePosition:function(t){if(e.ui&&e.ui.position)t.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var n=this.offset();n.top+=this.outerHeight(),n.left+=this.outerWidth()/2-t.outerWidth()/2,t.css(n)}},position:function(e,t,n){var i;if(t||n){if("maintain"===t&&"maintain"===n)i=e.$menu.position();else{var o=e.$menu.offsetParent().offset();i={top:n-o.top,left:t-o.left}}var a=r.scrollTop()+r.height(),A=r.scrollLeft()+r.width(),s=e.$menu.outerHeight(),c=e.$menu.outerWidth();i.top+s>a&&(i.top-=s),i.top<0&&(i.top=0),i.left+c>A&&(i.left-=c),i.left<0&&(i.left=0),e.$menu.css(i)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(t){if(void 0!==t)if(e.ui&&e.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:e.noop,show:e.noop,hide:e.noop,activated:e.noop},callback:null,items:{}},u={timer:null,pageX:null,pageY:null},l=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t},d={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(t){var i=e(this);if(!1!==t.data.events.preShow(i,t)&&("right"===t.data.trigger&&(t.preventDefault(),t.stopImmediatePropagation()),!("right"!==t.data.trigger&&"demand"!==t.data.trigger&&t.originalEvent||!(void 0===t.mouseButton||!t.data||"left"===t.data.trigger&&0===t.mouseButton||"right"===t.data.trigger&&2===t.mouseButton)||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled")))){if(n=i,t.data.build){var r=t.data.build(n,t);if(!1===r)return;if(t.data=e.extend(!0,{},c,t.data,r||{}),!t.data.items||e.isEmptyObject(t.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");t.data.$trigger=n,h.create(t.data)}h.show.call(i,t.data,t.pageX,t.pageY)}},click:function(t){t.preventDefault(),t.stopImmediatePropagation(),e(this).trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))},mousedown:function(t){var i=e(this);n&&n.length&&!n.is(i)&&n.data("contextMenu").$menu.trigger("contextmenu:hide"),2===t.button&&(n=i.data("contextMenuActive",!0))},mouseup:function(t){var i=e(this);i.data("contextMenuActive")&&n&&n.length&&n.is(i)&&!i.hasClass("context-menu-disabled")&&(t.preventDefault(),t.stopImmediatePropagation(),n=i,i.trigger(e.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(t){var i=e(this),r=e(t.relatedTarget),o=e(document);r.is(".context-menu-list")||r.closest(".context-menu-list").length||n&&n.length||(u.pageX=t.pageX,u.pageY=t.pageY,u.data=t.data,o.on("mousemove.contextMenuShow",d.mousemove),u.timer=setTimeout((function(){u.timer=null,o.off("mousemove.contextMenuShow"),n=i,i.trigger(e.Event("contextmenu",{data:u.data,pageX:u.pageX,pageY:u.pageY}))}),t.data.delay))},mousemove:function(e){u.pageX=e.pageX,u.pageY=e.pageY},mouseleave:function(t){var n=e(t.relatedTarget);if(!n.is(".context-menu-list")&&!n.closest(".context-menu-list").length){try{clearTimeout(u.timer)}catch(t){}u.timer=null}},layerClick:function(t){var n,i,o=e(this).data("contextMenuRoot"),a=t.button,A=t.pageX,s=t.pageY,c=void 0===A;t.preventDefault(),setTimeout((function(){if(c)null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide");else{var u,l="left"===o.trigger&&0===a||"right"===o.trigger&&2===a;if(document.elementFromPoint&&o.$layer){if(o.$layer.hide(),null!==(n=document.elementFromPoint(A-r.scrollLeft(),s-r.scrollTop()))&&n.isContentEditable){var d=document.createRange(),h=window.getSelection();d.selectNode(n),d.collapse(!0),h.removeAllRanges(),h.addRange(d)}e(n).trigger(t),o.$layer.show()}if(o.hideOnSecondTrigger&&l&&null!==o.$menu&&void 0!==o.$menu)o.$menu.trigger("contextmenu:hide");else{if(o.reposition&&l)if(document.elementFromPoint){if(o.$trigger.is(n))return void o.position.call(o.$trigger,o,A,s)}else if(i=o.$trigger.offset(),u=e(window),i.top+=u.scrollTop(),i.top<=t.pageY&&(i.left+=u.scrollLeft(),i.left<=t.pageX&&(i.bottom=i.top+o.$trigger.outerHeight(),i.bottom>=t.pageY&&(i.right=i.left+o.$trigger.outerWidth(),i.right>=t.pageX))))return void o.position.call(o.$trigger,o,A,s);n&&l&&o.$trigger.one("contextmenu:hidden",(function(){e(n).contextMenu({x:A,y:s,button:a})})),null!=o&&null!==o.$menu&&void 0!==o.$menu&&o.$menu.trigger("contextmenu:hide")}}}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};n&&(t=n.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var i=0,r=function(e){""!==e.style.zIndex?i=e.style.zIndex:null!==e.offsetParent&&void 0!==e.offsetParent?r(e.offsetParent):null!==e.parentElement&&void 0!==e.parentElement&&r(e.parentElement)};if(r(e.target),!(t.$menu&&parseInt(i,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(d.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(d.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var o=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=o)}break;case 39:if(d.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var a=t.$selected.data("contextMenu")||{};if(a.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,a.$selected=null,void a.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(d.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void d.keyStop(e,t);case 27:return d.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var A=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[A])return void t.accesskeys[A].$node.trigger(t.accesskeys[A].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.prev().length?n.$selected.prev():o.last(),A=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.prev().length?a.prev():o.last()).is(A))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var s=a.find("input, textarea, select");s.length&&s.focus()},nextItem:function(t){t.stopPropagation();var n=e(this).data("contextMenu")||{},i=e(this).data("contextMenuRoot")||{};if(n.$selected){var r=n.$selected;(n=n.$selected.parent().data("contextMenu")||{}).$selected=r}for(var o=n.$menu.children(),a=n.$selected&&n.$selected.next().length?n.$selected.next():o.first(),A=a;a.hasClass(i.classNames.disabled)||a.hasClass(i.classNames.notSelectable)||a.is(":hidden");)if((a=a.next().length?a.next():o.first()).is(A))return;n.$selected&&d.itemMouseleave.call(n.$selected.get(0),t),d.itemMouseenter.call(a.get(0),t);var s=a.find("input, textarea, select");s.length&&s.focus()},focusInput:function(){var t=e(this).closest(".context-menu-item"),n=t.data(),i=n.contextMenu,r=n.contextMenuRoot;r.$selected=i.$selected=t,r.isInput=i.isInput=!0},blurInput:function(){var t=e(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1},menuMouseenter:function(){e(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(t){var n=e(this).data().contextMenuRoot;n.$layer&&n.$layer.is(t.relatedTarget)&&(n.hovering=!1)},itemMouseenter:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;o.hovering=!0,t&&o.$layer&&o.$layer.is(t.relatedTarget)&&(t.preventDefault(),t.stopImmediatePropagation()),(r.$menu?r:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)?r.$selected=null:n.trigger("contextmenu:focus")},itemMouseleave:function(t){var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;if(o!==r&&o.$layer&&o.$layer.is(t.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur"),t.preventDefault(),t.stopImmediatePropagation(),void(o.$selected=r.$selected=r.$node);r&&r.$menu&&r.$menu.hasClass("context-menu-visible")||n.trigger("contextmenu:blur")},itemClick:function(t){var n,i=e(this),r=i.data(),o=r.contextMenu,a=r.contextMenuRoot,A=r.contextMenuKey;if(!(!o.items[A]||i.is("."+a.classNames.disabled+", .context-menu-separator, ."+a.classNames.notSelectable)||i.is(".context-menu-submenu")&&!1===a.selectableSubMenu)){if(t.preventDefault(),t.stopImmediatePropagation(),e.isFunction(o.callbacks[A])&&Object.prototype.hasOwnProperty.call(o.callbacks,A))n=o.callbacks[A];else{if(!e.isFunction(a.callback))return;n=a.callback}!1!==n.call(a.$trigger,A,a,t)?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&h.update.call(a.$trigger,a)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(t,n){var i=e(this).data("contextMenuRoot");h.hide.call(i.$trigger,i,n&&n.force)},focusItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;n.hasClass(o.classNames.disabled)||n.hasClass(o.classNames.notSelectable)||(n.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),r.$selected=o.$selected=n,r&&r.$node&&r.$node.hasClass("context-menu-submenu")&&r.$node.addClass(o.classNames.hover),r.$node&&o.positionSubmenu.call(r.$node,r.$menu))},blurItem:function(t){t.stopPropagation();var n=e(this),i=n.data(),r=i.contextMenu,o=i.contextMenuRoot;r.autoHide&&n.removeClass(o.classNames.visible),n.removeClass(o.classNames.hover),r.$selected=null}},h={show:function(t,i,r){var o=e(this),a={};if(e("#context-menu-layer").trigger("mousedown"),t.$trigger=o,!1!==t.events.show.call(o,t))if(!1!==h.update.call(o,t)){if(t.position.call(o,t,i,r),t.zIndex){var A=t.zIndex;"function"==typeof t.zIndex&&(A=t.zIndex.call(o,t)),a.zIndex=l(o)+A}h.layer.call(t.$menu,t,a.zIndex),t.$menu.find("ul").css("zIndex",a.zIndex+1),t.$menu.css(a)[t.animation.show](t.animation.duration,(function(){o.trigger("contextmenu:visible"),h.activated(t),t.events.activated(t)})),o.data("contextMenu",t).addClass("context-menu-active"),e(document).off("keydown.contextMenu").on("keydown.contextMenu",d.key),t.autoHide&&e(document).on("mousemove.contextMenuAutoHide",(function(e){var n=o.offset();n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout((function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")}),50)}))}else n=null;else n=null},hide:function(t,i){var r=e(this);if(t||(t=r.data("contextMenu")||{}),i||!t.events||!1!==t.events.hide.call(r,t)){if(r.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout((o=t.$layer,function(){o.remove()}),10);try{delete t.$layer}catch(e){t.$layer=null}}var o;n=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,(function(){t.build&&(t.$menu.remove(),e.each(t,(function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}}))),setTimeout((function(){r.trigger("contextmenu:hidden")}),10)}))}},create:function(t,n){function i(t){var n=e("<span></span>");if(t._accesskey)t._beforeAccesskey&&n.append(document.createTextNode(t._beforeAccesskey)),e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n),t._afterAccesskey&&n.append(document.createTextNode(t._afterAccesskey));else if(t.isHtmlName){if(void 0!==t.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");n.html(t.name)}else n.text(t.name);return n}void 0===n&&(n=t),t.$menu=e('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),t.dataAttr&&e.each(t.dataAttr,(function(e,n){t.$menu.attr("data-"+t.key,n)})),e.each(["callbacks","commands","inputs"],(function(e,i){t[i]={},n[i]||(n[i]={})})),n.accesskeys||(n.accesskeys={}),e.each(t.items,(function(r,o){var a=e('<li class="context-menu-item"></li>').addClass(o.className||""),A=null,c=null;if(a.on("click",e.noop),"string"!=typeof o&&"cm_separator"!==o.type||(o={type:"cm_seperator"}),o.$node=a.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:r}),void 0!==o.accesskey)for(var u,l=f(o.accesskey),p=0;u=l[p];p++)if(!n.accesskeys[u]){n.accesskeys[u]=o;var g=o.name.match(new RegExp("^(.*?)("+u+")(.*)$","i"));g&&(o._beforeAccesskey=g[1],o._accesskey=g[2],o._afterAccesskey=g[3]);break}if(o.type&&s[o.type])s[o.type].call(a,o,t,n),e.each([t,n],(function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)}));else{switch("cm_seperator"===o.type?a.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===o.type?a.addClass("context-menu-html "+n.classNames.notSelectable):"sub"!==o.type&&o.type?(A=e("<label></label>").appendTo(a),i(o).appendTo(A),a.addClass("context-menu-input"),t.hasTypes=!0,e.each([t,n],(function(e,t){t.commands[r]=o,t.inputs[r]=o}))):o.items&&(o.type="sub"),o.type){case"cm_seperator":break;case"text":c=e('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(A);break;case"textarea":c=e('<textarea name=""></textarea>').attr("name","context-menu-input-"+r).val(o.value||"").appendTo(A),o.height&&c.height(o.height);break;case"checkbox":c=e('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+r).val(o.value||"").prop("checked",!!o.selected).prependTo(A);break;case"radio":c=e('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(A);break;case"select":c=e('<select name=""></select>').attr("name","context-menu-input-"+r).appendTo(A),o.options&&(e.each(o.options,(function(t,n){e("<option></option>").val(t).text(n).appendTo(c)})),c.val(o.selected));break;case"sub":i(o).appendTo(a),o.appendTo=o.$node,a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null,"function"==typeof o.items.then?h.processPromises(o,n,o.items):h.create(o,n);break;case"html":e(o.html).appendTo(a);break;default:e.each([t,n],(function(n,i){i.commands[r]=o,!e.isFunction(o.callback)||void 0!==i.callbacks[r]&&void 0!==t.type||(i.callbacks[r]=o.callback)})),i(o).appendTo(a)}o.type&&"sub"!==o.type&&"html"!==o.type&&"cm_seperator"!==o.type&&(c.on("focus",d.focusInput).on("blur",d.blurInput),o.events&&c.on(o.events,t)),o.icon&&(e.isFunction(o.icon)?o._icon=o.icon.call(this,this,a,r,o):"string"!=typeof o.icon||"fab "!==o.icon.substring(0,4)&&"fas "!==o.icon.substring(0,4)&&"fad "!==o.icon.substring(0,4)&&"far "!==o.icon.substring(0,4)&&"fal "!==o.icon.substring(0,4)?"string"==typeof o.icon&&"fa-"===o.icon.substring(0,3)?o._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+o.icon:o._icon=n.classNames.icon+" "+n.classNames.icon+"-"+o.icon:(a.addClass(n.classNames.icon+" "+n.classNames.icon+"--fa5"),o._icon=e('<i class="'+o.icon+'"></i>')),"string"==typeof o._icon?a.addClass(o._icon):a.prepend(o._icon))}o.$input=c,o.$label=A,a.appendTo(t.$menu),!t.hasTypes&&e.support.eventSelectstart&&a.on("selectstart.disableTextSelect",d.abortevent)})),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)},resize:function(t,n){var i;t.css({position:"absolute",display:"block"}),t.data("width",(i=t.get(0)).getBoundingClientRect?Math.ceil(i.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each((function(){h.resize(e(this),!0)})),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth((function(){return e(this).data("width")}))},update:function(t,n){var i=this;void 0===n&&(n=t,h.resize(t.$menu));var r=!1;return t.$menu.children().each((function(){var o,a=e(this),A=a.data("contextMenuKey"),s=t.items[A],c=e.isFunction(s.disabled)&&s.disabled.call(i,A,n)||!0===s.disabled;if((o=e.isFunction(s.visible)?s.visible.call(i,A,n):void 0===s.visible||!0===s.visible)&&(r=!0),a[o?"show":"hide"](),a[c?"addClass":"removeClass"](n.classNames.disabled),e.isFunction(s.icon)){a.removeClass(s._icon);var u=s.icon.call(this,i,a,A,s);"string"==typeof u?a.addClass(u):a.prepend(u)}if(s.type)switch(a.find("input, select, textarea").prop("disabled",c),s.type){case"text":case"textarea":s.$input.val(s.value||"");break;case"checkbox":case"radio":s.$input.val(s.value||"").prop("checked",!!s.selected);break;case"select":s.$input.val((0===s.selected?"0":s.selected)||"")}s.$menu&&h.update.call(i,s,n)&&(r=!0)})),r},layer:function(t,n){var i=t.$layer=e('<div id="context-menu-layer"></div>').css({height:r.height(),width:r.width(),display:"block",position:"fixed","z-index":n-1,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).appendTo(document.body).on("contextmenu",d.abortevent).on("mousedown",d.layerClick);return void 0===document.body.style.maxWidth&&i.css({position:"absolute",height:e(document).height()}),i},processPromises:function(e,t,n){function i(e,t,n){void 0===n&&r(void 0),o(e,t,n)}function r(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),o(e,t,n)}function o(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,h.create(e,t,!0),h.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(i.bind(this,e,t),r.bind(this,e,t))},activated:function(t){var n=t.$menu,i=n.offset(),r=e(window).height(),o=e(window).scrollTop(),a=n.height();a>r?n.css({height:r+"px","overflow-x":"hidden","overflow-y":"auto",top:o+"px"}):(i.top<o||i.top+a>o+r)&&n.css({top:o+"px"})}};function f(e){for(var t,n=e.split(/\s+/),i=[],r=0;t=n[r];r++)t=t.charAt(0).toUpperCase(),i.push(t);return i}function p(t){return t.id&&e('label[for="'+t.id+'"]').val()||t.name}function g(t,n,i){return i||(i=0),n.each((function(){var n,r,o=e(this),a=this,A=this.nodeName.toLowerCase();switch("label"===A&&o.find("input, textarea, select").length&&(n=o.text(),A=(a=(o=o.children().first()).get(0)).nodeName.toLowerCase()),A){case"menu":r={name:o.attr("label"),items:{}},i=g(r.items,o.children(),i);break;case"a":case"button":r={name:o.text(),disabled:!!o.attr("disabled"),callback:function(){o.get(0).click()}};break;case"menuitem":case"command":switch(o.attr("type")){case void 0:case"command":case"menuitem":r={name:o.attr("label"),disabled:!!o.attr("disabled"),icon:o.attr("icon"),callback:function(){o.get(0).click()}};break;case"checkbox":r={type:"checkbox",disabled:!!o.attr("disabled"),name:o.attr("label"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",disabled:!!o.attr("disabled"),name:o.attr("label"),radio:o.attr("radiogroup"),value:o.attr("id"),selected:!!o.attr("checked")};break;default:r=void 0}break;case"hr":r="-------";break;case"input":switch(o.attr("type")){case"text":r={type:"text",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"checkbox":r={type:"checkbox",name:n||p(a),disabled:!!o.attr("disabled"),selected:!!o.attr("checked")};break;case"radio":r={type:"radio",name:n||p(a),disabled:!!o.attr("disabled"),radio:!!o.attr("name"),value:o.val(),selected:!!o.attr("checked")};break;default:r=void 0}break;case"select":r={type:"select",name:n||p(a),disabled:!!o.attr("disabled"),selected:o.val(),options:{}},o.children().each((function(){r.options[this.value]=e(this).text()}));break;case"textarea":r={type:"textarea",name:n||p(a),disabled:!!o.attr("disabled"),value:o.val()};break;case"label":break;default:r={type:"html",html:o.clone(!0)}}r&&(i++,t["key"+i]=r)})),i}e.fn.contextMenu=function(t){var n=this,i=t;if(this.length>0)if(void 0===t)this.first().trigger("contextmenu");else if(void 0!==t.x&&void 0!==t.y)this.first().trigger(e.Event("contextmenu",{pageX:t.x,pageY:t.y,mouseButton:t.button}));else if("hide"===t){var r=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;r&&r.trigger("contextmenu:hide")}else"destroy"===t?e.contextMenu("destroy",{context:this}):e.isPlainObject(t)?(t.context=this,e.contextMenu("create",t)):t?this.removeClass("context-menu-disabled"):t||this.addClass("context-menu-disabled");else e.each(A,(function(){this.selector===n.selector&&(i.data=this,e.extend(i.data,{trigger:"demand"}))})),d.contextmenu.call(i.target,i);return this},e.contextMenu=function(t,n){"string"!=typeof t&&(n=t,t="create"),"string"==typeof n?n={selector:n}:void 0===n&&(n={});var r=e.extend(!0,{},c,n||{}),s=e(document),u=s,l=!1;switch(r.context&&r.context.length?(u=e(r.context).first(),r.context=u.get(0),l=!e(r.context).is(document)):r.context=document,t){case"update":if(l)h.update(u);else for(var f in A)A.hasOwnProperty(f)&&h.update(A[f]);break;case"create":if(!r.selector)throw new Error("No selector specified");if(r.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+r.selector+'" as it contains a reserved className');if(!r.build&&(!r.items||e.isEmptyObject(r.items)))throw new Error("No Items specified");if(o++,r.ns=".contextMenu"+o,l||(a[r.selector]=r.ns),A[r.ns]=r,r.trigger||(r.trigger="right"),!i){var p="click"===r.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":d.focusItem,"contextmenu:blur.contextMenu":d.blurItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.itemMouseenter,"mouseleave.contextMenu":d.itemMouseleave};g[p]=d.itemClick,s.on({"contextmenu:hide.contextMenu":d.hideMenu,"prevcommand.contextMenu":d.prevItem,"nextcommand.contextMenu":d.nextItem,"contextmenu.contextMenu":d.abortevent,"mouseenter.contextMenu":d.menuMouseenter,"mouseleave.contextMenu":d.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",d.inputClick).on(g,".context-menu-item"),i=!0}switch(u.on("contextmenu"+r.ns,r.selector,r,d.contextmenu),l&&u.on("remove"+r.ns,(function(){e(this).contextMenu("destroy")})),r.trigger){case"hover":u.on("mouseenter"+r.ns,r.selector,r,d.mouseenter).on("mouseleave"+r.ns,r.selector,r,d.mouseleave);break;case"left":u.on("click"+r.ns,r.selector,r,d.click);break;case"touchstart":u.on("touchstart"+r.ns,r.selector,r,d.click)}r.build||h.create(r);break;case"destroy":var v;if(l){var m=r.context;e.each(A,(function(t,n){if(!n)return!0;if(!e(m).is(n.selector))return!0;(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector))&&v.trigger("contextmenu:hide",{force:!0});try{A[n.ns].$menu&&A[n.ns].$menu.remove(),delete A[n.ns]}catch(e){A[n.ns]=null}return e(n.context).off(n.ns),!0}))}else if(r.selector){if(a[r.selector]){(v=e(".context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(r.selector)&&v.trigger("contextmenu:hide",{force:!0});try{A[a[r.selector]].$menu&&A[a[r.selector]].$menu.remove(),delete A[a[r.selector]]}catch(e){A[a[r.selector]]=null}s.off(a[r.selector])}}else s.off(".contextMenu .contextMenuAutoHide"),e.each(A,(function(t,n){e(n.context).off(n.ns)})),a={},A={},o=0,i=!1,e("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!e.support.htmlCommand&&!e.support.htmlMenuitem||"boolean"==typeof n&&n)&&e('menu[type="context"]').each((function(){this.id&&e.contextMenu({selector:"[contextmenu="+this.id+"]",items:e.contextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+t+'"')}return this},e.contextMenu.setInputValues=function(t,n){void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":t.value=n[e]||"";break;case"checkbox":t.selected=!!n[e];break;case"radio":t.selected=(n[t.radio]||"")===t.value;break;case"select":t.selected=n[e]||""}}))},e.contextMenu.getInputValues=function(t,n){return void 0===n&&(n={}),e.each(t.inputs,(function(e,t){switch(t.type){case"text":case"textarea":case"select":n[e]=t.$input.val();break;case"checkbox":n[e]=t.$input.prop("checked");break;case"radio":t.$input.prop("checked")&&(n[t.radio]=t.value)}})),n},e.contextMenu.fromMenu=function(t){var n={};return g(n,e(t).children()),n},e.contextMenu.defaults=c,e.contextMenu.types=s,e.contextMenu.handle=d,e.contextMenu.op=h,e.contextMenu.menus=A})?i.apply(t,r):i)||(e.exports=o)},9755:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,A=o.slice,s=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,l={},d=l.toString,h=l.hasOwnProperty,f=h.toString,p=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in b)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function k(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[d.call(e)]||"object":typeof e}var x="3.7.1",_=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function D(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:x,constructor:P,length:0,toArray:function(){return A.call(this)},get:function(e){return null==e?A.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(P.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},A=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[A]||{},A++),"object"==typeof a||v(a)||(a={}),A===s&&(a=this,A--);A<s;A++)if(null!=(e=arguments[A]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(D(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(D(Object(e))?P.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(D(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s(a)},guid:1,support:g}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var S=o.pop,I=o.sort,E=o.splice,R="[\\x20\\t\\r\\n\\f]",T=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(M,F)};var L=y,N=c;!function(){var e,t,n,r,a,s,c,l,d,f,p=N,v=P.expando,m=0,y=0,b=ee(),w=ee(),k=ee(),x=ee(),_=function(e,t){return e===t&&(a=!0),0},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+R+"*("+M+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+R+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(R+"+","g"),j=new RegExp("^"+R+"*,"+R+"*"),V=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp(R+"|>"),H=new RegExp(O),z=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),J=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},X=function(){se()},Q=de((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{p.apply(o=A.call(L.childNodes),L.childNodes),o[L.childNodes.length].nodeType}catch(e){p={apply:function(e,t){N.apply(e,A.call(t))},call:function(e){N.apply(e,A.call(arguments,1))}}}function Z(e,t,n,i){var r,o,a,A,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(se(t),t=t||s,l)){if(11!==m&&(c=$.exec(e)))if(r=c[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Z.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(c[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(x[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(U.test(e)||V.test(e))){for((f=K.test(e)&&Ae(t.parentNode)||t)==t&&g.scope||((A=t.getAttribute("id"))?A=P.escapeSelector(A):t.setAttribute("id",A=v)),o=(u=ue(e)).length;o--;)u[o]=(A?"#"+A:":scope")+" "+le(u[o]);h=u.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){x(e,!0)}finally{A===v&&t.removeAttribute("id")}}}return me(e.replace(T,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[v]=!0,e}function ne(e){var t=s.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return C(t,"input")&&t.type===e}}function re(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function Ae(e){return e&&void 0!==e.getElementsByTagName&&e}function se(e){var n,i=e?e.ownerDocument||e:L;return i!=s&&9===i.nodeType&&i.documentElement?(c=(s=i).documentElement,l=!P.isXMLDoc(s),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&L!=s&&(n=s.defaultView)&&n.top!==n&&n.addEventListener("unload",X),g.getById=ne((function(e){return c.appendChild(e).id=P.expando,!s.getElementsByName||!s.getElementsByName(P.expando).length})),g.disconnectedMatch=ne((function(e){return f.call(e,"*")})),g.scope=ne((function(){return s.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return s.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(q,J);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,J);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&l)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+R+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+v+"-]").length||d.push("~="),e.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=s.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=s.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")")})),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),_=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument==L&&Z.contains(L,e)?-1:t===s||t.ownerDocument==L&&Z.contains(L,t)?1:r?u.call(r,e)-u.call(r,t):0:4&n?-1:1)},s):s}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(se(e),l&&!x[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){x(t,!0)}return Z(t,s,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=s&&se(e),P.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=s&&se(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!l):void 0;return void 0!==r?r:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!g.sortStable,r=!g.sortStable&&A.call(e,0),I.call(e,_),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)E.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(A.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,J),e[3]=(e[3]||e[4]||e[5]||"").replace(q,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Z.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),A="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,s){var c,u,l,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,g=A&&t.nodeName.toLowerCase(),y=!s&&!A,b=!1;if(p){if(o){for(;f;){for(l=t;l=l[f];)if(A?C(l,g):1===l.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(b=(d=(c=(u=p[v]||(p[v]={}))[e]||[])[0]===m&&c[1])&&c[2],l=d&&p.childNodes[d];l=++d&&l&&l[f]||(b=d=0)||h.pop();)if(1===l.nodeType&&++b&&l===t){u[e]=[m,d,b];break}}else if(y&&(b=d=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===m&&c[1]),!1===b)for(;(l=++d&&l&&l[f]||(b=d=0)||h.pop())&&(!(A?C(l,g):1===l.nodeType)||!++b||(y&&((u=l[v]||(l[v]={}))[e]=[m,b]),l!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return r[v]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=u.call(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ve(e.replace(T,"$1"));return i[v]?te((function(e,t,n,r){for(var o,a=i(e,null,r,[]),A=e.length;A--;)(o=a[A])&&(e[A]=!(t[A]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,J),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}})),lang:te((function(e){return z.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(q,J).toLowerCase(),function(t){var n;do{if(n=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return s.activeElement}catch(e){}}()&&s.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ae((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function ue(e,n){var i,r,o,a,A,s,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(A=e,s=[],c=t.preFilter;A;){for(a in i&&!(r=j.exec(A))||(r&&(A=A.slice(r[0].length)||A),s.push(o=[])),i=!1,(r=V.exec(A))&&(i=r.shift(),o.push({value:i,type:r[0].replace(T," ")}),A=A.slice(i.length)),t.filter)!(r=W[a].exec(A))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),A=A.slice(i.length));if(!i)break}return n?A.length:A?Z.error(e):w(e,s).slice(0)}function le(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,A=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,s){var c,u,l=[m,A];if(s){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=t[v]||(t[v]={}),r&&C(t,r))t=t[i]||t;else{if((c=u[o])&&c[0]===m&&c[1]===A)return l[2]=c[2];if(u[o]=l,l[2]=e(t,n,s))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],A=0,s=e.length,c=null!=t;A<s;A++)(o=e[A])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(A)));return a}function pe(e,t,n,i,r,o){return i&&!i[v]&&(i=pe(i)),r&&!r[v]&&(r=pe(r,o)),te((function(o,a,A,s){var c,l,d,h,f=[],g=[],v=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Z(e,t[i],n);return n}(t||"*",A.nodeType?[A]:A,[]),y=!e||!o&&t?m:fe(m,f,e,A,s);if(n?n(y,h=r||(o?e:v||i)?[]:a,A,s):h=y,i)for(c=fe(h,g),i(c,[],A,s),l=c.length;l--;)(d=c[l])&&(h[g[l]]=!(y[g[l]]=d));if(o){if(r||e){if(r){for(c=[],l=h.length;l--;)(d=h[l])&&c.push(y[l]=d);r(null,h=[],c,s)}for(l=h.length;l--;)(d=h[l])&&(c=r?u.call(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else h=fe(h===a?h.splice(v,h.length):h),r?r(null,a,h,s):p.apply(a,h)}))}function ge(e){for(var i,r,o,a=e.length,A=t.relative[e[0].type],s=A||t.relative[" "],c=A?1:0,l=de((function(e){return e===i}),s,!0),d=de((function(e){return u.call(i,e)>-1}),s,!0),h=[function(e,t,r){var o=!A&&(r||t!=n)||((i=t).nodeType?l(e,t,r):d(e,t,r));return i=null,o}];c<a;c++)if(r=t.relative[e[c].type])h=[de(he(h),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<a&&!t.relative[e[o].type];o++);return pe(c>1&&he(h),c>1&&le(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(T,"$1"),r,c<o&&ge(e.slice(c,o)),o<a&&ge(e=e.slice(o)),o<a&&le(e))}h.push(r)}return he(h)}function ve(e,i){var r,o=[],a=[],A=k[e+" "];if(!A){for(i||(i=ue(e)),r=i.length;r--;)(A=ge(i[r]))[v]?o.push(A):a.push(A);A=k(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,A,c,u,d){var h,f,g,v=0,y="0",b=a&&[],w=[],k=n,x=a||o&&t.find.TAG("*",d),_=m+=null==k?1:Math.random()||.1,D=x.length;for(d&&(n=A==s||A||d);y!==D&&null!=(h=x[y]);y++){if(o&&h){for(f=0,A||h.ownerDocument==s||(se(h),c=!l);g=e[f++];)if(g(h,A||s,c)){p.call(u,h);break}d&&(m=_)}r&&((h=!g&&h)&&v--,a&&b.push(h))}if(v+=y,r&&y!==v){for(f=0;g=i[f++];)g(b,w,A,c);if(a){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=S.call(u));w=fe(w)}p.apply(u,w),d&&!a&&w.length>0&&v+i.length>1&&P.uniqueSort(u)}return d&&(m=_,n=k),b};return r?te(a):a}(a,o)),A.selector=e}return A}function me(e,n,i,r){var o,a,A,s,c,u="function"==typeof e&&e,d=!r&&ue(e=u.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(A=a[0]).type&&9===n.nodeType&&l&&t.relative[a[1].type]){if(!(n=(t.find.ID(A.matches[0].replace(q,J),n)||[])[0]))return i;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(A=a[o],!t.relative[s=A.type]);)if((c=t.find[s])&&(r=c(A.matches[0].replace(q,J),K.test(a[0].type)&&Ae(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&le(a)))return p.apply(i,r),i;break}}return(u||ve(e,d))(r,n,!l,i,!n||K.test(e)&&Ae(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(_).join("")===v,se(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(s.createElement("fieldset"))})),P.find=Z,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Z.compile=ve,Z.select=me,Z.setDocument=se,Z.tokenize=ue,Z.escape=P.escapeSelector,Z.getText=P.text,Z.isXML=P.isXMLDoc,Z.selectors=P.expr,Z.support=P.support,Z.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},j=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return v(t)?P.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?P.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?P.grep(e,(function(e){return u.call(t,e)>-1!==n})):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,(function(e){return 1===e.nodeType})))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter((function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&j.test(e)?P(e):e||[],!1).length}});var H,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,H=P(y);var W=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!j.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(P(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},(function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(Y[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}));var $=/[^\x20\t\r\n\f]+/g;function K(e){return e}function q(e){throw e}function J(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],A=-1,s=function(){for(r=r||e.once,i=t=!0;a.length;A=-1)for(n=a.shift();++A<o.length;)!1===o[A].apply(n[0],n[1])&&e.stopOnFalse&&(A=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(A=o.length-1,a.push(n)),function t(n){P.each(n,(function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==k(i)&&t(i)}))}(arguments),n&&!t&&s()),this},remove:function(){return P.each(arguments,(function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=A&&A--})),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred((function(n){P.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var A=this,s=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(A,s))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,a(o,t,K,r),a(o,t,q,r)):(o++,c.call(i,a(o,t,K,r),a(o,t,q,r),a(o,t,K,t.notifyWith))):(n!==K&&(A=void 0,s=[i]),(r||t.resolveWith)(A,s))}},u=r?c:function(){try{c()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,u.error),e+1>=o&&(n!==q&&(A=void 0,s=[i]),t.rejectWith(A,s))}};e?u():(P.Deferred.getErrorHook?u.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(u.error=P.Deferred.getStackHook()),i.setTimeout(u))}}return P.Deferred((function(i){t[0][3].add(a(0,i,v(r)?r:K,i.notifyWith)),t[1][3].add(a(0,i,v(e)?e:K)),t[2][3].add(a(0,i,v(n)?n:q))})).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,(function(e,i){var a=i[2],A=i[5];r[i[1]]=a.add,A&&a.add((function(){n=A}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=A.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?A.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(J(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)J(r[n],a(n),o.reject);return o.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&X.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout((function(){throw e}))};var Q=P.Deferred();function Z(){y.removeEventListener("DOMContentLoaded",Z),i.removeEventListener("load",Z),P.ready()}P.fn.ready=function(e){return Q.then(e).catch((function(e){P.readyException(e)})),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||Q.resolveWith(y,[P]))}}),P.ready.then=Q.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Z),i.addEventListener("load",Z));var ee=function(e,t,n,i,r,o,a){var A=0,s=e.length,c=null==n;if("object"===k(n))for(A in r=!0,n)ee(e,t,A,n[A],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(P(e),n)})),t))for(;A<s;A++)t(e[A],n,a?i:i.call(e[A],A,t(e[A],n)));return r?e:c?t.call(e):s?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var Ae=new ae,se=new ae,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function le(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}se.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return se.hasData(e)||Ae.hasData(e)},data:function(e,t,n){return se.access(e,t,n)},removeData:function(e,t){se.remove(e,t)},_data:function(e,t,n){return Ae.access(e,t,n)},_removeData:function(e,t){Ae.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=se.get(o),1===o.nodeType&&!Ae.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),le(o,i,r[i]));Ae.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){se.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=se.get(o,e))||void 0!==(n=le(o,e))?n:void 0;this.each((function(){se.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){se.remove(this,e)}))}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ae.get(e,t),n&&(!i||Array.isArray(n)?i=Ae.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){P.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ae.get(e,n)||Ae.access(e,n,{empty:P.Callbacks("once memory").add((function(){Ae.remove(e,[t+"queue",n])}))})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each((function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){P.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,A=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ae.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(A));return A(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ge=function(e){return P.contains(e.ownerDocument,e)},ve={composed:!0};pe.getRootNode&&(ge=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,A=i?function(){return i.cur()}:function(){return P.css(e,t,"")},s=A(),c=n&&n[3]||(P.cssNumber[t]?"":"px"),u=e.nodeType&&(P.cssNumber[t]||"px"!==c&&+s)&&he.exec(P.css(e,t));if(u&&u[3]!==c){for(s/=2,c=c||u[3],u=+s||1;a--;)P.style(e,t,u+c),(1-o)*(1-(o=A()/s||.5))<=0&&(a=0),u/=o;u*=2,P.style(e,t,u+c),n=n||[]}return n&&(u=+u||+s||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var be={};function we(e){var t,n=e.ownerDocument,i=e.nodeName,r=be[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),be[i]=r,r)}function ke(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Ae.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=we(i))):"none"!==n&&(r[o]="none",Ae.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?P(this).show():P(this).hide()}))}});var xe,_e,Pe=/^(?:checkbox|radio)$/i,De=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=y.createDocumentFragment().appendChild(y.createElement("div")),(_e=y.createElement("input")).setAttribute("type","radio"),_e.setAttribute("checked","checked"),_e.setAttribute("name","t"),xe.appendChild(_e),g.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",g.option=!!xe.lastChild;var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ie(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?P.merge([e],n):n}function Ee(e,t){for(var n=0,i=e.length;n<i;n++)Ae.set(e[n],"globalEval",!t||Ae.get(t[n],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,g.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var Re=/<|&#?\w+;/;function Te(e,t,n,i,r){for(var o,a,A,s,c,u,l=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===k(o))P.merge(d,o.nodeType?[o]:o);else if(Re.test(o)){for(a=a||l.appendChild(t.createElement("div")),A=(De.exec(o)||["",""])[1].toLowerCase(),s=Se[A]||Se._default,a.innerHTML=s[1]+P.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;P.merge(d,a.childNodes),(a=l.firstChild).textContent=""}else d.push(t.createTextNode(o));for(l.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(c=ge(o),a=Ie(l.appendChild(o),"script"),c&&Ee(a),n)for(u=0;o=a[u++];)Ce.test(o.type||"")&&n.push(o);return l}var Me=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Le(){return!1}function Ne(e,t,n,i,r,o){var a,A;if("object"==typeof t){for(A in"string"!=typeof n&&(i=i||n,n=void 0),t)Ne(e,A,n,i,t[A],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Le;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each((function(){P.event.add(this,t,r,i,n)}))}function Oe(e,t,n){n?(Ae.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=Ae.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=A.call(arguments),Ae.set(this,t,i),this[t](),n=Ae.get(this,t),Ae.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(Ae.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===Ae.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,A,s,c,u,l,d,h,f,p,g=Ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(s=g.events)||(s=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)h=p=(A=Me.exec(t[c])||[])[1],f=(A[2]||"").split(".").sort(),h&&(l=P.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=P.event.special[h]||{},u=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=s[h])||((d=s[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,A,s,c,u,l,d,h,f,p,g=Ae.hasData(e)&&Ae.get(e);if(g&&(s=g.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(h=p=(A=Me.exec(t[c])||[])[1],f=(A[2]||"").split(".").sort(),h){for(l=P.event.special[h]||{},d=s[h=(i?l.delegateType:l.bindType)||h]||[],A=A[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&p!==u.origType||n&&n.guid!==u.guid||A&&!A.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,l.remove&&l.remove.call(e,u));a&&!d.length&&(l.teardown&&!1!==l.teardown.call(e,f,g.handle)||P.removeEvent(e,h,g.handle),delete s[h])}else for(h in s)P.event.remove(e,h+t[c],n,i,!0);P.isEmptyObject(s)&&Ae.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,A=new Array(arguments.length),s=P.event.fix(e),c=(Ae.get(this,"events")||Object.create(null))[s.type]||[],u=P.event.special[s.type]||{};for(A[0]=s,t=1;t<arguments.length;t++)A[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=P.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,A))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,A=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&A.push({elem:c,handlers:o})}return c=this,s<t.length&&A.push({elem:c,handlers:t.slice(s)}),A},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&C(t,"input")&&Ae.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(y.documentMode){var n=Ae.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=Ae.get(this,t))||this.addEventListener(t,n),Ae.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=Ae.get(this,t)-1)?Ae.set(this,t,e):(this.removeEventListener(t,n),Ae.remove(this,t))},_default:function(t){return Ae.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=Ae.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),Ae.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=Ae.get(r,t)-1;o?Ae.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),Ae.remove(r,t))}}})),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),P.fn.extend({on:function(e,t,n,i){return Ne(this,e,t,n,i)},one:function(e,t,n,i){return Ne(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Le),this.each((function(){P.event.remove(this,e,n,t)}))}});var Be=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,A;if(1===t.nodeType){if(Ae.hasData(e)&&(A=Ae.get(e).events))for(r in Ae.remove(t,"handle events"),A)for(n=0,i=A[r].length;n<i;n++)P.event.add(t,r,A[r][n]);se.hasData(e)&&(o=se.access(e),a=P.extend({},o),se.set(t,a))}}function Ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ge(e,t,n,i){t=s(t);var r,o,a,A,c,u,l=0,d=e.length,h=d-1,f=t[0],p=v(f);if(p||d>1&&"string"==typeof f&&!g.checkClone&&je.test(f))return e.each((function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ge(o,t,n,i)}));if(d&&(o=(r=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(A=(a=P.map(Ie(r,"script"),He)).length;l<d;l++)c=r,l!==h&&(c=P.clone(c,!0,!0),A&&P.merge(a,Ie(c,"script"))),n.call(e[l],c,l);if(A)for(u=a[a.length-1].ownerDocument,P.map(a,ze),l=0;l<A;l++)c=a[l],Ce.test(c.type||"")&&!Ae.access(c,"globalEval")&&P.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?P._evalUrl&&!c.noModule&&P._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Ve,""),c,u))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Ie(i)),i.parentNode&&(n&&ge(i)&&Ee(Ie(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,A=e.cloneNode(!0),s=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Ie(A),i=0,r=(o=Ie(e)).length;i<r;i++)Ye(o[i],a[i]);if(t)if(n)for(o=o||Ie(e),a=a||Ie(A),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,A);return(a=Ie(A,"script")).length>0&&Ee(a,!s&&Ie(e,"script")),A},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[Ae.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[Ae.expando]=void 0}n[se.expando]&&(n[se.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?P.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ge(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return Ge(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Ie(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return P.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Se[(De.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Ie(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,(function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Ie(this)),n&&n.replaceChild(t,this))}),e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ke=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Xe=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Qe=new RegExp(fe.join("|"),"i");function Ze(e,t,n){var i,r,o,a,A=qe.test(t),s=e.style;return(n=n||Je(e))&&(a=n.getPropertyValue(t)||n[t],A&&a&&(a=a.replace(T,"$1")||void 0),""!==a||ge(e)||(a=P.style(e,t)),!g.pixelBoxStyles()&&Ke.test(a)&&Qe.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,s=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),pe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,A,s,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,P.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==A&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),A=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),A}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},At={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ct(e,t,n,i,r,o){var a="width"===t?1:0,A=0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(s-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(s-=P.css(e,"border"+fe[a]+"Width",!0,r))):(s+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?s+=P.css(e,"border"+fe[a]+"Width",!0,r):A+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-A-.5))||0),s+c}function ut(e,t,n){var i=Je(e),r=(!g.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Ze(e,t,i),A="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&C(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=A in e)&&(a=e[A])),(a=parseFloat(a)||0)+ct(e,t,n||(r?"border":"content"),o,i,a)+"px"}function lt(e,t,n,i,r){return new lt.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,A=re(t),s=qe.test(t),c=e.style;if(s||(t=rt(A)),a=P.cssHooks[t]||P.cssHooks[A],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=r&&r[3]||(P.cssNumber[A]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,A=re(t);return qe.test(t)||(t=rt(A)),(a=P.cssHooks[t]||P.cssHooks[A])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in At&&(r=At[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],(function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,i):Xe(e,at,(function(){return ut(e,t,i)}))},set:function(e,n,i){var r,o=Je(e),a=!g.scrollboxSize()&&"absolute"===o.position,A=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),s=i?ct(e,t,i,A,o):0;return A&&a&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),s&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),st(0,n,s)}}})),P.cssHooks.marginLeft=et(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),P.each({margin:"",padding:"",border:"Width"},(function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=st)})),P.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Je(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)}),e,t,arguments.length>1)}}),P.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=lt.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function gt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(gt):i.setTimeout(gt,P.fx.interval),P.fx.tick())}function vt(){return i.setTimeout((function(){dt=void 0})),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function bt(e,t,n){var i,r,o=0,a=bt.prefilters.length,A=P.Deferred().always((function(){delete s.elem})),s=function(){if(r)return!1;for(var t=dt||vt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return A.notifyWith(e,[c,i,n]),i<1&&a?n:(a||A.notifyWith(e,[c,1,0]),A.resolveWith(e,[c]),!1)},c=A.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(A.notifyWith(e,[c,1,0]),A.resolveWith(e,[c,t])):A.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=bt.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(P._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return P.map(u,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),P.fx.timer(P.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}P.Animation=P.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,A,s,c,u,l="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),g=Ae.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,A=a.empty.fire,a.empty.fire=function(){a.unqueued||A()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||P.style(e,i)}if((s=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Ae.get(e,"display")),"none"===(u=P.css(e,"display"))&&(c?u=c:(ke([e],!0),c=e.style.display||c,u=P.css(e,"display"),ke([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===P.css(e,"float")&&(s||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),s=!1,h)s||(g?"hidden"in g&&(p=g.hidden):g=Ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&ke([e],!0),d.done((function(){for(i in p||ke([e]),Ae.remove(e,"fxshow"),h)P.style(e,i,h[i])}))),s=yt(p?g[i]:0,i,d),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=bt(this,P.extend({},e),o);(r||Ae.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=Ae.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Ae.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),P.each(["toggle","show","hide"],(function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}})),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,gt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var wt,kt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){P.removeAttr(this,e)}))}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=kt[t]||P.find.attr;kt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=kt[a],kt[a]=r,r=null!=n(e,t,i)?a:null,kt[a]=o),r}}));var xt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Dt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[P.propFix[e]||e]}))}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){P.propFix[this.toLowerCase()]=this})),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){P(this).addClass(e.call(this,t,Dt(this)))})):(t=Ct(e)).length?this.each((function(){if(i=Dt(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){P(this).removeClass(e.call(this,t,Dt(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(i=Dt(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,A="string"===a||Array.isArray(e);return v(e)?this.each((function(n){P(this).toggleClass(e.call(this,n,Dt(this),t),t)})):"boolean"==typeof t&&A?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each((function(){if(A)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Dt(this))&&Ae.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":Ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Dt(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,(function(e){return null==e?"":e+""}))),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(St,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,A=a?null:[],s=a?o+1:r.length;for(i=o<0?s:a?o:0;i<s;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;A.push(t)}return A},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],(function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},g.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var It=i.location,Et={guid:Date.now()},Rt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Tt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,A,s,c,u,l,d,f=[n||y],p=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=A=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),l=P.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!m(n)){for(s=l.delegateType||p,Tt.test(s+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),A=a;A===(n.ownerDocument||y)&&f.push(A.defaultView||A.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?s:l.bindType||p,(u=(Ae.get(a,"events")||Object.create(null))[e.type]&&Ae.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&oe(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!oe(n)||c&&v(n[p])&&!m(n)&&((A=n[c])&&(n[c]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Mt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Mt),P.event.triggered=void 0,A&&(n[c]=A)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each((function(){P.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Lt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,(function(t,r){n||Ft.test(e)?i(e,r):Bt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==k(t))i(e,t);else for(r in t)Bt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,(function(){r(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!Pe.test(e))})).map((function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:n.replace(Lt,"\r\n")}})).get()}});var jt=/%20/g,Vt=/#.*$/,Ut=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Yt={},Gt={},$t="*/".concat("*"),Kt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Jt(e,t,n,i){var r={},o=e===Gt;function a(A){var s;return r[A]=!0,P.each(e[A]||[],(function(e,A){var c=A(t,n,i);return"string"!=typeof c||o||r[c]?o?!(s=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),s}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Xt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Kt.href=It.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,P.ajaxSettings),t):Xt(P.ajaxSettings,e)},ajaxPrefilter:qt(Yt),ajaxTransport:qt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,A,s,c,u,l,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,g=P.Deferred(),v=P.Callbacks("once memory"),m=h.statusCode||{},b={},w={},k="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ht.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)x.always(e[x.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),_(0,t),this}};if(g.promise(x),h.url=((e||h.url||It.href)+"").replace(Wt,It.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){s=y.createElement("a");try{s.href=h.url,s.href=s.href,h.crossDomain=Kt.protocol+"//"+Kt.host!=s.protocol+"//"+s.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Jt(Yt,h,t,x),c)return x;for(l in(u=P.event&&h.global)&&0==P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(jt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Rt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ut,"$1"),d=(Rt.test(r)?"&":"?")+"_="+Et.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&x.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&x.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||c))return x.abort();if(k="abort",v.add(h.complete),x.done(h.success),x.fail(h.error),n=Jt(Gt,h,t,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),c)return x;h.async&&h.timeout>0&&(A=i.setTimeout((function(){x.abort("timeout")}),h.timeout));try{c=!1,n.send(b,_)}catch(e){if(c)throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,a,s){var l,d,y,b,w,k=t;c||(c=!0,A&&i.clearTimeout(A),n=void 0,o=s||"",x.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,r,o,a,A=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in A)if(A[r]&&A[r].test(i)){s.unshift(r);break}if(s[0]in n)o=s[0];else{for(r in n){if(!s[0]||e.converters[r+" "+s[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==s[0]&&s.unshift(o),n[o]}(h,x,a)),!l&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),b=function(e,t,n,i){var r,o,a,A,s,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!s&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=o,o=u.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=c[s+" "+o]||c["* "+o]))for(r in c)if((A=r.split(" "))[1]===o&&(a=c[s+" "+A[0]]||c["* "+A[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=A[0],u.unshift(A[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+o}}}return{state:"success",data:t}}(h,b,x,l),l?(h.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(P.etag[r]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=b.state,d=b.data,l=!(y=b.error))):(y=k,!e&&k||(k="error",e<0&&(e=0))),x.status=e,x.statusText=(t||k)+"",l?g.resolveWith(f,[d,k,x]):g.rejectWith(f,[x,k,y]),x.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?d:y]),v.fireWith(f,[x,k]),u&&(p.trigger("ajaxComplete",[x,h]),--P.active||P.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],(function(e,t){P[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}})),P.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){P(this).wrapInner(e.call(this,t))})):this.each((function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){P(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){P(this).replaceWith(this.childNodes)})),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Zt=P.ajaxSettings.xhr();g.cors=!!Zt&&"withCredentials"in Zt,g.ajax=Zt=!!Zt,P.ajaxTransport((function(e){var t,n;if(g.cors||Zt&&!e.crossDomain)return{send:function(r,o){var a,A=e.xhr();if(A.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)A[a]=e.xhrFields[a];for(a in e.mimeType&&A.overrideMimeType&&A.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)A.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,"abort"===e?A.abort():"error"===e?"number"!=typeof A.status?o(0,"error"):o(A.status,A.statusText):o(Qt[A.status]||A.status,A.statusText,"text"!==(A.responseType||"text")||"string"!=typeof A.responseText?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=t(),n=A.onerror=A.ontimeout=t("error"),void 0!==A.onabort?A.onabort=n:A.onreadystatechange=function(){4===A.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{A.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),P.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),P.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+Et.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,A=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(A||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,A?e[A]=e[A].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Rt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Te([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,A=e.indexOf(" ");return A>-1&&(i=Pt(e.slice(A)),e=e.slice(0,A)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,(function(t){return e===t.elem})).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,A,s,c=P.css(e,"position"),u=P(e),l={};"static"===c&&(e.style.position="relative"),A=u.offset(),o=P.css(e,"top"),s=P.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(s)||0),v(t)&&(t=t.call(e,n,P.extend({},A))),null!=t.top&&(l.top=t.top-A.top+a),null!=t.left&&(l.left=t.left-A.left+r),"using"in t?t.using.call(e,l):u.css(l)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){P.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe}))}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),P.each(["top","left"],(function(e,t){P.cssHooks[t]=et(g.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ke.test(n)?P(e).position()[t]+"px":n}))})),P.each({Height:"height",Width:"width"},(function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),A=n||(!0===r||!0===o?"margin":"border");return ee(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,A):P.style(t,n,r,A)}),t,a?r:void 0,a)}}))})),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){P.fn[t]=function(e){return this.on(t,e)}})),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=A.call(arguments,2),r=function(){return e.apply(t||this,i.concat(A.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=C,P.isFunction=v,P.isWindow=m,P.camelCase=re,P.type=k,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P}))},8552:(e,t,n)=>{var i=n(852)(n(5639),"DataView");e.exports=i},1989:(e,t,n)=>{var i=n(1789),r=n(8792),o=n(7667),a=n(1327),A=n(1866);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=a,s.prototype.set=A,e.exports=s},8407:(e,t,n)=>{var i=n(7040),r=n(4125),o=n(2117),a=n(7518),A=n(4705);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=a,s.prototype.set=A,e.exports=s},7071:(e,t,n)=>{var i=n(852)(n(5639),"Map");e.exports=i},3369:(e,t,n)=>{var i=n(4785),r=n(1285),o=n(6e3),a=n(9916),A=n(5265);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=r,s.prototype.get=o,s.prototype.has=a,s.prototype.set=A,e.exports=s},3818:(e,t,n)=>{var i=n(852)(n(5639),"Promise");e.exports=i},8525:(e,t,n)=>{var i=n(852)(n(5639),"Set");e.exports=i},8668:(e,t,n)=>{var i=n(3369),r=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var i=n(8407),r=n(7465),o=n(3779),a=n(7599),A=n(4758),s=n(4309);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=A,c.prototype.set=s,e.exports=c},2705:(e,t,n)=>{var i=n(5639).Symbol;e.exports=i},1149:(e,t,n)=>{var i=n(5639).Uint8Array;e.exports=i},577:(e,t,n)=>{var i=n(852)(n(5639),"WeakMap");e.exports=i},4963:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},4636:(e,t,n)=>{var i=n(2545),r=n(5694),o=n(1469),a=n(4144),A=n(5776),s=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),l=!n&&!u&&a(e),d=!n&&!u&&!l&&s(e),h=n||u||l||d,f=h?i(e.length,String):[],p=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||A(g,p))||f.push(g);return f}},2488:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var i=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var i=n(2488),r=n(1469);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},4239:(e,t,n)=>{var i=n(2705),r=n(9607),o=n(2333),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},9454:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},939:(e,t,n)=>{var i=n(2492),r=n(7005);e.exports=function e(t,n,o,a,A){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,A))}},2492:(e,t,n)=>{var i=n(6384),r=n(7114),o=n(8351),a=n(6096),A=n(4160),s=n(1469),c=n(4144),u=n(6719),l="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,v){var m=s(e),y=s(t),b=m?d:A(e),w=y?d:A(t),k=(b=b==l?h:b)==h,x=(w=w==l?h:w)==h,_=b==w;if(_&&c(e)){if(!c(t))return!1;m=!0,k=!1}if(_&&!k)return v||(v=new i),m||u(e)?r(e,t,n,p,g,v):o(e,t,b,n,p,g,v);if(!(1&n)){var P=k&&f.call(e,"__wrapped__"),D=x&&f.call(t,"__wrapped__");if(P||D){var C=P?e.value():e,S=D?t.value():t;return v||(v=new i),g(C,S,n,p,v)}}return!!_&&(v||(v=new i),a(e,t,n,p,g,v))}},8458:(e,t,n)=>{var i=n(3560),r=n(5346),o=n(3218),a=n(346),A=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,d=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?d:A).test(a(e))}},8749:(e,t,n)=>{var i=n(4239),r=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},280:(e,t,n)=>{var i=n(5726),r=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},7561:(e,t,n)=>{var i=n(7246),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var i=n(5639)["__core-js_shared__"];e.exports=i},7114:(e,t,n)=>{var i=n(8668),r=n(2908),o=n(4757);e.exports=function(e,t,n,a,A,s){var c=1&n,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,g=2&n?new i:void 0;for(s.set(e,t),s.set(t,e);++f<u;){var v=e[f],m=t[f];if(a)var y=c?a(m,v,f,t,e,s):a(v,m,f,e,t,s);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!r(t,(function(e,t){if(!o(g,t)&&(v===e||A(v,e,n,a,s)))return g.push(t)}))){p=!1;break}}else if(v!==m&&!A(v,m,n,a,s)){p=!1;break}}return s.delete(e),s.delete(t),p}},8351:(e,t,n)=>{var i=n(2705),r=n(1149),o=n(7813),a=n(7114),A=n(8776),s=n(1814),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,l,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=A;case"[object Set]":var f=1&i;if(h||(h=s),e.size!=t.size&&!f)return!1;var p=d.get(e);if(p)return p==t;i|=2,d.set(e,t);var g=a(h(e),h(t),i,c,l,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var i=n(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,A){var s=1&n,c=i(e),u=c.length;if(u!=i(t).length&&!s)return!1;for(var l=u;l--;){var d=c[l];if(!(s?d in t:r.call(t,d)))return!1}var h=A.get(e),f=A.get(t);if(h&&f)return h==t&&f==e;var p=!0;A.set(e,t),A.set(t,e);for(var g=s;++l<u;){var v=e[d=c[l]],m=t[d];if(o)var y=s?o(m,v,d,t,e,A):o(v,m,d,e,t,A);if(!(void 0===y?v===m||a(v,m,n,o,A):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return A.delete(e),A.delete(t),p}},1957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},8234:(e,t,n)=>{var i=n(8866),r=n(9551),o=n(3674);e.exports=function(e){return i(e,o,r)}},5050:(e,t,n)=>{var i=n(7019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var i=n(8458),r=n(7801);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},9607:(e,t,n)=>{var i=n(2705),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,A=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,A),n=e[A];try{e[A]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[A]=n:delete e[A]),r}},9551:(e,t,n)=>{var i=n(4963),r=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,A=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=A},4160:(e,t,n)=>{var i=n(8552),r=n(7071),o=n(3818),a=n(8525),A=n(577),s=n(4239),c=n(346),u="[object Map]",l="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=c(i),g=c(r),v=c(o),m=c(a),y=c(A),b=s;(i&&b(new i(new ArrayBuffer(1)))!=f||r&&b(new r)!=u||o&&b(o.resolve())!=l||a&&b(new a)!=d||A&&b(new A)!=h)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case p:return f;case g:return u;case v:return l;case m:return d;case y:return h}return t}),e.exports=b},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var i=n(4536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},8792:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var i=n(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},1866:(e,t,n)=>{var i=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var i,r=n(4429),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var i=n(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},2117:(e,t,n)=>{var i=n(8470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var i=n(8470);e.exports=function(e){return i(this.__data__,e)>-1}},4705:(e,t,n)=>{var i=n(8470);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},4785:(e,t,n)=>{var i=n(1989),r=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},1285:(e,t,n)=>{var i=n(5050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).get(e)}},9916:(e,t,n)=>{var i=n(5050);e.exports=function(e){return i(this,e).has(e)}},5265:(e,t,n)=>{var i=n(5050);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},4536:(e,t,n)=>{var i=n(852)(Object,"create");e.exports=i},6916:(e,t,n)=>{var i=n(5569)(Object.keys,Object);e.exports=i},1167:(e,t,n)=>{e=n.nmd(e);var i=n(1957),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,A=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=A},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var i=n(1957),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var i=n(8407);e.exports=function(){this.__data__=new i,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var i=n(8407),r=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7246:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:(e,t,n)=>{var i=n(3218),r=n(7771),o=n(4841),a=Math.max,A=Math.min;e.exports=function(e,t,n){var s,c,u,l,d,h,f=0,p=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=s,i=c;return s=c=void 0,f=t,l=e.apply(i,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=u}function b(){var e=r();if(y(e))return w(e);d=setTimeout(b,function(e){var n=t-(e-h);return g?A(n,u-(e-f)):n}(e))}function w(e){return d=void 0,v&&s?m(e):(s=c=void 0,l)}function k(){var e=r(),n=y(e);if(s=arguments,c=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(b,t),p?m(e):l}(h);if(g)return clearTimeout(d),d=setTimeout(b,t),m(h)}return void 0===d&&(d=setTimeout(b,t)),l}return t=o(t)||0,i(n)&&(p=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==d&&clearTimeout(d),f=0,s=h=c=d=void 0},k.flush=function(){return void 0===d?l:w(r())},k}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var i=n(9454),r=n(7005),o=Object.prototype,a=o.hasOwnProperty,A=o.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,"callee")&&!A.call(e,"callee")};e.exports=s},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var i=n(3560),r=n(1780);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},4144:(e,t,n)=>{e=n.nmd(e);var i=n(5639),r=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,A=a&&a.exports===o?i.Buffer:void 0,s=(A?A.isBuffer:void 0)||r;e.exports=s},8446:(e,t,n)=>{var i=n(939);e.exports=function(e,t){return i(e,t)}},3560:(e,t,n)=>{var i=n(4239),r=n(3218);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,n)=>{var i=n(4239),r=n(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},6719:(e,t,n)=>{var i=n(8749),r=n(1717),o=n(1167),a=o&&o.isTypedArray,A=a?r(a):i;e.exports=A},3674:(e,t,n)=>{var i=n(4636),r=n(280),o=n(8612);e.exports=function(e){return o(e)?i(e):r(e)}},7771:(e,t,n)=>{var i=n(5639);e.exports=function(){return i.Date.now()}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},4841:(e,t,n)=>{var i=n(7561),r=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=A.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},7460:function(e,t){var n,i,r;
/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/i=[],n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,r={},o=0,a={parse:function(n,i){var A=(i=i||{}).dynamicTyping||!1;if(w(A)&&(i.dynamicTypingFunction=A,A={}),i.dynamicTyping=A,i.transform=!!w(i.transform)&&i.transform,i.worker&&a.WORKERS_SUPPORTED){var s=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,i,A=(n=t.URL||t.webkitURL||null,i=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),s=new t.Worker(A);return s.onmessage=g,s.id=o++,r[s.id]=s}();return s.userStep=i.step,s.userChunk=i.chunk,s.userComplete=i.complete,s.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,void s.postMessage({input:n,config:i,workerId:s.id})}var h=null;return a.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),h=i.download?new c(i):new l(i)):!0===n.readable&&w(n.read)&&w(n.on)?h=new d(i):(t.File&&n instanceof File||n instanceof Object)&&(h=new u(i)),h.stream(n)},unparse:function(e,t){var n=!1,i=!0,r=",",o="\r\n",A='"',s=A+A,c=!1,u=null,l=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(r=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(A=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(s=t.escapeChar+A),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(l=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var d=new RegExp(f(A),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==typeof e[0])return h(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function h(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var A=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(A&&i){for(var c=0;c<e.length;c++)0<c&&(a+=r),a+=p(e[c],c);0<t.length&&(a+=o)}for(var u=0;u<t.length;u++){var l=A?e.length:t[u].length,d=!1,h=A?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!A&&(d="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&A){for(var f=[],g=0;g<l;g++){var v=s?e[g]:g;f.push(t[u][v])}d=""===f.join("").trim()}if(!d){for(var m=0;m<l;m++){0<m&&!h&&(a+=r);var y=A&&s?e[m]:m;a+=p(t[u][y],m)}u<t.length-1&&(!n||0<l&&!h)&&(a+=o)}}return a}function p(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;l&&"string"==typeof e&&l.test(e)&&(e="'"+e,i=!0);var o=e.toString().replace(d,s);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,a.BAD_DELIMITERS)||-1<o.indexOf(r)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?A+o+A:o}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=p,a.ParserHandle=h,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=l,a.ReadableStreamStreamer=d,t.jQuery){var A=t.jQuery;A.fn.parse=function(e){var n=e.config||{},i=[];return this.each((function(e){if("INPUT"!==A(this).prop("tagName").toUpperCase()||"file"!==A(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:A.extend({},n)})})),r(),this;function r(){if(0!==i.length){var t,n,r,s,c=i[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,r=c.inputElem,s=u.reason,void(w(e.error)&&e.error({name:t},n,r,s));if("skip"===u.action)return void o();"object"==typeof u.config&&(c.instanceConfig=A.extend(c.instanceConfig,u.config))}else if("skip"===u)return void o()}var l=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(l)&&l(e,c.file,c.inputElem),o()},a.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function o(){i.splice(0,1),r()}}}function s(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var A=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=A.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),A&&A.data&&(this._rowCount+=A.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:A,workerId:a.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);A=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!c||!w(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),s.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+r)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),s.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,r)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function l(e){var t;s.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function d(e){s.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,i,r=Math.pow(2,53),o=-r,A=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,s=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,l=0,d=!1,h=!1,g=[],v={data:[],errors:[],meta:{}};if(w(e.step)){var m=e.step;e.step=function(t){if(v=t,x())k();else{if(k(),0===v.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(v.data=v.data[0],m(v,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function k(){return v&&i&&(P("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(v.data=v.data.filter((function(e){return!b(e)}))),x()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;x()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var i,r=e.header?{}:[];for(i=0;i<t.length;i++){var o=i,a=t[i];e.header&&(o=i>=g.length?"__parsed_extra":g[i]),e.transform&&(a=e.transform(a,o)),a=_(o,a),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(a)):r[o]=a}return e.header&&(i>g.length?P("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+i,l+n):i<g.length&&P("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+i,l+n)),r}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),l+=n,v}()}function x(){return e.header&&0===g.length}function _(t,n){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(A.test(e)){var t=parseFloat(e);if(o<t&&t<r)return!0}return!1}(n)?parseFloat(n):s.test(n)?new Date(n):""===n?null:n):n;var i}function P(e,t,n,i){var r={type:e,code:t,message:n};void 0!==i&&(r.row=i),v.errors.push(r)}this.parse=function(r,o,A){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),i=(e=e.replace(n,"")).split("\r"),r=e.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var a=0,A=0;A<i.length;A++)"\n"===i[A][0]&&a++;return a>=i.length/2?"\r\n":"\r"}(r,s)),i=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(r),v.meta.delimiter=e.delimiter);else{var c=function(t,n,i,r,o){var A,s,c,u;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var l=0;l<o.length;l++){var d=o[l],h=0,f=0,g=0;c=void 0;for(var v=new p({comments:r,delimiter:d,newline:n,preview:10}).parse(t),m=0;m<v.data.length;m++)if(i&&b(v.data[m]))g++;else{var y=v.data[m].length;f+=y,void 0!==c?0<y&&(h+=Math.abs(y-c),c=y):c=y}0<v.data.length&&(f/=v.data.length-g),(void 0===s||h<=s)&&(void 0===u||u<f)&&1.99<f&&(s=h,A=d,u=f)}return{successful:!!(e.delimiter=A),bestDelimiter:A}}(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(i=!0,e.delimiter=a.DefaultDelimiter),v.meta.delimiter=e.delimiter}var u=y(e);return e.preview&&e.header&&u.preview++,t=r,n=new p(u),v=n.parse(t,o,A),k(),d?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(d=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),v.meta.aborted=!0,w(e.complete)&&e.complete(v),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(e){var t,n=(e=e||{}).delimiter,i=e.newline,r=e.comments,o=e.step,A=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,l=!1;this.parse=function(a,d,h){if("string"!=typeof a)throw new Error("Input must be a string");var p=a.length,g=n.length,v=i.length,m=r.length,y=w(o),b=[],k=[],x=[],_=u=0;if(!a)return G();if(e.header&&!d){var P=a.split(i)[0].split(n),D=[],C={},S=!1;for(var I in P){var E=P[I];w(e.transformHeader)&&(E=e.transformHeader(E,I));var R=E,T=C[E]||0;for(0<T&&(S=!0,R=E+"_"+T),C[E]=T+1;D.includes(R);)R=R+"_"+T;D.push(R)}if(S){var M=a.split(i);M[0]=D.join(n),a=M.join(i)}}if(s||!1!==s&&-1===a.indexOf(t)){for(var F=a.split(i),L=0;L<F.length;L++){if(x=F[L],u+=x.length,L!==F.length-1)u+=i.length;else if(h)return G();if(!r||x.substring(0,m)!==r){if(y){if(b=[],H(x.split(n)),$(),l)return G()}else H(x.split(n));if(A&&A<=L)return b=b.slice(0,A),G(!0)}}return G()}for(var N=a.indexOf(n,u),O=a.indexOf(i,u),B=new RegExp(f(c)+f(t),"g"),j=a.indexOf(t,u);;)if(a[u]!==t)if(r&&0===x.length&&a.substring(u,u+m)===r){if(-1===O)return G();u=O+v,O=a.indexOf(i,u),N=a.indexOf(n,u)}else if(-1!==N&&(N<O||-1===O))x.push(a.substring(u,N)),u=N+g,N=a.indexOf(n,u);else{if(-1===O)break;if(x.push(a.substring(u,O)),Y(O+v),y&&($(),l))return G();if(A&&b.length>=A)return G(!0)}else for(j=u,u++;;){if(-1===(j=a.indexOf(t,j+1)))return h||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),W();if(j===p-1)return W(a.substring(u,j).replace(B,t));if(t!==c||a[j+1]!==c){if(t===c||0===j||a[j-1]!==c){-1!==N&&N<j+1&&(N=a.indexOf(n,j+1)),-1!==O&&O<j+1&&(O=a.indexOf(i,j+1));var V=z(-1===O?N:Math.min(N,O));if(a.substr(j+1+V,g)===n){x.push(a.substring(u,j).replace(B,t)),a[u=j+1+V+g]!==t&&(j=a.indexOf(t,u)),N=a.indexOf(n,u),O=a.indexOf(i,u);break}var U=z(O);if(a.substring(j+1+U,j+1+U+v)===i){if(x.push(a.substring(u,j).replace(B,t)),Y(j+1+U+v),N=a.indexOf(n,u),j=a.indexOf(t,u),y&&($(),l))return G();if(A&&b.length>=A)return G(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),j++}}else j++}return W();function H(e){b.push(e),_=u}function z(e){var t=0;if(-1!==e){var n=a.substring(j+1,e);n&&""===n.trim()&&(t=n.length)}return t}function W(e){return h||(void 0===e&&(e=a.substring(u)),x.push(e),u=p,H(x),y&&$()),G()}function Y(e){u=e,H(x),x=[],O=a.indexOf(i,u)}function G(e){return{data:b,errors:k,meta:{delimiter:n,linebreak:i,aborted:l,truncated:!!e,cursor:_+(d||0)}}}function $(){o(G()),b=[],k=[]}},this.abort=function(){l=!0},this.getCharIndex=function(){return u}}function g(e){var t=e.data,n=r[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){i=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(w(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!i);a++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!i&&v(t.workerId,t.results)}function v(e,t){var n=r[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete r[e]}function m(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=y(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=a.parse(n.input,n.config);i&&t.postMessage({workerId:a.WORKER_ID,results:i,finished:!0})}}),(c.prototype=Object.create(s.prototype)).constructor=c,(u.prototype=Object.create(s.prototype)).constructor=u,(l.prototype=Object.create(l.prototype)).constructor=l,(d.prototype=Object.create(s.prototype)).constructor=d,a},void 0===(r="function"==typeof n?n.apply(t,i):n)||(e.exports=r)},1551:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i=function(){function t(n,i){e(this,t),this.counter=0,this.modes={iframe:"iframe",popup:"popup"},this.standards={strict:"strict",loose:"loose",html5:"html5"};var r={mode:this.modes.iframe,standard:this.standards.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!0,extraCss:"",extraHead:"",retainAttr:["id","class","style"]};this.settings=Object.assign({},r,i),this.idPrefix="printArea_",this.ele=1===n.nodeType?n:document.querySelector(n)}return n(t,[{key:"print",value:function(){var e=this;this.counter++;for(var t=document.querySelectorAll("[id^="+this.idPrefix+"]");t.length;)t[0].parentNode.removeChild(t[0]),t=document.querySelectorAll("[id^="+this.idPrefix+"]");this.settings.id=this.idPrefix+this.counter;var n=this.getPrintWindow();this.write(n.doc,this.ele),setTimeout((function(){e.windowPrint(n)}),1e3)}},{key:"windowPrint",value:function(e){var t=e.win;t.focus(),t.print(),this.settings.mode===this.modes.popup&&this.settings.popClose&&setTimeout((function(){t.close()}),1e3)}},{key:"write",value:function(e,t){e.open(),e.write(this.docType()+"<html>"+this.getHead()+this.getBody(t)+"</html>"),e.close()}},{key:"docType",value:function(){return this.settings.mode===this.modes.iframe?"":this.settings.standard===this.standards.html5?"<!DOCTYPE html>":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+(this.settings.standard===this.standards.loose?" Transitional":"")+'//EN" "http://www.w3.org/TR/html4/'+(this.settings.standard===this.standards.loose?"loose":"strict")+'.dtd">'}},{key:"getHead",value:function(){var e="";this.settings.extraHead&&this.settings.extraHead.replace(/([^,]+)/g,(function(t){e+=t}));var t=document.querySelectorAll("link");return t=Array.from(t).filter((function(e){var t=e.getAttribute("rel");return t&&"stylesheet"===t.toLowerCase()})).filter((function(e){var t=e.getAttribute("media");return!t||"print"===t.toLowerCase()||"all"===t.toLowerCase()})).map((function(e){var t=e.getAttribute("href");return'<link type="text/css" rel="stylesheet" href="'.concat(t,'" >')})),this.settings.extraCss&&this.settings.extraCss.replace(/([^,\s]+)/g,(function(t){e+='<link type="text/css" rel="stylesheet" href="'+t+'">'})),"<head><title>"+this.settings.popTitle+"</title>"+e+t.join()+"</head>"}},{key:"getBody",value:function(e){var t="",n=this.settings.retainAttr,i=this.getFormData(e),r="";return n.forEach((function(e){var t=i.getAttribute(e);t&&(r+=(r.length>0?" ":"")+e+"='"+t+"'")})),"<body>"+(t+="<div "+r+">"+i.innerHTML+"</div>")+"</body>"}},{key:"getFormData",value:function(e){var t=e.cloneNode(!0),n=t.querySelectorAll("input,select,textarea");return Array.from(e.querySelectorAll("input,select,textarea")).forEach((function(e,t){var i=e.getAttribute("type");if(!i){var r=e.nodeName;i="SELECT"===r?"select":"TEXTAREA"===r?"textarea":""}var o=n[t];if("radio"===i||"checkbox"===i)o.removeAttribute("checked"),e.checked&&o.setAttribute("checked",!0);else if("text"===i||""===i)o.setAttribute("value",e.textContent);else if("select"===i){var a=e.querySelectorAll("option"),A=o.querySelectorAll("option");Array.from(a).forEach((function(e,t){A[t].removeAttribute("selected"),e.selected&&A[t].setAttribute("selected",!0)}))}else"textarea"===i&&(o.textContent=e.value)})),t}},{key:"getPrintWindow",value:function(){switch(this.settings.mode){case this.modes.iframe:var e=this.Iframe();return{win:e.contentWindow||e,doc:e.doc};case this.modes.popup:var t=this.Popup();return{win:t,doc:t.doc}}}},{key:"Iframe",value:function(){var e,t=this.settings.id,n="border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;";try{e=document.createElement("iframe"),document.body.appendChild(e),e.setAttribute("style",n),e.setAttribute("id",t),e.setAttribute("src","#"+(new Date).getTime()),e.doc=null,e.doc=e.contentDocument?e.contentDocument:e.contentWindow?e.contentWindow.document:e.document}catch(e){throw e+". iframes may not be supported in this browser."}if(null==e.doc)throw"Cannot find document.";return e}},{key:"Popup",value:function(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+this.settings.popWd+",height="+this.settings.popHt,e+=",resizable=yes,screenX="+this.settings.popX+",screenY="+this.settings.popY+",personalbar=no,scrollbars=yes";var t=window.open("","_blank",e);return t.doc=t.document,t}}]),t}();return window.PrintArea=i,i}()},3522:(e,t,n)=>{var i=n(5852);"string"==typeof i&&(i=[[e.id,i,""]]);var r={hmr:!0,transform:undefined,insertInto:void 0};n(6723)(i,r);i.locals&&(e.exports=i.locals)},6723:(e,t,n)=>{var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),A=function(e){return document.querySelector(e)},s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=A.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,u=0,l=[],d=n(1947);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var A=[];for(a=0;a<i.parts.length;a++)A.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:A}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],A={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(A):n.push(i[a]={id:a,parts:[A]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=v(t)),i=k.bind(null,n,a,!1),r=k.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),i=_.bind(null,n,t),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),i=x.bind(null,n),r=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(A=o[a.id]).refs--,i.push(A)}e&&h(f(e,t),t);for(r=0;r<i.length;r++){var A;if(0===(A=i[r]).refs){for(var s=0;s<A.parts.length;s++)A.parts[s]();delete o[A.id]}}}};var b,w=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function k(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),A=e.href;e.href=URL.createObjectURL(a),A&&URL.revokeObjectURL(A)}},1947:e=>{e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},342:(e,t,n)=>{"use strict";n.d(t,{$j:()=>s,Ak:()=>l,YS:()=>u,dN:()=>A,kr:()=>o,si:()=>d});var i=n(3638),r=n(5171);function o(e){if("number"!=typeof e)throw new TypeError("Unexpected color value:"+e);if(e<0)return-1;var t=e.toString(16),n=6;for(e>16777215&&(n=8);t.length<n;)t="0"+t;return"#"+t}var a=Math.pow(2,24);function A(e){var t;return e<16777216?t=255:(t=e/a&255,e&=16777215),{r:e>>16&255,g:e>>8&255,b:255&e,a:t}}function s(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,A="";if(e>4294967295)throw new Error("Incorrect color");switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":t=(16711680&e[1])>>16,n=(65280&e[1])>>8,i=255&e[1];break;case"T":t=0,n=0,i=0,a=0;break;case"G":t=n=i=255*e[1];break;case"RGB":t=255*e[1],n=255*e[2],i=255*e[3];break;case"CMYK":t=(1-e[4])*(1-e[1])*255,n=(1-e[4])*(1-e[2])*255,i=(1-e[4])*(1-e[3])*255;break;case"r":t=+(r=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],n=+r[2],i=+r[3];var s=r[4];void 0!==s&&(a=+s);break;case"#":var c=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;r=e.match(c),t=parseInt(r[1],16),n=parseInt(r[2],16),i=parseInt(r[3],16);break;default:throw new Error("Unsupported color format")}switch(o){case"HTML":A=t===n&&n===i&&-1===i?"transparent":"rgba("+parseInt(t)+","+parseInt(n)+","+parseInt(i)+","+a+")";break;case"RGB":A=["RGB",t/255,n/255,i/255];break;case"#":A+=t<16?"#0"+t.toString(16):"#"+t.toString(16),A+=n<16?"0"+n.toString(16):n.toString(16),A+=i<16?"0"+i.toString(16):i.toString(16);break;case"int":A=0,A|=(a*=255)<<24,A|=t<<16,A|=n<<8,A|=i,A>>>=0;break;case"CMYK":var u=255-t,l=255-n,d=255-i;return["CMYK",u/255,l/255,d/255,Math.min(u,l,d)/255];case"GRAY":return["GRAY",(.3*t+.59*n+.11*i)/255]}return A}var c=4278190080;function u(e){switch(void 0===e?"undefined":(0,r._)(e)){case"number":if(e<=16777215)return c+e;if(e>16777215)return e;break;case"string":if((e=e.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(e,16);if(e.match(/^[0-9A-F]{6}$/i))return c+parseInt(e,16);if(e.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var t=(0,i._)(e.split(/\D+/).map((function(e){return parseInt(e)})),4),n=t[1],o=t[2],a=t[3];return c+(n<<16)+(o<<8)+a}if(e.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var A=(0,i._)(e.split(/\D+/).map((function(e){return parseInt(e)})),5),s=A[1],u=A[2],l=A[3],d=A[4];return Math.floor(d*c)+(s<<16)+(u<<8)+l}}throw new Error('incorrect color format: "'.concat(e,'"'))}function l(e){return["RGB",((16711680&e)>>16)/255,((65280&e)>>8)/255,(255&e)/255]}function d(e){return 0===e?"transparent":s(16777215&e,"#")}},4157:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ApplicationContextImpl:()=>ui,Aspect:()=>so,BROWSER_DETECTION:()=>Bt,BasicIoCStrategy:()=>ei,BrowserInfo:()=>o,BuiltinIntersectionObserver:()=>ir,CLIPBOARD_DATA_TYPES:()=>Ao,Color:()=>co,DEVICE_DETACTION:()=>ae,DebounceAsyncTaskExecutor:()=>v,DebounceTaskExecutor:()=>gr,Defer:()=>Qo,DeviceInfo:()=>i,Disposable:()=>ai,EDITABLE_ELEMENT_SHORTCUTS:()=>_i,ExecutionContext:()=>m,IOC_SHARED_SINGLETON:()=>rn,IOC_SINGLETON:()=>on,IoCScope:()=>nn,KEYBOARD_LOCATION:()=>N,KeyCodes:()=>si,KeyboardImpl:()=>Ri,KeyboardUtils:()=>r,Lazy:()=>en,Log_Levels:()=>a,Logger:()=>Ln,LoggerFactory:()=>Gn,MODULE_LICENSE_INFO:()=>lo,NoLogger:()=>Nn,PrototypeIoCStrategy:()=>oi,Proxy:()=>E,QueuedAsyncTaskExecutor:()=>y,Reflect:()=>R,SHARED_STRATEGY:()=>ri,STANDARD_HTML_ELEMENTS:()=>ho,SYSTEM_DEFAULT_SHORTCUTS:()=>xi,Shortcut:()=>ki,ShortcutContextImpl:()=>Ii,ShortcutEventApportunity:()=>Di,ShortcutEventImpl:()=>Ci,SingletonIoCStrategy:()=>ti,Store:()=>di,ThrottleAsyncTaskExecutor:()=>w,ThrottleTaskStatus:()=>g,TrustedPointerEventInput:()=>na,ValueStore:()=>hi,Watcher:()=>wo,addClass:()=>cr,appOnly:()=>Vi,assertThat:()=>an,attachContextMenuEvent:()=>rr,attachKeypressEvent:()=>Xe,browser:()=>s,checkHighContrast:()=>xo,colorConvertor:()=>ko.$j,config:()=>Rn,convertFromNumberToHex:()=>ko.kr,convertFromNumberToJSColor:()=>ko.Ak,convertFromNumberToRGBA:()=>ko.dN,copyText:()=>Xi,createClass:()=>Ar,createClickEvent:()=>et,createDOM:()=>mo,createDeferred:()=>p,createFocusEvent:()=>tt,cssText:()=>hr,cursorIndex2Pos:()=>Xo,dayjs:()=>io,debounce:()=>vr,diffRender:()=>Po,dom:()=>po,doms:()=>go,dpr:()=>Wi,escapeXMLValue:()=>va,eventPath:()=>Qi,excludeCommandInterceptor:()=>Mi,excludeEditableElementInterceptor:()=>Li,extToMimeType:()=>ji,extendOptions:()=>yr,focusNeedBeOn:()=>Oi,getCanvasPixelRatio:()=>er,getClientX:()=>Gt,getClientY:()=>$t,getClipboardData:()=>Zo,getCursorIndex:()=>Jo,getCursorPositionOfEditableElement:()=>qo,getDPI:()=>Gi,getKey:()=>Ue,getPtPxRatio:()=>$i,getPxPtRatio:()=>Ki,getTransparentOrColor:()=>ko.si,getUniqueId:()=>L,includeCommandInterceptor:()=>Ti,interceptors:()=>A,invokeAddDestroyHook:()=>Qn,invokeAllInjected:()=>Kn,invokeDestroy:()=>Jn,invokeInjected:()=>qn,invokePullout:()=>Xn,is360:()=>Mt,isAliAppBrowser:()=>K,isAllSimilar:()=>_n,isAlt:()=>Se,isAltLeft:()=>Ie,isAltRight:()=>Ee,isAndroid:()=>W,isBaidu:()=>Ct,isBlackBerry:()=>Y,isChrome:()=>mt,isChromebook:()=>oe,isChromiumEdge:()=>vt,isCloseTo:()=>xn,isCtrl:()=>ke,isCtrlLeft:()=>xe,isCtrlRight:()=>_e,isDefined:()=>pn,isDesktop:()=>Q,isDocument:()=>zo,isEdge:()=>ft,isEditable:()=>kr,isEditableElement:()=>Fi,isElement:()=>Pr,isEnd:()=>Be,isEnter:()=>Fe,isFirefox:()=>wt,isFullscreen:()=>_o,isFunction:()=>gn,isGecko:()=>bt,isHTMLElement:()=>Ho,isHome:()=>Oe,isHuawei:()=>te,isHuaweiBrowser:()=>Rt,isIE:()=>lt,isIE10:()=>dt,isIE10Compact:()=>Ot,isIE8:()=>Ft,isIE8Compact:()=>Lt,isIE9Compact:()=>Nt,isIEAtLeast11:()=>ht,isIOS:()=>V,isIOSChrome:()=>Tt,isIPAD:()=>H,isIPHONE:()=>U,isIPOD:()=>z,isInCloseRange:()=>yn,isInLeftCloseRange:()=>bn,isInOpenRange:()=>kn,isInRightCloseRange:()=>wn,isInteger:()=>cn,isKey:()=>Ve,isKindle:()=>$,isLazy:()=>Zn,isLiebao:()=>It,isLinux:()=>ne,isMac:()=>j,isMacOS:()=>re,isMatch:()=>ye,isMaxthon:()=>kt,isMeta:()=>Re,isMetaLeft:()=>Te,isMetaRight:()=>Me,isMiPad:()=>Z,isMiuiBrowser:()=>Et,isMobile:()=>X,isNumber:()=>An,isNumberInRange:()=>dn,isNumpadEnter:()=>Ne,isOpera:()=>pt,isQQ:()=>_t,isQuirksMode:()=>xt,isRunningInBrowser:()=>nr,isRunningInWorker:()=>tr,isSafari:()=>yt,isSamePoint:()=>fn,isShift:()=>Pe,isShiftLeft:()=>De,isShiftPressedKey:()=>qe,isShiftRight:()=>Ce,isSougou:()=>Dt,isSpace:()=>je,isSquaredNumber:()=>un,isStandardEnter:()=>Le,isString:()=>vn,isTablet:()=>J,isTeamsAndroid:()=>q,isTouchDevice:()=>O,isUC:()=>St,isValidNumber:()=>sn,isValidRange:()=>mn,isValidRotationAngle:()=>ln,isWeChat:()=>Pt,isWebOS:()=>G,isWebkit:()=>gt,isWindowObject:()=>_r,isWindows:()=>ie,isXiaomi:()=>ee,keyCodeToKey:()=>$e,keyboardStatus:()=>Qe,match:()=>me,matchers:()=>we,mix:()=>ia,moduleType:()=>Lo,moveCursorOfContentEditable:()=>Ko,moveCursorOfTextInput:()=>$o,moveCursorTo:()=>Yo,moveCursorToEnd:()=>Wo,moveCursorToEndOfTextInput:()=>Go,noop:()=>h,notImplemented:()=>Bn,observeResize:()=>Dr,onTap:()=>jt,preventDefaultInterceptor:()=>Ni,preventFastClickByKeydown:()=>Wt,readFromClipboard:()=>ca,removeClass:()=>ur,replaceInvalidXMLCharacters:()=>ga,setAttrs:()=>fr,setLogLevel:()=>Mn,setThemeColor:()=>Bo,simulateKey:()=>Je,singletonCreator:()=>sr,standardColorAsARGBNumber:()=>ko.YS,stopPropagationOnShortcutEvent:()=>Yt,strLogLevel2Num:()=>Tn,toggleClassByFlag:()=>lr,toggleLogOff:()=>Fn,unsupported:()=>Sr,useJQuery:()=>ao});var i={};n.r(i),n.d(i,{DEVICE_DETACTION:()=>ae,isAliAppBrowser:()=>K,isAndroid:()=>W,isBlackBerry:()=>Y,isChromebook:()=>oe,isDesktop:()=>Q,isHuawei:()=>te,isIOS:()=>V,isIPAD:()=>H,isIPHONE:()=>U,isIPOD:()=>z,isKindle:()=>$,isLinux:()=>ne,isMac:()=>j,isMacOS:()=>re,isMiPad:()=>Z,isMobile:()=>X,isTablet:()=>J,isTeamsAndroid:()=>q,isTouchDevice:()=>O,isWebOS:()=>G,isWindows:()=>ie,isXiaomi:()=>ee});var r={};n.r(r),n.d(r,{KEYBOARD_LOCATION:()=>N,getKey:()=>Ue,isAlt:()=>Se,isAltLeft:()=>Ie,isAltRight:()=>Ee,isCtrl:()=>ke,isCtrlLeft:()=>xe,isCtrlRight:()=>_e,isEnd:()=>Be,isEnter:()=>Fe,isHome:()=>Oe,isKey:()=>Ve,isMatch:()=>ye,isMeta:()=>Re,isMetaLeft:()=>Te,isMetaRight:()=>Me,isNumpadEnter:()=>Ne,isShift:()=>Pe,isShiftLeft:()=>De,isShiftPressedKey:()=>qe,isShiftRight:()=>Ce,isSpace:()=>je,isStandardEnter:()=>Le,keyCodeToKey:()=>$e,match:()=>me,matchers:()=>we,simulateKey:()=>Je});var o={};n.r(o),n.d(o,{BROWSER_DETECTION:()=>Bt,is360:()=>Mt,isBaidu:()=>Ct,isChrome:()=>mt,isChromiumEdge:()=>vt,isEdge:()=>ft,isFirefox:()=>wt,isGecko:()=>bt,isHuaweiBrowser:()=>Rt,isIE:()=>lt,isIE10:()=>dt,isIE10Compact:()=>Ot,isIE8:()=>Ft,isIE8Compact:()=>Lt,isIE9Compact:()=>Nt,isIEAtLeast11:()=>ht,isIOSChrome:()=>Tt,isLiebao:()=>It,isMaxthon:()=>kt,isMiuiBrowser:()=>Et,isOpera:()=>pt,isQQ:()=>_t,isQuirksMode:()=>xt,isSafari:()=>yt,isSougou:()=>Dt,isUC:()=>St,isWeChat:()=>Pt,isWebkit:()=>gt});var a={};n.r(a),n.d(a,{LEVEL_DEBUG:()=>Dn,LEVEL_ERROR:()=>In,LEVEL_INFO:()=>Cn,LEVEL_WARN:()=>Sn});var A={};n.r(A),n.d(A,{excludeCommandInterceptor:()=>Mi,excludeEditableElementInterceptor:()=>Li,focusNeedBeOn:()=>Oi,includeCommandInterceptor:()=>Ti,preventDefaultInterceptor:()=>Ni});var s={};n.r(s),n.d(s,{copyText:()=>Xi,dpr:()=>Wi,eventPath:()=>Qi,getCanvasPixelRatio:()=>er,getDPI:()=>Gi,getPtPxRatio:()=>$i,getPxPtRatio:()=>Ki,isRunningInBrowser:()=>nr,isRunningInWorker:()=>tr});var c=n(4375),u=n(6721),l=n(7327),d=n(6699);function h(){}var f=n(5136);function p(){return new function e(){var t=this;(0,c._)(this,e),(0,f._)(this,"promise",void 0),(0,f._)(this,"resolve",void 0),(0,f._)(this,"reject",void 0),(0,f._)(this,"isSettled",!1),this.promise=new Promise((function(e,n){t.resolve=function(n){t.isSettled=!0,e(n)},t.reject=function(e){t.isSettled=!0,n(e)}}))}}var g,v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),this.lastTaskPromise=Promise.resolve(),this.interval=t,this.pending=!1,this.leading=n,this.flag=0,this.cancelLast=h,this.currentTaskFn=h}return(0,u._)(e,[{key:"invokeTask",value:function(e){var t=this,n=e();return(0,l._)(n,Promise)?n.finally((function(){t.pending=!1})):(this.pending=!1,Promise.resolve(n))}},{key:"exec",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.flag++,this.currentTaskFn=(t=e).bind.apply(t,[r].concat((0,d._)(i)));var o=this.currentTaskFn;if(this.pending)return this.lastTaskPromise;this.leading&&(this.lastTaskPromise=this.lastTaskPromise.finally((function(){return o()})),this.currentTaskFn=h);var a=p(),A=function(){n.pending=!0,n.lastTaskPromise=n.lastTaskPromise.finally((function(){var e=setTimeout((function(){if(n.flag>0)n.flag=0,clearTimeout(e),A();else{var t=n.currentTaskFn();(0,l._)(t,Promise)?t=t.finally((function(){n.pending=!1})):n.pending=!1,a.resolve(t)}}),n.interval)}))};return A(),a.promise}},{key:"waitForLastTask",value:function(e){return this.lastTaskPromise||Promise.resolve(e)}},{key:"cancel",value:function(){this.currentTaskFn=h}},{key:"destroy",value:function(){this.cancel()}}]),e}(),m=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"task",void 0),(0,f._)(this,"cancelled",void 0),(0,f._)(this,"defer",void 0),this.task=t,this.cancelled=!1,this.defer=p()}return(0,u._)(e,[{key:"cancel",value:function(){this.defer.resolve(),this.cancelled=!0}},{key:"isCancelled",value:function(){return this.cancelled}},{key:"promise",get:function(){return this.defer.promise}},{key:"reject",value:function(e){this.defer.reject(e)}},{key:"resolve",value:function(e){this.defer.resolve(e)}}]),e}(),y=function(){function e(){(0,c._)(this,e),(0,f._)(this,"executing",void 0),(0,f._)(this,"insertions",[]),(0,f._)(this,"executions",[]),(0,f._)(this,"isRunning",!1)}return(0,u._)(e,[{key:"notifyExecute",value:function(){var e=this;if(!this.isRunning){this.isRunning=!0;var t=function(){var n,i=e.getAndPopNextExecution();if(i){var r=null===(n=e.executing)||void 0===n?void 0:n.promise,o=function(){if(e.executing=i,i.isCancelled())t();else{var n=i.task;Promise.resolve(function(){try{return n()}catch(e){return Promise.reject(e)}}()).then((function(e){i.resolve(e)}),(function(e){i.reject(e)})).finally((function(){t()}))}};r?r.then(o,o):o()}else e.isRunning=!1};t()}}},{key:"execTasks",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return this.waitForCurrentRunningTasks();var n,i,r=e.map((function(e){return new m(b(e))}));t?(n=this.executions).unshift.apply(n,(0,d._)(r)):(i=this.executions).push.apply(i,(0,d._)(r));var o=r[r.length-1].promise;return this.notifyExecute(),o}},{key:"execInverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return this.exec(e,t,n,!0)}},{key:"exec",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=("number"==typeof n?Array(n).fill(0).map((function(e,t){return[t]})):n).map((function(n){return(t=e).bind.apply(t,[i].concat((0,d._)(n)))}));return this.execTasks(o,r)}},{key:"insert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t.map(b).map((function(e){return new m(e)}));(i=this.insertions).push.apply(i,(0,d._)(r));var o=Promise.all(r.map((function(e){return e.promise})));return this.notifyExecute(),o}},{key:"resume",value:function(){}},{key:"cancel",value:function(){var e;this.insertions.forEach((function(e){e.cancel()})),this.executions.forEach((function(e){e.cancel()})),null===(e=this.executing)||void 0===e||e.cancel()}},{key:"waitForCurrentRunningTasks",value:function(){var e=this.insertions.concat(this.executions);return this.executing&&e.push(this.executing),Promise.all(e.map((function(e){return e.promise})))}},{key:"waitUntilQuiet",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise((function(n){var i=function(){setTimeout((function(){e.executions.length>0?i():n(e.waitForCurrentRunningTasks())}),t)};i()}))}},{key:"getRunningTaskCount",value:function(){return this.executions.filter((function(e){return!e.isCancelled()})).length}},{key:"getAndPopNextExecution",value:function(){var e;return this.insertions.length>0?(e=this.insertions[0],this.insertions.shift()):this.executions.length>0&&(e=this.executions[0],this.executions.shift()),e}}]),e}();function b(e){return"function"==typeof e?e:e.context?Array.isArray(e.args)?(t=e.task).bind.apply(t,[e.context].concat((0,d._)(e.args))):e.task.bind(e.context):e.task;var t}!function(e){e.IDLE="idle",e.RUNNING="running",e.CANCELLED="cancelled"}(g||(g={}));var w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),(0,f._)(this,"interval",void 0),(0,f._)(this,"retainLastTask",void 0),(0,f._)(this,"status",void 0),(0,f._)(this,"lastCompleteTime",void 0),(0,f._)(this,"lastTaskPromise",void 0),(0,f._)(this,"retainTaskTimmerId",void 0),this.interval=t,this.retainLastTask=n,this.status="idle",this.lastCompleteTime=0,this.lastTaskPromise=Promise.resolve()}return(0,u._)(e,[{key:"exec",value:function(e,t,n){var i=this,r=function(){if("cancelled"!==i.status){i.status="running";var r=e.apply(n,t||[])||Promise.resolve();i.lastTaskPromise=r.finally((function(){i.lastCompleteTime=Date.now(),"cancelled"!==i.status&&(i.status="idle")}))}else i.status="idle"},o=Date.now();if("idle"===this.status)if(o-this.lastCompleteTime>=this.interval){var a=function(){return r(),i.lastTaskPromise};return this.lastTaskPromise.then(a,a)}return this.retainLastTask?new Promise((function(e){clearTimeout(i.retainTaskTimmerId);var t=i.interval-(Date.now()-i.lastCompleteTime)%i.interval;i.retainTaskTimmerId=setTimeout((function(){r(),e(i.lastTaskPromise)}),t)})):this.lastTaskPromise}},{key:"waitForLastTask",value:function(){return this.lastTaskPromise}},{key:"cancel",value:function(){this.status="cancelled"}},{key:"isRunning",value:function(){return"running"===this.status}}]),e}(),k=n(6147),x=n(216);Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(e){return Object.getOwnPropertyNames(e).reduce((function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t}),{})});var _=["isProxy","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","apply","arguments","bind","call","caller",Symbol.hasInstance,"valueOf","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__"],P=["toSource","watch","unwatch"];function D(e,t){try{delete e[t]}catch(n){e[t]=void 0}}var C=_.concat(["length","name","prototype"]),S="origin",I="$proxy_class_symbol_"+Date.now().toString(32),E=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"getNoopConstructor",value:function(e){function t(){}return t.prototype=Object.create(e.prototype),t}},{key:"getProxyClass",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0};if(r){n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,c._)(this,n),(i=t.call(this))[S]=e,i}return n}(this.getNoopConstructor(e)),n[I]=!0}else{n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.apply(this,arguments)}return n}("function"==typeof i?i:this.getNoopConstructor(e));var a=this.getStaticDescriptors(e);Object.defineProperties(n,a),n[I]=!0}var A=this.getClassDescriptors(e.prototype);if("function"==typeof t){var s=function(e){var n=A[e];if(!n||!o(e,n))return"continue";if("function"==typeof n.value){var i=n.value;n.value=r?function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this[S],i,r,e,"method")}:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.call(this,this,i,r,e,"method")}}if("function"==typeof n.get){var a=n.get;n.get=r?function(){return a.call(this[S])}:function(){return t.call(this,this,null,[],e,"getter")}}if("function"==typeof n.set){var s=n.set;n.set=r?function(e){s.call(this[S],e)}:function(n){return t.call(this,this,null,[n],e,"setter")}}};for(var u in A)s(u)}return Object.defineProperties(n.prototype,A),n}},{key:"isProxyClass",value:function(e){return"function"==typeof e&&e.hasOwnProperty(I)}},{key:"getProxyObject",value:function(e,t,n){if(null==e)throw new Error("Cannot proxy a null or undefined object");var i=e.constructor;return new(this.getProxyClass(i,t,i,!0,n))(e)}},{key:"getStaticDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,n=function e(t){if(t===Object||t===Function||!t)return{};var n=Object.getPrototypeOf(t),i=e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach((function(e){D(n,e)})),P.forEach((function(t){e[t]===Function.prototype[t]&&D(n,t)})),n}},{key:"getClassDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=function e(t){if("object"!=typeof t||null===t)return{};var n=Object.getPrototypeOf(t),i=n===t?{}:e(n);return Object.assign(i,Object.getOwnPropertyDescriptors(t))}(e);return t.forEach((function(e){D(n,e)})),P.forEach((function(t){e[t]===Object.prototype[t]&&D(n,t)})),n}}]),e}();var R=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"isSubClassOf",value:function(e,t){return"function"==typeof e&&"function"==typeof t&&(0,l._)(e.prototype,t)}},{key:"isOverrided",value:function(e,t,n){for(var i=t.prototype;;){var r=i.constructor;if(!r||r===e||r===Object)return!1;if(Object.prototype.hasOwnProperty.call(i,n))return!E.isProxyClass(r);i=Object.getPrototypeOf(i)}}},{key:"mixin",value:function(e,t){var n=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.apply(this,arguments)}return n}(e),i=E.getStaticDescriptors(t);Object.defineProperties(n,i);var r=E.getClassDescriptors(t.prototype);return n.prototype=Object.create(n.prototype,r),n}}]),e}();var T=n(5171),M="unique_"+Date.now(),F=0;const L=function(e){return[e||"",M,F++].join("_")};var N,O=function(){if("undefined"==typeof window)return!1;var e=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&(0,l._)(document,DocumentTouch))||function(e){return!!window.matchMedia&&window.matchMedia(e).matches}(["(",e.join("touch-enabled),("),"heartz",")"].join(""))}(),B=navigator.userAgent.toLowerCase(),j=/macintosh|mac os x/.test(B),V=/ipad|iphone|ipod/.test(B),U=/iphone/.test(B),H=/ipad/.test(B),z=/ipod/.test(B),W=/android/.test(B),Y=/blackberry/.test(B),G=/webos/.test(B),$=/silk|kindle/.test(B),K=/aliapp/.test(B),q=/teamsmobile-android/.test(B),J=!K&&/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(B),X=(!J||q)&&(/mobile/.test(B)||V||W||Y||G||$),Q=!(X||J||W||U||H||z||$||G),Z=/(MI(.*|\s*)PAD).*/i.test(B),ee=!Z&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(B),te=/HUAWEI/i.test(navigator.userAgent),ne=/Linux/i.test(B),ie=!ne&&/Windows(\s+NT)?/i.test(B),re=/MacIntosh|(mac os)/i.test(B),oe=/(cros\s|chromebook)/i.test(B),ae={mac:j,ios:V,iphone:U,ipad:H,ipod:z,android:W,blackberry:Y,webos:G,kindle:$,tablet:J,mobile:X,desktop:Q,xiaomi:ee,huawei:te,touch:O,linux:ne,windows:ie,macos:re,chromebook:oe},Ae=1,se=2,ce=3,ue=0;!function(e){e[e.LEFT=KeyboardEvent.DOM_KEY_LOCATION_LEFT]="LEFT",e[e.RIGHT=KeyboardEvent.DOM_KEY_LOCATION_RIGHT]="RIGHT",e[e.STANDARD=KeyboardEvent.DOM_KEY_LOCATION_STANDARD]="STANDARD",e[e.NUMPAD=KeyboardEvent.DOM_KEY_LOCATION_NUMPAD]="NUMPAD"}(N||(N={}));var le=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"isMatch",void 0),this.isMatch=t}return(0,u._)(e,[{key:"match",value:function(){return this.isMatch}}]),e}(),de=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,u._)(e,[{key:"match",value:function(e){return this.keys.some((function(t){return"string"==typeof t?Ve(e,t):"boolean"==typeof t?t:t.match(e)}))}}]),e}(),he=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"callback",void 0),this.callback=t}return(0,u._)(e,[{key:"match",value:function(e){return this.callback(e)}}]),e}(),fe=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"keys",void 0),this.keys=t}return(0,u._)(e,[{key:"match",value:function(e){return this.keys.every((function(t){return"string"==typeof t?Ve(e,t):"boolean"==typeof t?t:t.match(e)}))}}]),e}(),pe=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"key",void 0),this.key=t}return(0,u._)(e,[{key:"match",value:function(e){return Ve(e,this.key)}}]),e}();KeyboardEvent.prototype.getModifierState||(KeyboardEvent.prototype.getModifierState=function(e){switch(e){case"Control":return this.ctrlKey;case"Shift":return this.shiftKey;case"Alt":return this.altKey;case"Meta":return this.metaKey}return!1});var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c._)(this,e),(0,f._)(this,"event",void 0),(0,f._)(this,"detectors",void 0),(0,f._)(this,"interrupted",void 0),this.event=t,this.detectors=n,this.interrupted=!1}return(0,u._)(e,[{key:"switchers",value:function(e){return this.ctrl(e).shift(e).meta(e).alt(e)}},{key:"ctrl",value:function(e){var t=this;return Ke(e)?this.detectors.control=function(){return t.event.getModifierState("Control")===e}:delete this.detectors.control,this}},{key:"filter",value:function(e){var t=this;return"function"==typeof e&&(this.detectors[L("filter")]=function(){return e.call(t,t.event)}),this}},{key:"shift",value:function(e){var t=this;return Ke(e)?this.detectors.shift=function(){return t.event.getModifierState("Shift")===e}:delete this.detectors.shift,this}},{key:"capsLock",value:function(e){var t=this;return Ke(e)?this.detectors.capsLock=function(){return t.event.getModifierState("CapsLock")===e}:delete this.detectors.capsLock,this}},{key:"meta",value:function(e){var t=this;return Ke(e)?this.detectors.meta=function(){return t.event.metaKey===e}:delete this.detectors.meta,this}},{key:"alt",value:function(e){var t=this;return Ke(e)?this.detectors.alt=function(){return t.event.getModifierState("Alt")===e}:delete this.detectors.alt,this}},{key:"mod",value:function(e){return j?this.meta(e):this.ctrl(e)}},{key:"location",value:function(e){var t=this;return this.detectors.location=function(){return ze(t.event)===e},this}},{key:"standard",value:function(){return this.location(N.STANDARD)}},{key:"numpad",value:function(){return this.location(N.NUMPAD)}},{key:"left",value:function(){return this.location(N.LEFT)}},{key:"right",value:function(){return this.location(N.RIGHT)}},{key:"run",value:function(e){this.passed()&&(!1===e(this.event)&&(this.interrupted=!0));return this.clone()}},{key:"key",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=new de(n.map((function(e){switch(void 0===e?"undefined":(0,T._)(e)){case"string":return we.key(e);case"boolean":return new le(e)}return e})));return this.detectors.keys=function(){return r.match(e.event)},this}},{key:"when",value:function(e,t){var n;return Array.isArray(e)?(n=this.clone()).key.apply(n,(0,d._)(e)).run(t):this.clone().key(e).run(t)}},{key:"clone",value:function(){return this.interrupted?new ve(this.event,{}):new e(this.event,Object.assign({},this.detectors))}},{key:"passed",value:function(){return!this.interrupted&&!Object.values(this.detectors).some((function(e){return!e()}))}}]),e}(),ve=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.apply(this,arguments)}return(0,u._)(n,[{key:"switchers",value:function(){return this}},{key:"ctrl",value:function(){return this}},{key:"shift",value:function(){return this}},{key:"capsLock",value:function(){return this}},{key:"meta",value:function(){return this}},{key:"alt",value:function(){return this}},{key:"location",value:function(){return this}},{key:"standard",value:function(){return this}},{key:"numpad",value:function(){return this}},{key:"left",value:function(){return this}},{key:"right",value:function(){return this}},{key:"run",value:function(){return this}},{key:"key",value:function(){return this}},{key:"when",value:function(){return this}}]),n}(ge);function me(e){return new ge(e)}function ye(e,t){var n=new ge(e),i=!1;return n.when(t,(function(){i=!0})),i}var be=function(e){return new pe(e)},we={or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new de(t)},key:be,and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fe(t)},Space:new he(je),Home:new he(Oe),End:new he(Be),Enter:new he(Fe),StandardEnter:new he(Le),NumpadEnter:new he(Ne),Tab:be("Tab"),CapsLock:be("CapsLock"),PageUp:be("PageUp"),PageDown:be("PageDown"),ArrowUp:be("ArrowUp"),ArrowDown:be("ArrowDown"),ArrowLeft:be("ArrowLeft"),ArrowRight:be("ArrowRight"),BackSpace:be("Backspace"),Delete:be("Delete"),Escape:be("Escape"),F1:be("F1"),F2:be("F2"),F3:be("F3"),F4:be("F4"),F5:be("F5"),F6:be("F6"),F7:be("F7"),F8:be("F8"),F9:be("F9"),F10:be("F10"),F11:be("F11"),F12:be("F12")};function ke(e){return xe(e)||_e(e)}function xe(e){return He(e,"Control",Ae)}function _e(e){return He(e,"Control",se)}function Pe(e){return De(e)||Ce(e)}function De(e){return He(e,"Shift",Ae)}function Ce(e){return He(e,"Shift",se)}function Se(e){return Ie(e)||Ee(e)}function Ie(e){return He(e,"Alt",Ae)}function Ee(e){return He(e,"Alt",se)}function Re(e){return Te(e)||Me(e)}function Te(e){return He(e,"Meta",Ae)}function Me(e){return He(e,"Meta",se)}function Fe(e){return Le(e)||Ne(e)}function Le(e){return He(e,"Enter",ue)}function Ne(e){return He(e,"Enter",ce)}function Oe(e){return He(e,"Home",ue)}function Be(e){return He(e,"End",ue)}function je(e){return Ve(e," ")}function Ve(e,t){return Ue(e)===t}function Ue(e){return We(e)?e.key:$e(e.keyCode,e.shiftKey)}function He(e,t,n){if(void 0!==n&&ze(e)!==n)return!1;var i=e.key;return We(e)||(i=$e(e.keyCode,e.shiftKey)),i===t}function ze(e){return void 0===e.location?e.keyLocation:e.location}function We(e){return void 0!==e.key}var Ye={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",189:"_",187:"+",219:"{",220:"|",221:"}",186:":",222:'"',188:"<",190:">",191:"?",192:"~"},Ge={192:"`",191:"/",190:".",189:"-",188:",",220:"\\",222:"'",186:";",221:"]",219:"[",187:"=",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",27:"Escape",9:"Tab",20:"CapsLock",16:"Shift",17:"Control",91:"Meta",18:"Alt",32:" ",33:"PageUp",34:"PageDown",38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",13:"Enter",8:"Backspace",46:"Delete",45:"Insert",35:"End",36:"Home",144:"NumLock",111:"/",106:"*",109:"-",107:"+",110:".",96:0,97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};function $e(e,t){if(e>=65&&e<=90){var n=String.fromCharCode(e);return t?n.toUpperCase():n}return e>=48&&e<=57?t?Ye[e]:String.fromCharCode(e):t?Ye[e]:Ge[e]}function Ke(e){return"boolean"==typeof e}function qe(e){return"string"==typeof Ye[e.keyCode]&&e.shiftKey}function Je(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},r=i.ctrlKey,o=i.shiftKey,a=i.altKey,A=i.metaKey,s=document.createEvent("KeyboardEvent");(s.initKeyboardEvent?s.initKeyboardEvent:s.initEvent).call(s,t,!0,!0,window,r,a,o,A,n,n,0),e.dispatchEvent(s)}function Xe(e,t,n,i){var r=!1,o=function(e){!r&&ye(e,n)&&(r=!0)},a=function(e){r&&ye(e,n)&&(r=!1,t(e))},A=function(e){((0,l._)(e,FocusEvent)||ye(e,n))&&(r=!1)};return e.addEventListener("keydown",o,i),e.addEventListener("keyup",a,i),document.addEventListener("keyup",A),window.addEventListener("blur",A),function(){e.removeEventListener("keydown",o,i),e.removeEventListener("keyup",a,i),document.removeEventListener("keyup",A),window.removeEventListener("blur",A)}}var Qe=new(function(){function e(){(0,c._)(this,e),this._ctrl=!1,this._shift=!1,this._win=!1,this._alt=!1,this._capsLock=!1,this._bindEvent()}return(0,u._)(e,[{key:"_bindEvent",value:function(){var e=this;window.addEventListener("keydown",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),!1),window.addEventListener("keyup",(function(t){e._shift=16!==t.keyCode&&e._shift,e._alt=18!==t.keyCode&&e._alt,e._ctrl=17!==t.keyCode&&e._ctrl,e._win=91!==t.keyCode&&e._win,e._capsLock=20!==t.keyCode&&e._capsLock}),!1),window.addEventListener("mousemove",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),{capture:!0}),window.addEventListener("wheel",(function(t){e._ctrl=t.ctrlKey,e._shift=t.shiftKey,e._alt=t.altKey,e._win=t.metaKey,e._capsLock=!!t.getModifierState&&t.getModifierState("CapsLock")}),{capture:!0})}},{key:"isCtrl",get:function(){return this._ctrl}},{key:"isCtrlDown",get:function(){return this._ctrl}},{key:"isShift",get:function(){return this._shift}},{key:"isShiftDown",get:function(){return this._shift}},{key:"isWin",get:function(){return this._win}},{key:"isWinDown",get:function(){return this._win}},{key:"isAlt",get:function(){return this._alt}},{key:"isAltDown",get:function(){return this._alt}},{key:"isCapsLock",get:function(){return this._capsLock}}]),e}());const Ze=Qe;function et(e){var t=document.createEvent("MouseEvent"),n=(0,l._)(e,MouseEvent)?e:{screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null},i=n.screenX,r=n.screenY,o=n.clientX,a=n.clientY,A=n.button,s=n.relatedTarget;return t.initMouseEvent("click",(null==e?void 0:e.bubbles)||!1,(null==e?void 0:e.cancelable)||!1,window,(null==e?void 0:e.detail)||-1,i,r,o,a,(null==e?void 0:e.ctrlKey)||Ze.isCtrl,(null==e?void 0:e.altKey)||Ze.isAlt,(null==e?void 0:e.shiftKey)||Ze.isShift,(null==e?void 0:e.metaKey)||Ze.isWin,A||0,s),t.isFake=!0,Object.defineProperties(t,{srcElement:{get:function(){return null==e?void 0:e.srcElement}},fromElement:{get:function(){return null==e?void 0:e.fromElement}},target:{get:function(){return null==e?void 0:e.target}},toElement:{get:function(){return null==e?void 0:e.toElement}}}),t}function tt(e){var t=document.createEvent("FocusEvent");return t.initEvent("focus",!0,!1),Object.defineProperties(t,{target:{get:function(){return e}}}),t}var nt=navigator.userAgent.toLowerCase(),it=/opera|opr/.test(nt),rt=/msie/.test(nt),ot=/trident/.test(nt),at=/\sapplewebkit\//.test(nt),At=/chrome/.test(nt),st=/safari/.test(nt),ct=/firefox/.test(nt),ut=/edg\//.test(nt),lt=(ot||rt)&&!it&&"msSaveBlob"in navigator,dt=lt&&function(){var e=nt.match(/msie ([\d\.]+)/);return!!e&&10===parseInt(e[1])}(),ht=!rt&&ot&&!it,ft=nt.indexOf("edge")>-1,pt=it,gt=at,vt=!pt&&At&&!!window.chrome&&ut,mt=/crios/.test(nt)||!pt&&At&&!!window.chrome&&!ut,yt=!/huawei/.test(nt)&&!pt&&st&&!At,bt="Gecko"==navigator.product&&!gt&&!pt,wt=!mt&&!pt&&!yt&&ct,kt=/maxthon/.test(nt),xt="BackCompact"==document.CompactMode,_t=/tencenttraveler/.test(nt)||/qqbrowser/.test(nt),Pt=/wechat/.test(nt),Dt=/metasr/.test(nt)||/sogou/.test(nt),Ct=/baidubrowser/.test(nt),St=/ucbrowser/.test(nt),It=/liebao/.test(nt),Et=/miuibrowser/.test(nt),Rt=/huaweibrowser/.test(nt)||/huaweialp/.test(nt),Tt=/crios/.test(nt),Mt=function(){if(_t||St||Dt||Et||It||kt)return!1;if(-1===nt.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var i in n)if(n[i][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}(),Ft=!!document.documentMode&&document.documentMode<8,Lt=8==document.documentMode,Nt=9==document.documentMode,Ot=10==document.documentMode,Bt={ie:lt,ieAtLeast11:ht,edge:ft,"chromium-edge":vt,opera:pt,webkit:gt,chrome:mt,safari:yt,gecko:bt,firefox:wt,maxthon:kt,quirksMode:xt,"quirks-mode":xt,qq:_t,wechat:Pt,sougou:Dt,baidu:Ct,liebao:It,uc:St,miui:Et,huawei:Rt,360:Mt};function jt(e){var t=e.target,n=e.onDoubleTap,i=e.onSingleTap,r=e.interval,o=void 0===r?300:r,a=e.preventDefault,A=void 0!==a&&a,s=e.stopPropagation,c=void 0!==s&&s;(0,l._)(t,HTMLElement)&&(t.style.cssText+="\n                    touch-action: none;\n                ");var u=0,d=null;function h(e){u=Date.now(),d=[e.clientX,e.clientY]}t.addEventListener("pointerdown",h);var f,p=0,g=0,v=0;function m(e){if(u=Date.now()-u,clearTimeout(f),"function"==typeof A?A(e)&&e.preventDefault():A&&e.preventDefault(),"function"==typeof c?c(e)&&e.stopPropagation():c&&e.stopPropagation(),0===v)if(1===p){p=0;var r=Date.now();r-g<=o&&(n.call(t,Vt(e,o)),g=0),g=r}else g=Date.now(),p=1,new Promise((function(e){f=setTimeout(e,o)})).then((function(){(p=0,g=0,i&&u<o&&d)&&(Math.sqrt(Math.pow(Math.abs(d[0]-e.clientX),2)+Math.pow(Math.abs(d[1]-e.clientY),2))<5&&i.call(t,Vt(e,o)))}))}var y="pointerup";(V&&mt||void 0===window.PointerEvent)&&(y="mouseup");var b=function(e){v=(0,l._)(e,TouchEvent)?e.touches.length:0};return t.addEventListener("touchend",b),t.addEventListener(y,m),function(){t.removeEventListener(y,m),t.removeEventListener("touchend",b),t.removeEventListener("pointerdown",h)}}function Vt(e,t){return{angle:0,deltaTime:t,deltaX:0,deltaY:0,direction:1,distance:0,eventType:4,isFinal:!0,isFirst:!1,maxPointers:1,offsetDirection:1,center:{x:e.clientX,y:e.clientY},changedPointers:[e],overallVelocity:0,overallVelocityX:0,overallVelocityY:0,pointerType:"mouse",pointers:[],preventDefault:function(){return e.preventDefault()},stopPropagation:function(){return e.stopPropagation()},rotation:0,scale:1,srcEvent:e,tapCount:2,target:e.target,timeStamp:e.timeStamp,type:"doubletap",velocity:0,velocityX:0,velocityY:0}}var Ut=we.or,Ht=we.Enter,zt=we.Space;function Wt(e){var t=!1,n=function(e){ye(e,Ut(Ht,zt))&&(t&&e.preventDefault(),t=!0)},i=function(e){((0,l._)(e,FocusEvent)||ye(e,Ut(Ht,zt)))&&(t=!1)};return document.addEventListener("keyup",i,!0),window.addEventListener("blur",i),e.addEventListener("keydown",n,{capture:!0}),function(){document.removeEventListener("keyup",i,!0),window.removeEventListener("blur",i),e.removeEventListener("keydown",n,{capture:!0})}}function Yt(e,t,n,i){var r=function(e){ye(e,n)&&e.stopPropagation()};return e.addEventListener(t,r,i),function(){e.removeEventListener(t,r,i)}}function Gt(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}throw new Error("Unexpected event type: ".concat(e.type))}function $t(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}throw new Error("Unexpected event type: ".concat(e.type))}var Kt=n(4702),qt=n(2834),Jt=n(6841),Xt={},Qt="__lazy__",Zt=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"properties",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i in n){var r=n[i];"function"==typeof r&&e.property(t,i,r)}}},{key:"property",value:function(t,n,i){var r=Xt;Object.getOwnPropertyDescriptor(t,Qt)||Object.defineProperty(t,Qt,{value:{},enumerable:!1,configurable:!1});var o=t[Qt][n]||{};t[Qt][n]=o,o.initialized=!1;var a=!1;Object.defineProperty(t,n,{get:function(){if(!o.initialized){if(a)throw new Error("The lazy property is not initialized and cannot be accessed at this time");a=!0;try{r=i()}catch(e){throw a=!1,e}o.initialized=!0,Promise.resolve().then((function(){(o.callbacks||[]).forEach((function(e){e(r)}))})),a=!1}return r},enumerable:!0,configurable:!0});var A=function(){e.release(t,n)};return"function"===t.addDestroyHook&&t.addDestroyHook(A),A}},{key:"value",value:function(t){var n="lazy_variable_"+Math.ceil(Math.random()*Date.now()).toString(34),i={};return e.property(i,n,t),{reset:function(){return e.reset(i,n)},get value(){return i[n]},get initialized(){return e.isPropertyIntialized(i,n)}}}},{key:"loadProperty",value:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&n.get)return n.get.call(e)}},{key:"release",value:function(e,t){Qt in e&&!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&delete e[Qt][t],Object.defineProperty(e,t,{get:function(){},enumerable:!1,configurable:!0})}},{key:"reset",value:function(e,t){var n=e[Qt];if(n){var i=n[t];i&&(i.initialized=!1)}}},{key:"isPropertyIntialized",value:function(e,t){var n=e[Qt];return!!(n&&n[t]&&n[t].initialized)}},{key:"hasProperty",value:function(e,t){var n=e[Qt];return!(!n||!(t in n))}},{key:"notNullProperty",value:function(t,n,i){return e.property(t,n,(function(){var r=i();return null==r&&e.reset(t,n),r}))}},{key:"get",value:function(t,n,i){e.isPropertyIntialized(t,n)&&i(t[n])}},{key:"onInitialized",value:function(t,n,i){if(e.isPropertyIntialized(t,n))return i(t[n]),function(){};var r=t[Qt][n]||{};return t[Qt][n]=r,r.callbacks=r.callbacks||[],r.callbacks.push(i),function(){var e=r.callbacks.indexOf(i);e>-1&&r.callbacks.splice(e,1)}}}]),e}();const en=Zt;function tn(e){var t=e.services,n=e.inject||t;if("function"==typeof n){var i=n.call(e);return Array.isArray(i)?i.reduce((function(e,t,n){return e["service"+n]=t,e}),{}):"function"==typeof i?{service0:i}:i}return{}}var nn,rn="SHARED-SINGLETON",on="SINGLETON";function an(e,t){if(!e)throw new Error(t)}function An(e){return"number"==typeof e}function sn(e){return An(e)&&isFinite(e)}function cn(e){return An(e)&&Math.floor(e)===e}function un(e){return Math.pow(Math.floor(e),2)!==e}function ln(e){return(e%360+360)%360%90==0}function dn(e,t,n){return(arguments.length>3&&void 0!==arguments[3]&&arguments[3]?e>=t:e>t)&&(arguments.length>4&&void 0!==arguments[4]&&arguments[4]?e<=n:e<n)}function hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<n}function fn(e,t){return hn(e.x,t.x)&&hn(e.y,t.y)}function pn(e){return null!=e}function gn(e){return"function"==typeof e}function vn(e){return"string"==typeof e}function mn(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e<=t:e<t}function yn(e,t,n){return!!An(t)&&(!!An(n)&&(!(t>n)&&(e>=t&&e<=n)))}function bn(e,t,n){return!!An(t)&&(!!An(n)&&(!(t>n)&&(e>=t&&e<n)))}function wn(e,t,n){return!!An(t)&&(!!An(n)&&(!(t>n)&&(e>t&&e<=n)))}function kn(e,t,n){return!!An(t)&&(!!An(n)&&(!(t>n)&&(e>t&&e<n)))}function xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return Math.abs(e-t)<n}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.reduce((function(e,t){return e+t}))/n.length;return-1===n.findIndex((function(t){return t-r>e}))}function Pn(e){var t=e.scope;return gn(t)&&t.call(e)||nn.SINGLETON}!function(e){e.SHARED_SINGLETON="SHARED-SINGLETON",e.SINGLETON="SINGLETON",e.PROTOTYPE="PROTOTYPE"}(nn||(nn={}));var Dn=0,Cn=2,Sn=4,In=8;const En=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"format",value:function(e,t,n){return[{type:"string",value:"[".concat(this.levelText(t),"]")},{type:"string",value:"{".concat(e,"}")}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":(0,T._)(e),value:e+""}:{type:void 0===e?"undefined":(0,T._)(e),value:e}})))}},{key:"levelText",value:function(e){switch(e){case Dn:return"DEBUG";case Cn:return"INFO";case Sn:return"WARN";case In:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var Rn={logLevel:Tn("warn"),logLayout:"complex",logAppenders:["console"]||0,logOff:!1,setLogLevel:Mn,toggleLogOff:Fn};function Tn(e){switch(e){case"debug":return Dn;case"info":return Cn;case"warn":return Sn;default:return In}}function Mn(e){switch(e){case Dn:case Cn:case Sn:case In:Rn.logLevel=e}}function Fn(e){Rn.logOff="boolean"==typeof e?e:!Rn.logOff}var Ln=function(){function e(t,n,i){(0,c._)(this,e),this.appender=t,this.layout=n,this.module=i,this.logOff=!1}return(0,u._)(e,[{key:"getMinLevel",value:function(){return void 0===this.minLevel?Rn.logLevel:this.minLevel}},{key:"toggle",value:function(e){this.logOff="boolean"==typeof e?e:!this.logOff}},{key:"setLevel",value:function(e){this.minLevel=e}},{key:"doLog",value:function(e,t){if(!this.isLogOff(e)){var n=this.layout.format(this.module,e,t);this.appender.print(n,e)}}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.doLog(e,n)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(Dn,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(Cn,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(Sn,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.doLog(In,t)}},{key:"isLogOff",value:function(e){return this.logOff||Rn.logOff||e<this.getMinLevel()}}]),e}(),Nn=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.apply(this,arguments)}return(0,u._)(n,[{key:"doLog",value:function(){}}]),n}(Ln);const On=Ln;const Bn=function(e){throw new Error("Method not implemented".concat(e?":"+e:""))};const jn=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"print",value:function(e,t){Bn(e,t)}}]),e}();var Vn=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.apply(this,arguments)}return(0,u._)(n,[{key:"print",value:function(e,t){var n=e.map((function(e){return"string"!==e.type?" %o":" %c"+e.value})).join("").trim(),i=e.map((function(e){return"string"===e.type?e.style:e.value}));switch(i.splice(0,0,n),t){case Dn:var r;(r=console).debug.apply(r,(0,d._)(i));break;case Cn:var o;(o=console).info.apply(o,(0,d._)(i));break;case Sn:var a;(a=console).warn.apply(a,(0,d._)(i));break;case In:var A;(A=console).error.apply(A,(0,d._)(i));break;default:var s;(s=console).log.apply(s,(0,d._)(i))}}}]),n}(jn);const Un=Vn;const Hn=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,[{key:"format",value:function(e,t,n){var i,r=this,o=(new Error).stack;o&&(i="\n  "+o.split("\n")[4].trim());return[{type:"string",style:"color: ".concat(this.levelColor(t),";"),value:"[".concat(this.levelText(t),"]")},{type:"string",style:"color: magenta",value:"{".concat(e,"}")}].concat(n.map((function(e){return null==e?{type:void 0===e?"undefined":(0,T._)(e),style:"color: megenta;font-weight: bold",value:e+""}:"string"==typeof e?{type:void 0===e?"undefined":(0,T._)(e),style:"color: ".concat(r.levelColor(t)),value:e}:{type:void 0===e?"undefined":(0,T._)(e),value:e}}))).concat({type:"string",style:"color: grey;",value:i})}},{key:"levelColor",value:function(e){switch(e){case Dn:return"blue";case Cn:return"green";case Sn:return"#FCDCA0";case In:return"red"}return"#000"}},{key:"levelText",value:function(e){switch(e){case Dn:return"DEBUG";case Cn:return"INFO";case Sn:return"WARN";case In:return"ERROR"}return"UNKNOWN LEVEL"}}]),e}();var zn=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,c._)(this,n),(i=t.call(this)).appenders=e||[],i}return(0,u._)(n,[{key:"print",value:function(e,t){this.appenders.forEach((function(n){return n.print(e,t)}))}}]),n}(jn);const Wn=zn;var Yn={},Gn=function(){function e(){(0,c._)(this,e)}return(0,u._)(e,null,[{key:"toggleLogger",value:function(e){Fn(e)}},{key:"setLogLevel",value:function(e){Mn(e)}},{key:"getLogger",value:function(e){return Yn[e]=Yn[e]||this.createLogger(e)}},{key:"createLogger",value:function(e){var t,n;if("complex"===Rn.logLayout)t=new Hn;else t=new En;return n=Rn.logAppenders.map((function(e){switch(e){case"console":return new Un;case"websocket":return new WebsocketAppender}})).filter((function(e){return(0,l._)(e,jn)})),new On(new Wn(n),t,e)}}]),e}();const $n=Gn;function Kn(e){gn(e.serviceInjected)&&(e.serviceInjected(),e.serviceInjected=h),gn(e.allInjected)&&(e.allInjected(),e.allInjected=h)}function qn(e,t,n){gn(e.injected)&&e.injected(t,n)}function Jn(e){gn(e.destroy)&&e.destroy()}function Xn(e,t){gn(e.pullout)&&e.pullout(t)}function Qn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;gn(e.addDestroyHook)&&(r=e).addDestroyHook.apply(r,(0,d._)(n))}function Zn(e){return!!gn(e.isLazy)&&e.isLazy()}var ei=function(){function e(){(0,c._)(this,e),(0,f._)(this,"map",new Map)}return(0,u._)(e,[{key:"getComponentInstance",value:function(e,t){if(vn(e))return this.map.get(e);var n=e.$$ioc_instance_name;if(vn(n)&&this.map.has(n))return this.map.get(n);e.length>0&&$n.getLogger(this+"").warn("Relying on other object instances through constructors is not a good practice",e);var i=1===e.length?new e(t):new e;return this.saveComponentInstance(e,i),i}},{key:"saveComponentInstance",value:function(e,t){var n;if(vn(e)?n=e:(n=e.$$ioc_instance_name||this.generateInstanceName(),e.$$ioc_instance_name=n),this.map.has(n))throw new Error("[IoC] An unknown error has occurred: Duplicate requests to create instances of the same type: (".concat(e,")!"));this.map.set(n,t)}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&Qn(i,(function(){Xn(n,r)}))}},{key:"destroyComponents",value:function(){this.map.forEach((function(e){Jn(e)})),this.map.clear()}},{key:"define",value:function(e){}}]),e}(),ti=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"singleton",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return(0,c._)(this,n),e=t.call(this),(0,f._)((0,Kt._)(e),"name",void 0),(0,f._)((0,Kt._)(e),"level",void 0),e.name=i,e.level=r,e}return(0,u._)(n,[{key:"generateInstanceName",value:function(){return L(this.name)}},{key:"registerComponentInstance",value:function(e){var t=e.constructor;this.saveComponentInstance(t,e)}},{key:"registerComponentInstanceByName",value:function(e,t){this.saveComponentInstance(t,e)}}]),n}(ei),ni="object"==typeof window?window:globalThis,ii=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){return(0,c._)(this,n),t.call(this,"shared",1/0)}return(0,u._)(n,[{key:"destroyComponents",value:function(){}}]),n}(ti),ri=ni.__SHARED_IOC_STRATEGY__||new ii;ni.__SHARED_IOC_STRATEGY__=ri;var oi=function(){function e(){(0,c._)(this,e),(0,f._)(this,"level",Number.MIN_SAFE_INTEGER)}return(0,u._)(e,[{key:"getComponentInstance",value:function(e,t){return new e}},{key:"onInject",value:function(e){var t=e.targetStrategy,n=e.injectInto,i=e.component,r=e.propertyName;t.level>this.level&&Qn(i,(function(){Xn(n,r)}))}},{key:"destroyComponents",value:function(){}},{key:"define",value:function(){}}]),e}(),ai=function(){function e(){(0,c._)(this,e),this.destroyHooks=[],this.isDestroyed=!1}return(0,u._)(e,[{key:"ownsTo",value:function(t){if(!(0,l._)(t,e))throw new Error("Cannot owns to non Disposable instance");var n=t.addDestroyHook(this);this.addDestroyHook(n)}},{key:"addDestroyHook",value:function(){for(var t,n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=this.destroyHooks).push.apply(t,(0,d._)(r.filter((function(t){if("function"!=typeof t&&!(0,l._)(t,e))throw new Error("[Illegal Argument] Invalid destroy hook:".concat(t,", It's not a function!"));return!0})))),function(){r.forEach((function(e){var t=n.destroyHooks.indexOf(e);t>-1&&n.destroyHooks.splice(t,1)}))}}},{key:"destroy",value:function(){this.destroyHooks.slice(0).forEach((function(t){try{"function"==typeof t?t():(0,l._)(t,e)&&t.destroy()}catch(e){throw e}})),this.destroyHooks=[],this.isDestroyed=!0}}]),e}();const Ai=ai;var si,ci=L("$$ioc-component-instance-initialized"),ui=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,c._)(this,n),e=t.call(this),(0,f._)((0,Kt._)(e),"strategies",new Map),e.setStrategy(nn.SHARED_SINGLETON,ri),e.setStrategy(nn.PROTOTYPE,new oi),e.setStrategy(nn.SINGLETON,new ti),e}return(0,u._)(n,[{key:"define",value:function(e){var t=Pn(e),n=this.getStrategy(t);null==n||n.define(e)}},{key:"getInstanceByClass",value:function(e,t){if(this.isDestroyed)throw new Error("IoC has been destroyed!");if("string"==typeof e){var n=this.getStrategy(nn.SINGLETON).getComponentInstance(e,t);return n&&this.initInstance(n)}if("function"==typeof e){var i=Pn(e),r=this.getStrategy(i).getComponentInstance(e,t);return this.initInstance(r)}}},{key:"initInstance",value:function(e){var t=function(t){if(en.hasProperty(e,t))return"continue";if(t in e&&e[t])throw new Error("Unable to inject instance, the same property name(".concat(t,") already exists in target instance."));en.property(e,t,(function(){var a=Pn(i),A=tn(i),s=n.getStrategy(a);if(s.level<o.level)throw new Error("[IoC] Instances of scope '".concat(r,"' cannot depend on scope '").concat(a,"'"));var c=n.getInstanceByClass(A[t],e);if(!c)throw new Error("Unexpected ioc component class ".concat(A[t],", name: ").concat(t,", owner: ").concat(e));return qn(e,t,c),o.onInject({component:c,injectInto:e,propertyName:t,targetStrategy:s}),c})),Zn(i)||en.loadProperty(e,t)},n=this;if(this.isDestroyed)throw new Error("IoC has been destroyed!");if(!e||!e.constructor)throw new Error("".concat(e," is not a valid IoC Component instance!"));if(e[ci])return e;Object.defineProperty(e,ci,{get:function(){return!0},configurable:!1,enumerable:!1});var i=e.constructor,r=Pn(i),o=this.getStrategy(r),a=tn(i);for(var A in a)t(A);return Kn(e),e}},{key:"setStrategy",value:function(e,t){this.strategies.set(e,t)}},{key:"getStrategy",value:function(e){var t=this.strategies.get(e);if(!t)throw new Error("[IoC] Incorrect scope: ".concat(e));return t}},{key:"hasStrategy",value:function(e){return this.strategies.has(e)}},{key:"destroy",value:function(){(0,qt._)((0,Jt._)(n.prototype),"destroy",this).call(this),this.strategies.forEach((function(e){e.destroyComponents()}))}}]),n}(Ai);!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.ContextMenu=93]="ContextMenu",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.F13=124]="F13",e[e.F14=125]="F14",e[e.F15=126]="F15",e[e.F16=127]="F16",e[e.F17=128]="F17",e[e.F18=129]="F18",e[e.F19=130]="F19",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.US_SEMICOLON=186]="US_SEMICOLON",e[e.US_EQUAL=187]="US_EQUAL",e[e.US_COMMA=188]="US_COMMA",e[e.US_MINUS=189]="US_MINUS",e[e.US_DOT=190]="US_DOT",e[e.US_SLASH=191]="US_SLASH",e[e.US_BACKTICK=192]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=219]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=220]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=221]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=222]="US_QUOTE",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=112]="KEY_IN_COMPOSITION",e[e.ABNT_C1=113]="ABNT_C1",e[e.ABNT_C2=114]="ABNT_C2"}(si||(si={}));var li=Promise.resolve(),di=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,c._)(this,n),e=t.call(this),(0,f._)((0,Kt._)(e),"__data",{}),(0,f._)((0,Kt._)(e),"subscribers",{}),(0,f._)((0,Kt._)(e),"reducers",[]),(0,f._)((0,Kt._)(e),"filters",[]),e.addDestroyHook((function(){e.reducers.length=0,e.filters.length=0,e.subscribers={},e.clear()})),e}return(0,u._)(n,[{key:"getCurrentValue",value:function(e,t){if(arguments.length>1&&!this.has(e))return t;var n=this.__data[e];return this.reducers.reduce((function(t,n){return n(t,e)}),n)}},{key:"forEach",value:function(e){if("function"!=typeof e)throw new Error((void 0===e?"undefined":(0,T._)(e))+" is not a function!");for(var t in this.__data)e(this.getCurrentValue(t),t)}},{key:"has",value:function(e){return e in this.__data}},{key:"dispatch",value:function(e,t){var n=this;if(this.isDestroyed)return li;this.__data[e]=t;var i=this.subscribers[e]||[],r=this.getCurrentValue(e),o=0===this.filters.length||this.filters.some((function(e){return e(t)}));return o&&i.length?Promise.all(i.slice(0).map((function(t){return t.call(n,r,e)}))):li}},{key:"unDispatch",value:function(e){this.remove(e)}},{key:"remove",value:function(e){this.isDestroyed||(delete this.__data[e],this.subscribers[e]=[])}},{key:"subscribe",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(this.isDestroyed)return function(){};var i,r=!1,o=this.subscribers[e]||(this.subscribers[e]=[]),a=function(){if(!r)return n.call(t,t.getCurrentValue(e),e)};return o.push(a),e in this.__data&&Promise.resolve().then(a),function(){if(r)return i;r=!0;var e=o.indexOf(a);return i=e>-1&&o.splice(e,1).length>0}}},{key:"subscribeOnce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=this.subscribe(e,(function(e,i){return n&&n(),t.apply(this,[e,i])}));return n}},{key:"takeWhile",value:function(e){var t=this;return new Promise((function(n){var i=t.subscribe(e,(function(e){try{i&&i()}finally{n(e)}}))}))}},{key:"reducer",value:function(e){var t=this;if(this.isDestroyed)return h;if("function"!=typeof e)return h;var n=e.bind(this);return this.reducers.push(n),function(){var e=t.reducers.indexOf(n);return e>-1&&t.reducers.splice(e,1).length>0}}},{key:"filter",value:function(e){var t=this;if(!this.isDestroyed){if("function"!=typeof e)return h;var n=function(t){return e(t)};return this.filters.push(n),function(){var e=t.filters.indexOf(n);-1!==e&&t.filters.splice(e,1)}}}},{key:"clear",value:function(){this.__data={}}}]),n}(Ai),hi=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i;return(0,c._)(this,n),i=t.call(this),(0,f._)((0,Kt._)(i),"store",new di),(0,f._)((0,Kt._)(i),"key","k"),i.addDestroyHook(i.store),e&&i.dispatch(e),i}return(0,u._)(n,[{key:"getCurrentValue",value:function(e){return this.store.getCurrentValue(this.key)||e}},{key:"dispatch",value:function(e){this.store.dispatch(this.key,e)}},{key:"subscribe",value:function(e){return this.store.subscribe(this.key,(function(t){return e(t)}))}},{key:"subscribeOnce",value:function(e){return this.store.subscribeOnce(this.key,(function(t){return e(t)}))}},{key:"takeWhile",value:function(){return this.store.takeWhile(this.key)}},{key:"filter",value:function(e){return this.store.filter(e)}},{key:"reduce",value:function(e){return this.store.reducer((function(t){return e(t)}))}},{key:"remove",value:function(){this.store.unDispatch(this.key)}}]),n}(Ai),fi=-1,pi=function(){function e(){(0,c._)(this,e),(0,f._)(this,"activations",[])}return(0,u._)(e,[{key:"push",value:function(e){var t=this,n={context:e,order:++fi};this.activations.push(n);return function(){var e=t.activations.indexOf(n);e>-1&&t.activations.splice(e,1)}}},{key:"peak",value:function(){var e;return null===(e=this.activations[this.activations.length-1])||void 0===e?void 0:e.context}},{key:"clear",value:function(){this.activations.length=0}},{key:"size",value:function(){return this.activations.length}}]),e}();window.ActvationShortcutContextManager=pi;var gi=n(9422),vi=n(6784),mi=n(2778),yi=n.n(mi),bi=new(function(){function e(){(0,c._)(this,e),(0,f._)(this,"_keyCodeToStr",[]),(0,f._)(this,"_strToKeyCode",{})}return(0,u._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||si.Unknown}}]),e}());function wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){bi.define(e,t)}))}wi(si.Unknown,"unknown"),wi(si.Backspace,"Backspace"),wi(si.Tab,"Tab"),wi(si.Enter,"Enter"),wi(si.Shift,"Shift"),wi(si.Ctrl,"Ctrl"),wi(si.Alt,"Alt"),wi(si.PauseBreak,"PauseBreak"),wi(si.CapsLock,"CapsLock"),wi(si.Escape,"Escape"),wi(si.Space,"Space"),wi(si.PageUp,"PageUp"),wi(si.PageDown,"PageDown"),wi(si.End,"End"),wi(si.Home,"Home"),wi(si.LeftArrow,"LeftArrow","Left"),wi(si.UpArrow,"UpArrow","Up"),wi(si.RightArrow,"RightArrow","Right"),wi(si.DownArrow,"DownArrow","Down"),wi(si.Insert,"Insert"),wi(si.Delete,"Delete"),wi(si.KEY_0,"0"),wi(si.KEY_1,"1"),wi(si.KEY_2,"2"),wi(si.KEY_3,"3"),wi(si.KEY_4,"4"),wi(si.KEY_5,"5"),wi(si.KEY_6,"6"),wi(si.KEY_7,"7"),wi(si.KEY_8,"8"),wi(si.KEY_9,"9"),wi(si.KEY_A,"A"),wi(si.KEY_B,"B"),wi(si.KEY_C,"C"),wi(si.KEY_D,"D"),wi(si.KEY_E,"E"),wi(si.KEY_F,"F"),wi(si.KEY_G,"G"),wi(si.KEY_H,"H"),wi(si.KEY_I,"I"),wi(si.KEY_J,"J"),wi(si.KEY_K,"K"),wi(si.KEY_L,"L"),wi(si.KEY_M,"M"),wi(si.KEY_N,"N"),wi(si.KEY_O,"O"),wi(si.KEY_P,"P"),wi(si.KEY_Q,"Q"),wi(si.KEY_R,"R"),wi(si.KEY_S,"S"),wi(si.KEY_T,"T"),wi(si.KEY_U,"U"),wi(si.KEY_V,"V"),wi(si.KEY_W,"W"),wi(si.KEY_X,"X"),wi(si.KEY_Y,"Y"),wi(si.KEY_Z,"Z"),wi(si.Meta,"Meta"),wi(si.ContextMenu,"ContextMenu"),wi(si.F1,"F1"),wi(si.F2,"F2"),wi(si.F3,"F3"),wi(si.F4,"F4"),wi(si.F5,"F5"),wi(si.F6,"F6"),wi(si.F7,"F7"),wi(si.F8,"F8"),wi(si.F9,"F9"),wi(si.F10,"F10"),wi(si.F11,"F11"),wi(si.F12,"F12"),wi(si.F13,"F13"),wi(si.F14,"F14"),wi(si.F15,"F15"),wi(si.F16,"F16"),wi(si.F17,"F17"),wi(si.F18,"F18"),wi(si.F19,"F19"),wi(si.NumLock,"NumLock"),wi(si.ScrollLock,"ScrollLock"),wi(si.US_SEMICOLON,";",";","OEM_1"),wi(si.US_EQUAL,"=","=","OEM_PLUS"),wi(si.US_COMMA,",",",","OEM_COMMA"),wi(si.US_MINUS,"-","-","OEM_MINUS"),wi(si.US_DOT,".",".","OEM_PERIOD"),wi(si.US_SLASH,"/","/","OEM_2"),wi(si.US_BACKTICK,"`","`","OEM_3"),wi(si.ABNT_C1,"ABNT_C1"),wi(si.ABNT_C2,"ABNT_C2"),wi(si.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),wi(si.US_BACKSLASH,"\\","\\","OEM_5"),wi(si.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),wi(si.US_QUOTE,"'","'","OEM_7"),wi(si.NUMPAD_0,"NumPad0"),wi(si.NUMPAD_1,"NumPad1"),wi(si.NUMPAD_2,"NumPad2"),wi(si.NUMPAD_3,"NumPad3"),wi(si.NUMPAD_4,"NumPad4"),wi(si.NUMPAD_5,"NumPad5"),wi(si.NUMPAD_6,"NumPad6"),wi(si.NUMPAD_7,"NumPad7"),wi(si.NUMPAD_8,"NumPad8"),wi(si.NUMPAD_9,"NumPad9"),wi(si.NUMPAD_MULTIPLY,"NumPad_Multiply"),wi(si.NUMPAD_ADD,"NumPad_Add"),wi(si.NUMPAD_SEPARATOR,"NumPad_Separator"),wi(si.NUMPAD_SUBTRACT,"NumPad_Subtract"),wi(si.NUMPAD_DECIMAL,"NumPad_Decimal"),wi(si.NUMPAD_DIVIDE,"NumPad_Divide");var ki=function(){function e(t,n,i,r,o){(0,c._)(this,e),(0,f._)(this,"ctrlKey",void 0),(0,f._)(this,"shiftKey",void 0),(0,f._)(this,"altKey",void 0),(0,f._)(this,"metaKey",void 0),(0,f._)(this,"keyCode",void 0),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,u._)(e,[{key:"equals",value:function(t){return!!(0,l._)(t,e)&&(this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey&&this.altKey===t.altKey&&this.metaKey===t.metaKey&&this.keyCode===t.keyCode)}},{key:"isError",value:function(){return this.keyCode===si.Unknown}},{key:"toString",value:function(){var e,t=[];return this.ctrlKey&&t.push("Ctrl"),this.shiftKey&&t.push("Shift"),this.altKey&&t.push("Alt"),this.metaKey&&t.push("Meta"),t.join("+")+(t.length>0?"+":"")+(e=this.keyCode,bi.keyCodeToStr(e))}},{key:"match",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}}],[{key:"from",value:function(t){var n,i=function(e){e=e.trim().toLowerCase();var t,n=!1,i=!1,r=!1,o=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(n=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(i=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(r=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(o=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^mod[\+\-]/.test(e)&&(j?o=!0:n=!0,e=e.substring(4),t=!0)}while(t);return{ctrl:n,shift:i,alt:r,meta:o,key:e}}(t),r=(n=i.key,bi.strToKeyCode(n));if(r===si.Unknown)throw new Error('Incorrect shortcut: "'.concat(t,'", "').concat(i.key,'" is not valid'));return new e(i.ctrl,i.shift,i.alt,i.meta,r)}}]),e}();var xi=[ki.from("Mod+V"),ki.from("Mod+A"),ki.from("Mod+S"),ki.from("Mod+Shift+S"),ki.from("Mod+P"),ki.from("Mod+F")],_i=[ki.from("Mod+A"),ki.from("Mod+Z"),ki.from("Mod+Y"),ki.from("Delete"),ki.from("Backspace"),ki.from("Mod+Delete"),ki.from("Mod+Backspace")];const Pi=ki;var Di,Ci=function(){function e(t,n,i,r,o){(0,c._)(this,e),(0,f._)(this,"native",void 0),(0,f._)(this,"shortcut",void 0),(0,f._)(this,"opportunity",void 0),(0,f._)(this,"command",void 0),(0,f._)(this,"context",void 0),(0,f._)(this,"stopped",void 0),(0,f._)(this,"nativeEvent",void 0),this.native=t,this.shortcut=n,this.opportunity=i,this.command=r,this.context=o,this.stopped=!1,this.nativeEvent=this.native}return(0,u._)(e,[{key:"preventDefault",value:function(){this.native.preventDefault()}},{key:"stop",value:function(){this.stopped=!0}},{key:"stopPropagation",value:function(){this.native.stopPropagation()}}]),e}();!function(e){e.keydown="keydown",e.keyup="keyup"}(Di||(Di={}));var Si=$n.getLogger("ShortcutContext"),Ii=function(){function e(t){(0,c._)(this,e),(0,f._)(this,"name",void 0),(0,f._)(this,"uperLayer",void 0),(0,f._)(this,"parents",void 0),(0,f._)(this,"emitter",void 0),(0,f._)(this,"shortcuts",void 0),(0,f._)(this,"interceptors",void 0),this.name=t,this.uperLayer=[],this.parents=[],this.emitter=new(yi()),this.shortcuts={},this.interceptors=[]}return(0,u._)(e,[{key:"getUperLayers",value:function(){return this.uperLayer.slice(0)}},{key:"getParents",value:function(){return this.parents.slice(0)}},{key:"attach",value:function(e){var t=e;this.uperLayer.indexOf(t)>-1||this.uperLayer.push(t)}},{key:"extend",value:function(e){var t=e;this.parents.indexOf(t)>-1||this.parents.push(t)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach((function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)}))}}},{key:"registerShortcut",value:function(e,t){var n=this;return this.shortcuts[e]=Pi.from(t),function(){delete n.shortcuts[e]}}},{key:"on",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clear:!1};i.clear&&this.removeListener(e);var r=function(e){var n=!!i.keydown,r=!!i.keyup||void 0===i.keydown&&void 0===i.keyup;(n&&e.opportunity===Di.keydown||r&&e.opportunity===Di.keyup)&&(e.stopped||(i.interceptors||[]).reduceRight((function(e,t){return function(n){t(n,e)}}),(function(n){i.preventDefault&&e.preventDefault(),t(n)}))(e))},o=function(t){t!==e&&t||n.emitter.off(e,r)};return t.__remove__=o,this.emitter.on(e,r),o}},{key:"keyup",value:function(e,t,n){return this.on(e,t,(0,vi._)((0,gi._)({},n),{keyup:!0,keydown:!1}))}},{key:"keydown",value:function(e,t,n){return this.on(e,t,(0,vi._)((0,gi._)({},n),{keyup:!1,keydown:!0}))}},{key:"removeListener",value:function(e,t){var n=t;t&&"string"==typeof n.__remove__?n.__remove__(e):this.emitter.removeAllListeners(e)}},{key:"handleEvent",value:function(e,t){var n=this,i=function(i){var s=a[i],c=new Ci(e,s,o,i,n);if(ye(e,s)){var u=t.concat(n.getInterceptors(i)).reduceRight((function(e,t){return function(n){t(n,e)}}),(function(t){r.getAncestorLink(i).forEach((function(e){e.emitter.emit(i,t)}));var n=xi.some((function(e){return e.equals(s)}));n&&e.preventDefault()}));u(c),A=!0}},r=this,o=Di[e.type];if(!o)throw new Error("Unexpected keyboard event type: ".concat(e.type,', it should be "keydown" or "keyup"'));var a=this.getShortcuts(),A=!1;for(var s in a)i(s);return A||this.uperLayer.some((function(n){return n.handleEvent(e,t)}))}},{key:"getInterceptors",value:function(e){return this.getAncestorLink(e).reduceRight((function(e,t){return e.concat(t.interceptors)}),[])}},{key:"getAncestorLink",value:function(e){var t=this,n=[],i=function(r){var o=r.getParents().some((function(t){return t.getShortcut(e,!1)?(n.push(t),!0):i(t)}));o?n.unshift(r):t.getShortcut(e,!1)&&n.push(t)};return i(this),n}},{key:"getShortcut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getShortcuts(t)[e]}},{key:"getShortcuts",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=this.parents.reduceRight((function(t,n){return Object.assign(t,n.getShortcuts(e))}),{});return Object.assign({},t,this.shortcuts)}return Object.assign({},this.shortcuts)}},{key:"getComandName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="string"==typeof e?Pi.from(e):e,i=this.getShortcuts(t);for(var r in i){if(i[r].equals(n))return r}}},{key:"before",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Si.warn("Deprecated API: ShortcutContext.before"),this.on(e,t,{keydown:!0,keyup:!1,preventDefault:n})}},{key:"toString",value:function(){return this.name}}]),e}(),Ei=$n.getLogger("Keyboard"),Ri=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{anchor:document.body};return(0,c._)(this,n),e=t.call(this),(0,f._)((0,Kt._)(e),"anchor",void 0),(0,f._)((0,Kt._)(e),"disabled",!1),(0,f._)((0,Kt._)(e),"contexts",new di),(0,f._)((0,Kt._)(e),"activationManager",new pi),(0,f._)((0,Kt._)(e),"interceptors",[]),(0,f._)((0,Kt._)(e),"defaultShortcutContext",new Ii("default-shortcut-context")),e.anchor=i.anchor,e.prepare(),e.contexts.filter(Boolean),e.addDestroyHook(e.contexts),e}return(0,u._)(n,[{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setup",value:function(e){var t=this;e.forEach((function(e){t.createContext(e.context,e,(function(t){for(var n in e.shortcuts)t.registerShortcut(n,e.shortcuts[n])}))}))}},{key:"createContext",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=n.extends||[],o=n.topLayers||[],a=function(e){var n=t.getContextByName(e);if(!n)throw new Error("ShortcutContext cannot be used before created: ".concat(e));return n},A=r.map((function(e){return a(e)})),s=o.map((function(e){return a(e)})),c=this.getContextByName(e)||new Ii(e);return A.forEach((function(e){c.extend(e)})),s.forEach((function(e){c.attach(e)})),this.contexts.dispatch(e,c),i&&this.withContext(e,i),c}},{key:"withContext",value:function(e,t){var n=this;return this.contexts.takeWhile(e).then((function(e){return t.call(n,e),e}))}},{key:"activeContext",value:function(e){var t=this.contexts.getCurrentValue(e);return t?this.activationManager.push(t):h}},{key:"getActivateContext",value:function(){return this.activationManager.peak()||this.defaultShortcutContext}},{key:"on",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.on(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"keydown",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.keydown(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"keyup",value:function(e,t,n){var i=this.findContextByCommand(e).map((function(i){return i.keyup(e,t,n)}));return function(){i.forEach((function(e){return e()})),i.length=0}}},{key:"findContextByShortcut",value:function(e){var t=[];return this.contexts.forEach((function(n){n.getComandName(e,!1)&&t.push(n)})),t}},{key:"findContextByCommand",value:function(e){var t=[];return this.contexts.forEach((function(n){e in n.getShortcuts(!1)&&t.push(n)})),t}},{key:"getContextByName",value:function(e){return this.contexts.getCurrentValue(e)}},{key:"getBinder",value:function(e){return Ei.warn("Deprecated API: Keyboard.getBinder"),this.getContextByName(e)}},{key:"activeBinder",value:function(e){return Ei.warn("Deprecated API: Keyboard.activeBinder"),this.activeContext(e)}},{key:"markdown",value:function(){var e=[];return this.contexts.forEach((function(t){var n=t.getUperLayers(),i=t.getParents();n.forEach((function(n){e.push("    ".concat(n.name," --\x3e ").concat(t.name))})),i.forEach((function(n){e.push("    ".concat(n.name," -.Extends.-> ").concat(t.name))}));var r=t.getShortcuts(!1);if(Object.keys(r).length>0){for(var o in e.push("    subgraph ".concat(t.name,"_sub [").concat(t.name,"]")),r)e.push("    ".concat(t.name," ==Shortcut==> ").concat(o," -.-> ").concat(r[o].toString()));e.push("    end")}})),"```mermaid\n".concat("flowchart LR","\n").concat(e.join("\n"),"\n```")}},{key:"onShortcut",value:function(e,t,n){var i=e.toString();return this.defaultShortcutContext.registerShortcut(i,i),this.defaultShortcutContext.on(i,t,n)}},{key:"interceptor",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=this.interceptors).push.apply(e,(0,d._)(i)),function(){i.forEach((function(e){var n=t.interceptors.indexOf(e);n>-1&&t.interceptors.splice(n,1)}))}}},{key:"getDefaultShortcutContext",value:function(){return this.defaultShortcutContext}},{key:"prepare",value:function(){var e=this,t=function(t){if(!e.disabled){e.defaultShortcutContext.handleEvent(t,e.interceptors);var n=e.activationManager.peak();n&&n.handleEvent(t,e.interceptors)}},n={};this.anchor.addEventListener("keyup",t,n),this.anchor.addEventListener("keydown",t,n),this.addDestroyHook((function(){e.anchor.removeEventListener("keyup",t,n),e.anchor.removeEventListener("keydown",t,n)}))}},{key:"getActivationManager",value:function(){return this.activationManager}}]),n}(Ai);function Ti(e){return function(t,n){if(e.indexOf(t.command))return n(t)}}function Mi(e){return function(t,n){if(-1===e.indexOf(t.command))return n(t)}}function Fi(e,t){if(!e||!(0,l._)(e,Element))return!1;var n=t||{},i=n.visible,r=void 0===i||i,o=n.enable,a=void 0===o||o,A=n.readonly,s=void 0===A||A;if(r){var c=e.getClientRects();if(0===c.length)return!1;var u=c[0];if(u.width*u.height==0)return!1}switch(e.tagName.toLowerCase()){case"input":case"select":case"textarea":var d=e;return(!a||!d.disabled)&&(!s||!d.disabled&&!d.readOnly)}switch(e.contentEditable){case"true":case"plaintext-only":return!0}return!1}function Li(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){n.length>0&&n.indexOf(t.command)>-1?i(t):Fi(t.native.target,e)||i(t)}}function Ni(e){return function(t,n){e&&t.command!==e||t.preventDefault(),n(t)}}function Oi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r;r=t?function(e){return e===document.activeElement||e.contains(document.activeElement)}:function(e){return e===document.activeElement},!!e.find(r)&&i(n)}}const Bi={aac:"audio/aac",abw:"application/x-abiword",arc:"application/x-freearc",avi:"video/x-msvideo",azw:"application/vnd.amazon.ebook",bin:"application/octet-stream",bmp:"image/bmp",bz:"application/x-bzip",bz2:"application/x-bzip2",csh:"application/x-csh",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gz:"application/gzip",gif:"image/gif",html:"text/html",ico:"image/vnd.microsoft.icon",ics:"text/calendar",jar:"application/java-archive",jpg:"image/jpeg",jpeg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",mid:"audio/midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",cda:"application/x-cdf",mp4:"video/mp4",mpeg:"video/mpeg",mpkg:"application/vnd.apple.installer+xml",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",png:"image/png",pdf:"application/pdf",fdf:"application/vnd.fdf",xfdf:"application/vnd.adobe.fdf",php:"application/x-httpd-php",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",sh:"application/x-sh",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",".tiff":"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",vsd:"application/vnd.visio",wav:"audio/wav",weba:"audio/webm",webm:"video/webm",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xul:"application/vnd.mozilla.xul+xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2","7z":"application/x-7z-compressed"};function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream";return Bi[e]||t}function Vi(){}var Ui,Hi,zi,Wi=(navigator.appVersion.match(/iphone/gi),"undefined"!=typeof devicePixelRatio?devicePixelRatio:1);var Yi=72;function Gi(){return Ui||(Ui=function(){if("undefined"!=typeof screen&&screen.deviceXDPI)return{x:screen.deviceXDPI,y:screen.deviceYDPI};if("undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="width:1in;height:1in;position:absolute;top:20in;border:none;padding:0;",document.body.appendChild(e);var t={x:parseInt(e.offsetWidth),y:parseInt(e.offsetHeight)};return e.parentNode.removeChild(e),t}return{x:96,y:96}}()),Ui}function $i(){if(void 0===Hi){var e=Gi();Hi=e.x/Yi}return Hi}function Ki(){if(void 0===zi){var e=Gi();zi=Yi/e.x}return zi}var qi,Ji=function(e){var t=[new ClipboardItem((0,f._)({},e.type,e))];return navigator.clipboard.write(t)};function Xi(e){return function(){if(yt||wt)return Promise.resolve(!1);if(!navigator.permissions||!navigator.permissions.query)return Promise.resolve(!1);try{return navigator.permissions.query({name:"clipboard-write",allowWithoutGesture:!1}).then((function(e){return"granted"===e.state}))}catch(e){return console.log(e),Promise.resolve(!1)}}().then((function(t){if(t){var n=new Blob([e],{type:"text/plain"});return Ji(n).then((function(e){return!0}))}var i=qi||((qi=document.createElement("textarea")).style.opacity="0",qi.style.top="-999px",qi.style["z-index"]=-1,qi.style.position="absolute",document.body.appendChild(qi),qi);i.value=e,i.select(),i.focus(),i.setSelectionRange(0,i.value.length);var r=document.execCommand("copy",!1,i.value);return i.blur(),r}))}function Qi(e){var t;try{0==(t=e.composedPath&&e.composedPath()).length&&(t=e.path)}catch(e){t=null}var n=e.target;return null!=t?t.indexOf(window)<0?t.concat(window):t:n===window?[window]:[n].concat(Zi(n),window)}function Zi(e,t){t=t||[];var n=e&&e.parentNode;return n?Zi(n,t.concat(n)):t}function er(){if("object"!=typeof window)return 1;var e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d");return e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function tr(){return"undefined"!=typeof WorkerGlobalScope&&(0,l._)(self,WorkerGlobalScope)}function nr(){return"undefined"!=typeof window}var ir=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,c._)(this,n),i=t.call(this),(0,f._)((0,Kt._)(i),"observer",void 0),(0,f._)((0,Kt._)(i),"observePairs",new Map),(0,f._)((0,Kt._)(i),"lastIntersectionEntryMap",new WeakMap),i.observer=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.observePairs.get(e.target);i.lastIntersectionEntryMap.set(e.target,e),null==t||t.callback.call(null,e.target,e.isIntersecting)}))}),{root:e,threshold:r}),i.addDestroyHook((function(){i.observer.disconnect(),i.observePairs.clear()})),i}return(0,u._)(n,[{key:"observe",value:function(e,t){var n=this,i={callback:t,element:e};return this.observePairs.set(e,i),this.observer.observe(e),function(){n.observer.unobserve(e),n.observePairs.delete(e)}}},{key:"forceUpdate",value:function(e){var t=this.lastIntersectionEntryMap.get(e);if(t){var n=this.observePairs.get(e);return Promise.resolve(null==n?void 0:n.callback.call(null,e,t.isIntersecting))}}}]),n}(Ai);function rr(e,t,n){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||X&&(yt||ee||St)||H&&yt||te){var i,r=null,o=0,a=!1,A=function(e){a=!1,i=void 0,clearTimeout(r),r=null,e.touches&&1!==e.touches.length||(o=0,i={x:e.touches[0].pageX,y:e.touches[0].pageY},r=setTimeout((function(){a||c(e)}),600),e.stopPropagation())},s=function(e){if((!e.touches||1===e.touches.length)&&i){var t=e.touches[0],n=Math.pow(t.pageX-i.x,2)+Math.pow(t.pageY-i.y,2);(o=Math.max(o,n))>10&&(a=!0)}},c=function(n){if(i=null,n.changedTouches&&1===n.changedTouches.length){var o=n.changedTouches[0],a=new Event("contextmenu"),A=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce((function(e,t){return e[t]={value:o[t]},e}),{});A.stopPropagation={value:function(){n.stopPropagation()}},A.preventDefault={value:function(){n.preventDefault()}};var s=Object.create(a,A);t.call(e,s),clearTimeout(r)}else clearTimeout(r)},u=function(){a=!1,clearTimeout(r)};e.addEventListener("touchstart",A,n),document.addEventListener("touchend",u,!0),document.addEventListener("touchmove",s,!0);var l=function(e){e.preventDefault()};return document.addEventListener("contextmenu",l,{capture:!0,passive:!1}),e.addEventListener("contextmenu",l),function(){e.removeEventListener("touchstart",A,n),document.removeEventListener("touchmove",s,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("contextmenu",l,{capture:!0,passive:!1}),e.removeEventListener("contextmenu",l)}}return e.addEventListener("contextmenu",t,n),function(){e.removeEventListener("contextmenu",t,n)}}var or=n(8490),ar=n(9307);function Ar(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.hasOwnProperty.call(e,"constructor"),r=i?e.constructor:void 0,o=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,c._)(this,n),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),i?(0,ar._)(e,r.apply((0,Kt._)(e),arguments)):e}return n}(t);return i&&delete e.constructor,Object.assign(o.prototype,e),e.constructor=r,Object.assign(o,n),o}function sr(e){var t=null;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===t&&(t=(0,or._)(e,(0,d._)(i))),t}}function cr(e,t){var n=e.classList;n.contains(t)||n.add(t)}function ur(e,t){if(e){var n=e.classList;n.contains(t)&&n.remove(t)}}function lr(e,t,n,i){t?(cr(e,n),ur(e,i)):(ur(e,n),cr(e,i))}var dr=n(3638);function hr(e,t){var n=[],i=getComputedStyle(e);if("string"==typeof t){var r={};t.split(/;[\r\n\s]*/).forEach((function(e){var t=(0,dr._)(e.split(/\s*:\s*/),2),n=t[0],i=t[1];r[n]=i})),t=r}for(var o in t)i[o]!==t[o]&&n.push("".concat(o,":").concat(t[o]));n.length>0&&(e.style.cssText+=n.join(";"))}function fr(e,t){for(var n in t){var i=e[n],r=t[n];i!=r&&(e[n]=r)}}var pr=function(){},gr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c._)(this,e),(0,f._)(this,"delay",void 0),(0,f._)(this,"leading",void 0),(0,f._)(this,"handle",void 0),(0,f._)(this,"flag",void 0),(0,f._)(this,"pending",void 0),this.delay=t,this.leading=n,this.handle=pr,this.flag=0,this.pending=!1}return(0,u._)(e,[{key:"exec",value:function(e){var t=this;if(this.flag++,this.handle=e,!this.pending){this.leading&&(e(),this.flag=0,this.handle=pr);var n=function(){t.pending=!0,setTimeout((function(){if(t.flag>1)t.flag=0,n();else{var e=t.handle;t.handle=pr,e(),t.pending=!1}}),t.delay)};n()}}},{key:"cancel",value:function(){this.handle=pr}}]),e}();function vr(e){var t=new gr(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o,a=(o=e).bind.apply(o,[this].concat((0,d._)(i)));t.exec(a)}}var mr={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"};function yr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0;"boolean"==typeof e&&(r=e,e=n[0],n=n.slice(1)),(null===e||"object"!=typeof e&&"function"!=typeof e)&&(e={});for(var o=0,a=n.length;o<a;o++){var A=n[o];if(null!=A)for(var s in A){var c=e[s],u=A[s];if(e!==u){var l=void 0;if(r&&u&&(wr(u)||(l=Array.isArray(u)))){var d=void 0;l?(l=!1,d=c&&Array.isArray(c)?c:[]):d=c&&wr(c)?c:{},e[s]=yr(r,d,u)}else void 0!==u&&(e[s]=u)}}}return e}function br(e,t){return null!=e&&{}.hasOwnProperty.call(e,t)}function wr(e){if(!e||"object"!==function(e){if(null===e)return"null";switch(void 0===e?"undefined":(0,T._)(e)){case"object":case"function":return mr[Object.prototype.toString(e)]||"object"}return void 0===e?"undefined":(0,T._)(e)}(e)||e.nodeType||null!=e&&e==e.window)return!1;if(e.constructor&&!br(e,"constructor")&&!br(e.constructor.prototype,"isPrototypeOf"))return!1;var t=void 0;for(t in e);return void 0===t||br(e,t)}function kr(e){return Fi(e,{visible:!1,readonly:!1,enable:!1})}function xr(e){return function(){var e=new Set;function t(n){try{h.call(n.location.href)}catch(e){return}(0,l._)(n,n.Window)&&e.add(n);for(var i=0;i<n.length;i++)t(n[i])}var n=window.top;n&&Object.getPrototypeOf(n)||(n=window);return t(n),Array.from(e)}().map((function(t){return t[e]}))}function _r(e){return xr("window").indexOf(e)>=0}function Pr(e){return xr("Element").some((function(t){return(0,l._)(e,t)}))}function Dr(e,t){if(_r(e)){var n=function(){t()};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}if(!Pr(e))throw new TypeError("Failed to execute 'observeResize': parameter 1 is not of type `Element`");if("function"!=typeof t)throw new TypeError("Failed to execute 'observeResize': parameter 2 is not of type `Function`");if(window.ResizeObserver){var i=Cr(e),r=new ResizeObserver((function(e){if(1===e.length){var n,r,o=e[0].contentRect;r=o,((n=i).width!==r.width||n.height!==r.height)&&(t(),i=o)}}));return r.observe(e),function(){r.disconnect()}}var o,a=!1,A=Cr(e);return o=setInterval((function(){if(!a){var n=Cr(e);A&&n&&(n.width!==A.width||n.height!==A.height)&&t(),A=n}}),100),function(){a=!0,clearInterval(o)}}function Cr(e){if(!e)return null;if(lt)try{return e.getBoundingClientRect()}catch(e){return null}return e.getBoundingClientRect()}const Sr=function(){throw new Error("Unsupported operation!")};var Ir=n(7990),Er=n.n(Ir),Rr=n(8366),Tr=n.n(Rr),Mr=n(4231),Fr=n.n(Mr),Lr=n(1434),Nr=n.n(Lr),Or=n(1128),Br=n.n(Or),jr=n(579),Vr=n.n(jr),Ur=n(7074),Hr=n.n(Ur),zr=n(890),Wr=n.n(zr),Yr=n(8990),Gr=n.n(Yr),$r=n(5522),Kr=n.n($r),qr=n(3765),Jr=n.n(qr),Xr=n(5576),Qr=n.n(Xr),Zr=n(859),eo=n.n(Zr),to=n(4883),no=n.n(to);Er().locale(Br()),Er().locale(Vr()),Er().locale(Hr()),Er().locale(Wr()),Er().locale(Gr()),Er().locale(Gr()),Er().locale(Kr()),Er().locale(Jr()),Er().locale(Qr()),Er().locale(eo()),Er().locale(Gr()),Er().locale(no()),Er().extend(Tr()),Er().extend(Fr()),Er().extend(Nr());const io=Er();var ro=n(636),oo=n.n(ro);function ao(e,t){var n=oo().fn.on;try{oo().fn.on=function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e.addDestroyHook((function(){oo().fn.off.apply(t,r)})),n.apply(this,r)},t(oo())}finally{oo().fn.on=n}}var Ao,so=function(){function e(t){(0,c._)(this,e),this.originfn=t,this.beforeHooks=[],this.afterHooks=[],this.thrownHooks=[],this.aroundHooks=[]}return(0,u._)(e,[{key:"before",value:function(e){return"function"==typeof e&&this.beforeHooks.push(e),this}},{key:"after",value:function(e){return"function"==typeof e&&this.afterHooks.push(e),this}},{key:"thrown",value:function(e){return"function"==typeof e&&this.thrownHooks.push(e),this}},{key:"around",value:function(e){return"function"==typeof e&&this.aroundHooks.push(e),this}},{key:"proxy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.after,i=e.thrown,r=e.around;return this.before(t),this.after(n),this.thrown(i),this.around(r),this}},{key:"extract",value:function(){var e=this,t=e.beforeHooks,n=e.afterHooks,i=e.thrownHooks,r=e.aroundHooks,o=e.originfn;function a(){for(var e=this,r=arguments.length,a=new Array(r),A=0;A<r;A++)a[A]=arguments[A];t.forEach((function(t){return t.call(e,a)}));try{var s=o.apply(this,a);return(0,l._)(s,Promise)?(s.then((function(t){n.forEach((function(n){return n.call(e,t,a)}))})),s.catch((function(t){i.forEach((function(n){return n.call(e,t,a)}))}))):n.forEach((function(t){return t.call(e,s,a)})),s}catch(t){i.length,i.forEach((function(n){return n.call(e,t,a)}))}}return a.origin=o,r.reduceRight((function(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t(this,e,i)}}),a)}}],[{key:"on",value:function(t){if("function"==typeof t)return new e(t);if((0,l._)(t,e))return new e(t.extract());throw new TypeError("Unexpected type: ".concat(void 0===t?"undefined":(0,T._)(t)))}}]),e}(),co=function(){function e(t,n,i,r){(0,c._)(this,e),(0,f._)(this,"r",void 0),(0,f._)(this,"g",void 0),(0,f._)(this,"b",void 0),(0,f._)(this,"a",void 0),this.r=t,this.g=n,this.b=i,this.a=r}return(0,u._)(e,[{key:"toCSS_Hex",value:function(){return"#".concat(uo(this.r)).concat(uo(this.g)).concat(uo(this.b))}},{key:"toCSS_RGB",value:function(){return"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}},{key:"toRGB",value:function(){return this.r<<16|this.g<<8|this.b}},{key:"toCSS_RGBA",value:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a/255,")")}},{key:"toHSL",value:function(){var e=this.r/255,t=this.g/255,n=this.b/255,i=Math.min(e,t,n),r=Math.max(e,t,n),o=r-i,a=0,A=0;return(a=0===o?0:r===e?(t-n)/o%6:r===t?(n-e)/o+2:(e-t)/o+4)<0&&(a+=360),A=(r+i)/2,{h:a,s:+(100*(0===o?0:o/(1-Math.abs(2*A-1)))).toFixed(1),l:A=+(100*A).toFixed(1)}}},{key:"toCSS_HSL",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsl(".concat(t,",").concat(n,"%,").concat(i,"%)")}},{key:"toCSS_HSLA",value:function(){var e=this.toHSL(),t=e.h,n=e.s,i=e.l;return"hsla(".concat(t,",").concat(n,"%,").concat(i,"%, ").concat(this.a/255,")")}},{key:"toCMYK",value:function(){return e.convertRGB2CMYK(this.r,this.g,this.b)}},{key:"toHSV",value:function(){return e.convertRGB2HSV(this.r,this.g,this.b)}},{key:"clone",value:function(){return new(0,this.constructor)(this.r,this.g,this.b,this.a)}},{key:"isSameAs",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}}],[{key:"fromHSLA",value:function(t,n,i,r){var o=(0,dr._)(e.convertHSL2rgb(t,n,i),3);return new e(o[0],o[1],o[2],r)}},{key:"fromRGBA",value:function(t,n){var i=(0,dr._)(e.separateRGBNumber(t),3);return new e(i[0],i[1],i[2],n)}},{key:"fromARGB",value:function(t){if(t<=16777215)return e.fromRGBA(t,255);var n=255&t>>24,i=16777215&t;return e.fromRGBA(i,n)}},{key:"fromRGB",value:function(t){return e.fromRGBA(t,255)}},{key:"convertHSL2rgb",value:function(e,t,n){e=Math.min(359,Math.max(0,e)),t=Math.min(100,Math.max(0,t)),n=Math.min(100,Math.max(0,n)),n/=100;var i,r,o,a,A=(t/=100)*(1-Math.abs(2*n-1)),s=A*(1-Math.abs(e/60%2-1)),c=n-A/2;if(e>=0&&e<60)i=(a=[A,s,0])[0],r=a[1],o=a[2];else if(e>=60&&e<120){var u;i=(u=[s,A,0])[0],r=u[1],o=u[2]}else if(e>=120&&e<180){var l;i=(l=[0,A,s])[0],r=l[1],o=l[2]}else if(e>=180&&e<240){var d;i=(d=[0,s,A])[0],r=d[1],o=d[2]}else if(e>=240&&e<300){var h;i=(h=[s,0,A])[0],r=h[1],o=h[2]}else{var f;i=(f=[A,0,s])[0],r=f[1],o=f[2]}return[i,r,o].map((function(e){return Math.round(255*(e+c))}))}},{key:"convertRGB2CMYK",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=1-Math.max(i,r,o);return{c:(1-i-a)/(1-a),m:(1-r-a)/(1-a),y:(1-o-a)/(1-a),k:a}}},{key:"convertRGB2HSV",value:function(e,t,n){var i=e/255,r=t/255,o=n/255,a=Math.max(i,r,o),A=a-Math.min(i,r,o);return{h:0===A?0:a===i?(r-o)/A*60%6:a===r?60*((o-i)/A+2):60*((i-r)/A+4),s:0===a?0:A/a,v:a}}},{key:"separateRGBNumber",value:function(e){return[e>>16&255,e>>8&255,255&e]}}]),e}();function uo(e){var t=e.toString(16);return 1===t.length?"0"+t:t}!function(e){e.PLAIN="text/plain",e.HTML="text/html",e.FILES="Files"}(Ao||(Ao={}));var lo="module-license-info",ho=["html","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],fo=document.createElement("div");function po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=vo(e,n);return fo.innerHTML=r.trim(),fo.firstChild}function go(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=vo(e,n);return fo.innerHTML=r.trim(),Array.from(fo.childNodes)}function vo(e,t){return t.reduce((function(t,n,i){return t+n+e[i+1]}),e[0])}function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);for(var r in t)i.setAttribute(r,t[r]+"");return n.forEach((function(e){i.appendChild(e)})),i}var yo="change",bo="update",wo=function(e){(0,k._)(n,e);var t=(0,x._)(n);function n(){var e;return(0,c._)(this,n),e=t.call(this),(0,f._)((0,Kt._)(e),"store",new di),e.addDestroyHook(e.store),e.store.filter((function(){return!e.isDestroyed})),e}return(0,u._)(n,[{key:"onChange",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.store.subscribeOnce(yo,(function(t){return e(t)})):this.store.subscribe(yo,(function(t){return e(t)}))}},{key:"onUpdate",value:function(e){return this.store.subscribe(bo,(function(){return e()}))}},{key:"handle",value:function(e){this.store.dispatch(yo,e)}},{key:"update",value:function(){return this.store.dispatch(bo,null)}}]),n}(ai),ko=n(342);function xo(){var e,t="rgb(31,41,59)",n=document.createElement("div");n.style.color=t,document.body.appendChild(n);try{return(e=n,document.defaultView?document.defaultView.getComputedStyle(e):e.currentStyle).color.replace(/ /g,"")!==t}finally{document.body.removeChild(n)}}function _o(){var e=document,t=e.mozFullscreen||e.webkitIsFullScreen||e.fullscreen;return X?yt?!!e.webkitCurrentFullScreenElement:t:t||window.innerHeight===window.screen.height&&window.innerWidth===window.screen.width}function Po(e,t){var n=Array.from(e.childNodes.values());n.forEach((function(i,r){t.includes(i)||(e.removeChild(i),n.splice(r,1))})),t.forEach((function(i,r){if(i&&n[r]!==i){var o,a,A,s,c,u=n.indexOf(i),l=t[r-1];-1===u?(l?(c=l).getComponent&&"string"==typeof c.getComponent().attrs.slot?l.appendChild(i):l.after(i):e.prepend(i),n.splice(r,0,i)):r<n.length?(i.before(n[r]),A=u,s=(o=n)[a=r],o[a]=o[A],o[A]=s,l?l.after(i):e.prepend(i)):(n.push(i),e.appendChild(i))}}))}var Do="#9E3ABF",Co={"accent-color":{varKey:"--fv-accent-color",defaultValue:Do,referenceValue:"#923094"},"accent-fill":{varKey:"--fv-accent-fill-color",defaultValue:Do,referenceValue:"#923094"},"btn-color":{varKey:"--fv-btn-color",defaultValue:Do,referenceValue:Do},border:{varKey:"--fv-btn-border-color",defaultValue:Do,referenceValue:"#9E3ABF"},"hover-color":{varKey:"--fv-btn-hover-color",defaultValue:Do,referenceValue:Do},"border-hover":{varKey:"--fv-btn-border-hover-color",defaultValue:Do,referenceValue:"#f9e3fa"},"pressed-bg":{varKey:"--fv-btn-pressed-bg",defaultValue:Do,referenceValue:"#9432AC"},"disabled-bg":{varKey:"--fv-btn-disabled-bg",defaultValue:Do,referenceValue:"#70289B"},"border-disabled-color":{varKey:"--fv-btn-border-disabled-color",defaultValue:Do,referenceValue:"#70289B"},"focus-bg":{varKey:"--fv-btn-focus-bg",defaultValue:Do,referenceValue:"#9E3ABF"},"border-pressed":{varKey:"--fv-btn-border-pressed-color",defaultValue:Do,referenceValue:"#D4A1E5"},"outline-focus-color":{varKey:"--fv-btn-outline-focus-color",defaultValue:Do,referenceValue:"#9E3ABF"},"outline-color":{varKey:"--fv-btn-outline-color",defaultValue:Do,referenceValue:"#9E3ABF"},"accent-btn-bg":{varKey:"--fv-accent-btn-bg",defaultValue:Do,referenceValue:"#9E3ABF"},"accent-btn-border-color":{varKey:"--fv-accent-btn-border-color",defaultValue:Do,referenceValue:"#9E3ABF"},"accent-btn-hover-bg":{varKey:"--fv-accent-btn-hover-bg",defaultValue:Do,referenceValue:"#af40ca"},"accent-btn-border-hover-color":{varKey:"--fv-accent-btn-border-hover-color",defaultValue:Do,referenceValue:"#af40ca"},"accent-btn-pressed-bg":{varKey:"--fv-accent-btn-pressed-bg",defaultValue:Do,referenceValue:"#9432AC"},"accent-btn-border-pressed-color":{varKey:"--fv-accent-btn-border-pressed-color",defaultValue:Do,referenceValue:"#9432AC"},"accent-btn-disabled-bg":{varKey:"--fv-accent-btn-disabled-bg",defaultValue:Do,referenceValue:"#70289B"},"accent-btn-disabled-color":{varKey:"--fv-accent-btn-disabled-color",defaultValue:Do,referenceValue:"#AF57CC"},"accent-btn-border-disabled-color":{varKey:"--fv-accent-btn-border-disabled-color",defaultValue:Do,referenceValue:"#70289B"},"accent-btn-focus-bg":{varKey:"--fv-accent-btn-focus-bg",defaultValue:Do,referenceValue:"#9E3ABF"},"accent-btn-border-focus-color":{varKey:"--fv-accent-btn-border-focus-color",defaultValue:Do,referenceValue:"#9E3ABF"}},So="#333333",Io={background:{varKey:["--File_page_content_BG","--fv-primary-bg"],defaultValue:So,referenceValue:So},secondary:{varKey:"--fv-secondary-bg",defaultValue:So,referenceValue:"#424242"},content:{varKey:"--fv-content-bg",defaultValue:So,referenceValue:"#242424"},"hide-show":{varKey:"--fv-hide-show-bg",defaultValue:So,referenceValue:"#131313"},hover:{varKey:"--fv-hover-bg",defaultValue:So,referenceValue:"#515151"},active:{varKey:"--fv-active-bg",defaultValue:So,referenceValue:"#424242"},input:{varKey:"--fv-input-bg",defaultValue:So,referenceValue:"#242424"},footer:{varKey:"--fv-footer-bg",defaultValue:So,referenceValue:"#131313"}},Eo="#666666",Ro={border:{varKey:"--fv-border-color",defaultValue:Eo,referenceValue:Eo},frame:{varKey:"--fv-frame-border-color",defaultValue:Eo,referenceValue:"#131313"},tab:{varKey:"--fv-doc-tab-border-color",defaultValue:Eo,referenceValue:"#242424"},"tab-active":{varKey:"--fv-doc-tab-border-active-color",defaultValue:Eo,referenceValue:"#131313"},"spacing-line-primary":{varKey:"--fv-spacing-line-primary-color",defaultValue:Eo,referenceValue:"#131313"},"spacing-line-secondary":{varKey:"--Spacing_line",defaultValue:Eo,referenceValue:"#242424"},"spacing-line-tertiary":{varKey:"--fv-spacing-line-tertiary-color",defaultValue:Eo,referenceValue:"#424242"},input:{varKey:"--fv-input-border-color",defaultValue:Eo,referenceValue:"#515151"}},To={link:{varKey:"--fv-link-color",defaultValue:"#99EBFF",referenceValue:"#99EBFF"}},Mo="#E3E3E3",Fo={primary:{varKey:["--fv-primary-color","--fv-ribbon-name-text"],defaultValue:Mo,referenceValue:Mo},secondary:{varKey:"--fv-secondary-color",defaultValue:Mo,referenceValue:"#F7F7F7"},placeholder:{varKey:"--fv-placeholder-color",defaultValue:Mo,referenceValue:"#ACACAC"},disable:{varKey:"--fv-disable-color",defaultValue:Mo,referenceValue:"#8B8B8B"},introductory:{varKey:"--fv-introductory-color",defaultValue:Mo,referenceValue:"#BDBDBD"}},Lo={primary:"primary",background:"brackground",border:"border",link:"link",text:"text"},No=new Map,Oo={primary:Co,background:Io,border:Ro,link:To,text:Fo};function Bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dom,colors}];No.clear(),e.forEach((function(e){var t=e.dom,n=e.colors;if(n){var i=t||document.body;Object.keys(n).forEach((function(e){return function(e,t,n){if(!t)return void Object.keys(n).forEach((function(t){var i=n[t].varKey;Array.isArray(i)?i.forEach((function(t){e.style.removeProperty(t)})):e.style.removeProperty(i)}));var i=(0,ko.$j)(t,"RGB");i.shift(),Object.keys(n).forEach((function(r){var o=n[r],a=o.varKey,A=o.defaultValue,s=o.referenceValue;Array.isArray(a)?a.forEach((function(n){e.style.setProperty(n,A!==s?Vo.apply(void 0,(0,d._)(i).concat([jo(A,s)])):t)})):e.style.setProperty(a,A!==s?Vo.apply(void 0,(0,d._)(i).concat([jo(A,s)])):t)}))}(i,n[e],Oo[e])}))}}))}function jo(e,t){var n="".concat(e,"-").concat(t);if(No.get(n))return No.get("".concat(e,"-").concat(t));var i=(0,ko.$j)(e,"RGB"),r=(0,ko.$j)(t,"RGB"),o={r:i[1]/r[1],g:i[2]/r[2],b:i[3]/r[3]};return No.set(n,o),o}function Vo(e,t,n,i){var r=i.r,o=i.g,a=i.b,A=["RGB",Uo(e/r),Uo(t/o),Uo(n/a)];return(0,ko.$j)(A,"HTML")}function Uo(e){return e>1?1:e}function Ho(e){return xr("HTMLElement").some((function(t){return(0,l._)(e,t)}))}function zo(e){return xr("document").indexOf(e)>=0}function Wo(e,t){(0,l._)(e,HTMLInputElement)||(0,l._)(e,HTMLTextAreaElement)?Go(e,t):"inherit"!==e.contentEditable&&Ko(e,t)}function Yo(e,t,n){(0,l._)(e,HTMLInputElement)||(0,l._)(e,HTMLTextAreaElement)?$o(e,t,n):"inherit"!==e.contentEditable&&Ko(e,n,t)}function Go(e,t){var n=(0,l._)(e,HTMLInputElement)?e.value.length:e.textLength;$o(e,{startOffset:n,endOffset:n},t)}function $o(e,t,n){e.focus(n),setTimeout((function(){e.focus(n),e.setSelectionRange(t.startOffset,t.endOffset)})),e.setSelectionRange(t.startOffset,t.endOffset)}function Ko(e,t,n){e.focus(t),setTimeout((function(){return e.focus(t)}));var i=document.createRange();if(i.selectNodeContents(e),n){var r,o=e.childNodes[n.startNodeIndex||0];if(o)i.setStart(o,Math.min(n.startOffset,(null===(r=o.textContent)||void 0===r?void 0:r.length)||0));var a,A=e.childNodes[n.endNodeIndex||0];if(A)i.setStart(A,Math.min(n.endOffset,(null===(a=o.textContent)||void 0===a?void 0:a.length)||0))}i.collapse(!0);var s=window.getSelection();s&&(s.removeAllRanges(),s.addRange(i))}function qo(e){var t=window.getSelection();if(null==t?void 0:t.rangeCount){var n=t.getRangeAt(0);if(e.contains(n.startContainer)&&e.contains(n.endContainer))return{startNodeIndex:i(n.startContainer),endNodeIndex:i(n.endContainer),startOffset:n.startOffset,endOffset:n.endOffset}}return null;function i(t){for(var n=t;n&&n.parentElement!==e;)n=n.parentNode;return Array.from(e.childNodes).indexOf(n)}}function Jo(e,t){return{startCursorIndex:n(e.startNodeIndex||0,e.startOffset),endCursorIndex:n(e.endNodeIndex||0,e.endOffset)};function n(e,n){return Array.from(t.childNodes).slice(0,e).reduce((function(e,t){var n;return(0,l._)(t,HTMLBRElement)?e+1:e+((null===(n=t.textContent)||void 0===n?void 0:n.length)||0)}),0)+n}}function Xo(e,t){for(var n=0,i=e,r=Array.from(t.childNodes),o=0,a=0;a<r.length;a++){var A,s=r[a],c=(0,l._)(s,HTMLBRElement)?1:(null===(A=s.textContent)||void 0===A?void 0:A.length)||0;if(0!==a){if(i<=o){n=a;break}i-=o}else o=c}return i>o&&(i=o),{nodeIndex:n,offset:i}}var Qo=function e(){var t=this;(0,c._)(this,e),(0,f._)(this,"promise",void 0),(0,f._)(this,"resolve",void 0),(0,f._)(this,"reject",void 0),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Zo(e){var t=Ao.PLAIN,n=Ao.HTML,i=Ao.FILES,r=[],o=e.clipboardData,a=p();if(o&&o.items){var A=o.items,s=o.types,c=s[0],u=0;if(s.length>1){var l=s.indexOf(n);l>-1&&(u=l,c=n)}switch(c){case t:A[u].getAsString((function(e){var t;try{if("number"==typeof(t=JSON.parse(e)))throw new Error("Pure number")}catch(n){t=[{type:"string",value:e}]}t.some((function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType}))||(r=t,a.resolve(r))}));break;case n:var d=o.getData(n);d&&(r=[{type:"html",value:d}]),a.resolve(r);break;case i:var h=A[u].getAsFile();h&&(r=[{type:"file",value:h}]),a.resolve(r)}}return a.promise}var ea=n(840),ta=n.n(ea)().PointerEventInput;function na(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ta.apply(this,t)}function ia(e){return e}na.prototype=Object.create(ta.prototype,{init:{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.domHandler;return this.domHandler=function(e){if(e.isTrusted)return i.call(this,e)},ta.prototype.init.apply(this,t)}}});var ra=n(6448),oa=n(7582),aa=document.createElement("textarea");function Aa(){return sa.apply(this,arguments)}function sa(){return(sa=(0,ra._)((function(){return(0,oa.Jh)(this,(function(e){switch(e.label){case 0:if(wt)return[2,!1];if(!navigator.permissions)return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,navigator.permissions.query({name:"clipboard-write"})];case 2:return[2,"granted"===e.sent().state];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))).apply(this,arguments)}function ca(){return ua.apply(this,arguments)}function ua(){return(ua=(0,ra._)((function(){return(0,oa.Jh)(this,(function(e){switch(e.label){case 0:return navigator.clipboard?[4,Aa()]:[3,2];case 1:return e.sent()?[2,navigator.clipboard.readText()]:[2,la()];case 2:return[2,la()];case 3:return[2]}}))}))).apply(this,arguments)}function la(){var e=document.activeElement||aa;"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&(e=aa),e===aa&&(document.body.appendChild(aa),e.focus());var t=e.value;e.value="";try{return document.execCommand("paste")?e.value:Promise.reject("Unable to read from clipboard")}catch(e){return Promise.reject("Unable to read from clipboard")}finally{e.value=t,document.body.removeChild(aa)}}aa.style.cssText+="\n    position: fixed;\n    top: -9999px;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    border: none;\n    outline: none;\n    opacity: 0.1;\n";var da={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'"},ha=pa(da),fa={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":"","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"´","&micro;":"µ","&para;":"¶","&cedil;":"¸","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&iquest;":"¿","&times;":"×","&divide;":"÷","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&fnof;":"ƒ","&circ;":"ˆ","&tilde;":"˜","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&bull;":"•","&hellip;":"…","&permil;":"‰","&prime;":"′","&Prime;":"″","&lsaquo;":"‹","&rsaquo;":"›","&oline;":"‾","&euro;":"€","&trade;":"™","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};pa(fa);function pa(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})}function ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";if(!e)return e;for(var n=e.replace(/[^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD]/g,t),i=String.fromCharCode(55296);;){var r=n.indexOf(i);if(-1===r)break;n=n.replace(n.substring(r,r+2),t)}return n}function va(e){if(!e)return e;var t=e.replace(/&/g,(function(e,t,n){return/^#?(\d+)|([a-z]+);/i.test(n.substr(t+1))?e:"&amp;"})).replace(new RegExp(Object.keys(ha).join("|"),"g"),(function(e){return"&"===e?e:ha[e]}));return ga(t.replace(/\&[^;#]+;/g,(function(e){return(e=e.toLowerCase())in da?e:e in fa?fa[e]:e.replace("&","&amp;")}))," ")}},6537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{active3DHandle:()=>f,agreeActive3D:()=>P,destroy3DInteraction:()=>w,initJR3DAnnot:()=>b,render3D:()=>g,setAnnot3DTool:()=>x,setDefaultView:()=>_});var i=n(6448),r=n(6699),o=n(7582),a=n(6118),A=n(4157),s=n(4375),c=n(6721),u=function(){};!function(){function e(){(0,s._)(this,e),this._queue=[],this._initPromise()}(0,c._)(e,[{key:"_initPromise",value:function(){var e=this;return!this._promiseIsEnd&&this.promise||(this.promise=new Promise((function(t,n){var i=e;e._resolve=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i._promiseIsEnd=!0,t.apply(void 0,(0,r._)(n))},e._reject=function(t){e._promiseIsEnd=!0,e._queue=[],n(t)}})),this._promiseIsEnd=!1),this.promise}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._queue=e}},{key:"push",value:function(e,t){this._queue.push([e,t])}},{key:"start",value:function(){var e=this._initPromise();return this._exec(),e}},{key:"_exec",value:function(){var e=this;if(!this._execIng){this._execIng=!0;var t,n=this._queue,i=n.shift()||[u];try{t=Promise.resolve(i[0]())}catch(t){try{return Promise.resolve(i[1](t)).then((function(){e._reject(t)}))}catch(e){return this._reject(t)}}t.then((function(t){if(e._execIng=!1,!n.length)return e._resolve(t);e._exec()}),(function(t){return e._reject(t)}))}}},{key:"end",value:function(){return this._queue=[],this._exec(),this.promise}}])}();var l=n(840),d=n.n(l),h={rotate:0,spin:1,pan:2,zoom:3};function f(e,t){return p.apply(this,arguments)}function p(){return p=(0,i._)((function(e,t){var n,a,s,c,u,l,h;return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.agreeActive3D()];case 1:if(!t.sent())return[2];n=e.annot,e.isActived3DHandleLoaded=!0,e.isActive3D=!0,a=e.parent().$handler,s=function(e,t,n){var i,o=e.e3DTarget;if(o)return{eTarget:o,eCanvas:e._e3DCanvas};o=document.createElement("div"),o.id="fv__pdf-page-3d-annot-interaction-handler-".concat(n),o.className="fv__pdf-page-3d-annot-interaction-handler";var a=document.createElement("canvas"),A=a.transferControlToOffscreen(),s=e.annot.page.doc.engine;return(i=s.api).setCanvas.apply(i,[{path:"jr/doc/3d",clientTransfer:[A]}].concat((0,r._)(y(e)),[A])),a.className="fv__pdf-page-3d-annot-interaction-canvas",o.appendChild(a),t.appendChild(o),e._e3DCanvas=a,e.e3DTarget=o,{eTarget:o,eCanvas:a}}(e,a[0],n.getId()),c=s.eTarget,u=s.eCanvas,t.label=2;case 2:return t.trys.push([2,4,,5]),[4,g(e,e.scale,e.rotate)];case 3:return t.sent(),function(e,t,n){if(e.off3DInteraction)return;var r,a=new(d().Manager)(n);a.add(new(d().Pan)),a.add(new(d().Press));var s=-1,c=new A.ThrottleAsyncTaskExecutor(50,!0),u=function(e,t,n,r){var a;c.exec((a=(0,i._)((function(i){return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return[4,k(e,t,n,r)];case 1:return i.sent(),[2]}}))})),function(e){return a.apply(this,arguments)}))};a.on("panstart",(function(t){s=0,r=t.srcEvent.target.getBoundingClientRect(),u(e,t,1,r)})),a.on("panmove",(function(t){-1!==s&&2!==s&&(s=1,u(e,t,0,r))})),a.on("panend",(function(t){-1!==s&&(s=2,u(e,t,2,r))}));var l=function(t){e.showContextMenu()},h=function(t){e.showToolbar()},f=function(t){e.hideToolbar()};a.on("press",l),t.addEventListener("contextmenu",l),t.addEventListener("mouseover",h),t.addEventListener("mouseout",f),A.isTouchDevice&&t.addEventListener("touchstart",h);e.off3DInteraction=function(){a.off("panstart"),a.off("panmove"),a.off("panend"),a.off("press"),t.removeEventListener("contextmenu",l),t.removeEventListener("mouseover",h),t.removeEventListener("mouseout",f),A.isTouchDevice&&t.addEventListener("touchstart",h),a.destroy(),e.off3DInteraction=null}}(e,c,u),[3,5];case 4:return l=t.sent(),e.isActive3D=!1,(null==l||null===(h=l.message)||void 0===h?void 0:h.includes("Method not permission."))&&e.pdfViewer.setEnable3DInteraction(!1),[3,5];case 5:return[2]}}))})),p.apply(this,arguments)}function g(e,t,n){return v.apply(this,arguments)}function v(){return v=(0,i._)((function(e,t,n){var i,r,A,s;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return e._e3DCanvas&&(i=e.e3DTarget)?(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.scale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.scale,i=e.annot,r=(0,a.oC)(t),o=i.getDeviceRect(r,0),A=i.getDeviceRect(t,n);return{smartRect:o,showRect:A}}(e,t,n),A=r.smartRect,function(e,t){t.style.cssText="z-index:999;position:absolute;top:".concat(e.top,"px;left:").concat(e.left,"px;width:").concat(e.right-e.left,"px;height:").concat(e.bottom-e.top,"px;")}(r.showRect,i),(s=e.parent().$handler.addClass("active")[0])&&(s.style.transform=null),[4,m(e,A)]):[2];case 1:return o.sent(),[2,!0]}}))})),v.apply(this,arguments)}function m(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.rotate;return(n=e.annot.page.doc.engine.api).LoadAnnot3DBitmap.apply(n,[{path:"jr/doc/3d",transfer:["bitmap"]}].concat((0,r._)(y(e)),[t,i]))}function y(e){var t=e.annot,n=e.getPDFPage();return[n.getPDFDoc().getId(),n.getIndex(),t.getId()]}function b(e){if(e._ready3DPromise)return e._ready3DPromise;var t=e.annot.page.doc.engine;return e._ready3DPromise=t.api.getPDF3D({path:"jr/doc"},e.getPDFPage().getPDFDoc().getId())}function w(e){e.off3DInteraction&&(e.off3DInteraction(),e.off3DInteraction=null),e._interactionHammer&&(e._interactionHammer.destroy(),e._interactionHammer=null),e.isActive3D=!1}function k(e,t,n,i){var o,a=t.srcEvent,A={movementX:t.deltaX,movementY:t.deltaY,timeStamp:a.timeStamp,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,altKey:a.altKey,metaKey:a.metaKey,button:a.button,buttons:a.buttons,targetX:a.clientX-i.left,targetY:a.clientY-i.top,canvasX:a.clientX-i.left,canvasY:a.clientX-i.left};return(o=e.annot.page.doc.engine.api).process3DMouseEvent.apply(o,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)),[A,n]))}function x(e,t){var n;return(n=e.annot.page.doc.engine.api).setAnnot3DTool.apply(n,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)),[h[t]||0]))}function _(e){var t;return(t=e.annot.page.doc.engine.api).setDefaultView.apply(t,[{path:"jr/doc/3d"}].concat((0,r._)(y(e)))).then((function(){return g(e,e.scale,e.rotate)}))}function P(e){return!0}},3480:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivationGroup:()=>fC,AnnotComponent:()=>Mo,AnnotationApRenderer:()=>nu,AnnotationAuthorityManager:()=>tx,BrowserInfo:()=>U.BrowserInfo,CalloutShape:()=>Xd,CaretComponent:()=>md,CircleComponent:()=>gl,CombindForms:()=>FD,Consts:()=>r,CustomScrollWrap:()=>RP,Deps:()=>XD,DeviceInfo:()=>U.DeviceInfo,DivScrollWrap:()=>JD,DocCustomRender:()=>ha,EventEmitter:()=>Us(),Events:()=>de,FakeAreaHighlightAnnotation:()=>WD,FakeCircleAnnotation:()=>jD,FakeLineAnnotation:()=>KD,FakePolygonAnnotation:()=>GD,FakePolylineAnnotation:()=>YD,FakeSquareAnnotation:()=>BD,FileAttachmentComponent:()=>gd,FontUtil:()=>l,FormRender:()=>ka,FreeTextBoxComponent:()=>dh,FreeTextCalloutComponent:()=>uh,FreeTextComponent:()=>Wd,FreeTextTypeWritterComponent:()=>$d,Hammer:()=>gr(),HighlightComponent:()=>Au,HtmlUtil:()=>c,IContextMenu:()=>Nm,IStateHandler:()=>za,IViewMode:()=>na,InkComponent:()=>_d,KeyboardUtils:()=>U.KeyboardUtils,LineComponent:()=>Mu,LinkAnnotComponent:()=>dl,LocalCanvasApRenderer:()=>iu,Log:()=>nC,MarkupAnnotComponent:()=>bc,Matrix:()=>rn.Z,NoteComponent:()=>hd,PDF:()=>cC,PDFDocRendering:()=>da,PDFPageRendering:()=>z,PDFPreviewer:()=>HD,PDFViewer:()=>T_,PDFViewerRendering:()=>j,PageCustomRender:()=>W,PolyLineComponent:()=>zu,PolygonCloudAnnotComponent:()=>Nd,PolygonComponent:()=>el,PropertiesControl:()=>cc,RetryPasswordComponent:()=>js,STATE_HANDLER_NAMES:()=>A,ScreenComponent:()=>Jf,ScrollWrap:()=>Ua,ShapeControl:()=>qc,SignatureUtil:()=>g,SnappedPointAssistant:()=>Iu,SnapshotServer:()=>bm,SoundComponent:()=>op,SquareComponent:()=>bd,SquigglyComponent:()=>hu,StampComponent:()=>kd,StrikeOutComponent:()=>cu,StrikeOutTextEditComponent:()=>Xf,TextMarkupAnnotComponent:()=>tu,TileJREngineApRenderer:()=>fd,UnderlineComponent:()=>lu,UserPermission:()=>fa,ViewerEvents:()=>qD,_internal:()=>pC,bookmark:()=>vC,collab:()=>dC,commons:()=>U,constants:()=>uC,creation:()=>tC,dayjs:()=>$e(),dayjsPluginUTC:()=>yC(),dialogPolyfill:()=>ac(),i18next:()=>ls,i18nextChainedBackend:()=>ws,i18nextLocalStorageBackend:()=>Ds,i18nextXHRBackend:()=>Ms,interfaces:()=>AC,jQuery:()=>N(),keyboard:()=>lC,overlayComparison:()=>ZD,printer:()=>hC,readAloud:()=>v,renderers:()=>gC,shared:()=>eC,stateHandler:()=>rC,storage:()=>y,ui:()=>aC,vendors:()=>QD,viewMode:()=>oC,viewerui:()=>sC});var i={};n.r(i),n.d(i,{Activatable:()=>Q,ActivationGroup:()=>Z,ActivationManager:()=>ee});var r={};n.r(r),n.d(r,{ANNOT_APPEARANCE_TYPE:()=>He,AnnotFlagsName:()=>_e,BORDER_STYLE:()=>me,CREATING_DRAWING_CONTEXTMENU:()=>Ie,CREATING_MEASUREMENT_CONTEXTMENU:()=>Se,CUSTOM_STAMPS_LOCALKEY:()=>ze,DB_PREFIX:()=>Le,DISTANCE_TOLERANCE:()=>Te,EMPTY_STR:()=>Fe,FAVORITE_STAMPS_LOCALKEY:()=>We,HIDE_FORM_FIELD_PROPERTY_BOX:()=>Oe,HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX:()=>Be,HIGHLIGHTING_MODE:()=>Ee,INTERNAL_THUMBNAIL_BITMAP_HEIGHT:()=>Ue,INTERNAL_THUMBNAIL_BITMAP_WIDTH:()=>Ve,Intents:()=>be,LINE_CAPTION_POSITION:()=>xe,LineEndingName:()=>we,LineEndingStyle:()=>ke,MARKUP_ANNOTATION_STATE:()=>ge,MEASUREMENT_INFO:()=>je,MODULE_NAME_TYPE:()=>Ye,MeasureType:()=>De,PDFDocPermission:()=>Pe,POINT_TOLERANCE:()=>Me,POINT_TYPE:()=>ye,POS_TYPE:()=>ve,RESOLVED_PROMISE_VOID:()=>Re,SET_FORM_CREATION_CONTINUOUSLY:()=>Ne,STORE_NAMES:()=>Ce});var o={};n.r(o),n.d(o,{Action_Trigger:()=>Dt,Action_Type:()=>at,Additional_Permission:()=>Qe,AdvEditor:()=>zt,Alignment:()=>rt,Border_Style:()=>et,Box_Type:()=>St,Calc_Margin_Mode:()=>Ct,CornerMarkStyle:()=>Vt,Ending_Style:()=>it,Error_Code:()=>Xe,FileAttachment_Icon:()=>tt,File_Type:()=>ct,FillSignType:()=>Bt,Flatten_Option:()=>ut,Font_CIDCharset:()=>Mt,Font_Charset:()=>Tt,Font_Descriptor_Flags:()=>xt,Font_StandardID:()=>Et,Font_Style:()=>Ze,Font_Styles:()=>Rt,Graphics_FillMode:()=>Ft,Graphics_ObjectType:()=>Lt,Highlight_Mode:()=>At,MK_Properties:()=>Nt,NameTreeType:()=>jt,NewWindowFlag:()=>Ht,Note_Icon:()=>nt,Point_Type:()=>ot,PosType:()=>Ot,Position:()=>lt,Range_Filter:()=>mt,Relationship:()=>st,Rendering_Content:()=>yt,Rendering_Usage:()=>bt,Rotation:()=>ft,Rotation_Degree:()=>pt,STAMP_TEXT_TYPE:()=>Ut,Saving_Flag:()=>vt,Search_Flag:()=>gt,Signature_Ap_Flags:()=>Pt,Signature_State:()=>_t,Standard_Font:()=>ht,Text_Mode:()=>It,Watermark_Flag:()=>dt,date_Format:()=>wt,page_Number_Format:()=>kt});var a={};n.r(a),n.d(a,{allIsSpace:()=>sn,debounce:()=>An,getQuadPointsFromRect:()=>an,normalizeQuadPoints:()=>on,verifyRect:()=>cn});var A={};n.r(A),n.d(A,{STATE_HANDLER_CHECK_THE_SEARCH:()=>yn,STATE_HANDLER_CREATE_AREA:()=>Mn,STATE_HANDLER_CREATE_AREA_HIGHLIGHT:()=>xn,STATE_HANDLER_CREATE_ARROW:()=>wn,STATE_HANDLER_CREATE_ARTICLE_BUTTON:()=>ui,STATE_HANDLER_CREATE_CARET:()=>bn,STATE_HANDLER_CREATE_CIRCLE:()=>_n,STATE_HANDLER_CREATE_CIRCLE_AREA:()=>Fn,STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT:()=>kn,STATE_HANDLER_CREATE_CROP_PAGES:()=>ri,STATE_HANDLER_CREATE_DISTANCE:()=>Rn,STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT:()=>oi,STATE_HANDLER_CREATE_EDIT_IMAGE:()=>Sn,STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON:()=>si,STATE_HANDLER_CREATE_FIELD_SIGNATURE:()=>Ai,STATE_HANDLER_CREATE_FIELD_TEXT:()=>ai,STATE_HANDLER_CREATE_FILE_ATTACHMENT:()=>Pn,STATE_HANDLER_CREATE_FREETEXT_BOX:()=>ni,STATE_HANDLER_CREATE_FREETEXT_CALLOUT:()=>ti,STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER:()=>ei,STATE_HANDLER_CREATE_HIGHLIGHT:()=>Dn,STATE_HANDLER_CREATE_IMAGE:()=>Cn,STATE_HANDLER_CREATE_LINE:()=>En,STATE_HANDLER_CREATE_LINK:()=>In,STATE_HANDLER_CREATE_PENCIL:()=>Ln,STATE_HANDLER_CREATE_PERIMETER:()=>Tn,STATE_HANDLER_CREATE_POLYGON:()=>On,STATE_HANDLER_CREATE_POLYGON_CLOUD:()=>Nn,STATE_HANDLER_CREATE_POLYLINE:()=>Bn,STATE_HANDLER_CREATE_RADIO_BUTTON:()=>ci,STATE_HANDLER_CREATE_REPLACE:()=>jn,STATE_HANDLER_CREATE_SQUARE:()=>Vn,STATE_HANDLER_CREATE_SQUARE_CROP:()=>Un,STATE_HANDLER_CREATE_SQUIGGLY:()=>Hn,STATE_HANDLER_CREATE_STAMP:()=>zn,STATE_HANDLER_CREATE_STRIKE_OUT:()=>Wn,STATE_HANDLER_CREATE_TEXT:()=>Yn,STATE_HANDLER_CREATE_UNDERLINE:()=>Gn,STATE_HANDLER_ERASER:()=>Kn,STATE_HANDLER_HAND:()=>mn,STATE_HANDLER_LOUPE:()=>qn,STATE_HANDLER_MARQUEE:()=>$n,STATE_HANDLER_SELECT_ANNOTATION:()=>Zn,STATE_HANDLER_SELECT_TEXT:()=>Qn,STATE_HANDLER_SELECT_TEXT_ANNOTATION:()=>Jn,STATE_HANDLER_SELECT_TEXT_IMAGE:()=>Xn,STATE_HANDLER_SNAPSHOT_TOOL:()=>ii,StateNameAnnotTypeMap:()=>li,StateNameFieldTypeMap:()=>di});var s={};n.r(s),n.d(s,{CENTIMETER:()=>Ei,CUSTOM:()=>xi,FOOT:()=>Di,INCH:()=>ki,KILOMETER:()=>Si,METER:()=>Ii,MILE:()=>_i,MILLIMETER:()=>Ri,PICA:()=>Ti,PIXEL_HORIZONTAL:()=>Mi,PIXEL_VERTICAL:()=>Fi,POINT:()=>Pi,YARD:()=>Ci,getScaleByUnit:()=>Oi,getUnitByName:()=>Ni});var c={};n.r(c),n.d(c,{html2Escape:()=>Bh,htmlCharacter2Entity:()=>jh,jquerySelector2Escape:()=>Vh});var u={};n.r(u),n.d(u,{arrayBufferToBase64:()=>jb,base64ToArrayBuffer:()=>Vb,formatFileLastModified:()=>Ob,formatFileSize:()=>Nb,isFDFFile:()=>Fb,isJSONFile:()=>Mb,isXFDFFile:()=>Lb,removeWhiteBgFromBase64:()=>Bb});var l={};n.r(l),n.d(l,{AdditionalFamilies:()=>Zw,BaseFontFamilies:()=>Xw,BaseFontFamiliesCN:()=>Qw,FontFamilies:()=>qw,FoxitFontMap:()=>Kw,extensionFontFamilies:()=>tk,getDefaultName:()=>nk,isStandardFont:()=>Jw,mapFontName2StdID:()=>Gw,mapStdID2FontName:()=>$w,standardFontFamilies:()=>ek,stdFontMap:()=>Yw});var d={};n.r(d),n.d(d,{isAudioFile:()=>Z_,isBMP:()=>AP,isFDF:()=>cP,isGIF:()=>aP,isImageFile:()=>iP,isJPEG:()=>rP,isPDF:()=>U_,isPDFFile:()=>V_,isPNG:()=>oP,isPlainText:()=>hP,isSVG:()=>sP,isTheoraCodec:()=>q_,isValidMP3:()=>eP,isValidMP4:()=>G_,isValidOGGAudio:()=>tP,isValidOGGVideo:()=>K_,isValidWebM:()=>$_,isVideoFile:()=>H_,isVorbisCodec:()=>nP,isXDP:()=>uP,matchFileHead:()=>j_,supportsH264Video:()=>W_,supportsMP3:()=>X_,supportsOGGAudio:()=>Q_,supportsOGGVideo:()=>Y_});var h={};n.r(h),n.d(h,{BorderStyle:()=>fP,SelectionEventType:()=>pP,Selections:()=>vP,createAreaLimitationReducer:()=>gP});var f={};n.r(f),n.d(f,{convertPermissionToUIData:()=>yP,convertUIDataToPermission:()=>bP,getInputOwnerPwd:()=>PP,getPermissionDefaultUIData:()=>mP,getPwdPopupLatestUIData:()=>kP,requestOwnerPassword:()=>IP,setCertificateAndPermission:()=>CP,setInputOwnerPwd:()=>DP,setPasswordAndPermission:()=>SP,setPwdPopupLatestUIData:()=>xP});var p={};n.r(p),n.d(p,{Eraser:()=>OP,Point:()=>FP,PointType:()=>TP});var g={};n.r(g),n.d(g,{addFATLAndEUTLListToCertificateList:()=>cD,addTrustedCert:()=>eD,getFATLAndEUTLList:()=>lD,getSignatureFieldFromPDFDoc:()=>YP,getTrustedCertificateList:()=>AD,getTrustedCertificateListDb:()=>ZP,hasCertifySignatureInPDF:()=>GP,hasSignedSignatureInPDF:()=>$P,removeTrustedCert:()=>nD,removeTrustedCerts:()=>rD,verifySignatureUtil:()=>pD});var v={};n.r(v),n.d(v,{AbstractPDFTextToSpeechSynthesis:()=>ax,PDFTextToSpeechSynthesisStatus:()=>Wk,ReadAloudService:()=>hx,Store:()=>ox});var m={};n.r(m),n.d(m,{FileFormat:()=>d,SecurityUtils:()=>f,file:()=>u,pageRangeTwoDimensionToOne:()=>Zo});var y={};n.r(y),n.d(y,{IndexedDBStorageDriver:()=>o_,LocalStorageDriver:()=>VD,StorageFeature:()=>Yi});n(3522),n(2821);var b=n(9422),w=n(6784),k=n(4702),x=n(6448),_=n(4375),P=n(6721),D=n(2834),C=n(6841),S=n(6147),I=n(7327),E=n(3638),R=n(6699),T=n(5171),M=n(216),F=n(7582),L=(n(9789),n(7933),n(9755)),N=n.n(L),O=n(5680),B=n.n(O);const j=function(){function e(t,n){(0,_._)(this,e),this.$ui=N()(t),this.pdfViewerRender=n,this.pdfViewer=n.pdfViewer}return(0,P._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0))}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.addClass("rendered")}}]),e}();const V='<div class="fv__pdf-view-mode-item"> <div class="fv__pdf-page-layout"> <div class="fv__pdf-page-rendering" style="position:absolute;width:100%;z-index:1000"></div> <div class="fv__pdf-custom-page-container"></div> <div class="fv__pdf-page-container"> </div> <div class="fv__pdf-page-annots-container"></div> <div class="fv__pdf-page-customs-container"></div> <div class="fv__pdf-page-handler-container"></div> </div> </div>';var U=n(4157),H=n(6118);const z=function(){function e(t,n){(0,_._)(this,e),this.$ui=N()(t),this.pageRender=n,this.docRender=n.docRender,this.viewerRender=this.docRender.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,P._)(e,[{key:"rendering",value:function(){this.$ui.removeClass("rendered"),this.closeRenderingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0),"page")}},{key:"rendered",value:function(){this.$ui.addClass("rendered"),this.closeRenderingFn&&this.closeRenderingFn()}},{key:"destroy",value:function(){this.closeRenderingFn&&this.closeRenderingFn(),this.$ui=null}}]),e}();var W=function(){function e(t,n){(0,_._)(this,e),this.eCustom=t,this.pdfPageRender=n}return(0,P._)(e,[{key:"render",value:function(e,t){}},{key:"destroy",value:function(){this.pdfPageRender=null,this.eCustom=null}}]),e}(),Y=n(1556),G=n(5706),K=n(2640),q=n(2430);function J(e){return(0,Y.o)(e)||(0,G.f)(e)||(0,q.N)(e)||(0,K.i)()}var X=n(5136),Q=function(){function e(){(0,_._)(this,e),(0,X._)(this,"isActive",!1)}return(0,P._)(e,[{key:"active",value:function(){this.isActive||(this.isActive=!0,this.doActive())}},{key:"unActive",value:function(){this.isActive&&(this.isActive=!1,this.doDeactive())}}]),e}(),Z=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"activations",[]),e}return(0,P._)(n,[{key:"add",value:function(e){this.contains(e)||(this.activations.push(e),this.isActive&&!e.isActive&&e.active())}},{key:"remove",value:function(e){var t=this,i=this.activations.indexOf(e);return i<0?this.activations.some((function(i,r){if((0,I._)(i,n)){var o=i.remove(e);return o&&!i.hasActivations()&&t.activations.splice(r,1),o}return!1})):(this.activations.splice(i,1),this.isActive&&e.isActive&&((0,I._)(e,n)?(e.activations||[]).forEach((function(e){return e.unActive()})):e.unActive()),!0)}},{key:"exclude",value:function(e){return this.activations.filter((function(t){return!e.contains(t)}))}},{key:"contains",value:function(e){return this.activations.indexOf(e)>-1||this.activations.some((function(t){return(0,I._)(t,n)&&t.contains(e)}))}},{key:"clear",value:function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0}},{key:"getAllActivations",value:function(){return this.activations.reduce((function(e,t){return(0,I._)(t,n)?e.push.apply(e,t.getAllActivations()):e.push(t),e}),[])}},{key:"hasActivations",value:function(){return this.activations.length>0}},{key:"doActive",value:function(){this.activations.forEach((function(e){e.isActive||e.active()}))}},{key:"doDeactive",value:function(){this.activations.forEach((function(e){e.isActive&&e.unActive()})),this.activations.length=0}}]),n}(Q),ee=function(){function e(){(0,_._)(this,e),(0,X._)(this,"currentActivatable",void 0)}return(0,P._)(e,[{key:"active",value:function(e){if(this.getCurrentActivatable()!==e){if((0,I._)(this.currentActivatable,Z)){if(this.currentActivatable.contains(e))return;if((0,I._)(e,Z)){var t=this.currentActivatable.exclude(e);t.length>0?t.forEach((function(e){e.isActive&&e.unActive()})):this.currentActivatable.isActive&&this.currentActivatable.unActive()}else{var n,i;if(null===(n=this.currentActivatable)||void 0===n?void 0:n.isActive)null===(i=this.currentActivatable)||void 0===i||i.unActive()}}else{var r,o;if(null===(r=this.currentActivatable)||void 0===r?void 0:r.isActive)null===(o=this.currentActivatable)||void 0===o||o.unActive()}this.currentActivatable=e,e.isActive||e.active()}}},{key:"unActive",value:function(e){var t=this.getCurrentActivatable();t&&e&&e.isActive&&((0,I._)(t,Z)?t.remove(e):t===e&&(e.isActive&&e.unActive(),this.currentActivatable=void 0))}},{key:"unActiveCurrent",value:function(){var e,t;(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)&&(null===(t=this.currentActivatable)||void 0===t||t.unActive());this.currentActivatable=void 0}},{key:"getCurrentActivatable",value:function(){var e;if(null===(e=this.currentActivatable)||void 0===e?void 0:e.isActive)return this.currentActivatable}},{key:"getAllCurrentActivatables",value:function(){var e=this.getCurrentActivatable();return e?(0,I._)(e,Z)?e.getAllActivations():[e]:[]}},{key:"hasActivations",value:function(){return null!=this.currentActivatable&&(!(0,I._)(this.currentActivatable,Z)||this.currentActivatable.hasActivations())}},{key:"currentActivableIs",value:function(e){var t=this.getCurrentActivatable();return t===e||(0,I._)(t,Z)&&t.contains(e)}},{key:"clear",value:function(){this.currentActivatable=void 0}}]),e}(),te=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:null,pdfViewer:null};return(0,_._)(this,n),(e=t.call(this)).disposor=new U.Disposable,e._parent=i,e._parentName=i.name,e.pdfViewer=i.pdfViewer,e.isDestroyed=!1,e}return(0,P._)(n,[{key:"addDestroyHook",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;(i=this.disposor).addDestroyHook.apply(i,(0,R._)(t))}},{key:"destroy",value:function(){this._parent=null,this.isDestroyed=!0,this.disposor.destroy()}},{key:"parent",value:function(e){var t=this._parent;return e?t?e===this._parentName?t:t.parent(e):null:t}},{key:"doActive",value:function(){}},{key:"doDeactive",value:function(){}}]),n}(Q);const ne=te;var ie=function(){},re=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,o)).name=n.getDefaultName(),a.$ui=e,a.$handler=i,a.$page=o.$ui,a.annot=r,a.component=new(a.pdfViewer.annotManager.get(r))(r,e[0],i[0],(0,k._)(a)),a}return(0,P._)(n,[{key:"destroy",value:function(){this.component.destroy()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.component.updateSize(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2?arguments[2]:void 0;if(this.isDestroyed||this.component.isDestroyed)return Promise.resolve();var i=this.scale,r=this.rotate;this.scale=e,this.rotate=t;var o=this.component;if(o.setVisibleRect(n),o.isHidden()){if(o.$ui.addClass("fv__markup-annot-invisible"),!o.isFormControl())return Promise.resolve()}else o.isUIVisible()&&o._showUI();return o.$ui.removeClass("fv__markup-annot-invisible"),o.isUIVisible()?Promise.resolve(o.render(e,t)).then((function(n){var a=i!==e||r!==t;return Promise.resolve(o.afterRender({transformed:a,prescale:i,scale:e,prerotate:r,rotate:t})).then((function(e){return n}))})).catch(ie):Promise.resolve()}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=e,this.rotate=t,Promise.resolve(this.component.add(e,t))}},{key:"active",value:function(e){return Promise.resolve(this.component.active(e))}},{key:"unActive",value:function(){return Promise.resolve(this.component.unActive())}},{key:"focus",value:function(){return this.component.focus(this.$page)}},{key:"blur",value:function(){return this.component.blur(this.$page)}},{key:"remove",value:function(e){var t=this,n=this.parent();if(e)return n.unActiveAnnot(this.annot).then((function(){t.component.remove(),n.removeAnnotRender(t)}));for(var i=this.getRelevanceRenders(),r=[],o=i.length;o--;)r[o]=i[o].remove(!0);return Promise.all(r)}},{key:"showContextMenu",value:function(e,t){return this.component.showContextMenu(e,t)}},{key:"doubleTapAnnot",value:function(){this.component.doubleTapAnnot()}},{key:"redraw",value:function(e,t){if(e)return Promise.resolve(this.component.redraw(t));for(var n=this.getGroupRenders(),i=[],r=n.length;r--;)i[r]=n[r].redraw(!0,t);return Promise.all(i)}},{key:"getAnnot",value:function(){return this.getPDFAnnot()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getGroupRenders",value:function(){var e=this.annot,t=[e];if(!e.IsGrouped||!e.IsGrouped())return[this];t=[].concat(e.getGroupElements());var n=this.parent().getAnnotRenders(),i=[];for(var r in n){var o=n[r],a=t.indexOf(o.getPDFAnnot());if(a>-1&&(i.push(o),t.splice(a,1)),!t.length)break}return i}},{key:"getRelevanceRenders",value:function(){var e,t=[],n=this.annot;(e=(n=n.getGroupHeader&&n.getGroupHeader()||n).getPopup&&n.getPopup())&&t.push(e),function(e,t){ae(e,"getReplies",t)}(n,t),Ae(n,t),se(n,t);var i=n.isGrouped&&n.isGrouped()?n.getGroupElements():[n];t=t.concat(i);var r=this.parent().getAnnotRenders(),o=[];try{for(var a in r){var A=r[a],s=t.indexOf(A.getPDFAnnot());if(s>-1&&(o.push(A),t.splice(s,1)),!t.length)break}}catch(e){}return o}},{key:"moved",value:function(e){this.component.moved(),this.component.movedByOther(e)}},{key:"getComponent",value:function(){return this.component}},{key:"invisibleRender",value:function(){this.component.invisibleRender()}},{key:"clearCache",value:function(){this.component.clearCache()}}],[{key:"getDefaultName",value:function(){return"annotRender"}}]),n}(ne);const oe=re;function ae(e,t,n){if(e[t]){var i=e[t](),r=i.length;if(r){n.push.apply(n,i);for(var o=r;o--;){var a=i[o];Ae(a,n),se(a,n),ae(a,t,n)}}}}function Ae(e,t){return ae(e,"getMarkedStates",t)}function se(e,t){return ae(e,"getReviewStates",t)}var ce=function(){return!0},ue=function(e,t){return t[e]};const le={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReplyAdded:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationReviewStateAnnotAdded:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationMarkedStateAnnotAdded:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationPositionMoved:"annotation-moved-position",annotationOrderChanged:"annotation-order-changed",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionAdded:"action-add",actionRemove:"action-remove",actionRemoved:"action-remove",layerVisibleChange:"layer-visible-change",layerVisibleChanged:"layer-visible-change",layerRemoved:"layer-removed",layerMerged:"layer-merged",layerAdded:"layer-added",bookmarkAdded:"bookmark-added",structureBookmarkAdded:"structure-bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageInfoChanged:"page-info-change",pageRotationChange:"page-rotation-change",beforePageRotationChanged:"before-page-rotation-changed",pageRotationChanged:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",watermarkRemoved:"watermark-removed",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:"doc-password-changed",drmEncryptSuccess:"drm-encrypt-success",drmEncryptSucceeded:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:"remove-password-and-permission",pwdAndPermRemoved:"remove-password-and-permission",securityTypeChanged:"security-type-changed",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",pagesInserted:"import-pages",importPages:"import-pages",documentAttachmentAdd:"document-attachment-add",docAttachmentAdded:"document-attachment-add",documentAttachmentModify:"document-attachment-modify",docAttachmentModified:"document-attachment-modify",documentAttachmentRemove:"document-attachment-remove",docAttachmentRemoved:"document-attachment-remove",applyRedaction:"apply-redaction",redactionApplied:"apply-redaction",removeReviewState:"remove-review-state",reviewStateRemoved:"remove-review-state",removeMarkedState:"remove-marked-state",markedStateRemoved:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",COChange:"COChange",COChanged:"COChange",pagesReversed:"pages-reversed",pagesMoved:"pages-moved",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated",pageMeasureScaleRatioChanged:" page-measure-scale-ratio-changed",obtainsPageFromEngine:"obtains-page-from-engine",pagesBoxChange:"pages-box-changed",pagesBoxChanged:"pages-box-changed",pagesLabelChange:"pages-label-change",pagesLabelChanged:"pages-label-change",pagesLabelNeedUpdate:"pages-label-need-change",pagesLabelNeedUpdated:"pages-label-need-change",pagesReplace:"pages-replace",pagesReplaced:"pages-replace",recognitionForm:"recognition-form",removeEmbeddedPageThumbnail:"remove-embedded-page-thumbnail",embeddedPageThumbnailRemoved:"remove-embedded-page-thumbnail",objectStartEdit:"object-start-edit",objectEndEdit:"object-end-edit",objectSelectionChanged:"object-selection-changed",objectAdded:"object-added",objectPropertyChanged:"object-property-changed",objectContentChanged:"object-content-changed",paragraphContentChanged:"paragraph-text-changed",paragraphTextOnActivate:"paragraph-text-on-activate",paragraphTextOnDeactivate:"paragraph-text-on-deactivate",paragraphTextEnterEdit:"paragraph-text-enter-edit",paragraphTextExitEdit:"paragraph-text-exit-edit",paragraphTextOnChar:"paragraph-text-on-char",findSuccess:"find-success",replaceSuccess:"replace-success",replaceAllSuccess:"replace-all-success",articleThreadAdded:"article-thread-added",articleThreadUpdated:"article-thread-updated",articleThreadRemoved:"article-thread-removed",articleBeadAdded:"article-bead-added",articleBeadRemoved:"article-bead-removed",articleBeadUpdated:"article-bead-updated",articleEnterReadMode:"article-enter-read-mode",articleOutReadMode:"article-out-read-mode",invalidRect:"invalidRect",xfaContentChanged:"xfa-content-changed",formReloaded:"formReloaded",formFieldImported:"form-field-imported"};const de=Object.assign({jrLicenseSuccess:"jr-license-success",srLicenseSuccess:"sr-license-success",beforeOpenFile:"before-open-file",openingFile:"opening-file",beforeLoadPDFDoc:"before-load-pdf-document",openFileSuccess:"open-file-success",openFileFailed:"open-file-failed",willCloseDocument:"will-close-document",renderFileSuccess:"render-file-success",renderFileFailed:"render-file-error",beforeRenderPage:"before-render-page",renderPageSuccess:"render-page-success",updateZoomMode:"update-zoom-mode",beforeZoomTo:"before-zoom-to",zoomToSuccess:"zoom-to-success",zoomToFailed:"zoom-to-failed",startChangeViewMode:"start-change-view-mode",changeViewModeSuccess:"change-view-mode-success",toggleFullScreen:"toggle-full-screen",changeViewModeFailed:"change-view-mode-failed",pagesLayoutRedrawBegin:"pages-layout-redraw-begin",pageLayoutRedraw:"page-layout-redraw",pagesLayoutRedrawEnd:"pages-layout-redraw-end",copyTextSuccess:"copy-text-success",copyTextFailed:"copy-text-failed",tapPage:"tap-page",tapAnnotation:"tap-annotation",pressPage:"press-page",pressAnnotation:"press-annotation",pressText:"press-text",rightClickPage:"right-click-page",rightClickAnnotation:"right-click-annotation",doubleTapPage:"double-tap-page",doubleTapAnnotation:"double-tap-annotation",activeAnnotationBefore:"active-annotation-before",activeAnnotation:"active-annotation",activeAnnotationAfter:"active-annotation-after",panActiveAnnotation:"pan-active-annotation",doubleTapActiveAnnotation:"double-tap-active-annotation",contextMenuActiveAnnotation:"contextmenu-action-annotation",activeMultipleAnnotations:"active-multiple-annotations",unActiveAnnotation:"unactive-annotation",updateActiveAnnotation:"update-action-annotation",updateActionAnnotation:"update-action-annotation",removeActiveAnnotationBefore:"remove-action-annotation-before",removeActionAnnotationBefore:"remove-action-annotation-before",removeActiveAnnotationSuccess:"remove-action-annotation-success",removeActionAnnotationSuccess:"remove-action-annotation-success",removeActiveAnnotationFailed:"remove-action-annotation-failed",removeActionAnnotationFailed:"remove-action-annotation-failed",beforeSwitchStateHandler:"before-switch-state-handler",switchStateHandler:"switch-state-handler",deactiveStateHandler:"deactive-state-handler",redactAnnotAllApplyed:"applyed-all-redaction",redactAnnotApplyed:"applyed-redaction",pageNumberChange:"page-number-change",beforeDocumentRotation:"before-document-rotation",afterDocumentRotation:"after-document-rotation",snapModeChanged:"snap-mode-changed",createPageAreaRenderer:"create-page-area-renderer",destroyPageAreaRenderer:"destroy-page-area-renderer",startUpdatePageAreaRenderer:"start-update-page-area-renderer",createSnapshotArea:"create-snapshot-area",updateSnapshotArea:"update-snapshot-area",stabilizedSnapshotArea:"stabilized-snapshot-area",switchPageAreaRenderer:"switch-page-area-renderer",fitWidthResizeViewport:"fit-width-resize-viewport",signatureFieldMouseLButtonDown:"signature-field-Lbutton-down",signatureFieldMouseLButtonUp:"signature-field-LButton-up",signatureFieldMouseEnter:"signature-field-mouse-enter",signatureFieldMouseExit:"signature-field-mouse-exit",visiblePagesRenderCompleted:"completed-render-visible-pages",marqueeZoomIn:"marquee-zoom-in",marqueeZoomOut:"marquee-zoom-out",inkSignAdded:"inkSign-added",inkSignDeleted:"inkSign-deleted",onlineSignAdded:"onlineSign-added",onlineSignDeleted:"onlineSign-deleted",changeReadSpeed:"changeReadSpeed",changeReadVolume:"changeReadVolume",pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",customDataAdd:"custom-data-add",customDataImported:"custom-data-imported",customDataRemoved:"custom-data-removed",customDataUpdated:"custom-data-updated",distanceAnnotCreationStart:"distance-creation-start",perimeterAnnotCreationStart:"perimeter-creation-start",updateDistanceAnnot:"update-distance-annot",distanceAnnotCreationEnd:"distance-creation-end",distanceAnnotCreationCancel:"distance-creation-cancel",drawingAnnotCreationStart:"drawing-creation-start",drawingAnnotCreationEnd:"drawing-creation-end",drawingAnnotCreationCancel:"drawing-creation-cancel",addEditImage:"add-edit-image",InkImageSelected:"ink-image-selected",OnlineImageSelected:"online-image-selected",checkTheSearch:"check-the-search",activeElementChanged:"active-element-changed",cancelCreatingDistance:"cancel-creating-measurement",completeCreatingDistance:"complete-creating-measurement",eraserSuccess:"eraser-success",addAnnotSuccess:"add-annot-success",cancelAddAnnot:"cancel-add-annot",globalAnnotFlagChanged:"global-annot-flag-changed",toolbarTabsClicked:"toolbar-tabs-clicked",sideBarChanged:"sidebar-changed",showWhatsNew:"show-whats-new",disableScroll:"disable-scroll",enableScroll:"enable-scroll",updateScrollableStatus:"update-scrollable-status",selectText:"select-text",changeEnableJS:"change-enable-js",toggleEngineSr2JrSuccess:"toggle-engine-sr-to-jr-success",iconInited:"iconInited",iconAdded:"iconAdded",iconRemoved:"iconRemoved",annotationPermissionChanged:"annotation-premission-changed",startScrollingPage:"pdfui-start-scrolling-page",scrollingPage:"pdfui-scrolling-page",endScrollingPage:"pdfui-end-scrolling-page",designerAssistantStatusChanged:"form-designer-assistant-status-changed",mouseEnter:"mouse-enter",mouseLeave:"mouse-leave",setFromFieldHighlight:"set_form_field_highlight",AddFontMaps:"set_font_map",thumbnailClicked:"thumbnail-clicked",layerActionActived:"layer-action-actived",redeModeShowSidebar:"rede-mode-show-sidebar",gridToggle:"grid-toggle",snapGridToggle:"snap-grid-toggle",toggleCollaborationMode:"toggleCollaborationMode",findReplaceDialogVisibleChange:"find-replace-dialog-visible-change",showAllComments:"show-all-comments",hideAllComments:"hide-all-comments",focusOnControl:"focus-on-control",blurFromObject:"blur-from-object",documentWillPrint:"document-will-print",documentDidPrint:"document-did-print",documentWillSave:"document-will-save",documentDidSave:"document-did-save",verifyDocSignatureEvent:"verify-doc-signature",verifySignatureEvent:"verify-signature",clearSignatureEvent:"clear-signature",viewSignedVersionDocEvent:"view-signed-version",showFieldPropertiesEvent:"show-field-properties",showSignatureVerifyInfoEvent:"show-signature-tusted-info",compareSignedVersionEvent:"compare-signed-version",showCompareSignedVersionResultEvent:"show-compare-signed-version-result",eSignCnShowAuthPromote:"eSignCnShowAuthPromote",eSignCnShowMultiPageStamp:"eSignCnShowMultiPageStamp",eSignCNAddDateStamp:"eSignCNAddDateStamp",eSignCNCloseStamp:"eSignCNCloseStamp",eSignCNChangePagingSeal:"eSignCNChangePagingSeal",eSignCNOpenProcessSeal:"eSignCNOpenProcessSeal",eSignCnApply:"eSignCnApply",eSignCNShowOfflineResult:"eSignCNShowOfflineResult",eSignCnExit:"eSignCnExit",tapField:"tap-field",tapGraphicsObject:"tap-graphics-object",spawnPageSuccess:" spawn-page-success",progressChanged:"progress-changed",togglePageContextMenu:"toggle-page-contextmenu",beforeRenderingVisiblePages:"before-rerendering-visible-pages",afterRenderingVisiblePages:"after-rerendering-visible-pages"},le);n(7337);var he=function(){},fe=function(){function e(){(0,_._)(this,e),this.queue=[],this.promise=Promise.resolve()}return(0,P._)(e,[{key:"push",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.queue.push([e,n]),new Promise((function(e,n){setTimeout((function(){return t.exec()}),i)}))}},{key:"exec",value:function(){var e=this;if(!this.execIng){var t=this.queue.pop();if(t){this.execIng=!0;for(var n=0,i=this.queue.length;n<i;n++)this.queue[n][1]();return this.queue=[],Promise.resolve(t[0]()).catch((function(){try{return Promise.resolve(t[1]()).catch(he)}catch(e){}})).finally((function(){e.execIng=!1,setTimeout((function(){e.exec()}),30)}))}}}},{key:"end",value:function(){this.queue=[]}}]),e}(),pe=function(){function e(){(0,_._)(this,e),this.executor=new U.QueuedAsyncTaskExecutor}return(0,P._)(e,[{key:"serial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.executor.cancel(),this.executor.waitForCurrentRunningTasks().then((function(){return e.executor.resume(),e.executor.execTasks(t.map((function(e){return{task:e}})))}))}},{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.execTasks(t.map((function(e){return{task:e}})))}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.executor.insert(t.map((function(e){return{task:e}}))),this.executor.waitForCurrentRunningTasks()}},{key:"concat",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){e.executor.exec(t)})),this.executor.waitForCurrentRunningTasks()}},{key:"exec",value:function(){return this.executor.waitForCurrentRunningTasks()}},{key:"end",value:function(){return this.executor.cancel(),this.executor.waitForCurrentRunningTasks()}}]),e}();!function(){function e(){(0,_._)(this,e),this.queue=[],this.continueExec=!0,this.deferred=(0,U.createDeferred)(),this.task=Promise.resolve()}(0,P._)(e,[{key:"serial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.queue=e,this.exec(),this.deferred.promise}},{key:"push",value:function(){this.queue.push.apply(this.queue,arguments)}},{key:"unshift",value:function(){this.queue.unshift.apply(this.queue,arguments)}},{key:"concat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.queue.concat(e)}},{key:"exec",value:function(){var e=this;if(!this.execIng){this.execIng=!0;var t=this.queue.shift()||[he],n=t[0]();return this.execIngEnd=t[1]||he,Promise.resolve(n).finally((function(){return e.execIng=!1,e.queue.length?e.continueExec?void e.task.then((function(t){return e.exec()})):(e.queue=[],e.deferred.resolve(n)):e.deferred.resolve(n)})).catch(he),this.deferred.promise}}},{key:"end",value:function(){if(this.execIng)try{Promise.resolve(this.execIngEnd()).catch(he)}catch(e){}return this.continueExec=!1,this.queue=[],this.deferred.promise}}])}();const ge={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",DEFERRED:"deferred",FUTURE:"future",NONE:"none"};var ve={FIRST:0,LAST:1,AFTER:2,BEFORE:3,NEXT:2,PREV:3},me={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5,NOBORDER:6},ye={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},be={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",FREETEXT_TEXTBOX:"FreeTextTextbox",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"},we={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"},ke=Object.keys(we).reduce((function(e,t){return e[we[t]]=Number(t),e}),{}),xe={POS_INLINE:0,POS_TOP:1},_e={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},Pe={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},De={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},Ce={SELECTION_INFO:"viewer--store-selection-info"},Se="creating-measurement-contextmenu",Ie="creating-drawing-contextmenu",Ee={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},Re=Promise.resolve(),Te=2,Me=.01,Fe="",Le="FoxitPDFSDKForWeb_",Ne="set_form_creation_continuously",Oe="hideFormFieldPropertyBox",Be="hideFormFieldSimplePropertyBox",je="measurementInfo",Ve=200,Ue=258,He={ROLLOVER:"rollover",NORMAL:"normal",DOWN:"down"},ze="CUSTOM-STAMPS",We="FAVORITE-STAMPS-LIST",Ye={ConnectedPDF:1,XFA:2,Redaction:3,RMS:4,OCR:5,Comparison:6,Compliance:7,Optimizer:8,Conversion:9,LayoutRecognition:10,AdvEdit:11},Ge=n(7484),$e=n.n(Ge);var Ke=function(e,t,n){var i="";if("object"==typeof e&&e.IsValid){if(!e.IsValid())return i;e=function(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.milliseconds)}(e)}var r=$e()(e);if((t=t||"YYYY-MM-DD HH:mm:ss").indexOf("Z")>=0){n=Object.assign({separator:":",prefix:"",suffix:"",showSpace:!0},n);var o=r.format("Z");":"!==n.separator&&(o=o.replace(":",String(n.separator))),""!==n.prefix&&(o=String(n.prefix)+o),""!==n.suffix&&(o+=String(n.suffix)),t=t.replace(/\s+Z+|Z+/g,"");var a=n.showSpace?" ":"";i=r.format(t)+a+o}else i=r.format(t);return i},qe=function(e){return"D:"+Ke(e,"YYYYMMDDHHmmssZ",{separator:"'",showSpace:!1})+"'"};const Je=Ke;const Xe={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66,collaborationSession:1400};var Qe={download:1},Ze={normal:0,italic:1,bold:2},et={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5,noBorder:6},tt={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},nt={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},it={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},rt={left:0,center:1,right:2},ot={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},at={goto:"TypeGoto",launch:"TypeLaunch",uri:"TypeURI",named:"TypeNamed",thread:"TypeThread",submitForm:"TypeSubmitForm",resetForm:"TypeResetForm",javaScript:"TypeJavaScript",importData:"TypeImportData",hide:"TypeHide",gotoE:"TypeGoToE"},At={none:0,invert:1,outline:2,push:3,toggle:4},st={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},ct={fdf:0,xfdf:1,xml:2,csv:3,txt:4,json:5},ut={all:0,field:1,annot:2},lt={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},dt={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},ht={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},ft={rotation0:0,rotation1:1,rotation2:2,rotation3:3},pt={rotation0:0,rotation90:90,rotation180:180,rotation270:270},gt={caseSensitive:1,wholeWord:2,consecutively:4},vt={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},mt={all:0,even:1,odd:2},yt={page:"page",annot:"annot"},bt={print:"print",view:"view"},wt={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},kt={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},xt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},_t={VerifyErrorByteRange:64,verifyChange:128,verifyIncredible:256,verifyNoChange:1024,stateVerifyIssueUnknown:2048,verifyIssueValid:4096,verifyIssueUnknown:8192,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},Pt={showTagImage:1,showLabel:2,showReason:4,showDate:8,showDistinguishName:16,showLocation:32,showSigner:64,showBitmap:128,showText:256,showDrawing:512},Dt={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},Ct={CalcContentsBox:0,CalcDetection:1},St={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4},It={Fill:0,Stroke:1,FillStroke:2,Invisible:3,FillClip:4,StrokeClip:5,FillStrokeClip:6,Clip:7},Et={Courier:0,CourierB:1,CourierBI:2,CourierI:3,Helvetica:4,HelveticaB:5,HelveticaBI:6,HelveticaI:7,Times:8,TimesB:9,TimesBI:10,TimesI:11,Symbol:12,ZapfDingbats:13},Rt={FixedPitch:1,Serif:2,Symbolic:4,Script:8,NonSymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,Bold:262144},Tt={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EastEurope:238,Russian:204,Greek:161,Turkish:162,Hebrew:177,Arabic:178,Baltic:186},Mt={Unknown:0,GB1:1,CNS1:2,JAPAN1:3,KOREA1:4,UNICODE:5},Ft={None:0,Alternate:1,Winding:2},Lt={All:0,Text:1,Path:2,Image:3,Shading:4,FormXObject:5},Nt={borderColor:"borderColor",fillColor:"fillColor",normalCaption:"normalCaption",downCaption:"downCaption",rolloverCaption:"rolloverCaption"},Ot={first:0,last:1,after:2,before:3,next:2,prev:3},Bt={crossMark:1,checkMark:2,roundRectangle:3,line:4,dot:5},jt={Dests:1,JavaScript:2,EmbeddedFiles:3,Templates:4,Pages:5},Vt={none:1,superscript:2,subscript:3},Ut={CUSTOM_TEXT:"type here to insert text",NAME:"author name",NAME_DATE_TIME:"author name, date and time",DATE_TIME:"date and time",DATE:"date"},Ht={NewWindowFlagFalse:0,NewWindowFlagTrue:1,NewWindowFlagNone:2},zt={Style_Type:{editTextBox:0,editTextCaret:1,addTextBBox:2,editObjectBox:3,editShapeBox:4},Line_Type:{straightLine:0,thinDashedLine:1,normalDashedLine:2,thickDashedLine:3,thinDashedDotLine:4,normalDashedDotLine:5,thickDashedDotLine:6}};var Wt="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function Yt(e){var t,n=e.length,i=0;for(t=0;t<n;t++){var r=e.charCodeAt(t);r>=128||"W"==Wt[r]||"#"==e[t]||"D"==Wt[r]?i+=3:i++}if(i==n)return e;var o="";for(t=0;t<n;t++){var a=e.charCodeAt(t);if(a>=128||"W"==Wt[a]||"#"==e[t]||"D"==Wt[a]){if("W"==Wt[a]&&0==a)continue;o+="#",o+="0123456789ABCDEF"[parseInt(a/16)],o+="0123456789ABCDEF"[a%16]}else o+=e[t]}return o}function Gt(e){var t;for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t===e.length)return"("+e.replace(/([\(|\)])/g,"\\$1")+")";var n="<FEFF";for(t=0;t<e.length;t++){for(var i=e.charCodeAt(t).toString(16);i.length<4;)i="0"+i;n+=i}return n+">"}function $t(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return new Uint8Array(t)}var Kt=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"JSONToFDF",value:function(t){for(var n={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},i=[],r=0,o=t.length;r<o;r++){var a=t[r];a.type&&(a.deleted?i.push({name:a.name,page:a.page}):e.singleAnnotJSONToFDF(n,a,!1))}return new Blob([$t(n.file.replace(/\{annotsRefArray\}/,n.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})}},{key:"singleAnnotJSONToFDF",value:function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.next;if(r?i="Popup":r="popup"==(i={unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[(n&&n.type&&n.type.toLowerCase()||"").toString().toLowerCase()]).toLowerCase(),!i||"link"==i.toLowerCase()||"screen"==i.toLowerCase()||"sound"==i.toLowerCase())return 0;var a=n.style||"S";a=a.toUpperCase()[0];var A=n.width,s=n.color||"",c="C"==a?"C":"S",u=n.intensity,l=0===n.opacity?0:n.opacity||1,d=Gt(n.contents||""),h=n.flags||"print",f=h.split(",");for(var p in h=0,_e)-1!=f.indexOf(_e[p])&&(h|=1<<parseInt(p));var g=n.creationdate,v=n.date,m=n.name||"",y=n.page,b=(n.rect||"").replace(/,/g," "),w=Gt(n.subject||"subject"),k=Gt(n.title||"title"),x=n["interior-color"]||n.interiorColor,_="".concat(o," 0 obj\n")+"<<"+"/Rect [".concat(b,"]")+"/Subtype /".concat(i)+"/NM (".concat(m,")");for(var P in n.customEntries)_+="/".concat(P," ").concat(Gt(n.customEntries[P]),"\n");if(t.annotRef.push("".concat(o," 0 R ")),t.next++,!r){var D;if(v&&(_+="/M (".concat(v,")")),_+="/CA ".concat(l)+"/CreationDate (".concat(g,")")+"/F ".concat(h)+"/Page ".concat(y)+"/Subj ".concat(w)+"/T ".concat(k)+"/Type /Annot",d&&(_+="/Contents ".concat(d)),n.replyType)D="string"==typeof n.replyType&&n.replyType||"Group",_+="/RT /".concat(D[0].toUpperCase()+D.substr(1));n.inreplyto&&(_+="/IRT (".concat(n.inreplyto,")")),n.measureRatio&&(_+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>"))}if((a||A)&&"Stamp"!=i){a=a||"S",A=A||"0",u=u||"0",c=c||"S";var C=(n.dashes||"").replace(/,/g," ");_+="/BS <</S /".concat(a," /W ").concat(A," /D [").concat(C,"]>>")+"/BE <</S /".concat(c," /I ").concat(u,">>")}if("FreeText"!=i?(s&&(_+="/C "+Xt(s)),x&&(_+="/IC "+Xt(x))):(x&&(_+="/C "+Xt(x)),s&&(_+="/IC "+Xt(s),_+="/DS (color:".concat(n.fontColor,")"))),void 0!==n.rotation&&(_+="/Rotate ".concat(n.rotation)),void 0!==n.bm&&(_+="/BM /".concat(Yt(n.bm))),void 0!==n.bm&&(_+="/ca ".concat(n.ca)),-1===["link","screen","Popup"].indexOf(i)){var S=n.intent||n.IT;S&&(_+="/IT /".concat(S.replaceAll(" ","#20")))}var I="";switch(i){case"Text":case"Note":var R;_=_.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),n.icon&&(_+="/Name/".concat(Yt(n.icon))),(R=n.state)&&(_+="/State(".concat(R,")/StateModel(").concat(n.statemodel,")"));break;case"Link":return"";case"FreeText":_=_.replace(/\/C\s?\[[\s\S]*?\]/,""),x&&(_+="/C ".concat(Xt(x)));var T=n.defaultappearance,M=n.justification,F="/DA (".concat(T,")")+"/Q ".concat(M);if(n.callout){var L=n.callout.replace(/,/g," ");F+="/CL  [".concat(L,"]"),F+="/LE/".concat(n.head)}if(n.fringe){var N=n.fringe.replace(/,/g," ");F+="/RD [".concat(N,"]")}I=F;break;case"Line":var O="yes"===n.caption,B=n.head,j=n.tail,V="[/".concat(B,"/").concat(j,"]"),U=n.leaderLength,H=n.start.replace(/,/g," ")+" "+n.end.replace(/,/g," "),z=n.leaderExtend,W=n.leaderOffset,Y=n.captionOffset?n.captionOffset.x+" "+n.captionOffset.y:"",G="/Cap ".concat(O)+"/LE ".concat(V)+"/LL ".concat(U)+"/L [".concat(H,"]")+"/LLE ".concat(z)+"/LLO ".concat(W);Y&&(G+="/CO [".concat(Y,"]")),void 0!==n.captionColor&&(G+="/CC ".concat(Xt(n.captionColor))),I=G;break;case"Square":case"Circle":var $=n.fringe.replace(/,/g," "),K="/RD [".concat($,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor){void 0!==n.captionColor&&(K+="/CC ".concat(Xt(n.captionColor)));var q="yes"===n.caption;K+="/Cap ".concat(q),K+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")}I=K;break;case"Polygon":case"PolyLine":var J=n.vertices.replace(/[,|;]/g," "),X=(n.intent,"yes"===n.caption),Q="/Vertices [".concat(J,"]");if(n.measureRatio&&n.measureUnit&&void 0!==n.measureConversionFactor&&(void 0!==n.captionColor&&(Q+="/CC ".concat(Xt(n.captionColor))),Q+="/Cap ".concat(X),Q+="/Measure<</R(".concat(n.measureRatio,")/X[<</C ").concat(n.measureConversionFactor,"/U(").concat(n.measureUnit,")>>]/Type/Measure/Subtype/RL>>")),"PolyLine"==i){var Z=n.head,ee=n.tail,te="[/".concat(Z,"/").concat(ee,"]");Q+="/LE ".concat(te)}if(n.path&&n.path.length>0){var ne=n.path.split(";").map((function(e){return"[".concat(e.replace(/,/g," "),"]")})).join(" ");Q+="/Path [".concat(ne,"]")}I=Q;break;case"Redact":if(I+="/OC "+Xt(s),I+="/Repeat "+("yes"==n.repeat?"true":"false"),"Redact"==i){I+="/OverlayText"+Gt(n["overlay-text"]||n.overlaText||"");var ie=n.defaultappearance;I+="/DA (".concat(ie,")"),I+="/Q ".concat(n.justification||0)}case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if("coords"in n){var re;if(n.coords||"Redact"===i)re=n.coords.replace(/,/g," ");else{var oe=(0,E._)(n.rect.split(","),4),ae=oe[0],Ae=oe[1],se=oe[2],ce=oe[3];re=[ae,ce,se,ce,ae,Ae,se,Ae].join(" ")}I+="/QuadPoints [".concat(re,"]")}break;case"Caret":var ue=n.fringe.replace(/,/g," ");I="/RD [".concat(ue,"]");break;case"Stamp":if(n.icon&&(I="/Name/".concat(Yt(n.icon))),n.raw&&n.raw.N){var le=qt(t,n.raw,n.raw.N);I+="/AP << /N ".concat(le," 0 R >>\n")}break;case"Ink":if("["===n.inklist[0]){var de=n.inklist.substr(1,n.inklist.length-2).split("],["),he="";de.map((function(e){he+="["+e.replace(/[,|;]/g," ")+"]"})),I="/InkList [".concat(he,"]")}else I="/InkList [[".concat(n.inklist.replace(/[,|;]/g," "),"]]");break;case"Popup":I="/Open "+("yes"==n.open?"true":"false"),n.parentObjNum&&(I+="/Parent "+n.parentObjNum+" 0 R");break;case"Sound":I+="/Sound "+qt(t,n,{Filter:"/ASCIIHexDecode",R:n.rate,Type:"/Sound",stream:n.soundStream})+" 0 R";case"FileAttachment":if(n.icon&&(I+="/Name/".concat(Yt(n.icon))),n.raw){var fe=qt(t,n.raw,n.raw.FS);I+="/FS ".concat(fe," 0 R ")}}n.popup&&(n.popup.parentObjNum=o,I+="/Popup "+e.singleAnnotJSONToFDF(t,n.popup,!0)+" 0 R");return t.file+=_+I+">>\nendobj\n",o}}]),e}(),qt=function(e,t,n){var i=e.next;e.next++;var r="";if(r+="".concat(i," 0 obj\n"),"string"==typeof n)r+=n;else if((0,I._)(n,Array))r+="["+n.map((function(n){return Jt(e,t,n)})).join(" ")+"]";else{r+="<<\n";for(var o in n)"stream"!=o&&(r+="/"+o+" "+Jt(e,t,n[o]));if(r+=">>",n&&n.stream){for(var a="",A=0;A<n.stream.length;A+=2){var s=parseInt(n.stream[A],16),c=parseInt(n.stream[A+1],16);a+=String.fromCharCode((s<<4)+c)}r+="stream\n"+a+"\nendstream"}}return r+="\nendobj\n",e.file+=r,i},Jt=function(e,t,n){if(null===n)return"null";var i,r=void 0===n?"undefined":(0,T._)(n);if("number"==r)return n;if("string"==r)return"true"===n||"false"===n?n:"/"==n[0]?"/"+Yt(n.replace("/","")):"<"==n[0]?n:(i=n.match(/^(\d*)R$/))?qt(e,t,t[i[1]])+" 0 R":"("+n+")";if("boolean"==r)return n?"true":"false";if((0,I._)(n,Array))return"["+n.map((function(n){return Jt(e,t,n)})).join(" ")+"]";var o="<<";for(var a in n)o+="/".concat(a," ")+Jt(e,t,n[a]);return o+">>"},Xt=function(e){var t=e.match(/\#?(\w{2})(\w{2})(\w{2})/),n=parseInt(t[1],16)/255,i=parseInt(t[2],16)/255,r=parseInt(t[3],16)/255;return"["+n.toFixed(2)+" "+i.toFixed(2)+" "+r.toFixed(2)+"]"},Qt=function(e){for(var t in we)if(we[t]==e)return+t;return 0},Zt=function e(t,n,i,r){(0,_._)(this,e),this.left=t,this.bottom=n,this.right=i,this.top=r};const en={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048};const tn={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",captionColorUpdated:"captionColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",textColorUpdated:"textColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",leaderCaptionOffsetUpdated:"leaderCaptionOffset-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",leaderLineExtendUpdated:"leaderLineExtend-updated",leaderLineOffsetUpdated:"leaderLineOffset-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",measureConversionFactorUpdated:"measureConversionFactor-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",moveAction:"move-action",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",overlayTextUpdated:"overlayText-updated",overlayTexAlignmentUpdated:"overlayTextAlignment-updated",repeatUpdated:"repeat-updated",autoFontSizeUpdated:"autoFontSize-updated",redactDefaultAppearanceUpdated:"redactDefaultAppearance-update",redactOpacityUpdated:"redactOpacity-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies",richTextUpdated:"rich-text-updated",richTextRemoved:"rich-text-removed",addDictionary:"add-dictionary",imageUpdated:"image-updated",formFieldValueUpdated:"form-field-value",formFieldsMaxLengthUpdated:"maxLength",formFieldItemsUpdated:"setItems",formFieldIconUpdated:"icon",formFieldInsertedItem:"insertItemAt",formFieldExportValueUpdated:"form-field-export-value",formFieldMKPropertyUpdated:"form-field-mk-property",formFieldAlternateName:"form-field-alternate-name",formFieldMappingName:"form-field-mapping-name",formFieldActionUpdated:"form-field-action",pathUpdated:"annot-path-updated",cloudyApUpdated:"set-to-cemicircle-cloudy"};const nn={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512};var rn=n(8469);function on(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=new rn.Z;if(o.translate(t.x,t.y),o.rotate(Math.atan2(t.y-n.y,n.x-t.x)),o.transformPoint(i.x,i.y)[1]>0){var a=t;t=i,i=a,a=n,n=r,r=a}return[t,n,i,r]}function an(e,t){var n=e.left,i=e.right,r=e.top,o=e.bottom;switch(t%4){case 0:return[{x:n,y:r},{x:i,y:r},{x:n,y:o},{x:i,y:o}];case 1:return[{x:i,y:r},{x:i,y:o},{x:n,y:r},{x:n,y:o}];case 2:return[{x:i,y:o},{x:n,y:o},{x:i,y:r},{x:n,y:r}];case 3:return[{x:n,y:o},{x:n,y:r},{x:i,y:o},{x:i,y:r}]}var a=new rn.Z,A=(n+i)/2,s=(r+o)/2;a.rotateAt(A,s,-radian);var c=a.transformRect(n,r,i,o),u=a.transformPoint(c[0],c[3]);u={x:u[0],y:u[1]};var l=a.transformPoint(c[2],c[3]);l={x:l[0],y:l[1]};var d=a.transformPoint(c[0],c[1]);d={x:d[0],y:d[1]};var h=a.transformPoint(c[2],c[1]);return[u,l,d,h={x:h[0],y:h[1]}]}function An(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,r)}),e)}}function sn(e){return 0===e.replace(/\s+/gi,"").length}function cn(e){var t,n;if(["left","right","top","bottom"].some((function(t){return"number"!=typeof e[t]})))throw new Error("Param error: The rect parameter includes top, bottom, left and right. And only number is available");if(e.left===e.right||e.top===e.bottom)throw new Error("Param error: The value of the rect parameter is invalid.");e.left>e.right&&(t=[e.right,e.left],e.left=t[0],e.right=t[1]);e.bottom>e.top&&(n=[e.bottom,e.top],e.top=n[0],e.bottom=n[1]);return e}var un=function(){function e(t,n){(0,_._)(this,e),this._isEmpty=!t,this.info=t||{},this.page=n,this.api=n.api,this.engine=n.engine,this.eventEmitter=n.engine.eventEmitter,this.id=t.id,this.objectNumber=t.objectNumber,this.isDestroyed=!1}return(0,P._)(e,[{key:"destroy",value:function(){this.isDestroyed=!0,this.info=null,this.page=null,this.api=null,this.eventEmitter=null}},{key:"checkModidyPerm",value:function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(en.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(en.fillForm|en.annotForm))throw new Error("Permission error")}},{key:"hasModifyPermission",value:function(){return"widget"==this.info.type?this.page.doc.checkPermission(en.fillForm|en.annotForm):this.page.doc.checkPermission(en.annotForm)}},{key:"isEmpty",value:function(){return this._isEmpty}},{key:"getInfo",value:function(){return this.info}},{key:"getId",value:function(){return this.info.objectNumber}},{key:"getObjectNumber",value:function(){return this.info.objectNumber}},{key:"getUniqueID",value:function(){return this.info.name}},{key:"setUniqueID",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getUniqueID();return this.page.doc.api.setUniqueId(i.getId(),n.getId(),this.getId(),e).then((function(i){return i?(t.info.name=e,t.update(tn.uniqueIDUpdated).then((function(){return t.eventEmitter.emit(le.annotationIDUpdated,e,r,t,n),i}))):i}))}},{key:"getName",value:function(){return this.info.name}},{key:"getPDFPage",value:function(){return this.page}},{key:"getPage",value:function(){return this.getPDFPage()}},{key:"getType",value:function(){return this.info.type}},{key:"getTitle",value:function(){return this.info.title}},{key:"isMarkup",value:function(){return this.info.isMarkup}},{key:"isDeleted",value:function(){return this.info.isDeleted}},{key:"getRect",value:function(){var e=this.info.rect;return new Zt(e.left,e.bottom,e.right,e.top)}},{key:"_setRect",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.oldRect=this.info.rect,this.info.rect=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),i.getId(),this.getId(),e).then((function(e){return e?t.update(tn.rectUpdated,n).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):(t.info.rect=t.oldRect,e)}))}},{key:"setRect",value:function(e){var t=this;this.oldRect=this.info.rect,e=cn(e),this.info.rect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRect(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.rectUpdated).then((function(e){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),!0})):(t.info.rect=t.oldRect,e)}))}},{key:"setRectAndInnerRect",value:function(e,t){var n=this;this.oldRect=this.info.rect,this.info.rect=e,this.info.innerRect=t;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRectAndInnerRect(r.getId(),i.getId(),this.getId(),e,t).then((function(e){return e?n.update(tn.rectUpdated).then((function(e){return n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage()),!0})):e}))}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.action,o=t.triggerAction,a=void 0===o||o,A=Object.assign({},this.info.rect),s=A.right,c=A.bottom,u=n-A.left,l=i-A.top;this.oldRect=A,this.info.rect={left:n,top:i,right:s+u,bottom:c+l};var d=this.getPDFPage(),h=d.getPDFDoc().getId(),f=d.getId(),p=this.getId();return this.page.doc.api.moveAnnotTo(h,f,p,{left:n,top:i}).then((function(e){return d.getAnnotsByObjectNumArray(e)})).then((function(t){return Promise.all(t.map((function(e){return e._update()}))).then((function(n){a&&e.eventEmitter.emit(le.annotationUpdated,t,d,tn.rectUpdated),"move"==r&&e.eventEmitter.emit(le.annotationMovedPosition,t,d,e)}))}))}},{key:"getDeviceRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.page.getDeviceRect(this.getRect(),e,t);if(16&this.info.flag){var i=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],e,t);return{left:i[0],top:i[1],right:i[0]+n.right-n.left,bottom:i[1]+n.bottom-n.top}}return n}},{key:"getDeviceInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),e,t)}},{key:"getContent",value:function(){return this.info.content}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this._setContent(e).then((function(n){return t.info.content=e,t.eventEmitter.emit(le.annotationUpdated,[t],t.getPDFPage(),tn.contentUpdated),t}))}},{key:"_setContent",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotContent(n.getId(),t.getId(),this.getId(),e)}},{key:"getBorderColor",value:function(){return this.info.borderColor}},{key:"setBorderColor",value:function(e){var t=this;this.checkModidyPerm(),isNaN(e)&&(e=(0,U.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i?(0===e&&(t.info.hasBorderColor=!1),t.update(tn.borderColorUpdated).then((function(){t.isGrouped&&t.isGrouped()&&t.getGroupElements().map((function(e){e!=t&&t.eventEmitter.emit(le.annotationAppearanceUpdated,[e],n)}));return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),i}))):i}))}},{key:"getBorderStyle",value:function(){return this.info.borderInfo.style}},{key:"getBorderStyleWithParam",value:function(){var e,t=this.info.borderInfo,n=t.style,i=t.cloudIntensity,r=t.dashes;switch(n){case me.SOLID:e=[];break;case me.CLOUDY:e=i;break;case me.DASHED:e=r}return{style:n,param:e}}},{key:"getBorderInfo",value:function(){return Object.assign({},this.info.borderInfo)}},{key:"setBorderInfo",value:function(e){var t=this;this.checkModidyPerm();var n=this.getType();if(this.getQuadPoints||"caret"===n||"text"===n)return Promise.resolve();var i=JSON.parse(JSON.stringify(this.info.borderInfo||{}));e=this.info.borderInfo=Object.assign(i,e);var r=this.getPDFPage(),o=r.getPDFDoc();return 1===e.style&&0===e.dashes.length&&(e.dashes=[2,2]),5===e.style&&e.cloudIntensity>2&&(e.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(o.getId(),r.getId(),this.getId(),e).then((function(e){return t._update()})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,[t],r,tn.borderInfoUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],r),!0}))}},{key:"setBorderStyle",value:function(e,t){var n=this,i=this.info.borderInfo;switch(i.style=e,e){case 1:i.dashes=t;break;case 5:i.cloudIntensity=t}var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(o.getId(),r.getId(),this.getId(),e,t).then((function(e){return r.getAnnotsByObjectNumArray(e)})).then((function(e){for(var t=[],n=e.length;n--;)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return n.eventEmitter.emit(le.annotationUpdated,e,r,tn.borderStyleUpdated),n.eventEmitter.emit(le.annotationAppearanceUpdated,e,r),!0}))}},{key:"getBorderDashes",value:function(){return Object.assign([],this.info.borderInfo.dashes)}},{key:"getBorderWidth",value:function(){var e=this.info.borderInfo.width;return void 0===e?1:+e}},{key:"setBorderWidth",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(i.getId(),n.getId(),this.getId(),e).then((function(e){return t._update().then((function(t){return e}))})).then((function(e){return e&&(t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.borderWidthUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)),e}))}},{key:"getCloudIntensity",value:function(){return this.info.borderInfo.cloudIntensity||0}},{key:"reviseSummary",value:function(e){return Promise.resolve(this)}},{key:"rectIsEmpty",value:function(){return this.info.rectIsEmpty}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then((function(){return n&&e&&t.eventEmitter.emit(le.annotationUpdated,[t],t.getPDFPage(),e),t}))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.getAnnot(i.getId(),n.getId(),this.getId()).then((function(n){return n.rotation&&n.rotation<0&&(n.rotation+=360),e.updateInfo(n,t),e}))}},{key:"_updateMore",value:function(){}},{key:"getRectData",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.getRectData({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"updateRectData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getRectData().then((function(n){return e.oldRect=e.info.rect,e.info=Object.assign({},e.info,n),e.updateInfo(e.info,t),e}))}},{key:"getFlags",value:function(){return this.info.flag}},{key:"isReplace",value:function(){return!1}},{key:"getIndex",value:function(){return this.info.index}},{key:"setFlags",value:function(e,t){var n=this;this.checkModidyPerm(),this.info.flag=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotFlag(r.getId(),i.getId(),this.getId(),e).then((function(r){return r?("widget"==n.getType()&&n.updateUI({type:"display",value:e}),n.update(tn.flagsUpdated,!t).then((function(e){return n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],i),r}))):r}))}},{key:"setFlagValue",value:function(e,t){return this.setFlags(e,t)}},{key:"getModifiedDateTime",value:function(){var e=this.info.modifiedTimestamp;return e<0?null:new Date(e)}},{key:"setModifiedDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setModifiedDateTime(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.modifiedDateTimeUpdated)}))}},{key:"_setModifiedDateTime",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setModifiedDateTime(r.getId(),i.getId(),this.getId(),e).then((function(e){return n.update(tn.modifiedDateTimeUpdated,t)}))}},{key:"exportToJSON",value:function(){var e=this.info.hasBorderColor?(0,U.colorConvertor)(16777215&this.info.borderColor,"#"):0,t=this.info.flag,n=[];for(var i in _e)t&1<<parseInt(i)&&n.push(_e[i]);n=n.join(",");var r=this.info.name,o=this.page.getIndex(),a=this.info.rect,A=a.left+","+a.bottom+","+a.right+","+a.top,s=this.info.content,c=this.info.borderInfo,u=this.info.type,l=this.info.customEntries,d={type:u,color:e,flags:n,name:r,page:o,rect:A,contents:s,width:c.width,customEntries:l,objectNumber:this.info.objectNumber};switch(-1!=this.info.modifiedTimestamp&&(d.date=qe(new Date(this.info.modifiedTimestamp))),c.style){case me.SOLID:d.style="solid";break;case me.DASHED:d.style="dashed",d.dashPhase=c.dashPhase,d.dashes=c.dashes.join(",");break;case me.UNDERLINE:d.style="underline";break;case me.BEVELED:d.style="beveled";break;case me.INSET:d.style="inset";break;case me.CLOUDY:d.style="cloudy",d.intensity=c.cloudIntensity}return d}},{key:"updateInfo",value:function(e,t){this._isEmpty=!e;var n=this.oldRect||this.info.rect;this.oldRect=null;var i=e.rect;this.info=e,t||this.eventEmitter.emit(le.invalidRect,new Zt(n.left,n.bottom,n.right,n.top),new Zt(i.left,i.bottom,i.right,i.top),e.type,e,this.page),this._updateMore(),this.action&&e.action&&(this.action=this.page.doc.engine.actionFactory.createAction(e.action,this.page.doc,this.page.doc.api,this.eventEmitter,this))}},{key:"getIntent",value:function(){return""}},{key:"setCustomEntries",value:function(e,t){this.info.customEntries=this.info.customEntries||{},this.info.customEntries[e]=t}},{key:"setDictionaryEntry",value:function(e,t){var n=this;return this._setDictionaryEntry(e,t).then((function(e){return e&&n.eventEmitter.emit(le.annotationUpdated,[n],n.getPDFPage(),tn.addDictionary),e}))}},{key:"_setDictionaryEntry",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setDictionaryEntry(r.getId(),i.getId(),this.getId(),e,t).then((function(i){return i&&n.setCustomEntries(e,t),i}))}},{key:"getDictionaryEntry",value:function(e){return this._getDictionaryEntry(e)}},{key:"_getDictionaryEntry",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictionaryEntry(n.getId(),t.getId(),this.getId(),e)}},{key:"resetAppearanceStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.resetAppearanceStream(t.getId(),e.getId(),this.getId())}},{key:"getDictValue",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getDictValue({path:"jr/doc/page/annot"},n.getId(),t.getId(),this.getId(),e)}},{key:"setDictValue",value:function(e,t){var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setDictValue({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e,t)}},{key:"setCustomAPStream",value:function(e,t){var n=this;return this.page.doc.api.setCustomAPStream({path:"jr/doc/page/annot"},doc.getId(),page.getId(),this.getId(),e,t).then((function(e){n.updateInfo(n.info,!1),n.eventEmitter.emit(le.annotationUpdated,[n],n.getPDFPage(),le.annotationAppearanceUpdated)}))}}]),e}();const ln=un;var dn,hn={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&hn.ButtonRadiosInUnison},isHidden:function(e){return e&hn.Hidden},isReadOnly:function(e){return e&hn.ReadOnly},isRequired:function(e){return e&hn.Required},isNoExport:function(e){return e&hn.NoExport},isMultiline:function(e){return e&hn.TextMultiline},isPassword:function(e){return e&hn.TextPassword},isComb:function(e){return e&hn.TextComb},isNoSpellCheck:function(e){return e&hn.TextDoNotSpellCheck},isNoScroll:function(e){return e&hn.TextDoNotScroll},isComboEdit:function(e){return e&hn.ComboEdit},isChoiceMultiSelect:function(e){return e&hn.ChoiceMultiSelect}},fn={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(e){return e&fn.FlagExclude},isIncludeNoValueFields:function(e){return e&fn.FlagIncludeNoValueFields},isHTML:function(e){return e&fn.FlagExportFormat},isGetMethod:function(e){return e&fn.FlagGetMethod},isXFDF:function(e){return e&fn.FlagAsXFDF},isPDF:function(e){return e&fn.FlagSubmitAsPDF},getType:function(e){var t=fn.isHTML(e);if(t)return"HTML";var n=fn.isXFDF(e);if(n)return"XFDF";var i=fn.isPDF(e);return i?"PDF":t||n||i?void 0:"FDF"}},pn={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},gn=hn;!function(e){e.STATE_HANDLER_HAND="hand",e.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch",e.STATE_HANDLER_CREATE_CARET="createCaret",e.STATE_HANDLER_CREATE_ARROW="createArrow",e.STATE_HANDLER_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",e.STATE_HANDLER_CREATE_CIRCLE="createCircle",e.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",e.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",e.STATE_HANDLER_CREATE_IMAGE="createImage",e.STATE_HANDLER_CREATE_LINK="createLink",e.STATE_HANDLER_CREATE_LINE="createLine",e.STATE_HANDLER_CREATE_DISTANCE="createDistance",e.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",e.STATE_HANDLER_CREATE_AREA="createArea",e.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",e.STATE_HANDLER_CREATE_PENCIL="createPencil",e.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",e.STATE_HANDLER_CREATE_POLYGON="createPolygon",e.STATE_HANDLER_CREATE_POLYLINE="createPolyline",e.STATE_HANDLER_CREATE_REPLACE="createReplace",e.STATE_HANDLER_CREATE_SQUARE="createSquare",e.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",e.STATE_HANDLER_CREATE_STAMP="createStamp",e.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",e.STATE_HANDLER_CREATE_TEXT="createText",e.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",e.STATE_HANDLER_MARQUEE="marquee",e.STATE_HANDLER_ERASER="eraser",e.STATE_HANDLER_LOUPE="loupe",e.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",e.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",e.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",e.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",e.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",e.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="createFreeTextTypewriter",e.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextStateHandler",e.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignStateHandler",e.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_CHECK_BOX="CreateCheckBoxStateHandler",e.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",e.STATE_HANDLER_CREATE_FIELD_COMBO_BOX="CreateComboBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_LIST_BOX="CreateListBoxStateHandler",e.STATE_HANDLER_CREATE_FIELD_DATE="CreateDateStateHandler",e.STATE_HANDLER_CREATE_FIELD_IMAGE="CreateImageStateHandler",e.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",e.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT="createDocumentAttachment"}(dn||(dn={}));var vn,mn=dn.STATE_HANDLER_HAND,yn=dn.STATE_HANDLER_CHECK_THE_SEARCH,bn=dn.STATE_HANDLER_CREATE_CARET,wn=dn.STATE_HANDLER_CREATE_ARROW,kn=dn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,xn=dn.STATE_HANDLER_CREATE_AREA_HIGHLIGHT,_n=dn.STATE_HANDLER_CREATE_CIRCLE,Pn=dn.STATE_HANDLER_CREATE_FILE_ATTACHMENT,Dn=dn.STATE_HANDLER_CREATE_HIGHLIGHT,Cn=dn.STATE_HANDLER_CREATE_IMAGE,Sn="createEditImage",In=dn.STATE_HANDLER_CREATE_LINK,En=dn.STATE_HANDLER_CREATE_LINE,Rn=dn.STATE_HANDLER_CREATE_DISTANCE,Tn=dn.STATE_HANDLER_CREATE_PERIMETER,Mn=dn.STATE_HANDLER_CREATE_AREA,Fn=dn.STATE_HANDLER_CREATE_CIRCLE_AREA,Ln=dn.STATE_HANDLER_CREATE_PENCIL,Nn=dn.STATE_HANDLER_CREATE_POLYGON_CLOUD,On=dn.STATE_HANDLER_CREATE_POLYGON,Bn=dn.STATE_HANDLER_CREATE_POLYLINE,jn=dn.STATE_HANDLER_CREATE_REPLACE,Vn=dn.STATE_HANDLER_CREATE_SQUARE,Un="createSquareCrop",Hn=dn.STATE_HANDLER_CREATE_SQUIGGLY,zn=dn.STATE_HANDLER_CREATE_STAMP,Wn=dn.STATE_HANDLER_CREATE_STRIKE_OUT,Yn=dn.STATE_HANDLER_CREATE_TEXT,Gn=dn.STATE_HANDLER_CREATE_UNDERLINE,$n=dn.STATE_HANDLER_MARQUEE,Kn=dn.STATE_HANDLER_ERASER,qn=dn.STATE_HANDLER_LOUPE,Jn=dn.STATE_HANDLER_SELECT_TEXT_ANNOTATION,Xn=dn.STATE_HANDLER_SELECT_TEXT_IMAGE,Qn="select-text",Zn=dn.STATE_HANDLER_SELECT_ANNOTATION,ei=dn.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER,ti=dn.STATE_HANDLER_CREATE_FREETEXT_CALLOUT,ni=dn.STATE_HANDLER_CREATE_FREETEXT_BOX,ii=dn.STATE_HANDLER_SNAPSHOT_TOOL,ri="create-crop-pages",oi=dn.STATE_HANDLER_CREATE_DOCUMENT_ATTACHMENT,ai=dn.STATE_HANDLER_CREATE_FIELD_TEXT,Ai=dn.STATE_HANDLER_CREATE_FIELD_SIGNATURE,si=dn.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON,ci=dn.STATE_HANDLER_CREATE_RADIO_BUTTON,ui="CreateArticleButtonStateHandler",li=(vn={},(0,X._)(vn,Yn,"text"),(0,X._)(vn,Dn,"highlight"),(0,X._)(vn,Wn,"strikeout"),(0,X._)(vn,Gn,"underline"),(0,X._)(vn,Hn,"squiggly"),(0,X._)(vn,jn,"strikeout"),(0,X._)(vn,bn,"caret"),(0,X._)(vn,ei,"freetext"),(0,X._)(vn,ti,"freetext"),(0,X._)(vn,ni,"freetext"),(0,X._)(vn,Vn,"square"),(0,X._)(vn,_n,"circle"),(0,X._)(vn,En,"line"),(0,X._)(vn,wn,"line"),(0,X._)(vn,On,"polygon"),(0,X._)(vn,Bn,"polyline"),(0,X._)(vn,Nn,"polygon"),(0,X._)(vn,kn,"highlight"),(0,X._)(vn,Ln,"ink"),(0,X._)(vn,zn,"stamp"),(0,X._)(vn,Rn,"line"),(0,X._)(vn,Tn,"polyline"),(0,X._)(vn,Mn,"polygon"),(0,X._)(vn,Fn,"circle"),(0,X._)(vn,Pn,"fileattachment"),(0,X._)(vn,Cn,"screen"),(0,X._)(vn,In,"link"),(0,X._)(vn,"create-multi-media-state","screen"),(0,X._)(vn,"create-redaction-text-image-state","redact"),(0,X._)(vn,"create-redaction-state","redact"),vn),di={CreatePushButtonStateHandler:pn.PushButton,CreateCheckBoxStateHandler:pn.CheckBox,CreateRadioButtonStateHandler:pn.RadioButton,CreateComboBoxStateHandler:pn.ComboBox,CreateListBoxStateHandler:pn.ListBox,CreateTextStateHandler:pn.Text,CreateSignStateHandler:pn.Sign,CreateDateStateHandler:pn.Text,CreateImageStateHandler:pn.PushButton};const hi={annotation:"annotation"};var fi=function(){function e(t){(0,_._)(this,e),this.annot=t.isGrouped&&t.isGrouped()?t.getGroupHeader():t,this.tooltip="",this.delay=500,this.moveThreshold=2,this.positionThreshold=10,this.oldClientX=0,this.oldClientY=0,this.tipElement=document.createElement("div"),document.getElementsByClassName("fv_viewer-tooltip-container").length>0&&(this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]),this.createTooltipElement()}return(0,P._)(e,[{key:"createTooltipElement",value:function(){if(!(document.getElementsByClassName("fv_viewer-tooltip-container").length>0)){this.tipElement.classList.add("fv_viewer-tooltip-container"),this.tipElement.classList.add("tooltip-unactive");var e="";e+='<div class="fv_viewer-tooltip-title"> '+this.annot.getTitle()+"</div>",e+='<div class="fv_viewer-tooltip-content"> '+this.annot.getContent()+"</div>",this.tipElement.innerHTML=e,document.getElementsByTagName("body")[0].appendChild(this.tipElement),this.tooltip=document.getElementsByClassName("fv_viewer-tooltip-container")[0]}}},{key:"getPosition",value:function(e,t){var n=document.documentElement.clientHeight,i=this.tooltip.getBoundingClientRect().width,r=this.tooltip.getBoundingClientRect().height,o=e+this.positionThreshold,a=t+this.positionThreshold;return document.documentElement.clientWidth-e<i+this.positionThreshold&&(o-=i+this.positionThreshold),n-a<r&&(a=t-r),{x:o,y:a}}},{key:"setPosition",value:function(e,t){this.tooltip.style.left=e+"px",this.tooltip.style.top=t+"px"}},{key:"hide",value:function(){this.tooltip.classList.remove("tooltip-active"),this.tooltip.classList.add("tooltip-unactive")}},{key:"show",value:function(e,t){if("widget"===this.annot.getType()){var n=this.annot.getField();if(!n.getAlternateName())return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML="",document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerHTML=n.getAlternateName()}else{var i=this.annot.getTitle(),r=this.annot.getContent();if(!i)return;document.getElementsByClassName("fv_viewer-tooltip-title")[0].innerHTML=i,document.getElementsByClassName("fv_viewer-tooltip-content")[0].innerHTML=r}var o=this.getPosition(e,t);this.setPosition(o.x,o.y),this.tooltip.classList.remove("tooltip-unactive"),this.tooltip.classList.add("tooltip-active")}}]),e}();function pi(e,t){var n=e.x,i=e.y,r=t.left,o=t.right,a=t.top,A=t.bottom;return n>=r&&n<=o&&i>=A&&i<=a}var gi="vertical",vi="horizontal",mi=function(){function e(t,n){(0,_._)(this,e),this.fromInchRate=t,this.name=n,Object.defineProperties(this,{fromInchRate:{value:t,enumerable:!0,writable:!1,configurable:!0},name:{value:n,enumerable:!0,writable:!1,configurable:!0}})}return(0,P._)(e,[{key:"isPixel",get:function(){return!1}},{key:"convertTo",value:function(e,t){return e/this.fromInchRate*t.fromInchRate}},{key:"convertAreaTo",value:function(e,t){return e/Math.pow(this.fromInchRate,2)*Math.pow(t.fromInchRate,2)}}]),e}(),yi=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,0,"px")).orientation=e,Object.defineProperty((0,k._)(i),"fromInchRate",{get:function(){var t=(0,U.getDPI)();switch(e){case vi:return t.x;case gi:return t.y;default:return t.x}}}),i}return(0,P._)(n,[{key:"isPixel",get:function(){return!0}}]),n}(mi);const bi={inch:"inch",custom:"custom",mi:"mi",pt:"pt",ft:"ft",yd:"yd",km:"km",m:"m",cm:"cm",mm:"mm",pica:"pica"};var wi,ki=new mi(1,bi.inch),xi=new mi(1,bi.custom),_i=new mi(1/63360,bi.mi),Pi=new mi(72,bi.pt),Di=new mi(1/12,bi.ft),Ci=new mi(1/36,bi.yd),Si=new mi(.0254/1e3,bi.km),Ii=new mi(.0254,bi.m),Ei=new mi(2.54,bi.cm),Ri=new mi(25.4,bi.mm),Ti=new mi(6,bi.pica),Mi=new yi(vi),Fi=new yi(gi),Li=(wi={},(0,X._)(wi,ki.name,ki),(0,X._)(wi,xi.name,xi),(0,X._)(wi,_i.name,_i),(0,X._)(wi,Pi.name,Pi),(0,X._)(wi,Di.name,Di),(0,X._)(wi,Ci.name,Ci),(0,X._)(wi,Si.name,Si),(0,X._)(wi,Ii.name,Ii),(0,X._)(wi,Ei.name,Ei),(0,X._)(wi,Ri.name,Ri),(0,X._)(wi,Ti.name,Ti),(0,X._)(wi,Mi.name,Mi),wi);function Ni(e){switch(e=(e=e.toLowerCase()).replace(/[^a-z]/g,"")){case"in":e="inch";break;case"p":e="pica"}return Li[e]}function Oi(e){var t=1;switch(e){case"pt":t=72;break;case"in":case"inch":default:t=1;break;case"cm":t=2.54;break;case"p":case"pica":t=5.9;break;case"mm":t=25.4}return t}var Bi,ji="userSpaceUnit",Vi="userSpaceScaleValue",Ui="realScaleValue",Hi=(Bi={},(0,X._)(Bi,dn.STATE_HANDLER_CREATE_PERIMETER,"perimeter"),(0,X._)(Bi,dn.STATE_HANDLER_CREATE_DISTANCE,"distance"),(0,X._)(Bi,dn.STATE_HANDLER_CREATE_AREA,"area"),(0,X._)(Bi,dn.STATE_HANDLER_CREATE_CIRCLE_AREA,"area"),function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"convertPoint2RealUnit",value:function(e,t){if(!t)return e;var n=t[Vi],i=t[ji],r=t[Ui];return Pi.convertTo(e,i)*(r/n)}},{key:"caculateDistance",value:function(t,n,i){var r=n.x-t.x,o=n.y-t.y,a=Math.abs(r),A=Math.abs(o),s=Math.sqrt(a*a+A*A);return e.convertPoint2RealUnit(s,i)}},{key:"caculateAngle",value:function(t,n,i,r){var o=e.caculateDistance(t,n,r),a=e.caculateDistance(n,i,r),A=e.caculateDistance(t,i,r),s=(Math.pow(o,2)+Math.pow(a,2)-Math.pow(A,2))/(2*o*a);return Number.isNaN(s)||Number.isNaN(Math.acos(s))?0:Math.round(Math.abs(Math.acos(s))/Math.PI*180*100)/100}},{key:"caculateTriangleArea",value:function(e,t,n,i){var r=e.x*t.y+t.x*n.y+n.x*e.y-(e.x*n.y+t.x*e.y+n.x*t.y);if(r/=2,!i)return r;var o=i[Vi],a=i[ji],A=i[Ui];return Pi.convertAreaTo(r,a)*Math.pow(A/o,2)}},{key:"caculatePolygonArea",value:function(t,n){for(var i={x:0,y:0},r=0,o=1;o<=t.length;++o)o<t.length?r+=e.caculateTriangleArea(i,t[o-1],t[o],n):r+=e.caculateTriangleArea(i,t[o-1],t[0],n);return Math.abs(r)}},{key:"caculateCircleArea",value:function(e,t){var n=(e.right-e.left)*(e.top-e.bottom)*Math.PI;if(!t)return n;var i=t[Vi],r=t[ji],o=t[Ui];return Pi.convertAreaTo(n/4,r)*Math.pow(o/i,2)}}]),e}());const zi={unKnownType:"unknowntype",text:"text",link:"link",freeText:"freetext",line:"line",square:"square",circle:"circle",polygon:"polygon",polyLine:"polyline",polyline:"polyline",highlight:"highlight",underline:"underline",squiggly:"squiggly",strikeOut:"strikeout",stamp:"stamp",caret:"caret",ink:"ink",psInk:"psink",fileAttachment:"fileattachment",sound:"sound",movie:"movie",widget:"widget",screen:"screen",printerMark:"printermark",trapNet:"trapnet",watermark:"watermark",threeD:"3d",popup:"popup",redact:"redact"};var Wi,Yi;function Gi(){}!function(e){e[e.throttle=0]="throttle",e[e.debounce=1]="debounce"}(Wi||(Wi={})),function(e){e.MEASUREMENT="measurement",e.COMPARISON="comparison",e.STAMP="stamp",e.SIGN_CERTIFY="sign-certify",e.SIGNATURE="signature"}(Yi||(Yi={}));var $i="measurement-info",Ki={userSpaceUnit:ki,userSpaceScaleValue:1,realUnit:ki,realScaleValue:1,caption:"",markup:!0},qi="measurementInfo",Ji=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"pdfViewer",void 0),e}return(0,P._)(n,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.store.dispatch(qi,Ki),this.getStorage().get(Yi.MEASUREMENT,$i).then((function(t){e.isDestroyed||t&&(e.pdfViewer.getStore().dispatch(qi,(0,b._)({},e.convertFromRaw(t))),e.addDestroyHook(e.pdfViewer.store.subscribe(qi,(function(t){if(!e.isDestroyed)return e.updateMeasurementInfo(t)}))))}));var t=this;this.addDestroyHook(this.getStorage().onChange((function(t){t.context.feature===Yi.MEASUREMENT&&e.pdfViewer.store.dispatch(qi,e.convertFromRaw(t.newValue))})),this.pdfViewer.addEventListener(de.pageNumberChange,(0,x._)((function(){var e,n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return t.isDestroyed?[2]:[4,(e=t.getStorage()).get(Yi.MEASUREMENT,$i)];case 1:return n=i.sent(),[4,e.set(Yi.MEASUREMENT,$i,n)];case 2:return i.sent(),[2]}}))}))))}},{key:"updateMeasurementInfo",value:function(e){var t=this;return(0,x._)((function(){var n,i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.getMeasurementInfo()];case 1:return n=o.sent(),i=(0,b._)({},n,e),r=t.convertToRaw(i),[4,t.getStorage().set(Yi.MEASUREMENT,$i,r)];case 2:return o.sent(),[2]}}))}))()}},{key:"getMeasurementInfo",value:function(){return this.pdfViewer.store.getCurrentValue(qi)}},{key:"onMeasurementInfoChange",value:function(e){return this.pdfViewer.store.subscribe(qi,e)||Gi}},{key:"getStorage",value:function(){return this.pdfViewer.getStorage()}},{key:"convertFromRaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!=typeof e?Object.assign({},Ki):{userSpaceUnit:e.userSpaceUnit?new mi(e.userSpaceUnit.fromInchRate,e.userSpaceUnit.name):ki,userSpaceScaleValue:null==e.userSpaceScaleValue?1:e.userSpaceScaleValue,realUnit:e.realUnit?new mi(e.realUnit.fromInchRate,e.realUnit.name):ki,realScaleValue:null==e.realScaleValue?1:e.realScaleValue,caption:e.caption||"",markup:!1!==e.markup}}},{key:"convertToRaw",value:function(e){return{userSpaceUnit:e.userSpaceUnit?{fromInchRate:e.userSpaceUnit.fromInchRate,name:e.userSpaceUnit.name}:Ki.userSpaceUnit,userSpaceScaleValue:e.userSpaceScaleValue||Ki.userSpaceScaleValue,realUnit:e.realUnit?{fromInchRate:e.realUnit.fromInchRate,name:e.realUnit.name}:Ki.realUnit,realScaleValue:e.realScaleValue||Ki.realScaleValue,caption:e.caption||Ki.caption,markup:void 0===e.markup?Ki.markup:e.markup}}},{key:"isSame",value:function(e,t){return JSON.stringify(this.convertToRaw(e))===JSON.stringify(this.convertToRaw(t))}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),n}(U.Disposable),Xi=function(){},Qi=0,Zi=(0,U.createDOM)("canvas",{class:"highlightAP fv__ui-annots"}),er=(0,U.createDOM)("canvas",{class:"annotRenderers fv__ui-annots"}),tr=(0,U.createDOM)("div",{class:"linkHighlightMode",style:"display:none;cursor:pointer;position:absolute;z-index:27;"}),nr=(0,U.createDOM)("div",{class:"curAnnot",style:"cursor:pointer;position:absolute;z-index:28;"}),ir=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;(0,_._)(this,n),(o=t.call(this,r)).name="annotsRender",o.$ui=e,0==o.$ui.find(".curAnnot").length&&o.$ui.append(o.$ownUI=N()([Zi.cloneNode(),er.cloneNode(),tr.cloneNode(),nr.cloneNode()])),o.annotRenders={};var a=o.pdfViewer.customs||{};return o.activeAnnotBefore=a.activeAnnotBefore||Xi,o.activeAnnotAfter=a.activeAnnotAfter||Xi,o.unActiveAnnotBefore=a.unActiveAnnotBefore||Xi,o.unActiveAnnotAfter=a.unActiveAnnotAfter||Xi,o.pageRender=o._parent,o.initAnnotEvent(),o.renderParams=[r.scale,r.rotate,r.containerVisibleRect],o.hotAnnot=0,o.showAnnots=new Set,o.backAnnots=new Set,o.annotFiltered=r.docRender.hideMarkupFlag,o.rerenderAfterFilterTaskExecutor=new U.DebounceAsyncTaskExecutor,o.rerenderAnnotThrottleTaskExecutor=new U.ThrottleAsyncTaskExecutor(50,!0),o.rerenderAnnotDebounceTaskExecutor=new U.DebounceAsyncTaskExecutor(50,!1),o.mouseEventTaskExecutor=new U.ThrottleAsyncTaskExecutor(50,!0),o.rerenderMode=Wi.throttle,o}return(0,P._)(n,[{key:"setRerenderMode",value:function(e){this.rerenderMode=e}},{key:"getRerenderMode",value:function(){return this.rerenderMode}},{key:"getRerenderAnnotTaskExecutor",value:function(){return this.rerenderMode===Wi.throttle?this.rerenderAnnotThrottleTaskExecutor:this.rerenderAnnotDebounceTaskExecutor}},{key:"removeUI",value:function(){}},{key:"getAnnotAtPoint",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName();if(-1!=["hand","select-annotation"].indexOf(n)){var i=this._parent;if(!i)return null;var r=i.getPDFPointFromClientPoint(e.clientX,e.clientY);return i.getActiveAnnotInfo(r,t)}}},{key:"processStateData",value:function(e){var t=e.reduce((function(e,t){var n=t.getTitle(),i=e[n];return i?i.getModifiedDateTime()<=t.getModifiedDateTime()&&(e[n]=t):e[n]=t,e}),{});return Object.values(t).map((function(e){return e.getState()}))}},{key:"initEmitter",value:function(){var e,t=this,n=this.pdfViewer.getEventEmitter(),i=this._parent,r=function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(o)||(o=[o]);var a=o.filter((function(e){return"popup"!=e.getType()})).map((function(e){Object.assign({},e.info.rect);var t=i.scale*U.dpr;return i.page.getAnnotDeviceRect(e,t,i.rotate)}));return{left:(e=Math).min.apply(e,(0,R._)(a.map((function(e){return e.left})))),bottom:(t=Math).max.apply(t,(0,R._)(a.map((function(e){return e.bottom})))),right:(n=Math).max.apply(n,(0,R._)(a.map((function(e){return e.right})))),top:(r=Math).min.apply(r,(0,R._)(a.map((function(e){return e.top})))),hasHighlight:o.some((function(e){return"highlight"==e.getType()}))}},o=function(e,n){return n=n||r(e),t.updateRender(n)};n.on(de.annotationLoaded,this.annotLoaded=function(e,n,i){t.isDestroyed||t.pageRender.isDestroyed||e==t.pageRender.page&&t.renderWidget.apply(t,(0,R._)(t.renderParams))}),n.on("updatePageAnnot",this.updatePageAnnot=function(e,n,i,r){t.isDestroyed||t.pageRender.isDestroyed||(e==t.pageRender.page&&o(n),i==t.pageRender.page&&o(r))});var a,A=[de.annotationRemoved,de.annotationAdd,de.annotationOrderChanged];A.forEach((function(e){n.on(e,t[e+"Handler"]=function(e){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&e[0]&&e[0].page&&e[0].page.getIndex()==t.pageRender.index){if(e[0].isDeleted()||e.map((function(e){return t.showAnnots.add(e.id)})),a){var n=r(e);a={left:Math.min(a.left,n.left),bottom:Math.max(a.bottom,n.bottom),right:Math.max(a.right,n.right),top:Math.min(a.top,n.top),hasHighlight:a.hasHighlight||e.some((function(e){return"highlight"==e.getType()}))}}else a=r(e);t.getRerenderAnnotTaskExecutor().exec((function(e){if(e[0].page&&t.pageRender&&t.pageRender.page){var n=a&&o(e,a).then((function(e){e&&t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender)}));return a=null,n}}),[e])}})}));var s,c=[de.invalidRect];c.forEach((function(e){n.on(e,t[e+"Handler"]=function(e,n,i,r,A){if(!t.isDestroyed&&!t.pageRender.isDestroyed&&A==t.pageRender.page){e=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*U.dpr,t.pageRender.rotate,e),n=t.pageRender.page.getAnnotDeviceRect(r,t.pageRender.scale*U.dpr,t.pageRender.rotate,n);var s={left:Math.min(e.left,n.left),bottom:Math.max(e.bottom,n.bottom),right:Math.max(e.right,n.right),top:Math.min(e.top,n.top),hasHighlight:"highlight"==i};a=a?{left:Math.min(a.left,s.left),bottom:Math.max(a.bottom,s.bottom),right:Math.max(a.right,s.right),top:Math.min(a.top,s.top),hasHighlight:a.hasHighlight||"highlight"==i}:s,"screen"==i&&r.isAudioVideo?(t.genScreenIcon(t.pageRender,r),t.updateActiveRect(t.pageRender,r,".fv__pdf-player")):"freetext"==i?t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect",i):"line"==i&&(t.updateActiveRect(t.pageRender,r,".fv__pdf-page-annot-handler-rect"),t.updateLinePoint(t.pageRender,r)),t.getRerenderAnnotTaskExecutor().exec((function(e){if(t.pageRender&&t.pageRender.page){var n=a&&o(e,a);return a=null,n}}),[])}})})),n.on("annot-filter",this.applyFilter=function(e,n){switch(e){case"start":t.startFilterAnnot();break;case"end":t.endFilterAnnot();break;default:t.addShowAnnot(n)}}),n.on(de.mouseEnter,this.mouseEnterListener=function(e,n){(t.pdfViewer.config.showAnnotTooltip&&"widget"!==n.annots[0].getType()||t.pdfViewer.config.showFormFieldTooltip&&"widget"===n.annots[0].getType())&&(s=t.pdfViewer.customs.AnnotTooltip?new t.pdfViewer.customs.AnnotTooltip(t.pdfViewer,n.annots[0]):new fi(n.annots[0])).show(n.e.clientX,n.e.clientY)}),n.on(de.mouseLeave,this.mouseLeaveListener=function(e,t){s&&s.hide()}),n.on(de.pageMeasureScaleRatioChanged,this.updatePageMeasureScaleRatio=function(e,n){t._updatePageMeasureScaleRatio(e,n)}),(e=A).push.apply(e,(0,R._)(c)),this.addDestroyHook.apply(this,[this.pdfViewer.addEventListener(de.annotationImported,(function(){t.pdfViewer.getAllActiveElements().forEach((function(e){e.isActive&&e.annot&&e.active()}))})),function(){return n.off(de.annotationLoaded,t.annotLoaded)},function(){return n.off(de.fitWidthResizeViewport,t.resize)},function(){return n.off("updatePageAnnot",t.updatePageAnnot)},function(){return n.off("annot-filter",t.applyFilter)},function(){return n.off(de.mouseEnter,t.mouseEnterListener)},function(){return n.off(de.mouseLeave,t.mouseLeaveListener)},function(){return n.off(de.pageMeasureScaleRatioChanged,t.updatePageMeasureScaleRatio)}].concat((0,R._)(A.map((function(e){return function(){return n.off(e,t[e+"Handler"])}})))))}},{key:"isAnnotHidden",value:function(e){var t=this.pdfViewer.getAnnotManager().getAnnotFlag(e).flag;return(t&nn.invisible)===nn.invisible||(t&nn.hidden)===nn.hidden||(t&nn.noView)===nn.noView}},{key:"initAnnotEvent",value:function(){var e=this,t=this,n=this.pdfViewer,i=n.getCurrentPDFDoc();if(i&&!i.isDestroyed&&!i.isDynamicXFA()){var r=n.getEventEmitter(),o=this._parent;this.initEmitter();var a,A=function(e){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t.$ui.find(".curAnnot").hide(),t.hotAnnot&&-1!==["redact","link"].indexOf(t.hotAnnot.type)&&!t.hotAnnot.isDeleted){if("link"==t.hotAnnot.type)return void t.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide();if(t.hotAnnot.type==zi.redact&&t.getAnnotRender(t.hotAnnot.id).component.isActive)return;var n=o.page.getDeviceRect(t.hotAnnot.rect,o.scale*U.dpr,o.rotate);t.mouseEventTaskExecutor.cancel(),t.mouseEventTaskExecutor.waitForLastTask().then((function(){return t.pageRender.page.getAnnotBitmap(t.hotAnnot.id,o.scale*U.dpr*4/3,o.rotate,{x:n.left-3,y:n.top-3,width:n.right-n.left+6,height:n.bottom-n.top+6},!0,"normal").then((function(e){return t.hotAnnot=0,a=null,t.updateCanvas(e,".annotRenderers")}))}))}r.emit(de.mouseLeave,hi.annotation,{annots:[a],e})},s=function(t){if(o.isDestroyed)return e.hotAnnot=null,Promise.resolve();var n=(0,E._)(o.getPDFPointFromClientPoint(t.clientX,t.clientY,!0),2),i=n[0],r=n[1];return(o.page.getAnnotCount()>1e3?new Promise((function(n){var i=e.getAnnotAtPoint(t);n(i?i.id:-1)})):o.getPDFPage().then((function(e){if(e.isVirtual())return-1;var t=o.scale,n=o.rotate,a=e.getDeviceMatrix(n);return a.scale(t,t),e.getAnnotObjectNumAtDevicePoint([i,r],5,[a.a,a.b,a.c,a.d,a.e,a.f])}))).then((function(t){if(-1===t)return e.hotAnnot=null;e.hotAnnot=0;var n=e.getAnnotRender(t);if(n){var i=n.component.annot;return U.isTouchDevice||(e.hotAnnot=i.info),i}})).then((function(t){if(t){var n=t.info;return-1!==["widget","link","screen"].indexOf(n.type)?n:e.annotFiltered&&!e.showAnnots.has(n.id)||e.isAnnotHidden(t)?e.hotAnnot=0:n}}))};this.findAnnot=s;this.$ui.find(".curAnnot").on("mousemove",(function(e){})).on("mouseleave",A);var c=function(){if(!n)return!1;var e=n.getStateHandlerManager().getStateHandlerConfig(mn);return!e||!!e.enableAnnotationSelectionTool},u=function(t,n){var i=o.page.getDeviceRect(t.getRect(),o.scale*U.dpr,o.rotate);return e.pageRender.page.getAnnotBitmap(t.id,o.scale*U.dpr*4/3,o.rotate,{x:i.left-3,y:i.top-3,width:i.right-i.left+6,height:i.bottom-i.top+6},!0,n).then((function(n){return e.updateCanvas(n,t.getType()===zi.highlight?".highlightAP":".annotRenderers")}))};this.moveHandler=function(t){if(!Qi){1;var i=n.stateHandlerManager.currentStateHandler.getStateName();-1!=["hand","select-annotation"].indexOf(i)&&("hand"!==i||c())&&e.mouseEventTaskExecutor.exec((function(){return s(t).then((function(i){if(!i){var A=n.getAllActiveElements();if(!A.length)return e.$ui.find(".curAnnot").hide();var s=A.find((function(e){return e.annot&&e.annot.getType()===zi.redact}));if(!s||!a||a.isDeleted())return e.$ui.find(".curAnnot").hide();if(!U.isTouchDevice){if(s.getPDFPage().getIndex()!==o.page.getIndex())return;return u(a,"normal")}}Promise.resolve();if(a&&!a.isDeleted()&&a.getType()===zi.redact&&i.type===zi.redact&&a.id!==i.id){if(a.getPDFPage().getIndex()!==o.page.getIndex()||!o.page.annotIdMap[a.id])return;u(a,"normal")}a=o.page.annotIdMap[i.id],r.emit(de.mouseEnter,hi.annotation,{annots:[a],e:t});var c=e.getEngineAnnot(i),l=e.getAnnotRect(c);if(e.$ui.find(".curAnnot").data("annot",i.id).css(l).show(),!U.isTouchDevice&&i.type==zi.redact&&!i.isDeleted)return u(o.page.annotIdMap[i.id],"rollover");if("3d"==i.type){var d=e.getAnnotRender(i.id);if(!d)return;d.component.isActive3D&&e.$ui.find(".curAnnot").hide()}}))}))}},U.isTouchDevice||o.$ui.on("mousemove",this.moveHandler);var l,d=this;this.tapPage=(l=(0,x._)((function(e){var t,n,i;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return d.hotAnnot=0,U.isTouchDevice?(t="hand"==d.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName())&&!c()?[2,!1]:[4,s(e)]:[2,!1];case 1:if(!(n=o.sent()))return[2,!1];if(!(i=d.getAnnotRender(n.id)))return[2,!1];if(t&&-1!==["screen","link","image","sound"].indexOf(n.type))["screen","sound"].indexOf(n.type)>-1?i.component.play():["link","image"].indexOf(n.type)>-1&&i.component.doAction();else{if("3d"===n.type)return[2,!0];d.activeAnnot(n.id)}return i&&r.emit(de.tapAnnotation,i),[2,!0]}}))})),function(e){return l.apply(this,arguments)});var h=this;this.doubleTapPage=function(){var e=(0,x._)((function(e){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return U.isTouchDevice?[4,s(e)]:[2,!1];case 1:return(t=n.sent())?(h.doubleTapAnnot(t.id,e),[2,!0]):[2,!1]}}))}));return function(t){return e.apply(this,arguments)}}();var f=this;this.pressPage=function(){var e=(0,x._)((function(e){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return U.isTouchDevice?[4,s(e)]:[2];case 1:return(t=n.sent())?(r.emit(de.pressAnnotation,f.getAnnotRender(t.id),e),w(e,1),e.preventDefault(),e.stopPropagation(),[2,!0]):[2,!1]}}))}));return function(t){return e.apply(this,arguments)}}(),this.panStart=function(t){e.moveHandler(t),e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)&&e.activeAnnot(e.hotAnnot.id,t)};var p=this.$ui.find(".curAnnot").get(0),g=new Hammer.Manager(p);g.add(new Hammer.Tap({event:"doubletap",taps:2})),g.add(new Hammer.Tap({event:"singletap"})),g.add(new Hammer.Pan),g.get("doubletap").recognizeWith("singletap"),g.get("singletap").requireFailure("doubletap"),g.add(new Hammer.Press);var v=Promise.resolve();if(g.on("panstart",(function(t){v.then((function(n){if(e.hotAnnot&&-1==["screen","link","image","watermark"].indexOf(e.hotAnnot.type)){e.getAnnotRender(e.hotAnnot.id);e.activeAnnot(e.hotAnnot.id,t.srcEvent,!0)}}))})),g.on("hammer.input",(function(t){if("pointerdown"==t.srcEvent.type)return Qi=1,void(0||(v=function(t){return U.isTouchDevice&&e.moveHandler(t),s(t).then((function(i){if(e.hotAnnot){var r=e.getAnnotRender(e.hotAnnot.id),a=n.stateHandlerManager.currentStateHandler.getStateName();if("hand"===a&&-1!==["screen","link","image","3d"].indexOf(e.hotAnnot.type)||setTimeout((function(){e.hotAnnot&&e.activeAnnot(e.hotAnnot.id)}),200),"hand"===a)if("link"===e.hotAnnot.type){var A=r.annot.getBorderWidth(),s=e.$ui.find(".linkHighlightMode").show(),c=o.page.getDeviceRect(e.hotAnnot.rect,o.scale,o.rotate);switch(c.width=c.right-c.left,c.height=c.bottom-c.top,delete c.right,delete c.bottom,r.annot.info.highlightingMode){case Ee.NONE:s.hide();break;case Ee.OUTLINE:return c.width<2*A&&(c.left-=(2*A-c.width)/2),c.height<2*A&&(c.top-=(2*A-c.height)/2),void s.css(Object.assign({"border-width":A,borderColor:"black",borderStyle:"solid",backgroundColor:"none"},c)).show();case Ee.INVERT:return void s.css(Object.assign({"background-color":"white","mix-blend-mode":"difference"},c)).show();case Ee.PUSH:return c.width<2*A&&(c.left-=(2*A-c.width)/2),c.height<2*A&&(c.top-=(2*A-c.height)/2),void s.css(Object.assign({border:"".concat(A,"px solid"),"border-color":"black #aaa #aaa black"},c)).show();case Ee.TOGGLE:return}}else if("3d"===e.hotAnnot.type){var u=e.getAnnotRender(e.hotAnnot.id);if(!u)return;e.$ui.find(".curAnnot").hide(),u.component.active3DHandle(t)}}}))}(t.srcEvent)));if("pointerup"==t.srcEvent.type){Qi=0;var i="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();e.hotAnnot&&i&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&(-1===["screen","sound"].indexOf(e.hotAnnot.type)&&t.srcEvent.target===p&&e.getAnnotRender(e.hotAnnot.id).component.doAction(),e.$ui.find(".linkHighlightMode").css({border:"none",background:"none","mix-blend-mode":"initial"}).hide())}})),g.on("singletap",(function(t){var n="hand"==e.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName();if(e.hotAnnot){var i=e.getAnnotRender(e.hotAnnot.id);n&&-1!==["screen","link","image","sound"].indexOf(e.hotAnnot.type)&&["screen","sound"].indexOf(e.hotAnnot.type)>-1&&i.component.play(),r.emit(de.tapAnnotation,i)}})),U.isTouchDevice&&(U.isSafari||U.isChrome)){var m="pointerdown";(U.isIOS&&U.isChrome||void 0===window.PointerEvent)&&(m="mousedown");var y=function(t){var n=e._findAnnotRender(t.target);n&&!e._isFormWidget(n)&&t.stopPropagation()};p.addEventListener(m,y);var b=(0,U.onTap)({target:p,stopPropagation:!1,onDoubleTap:function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)){var i=n.annot.getId();r.emit(de.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t),t.stopPropagation()}}});this.addDestroyHook(b,(function(){p.removeEventListener(m,y)}))}else g.on("doubletap",(function(t){var n=e._findAnnotRender(t.target);if(n&&!e._isFormWidget(n)&&-1===["link","screen"].indexOf(n.annot.getType())){var i=n.annot.getId();r.emit(de.doubleTapAnnotation,n,t),e.doubleTapAnnot(i,t)}}));g.on("press",(function(t){if(!(0,U.isEditable)(t.target)){var n=e.getAnnotRender(+N()(t.target).data("annot"));n&&!e._isFormWidget(n)&&r.emit(de.pressAnnotation,n,t)}}));var w=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t._findAnnotRender(e.target);if(n||i){if(n){var o=t.getAnnotAtPoint(e,!0);if(!o)return;i=t.getAnnotRender(o.id)}var a=i.annot.getType();if("select-annotation"==t.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName()||-1===["link","screen","widget"].indexOf(a)||i.component.isActive||U.isTouchDevice){var A=i.annot.getId();r.emit(de.rightClickAnnotation,i,e),t.showContextMenu(A,e.clientX,e.clientY,e).then((function(t){!1!==t&&(e.stopPropagation(),e.preventDefault())}))}else e.preventDefault()}};this.addDestroyHook((function(){g.destroy(),o.$ui&&o.$ui.off("mousemove",e.moveHandler),e.$ui.find(".curAnnot").off("mouseleave",A)}),(0,U.attachContextMenuEvent)(this.$ui.get(0),w,{capture:!0}))}}},{key:"getEngineAnnot",value:function(e){return this.getAnnotRender(e.id).component.annot}},{key:"getAnnotRect",value:function(e){var t=this._parent,n=e.getDeviceRect(t.scale,t.rotate),i=n.right-n.left+4,r=n.bottom-n.top+4;return 8&e.getFlags()&&(i/=t.scale,r/=t.scale),{width:i,height:r,left:n.left-2,top:n.top-2}}},{key:"_isFormWidget",value:function(e){return"widget"===e.annot.getType()}},{key:"_isFormWatermark",value:function(e){return"watermark"===e.annot.getType()}},{key:"_findAnnotRender",value:function(e){var t=this;if(e==this.$ui.find(".curAnnot").get(0))return this.getAnnotRender(+N()(e).data("annot"));var n=function(){return Object.keys(t.annotRenders).map((function(e){return t.annotRenders[e]}))},i=e.closest(".fv__pdf-page-annot-handler-container");return i?n().filter((function(e){return e.component.$handler.get(0)===i}))[0]:e.closest(".fv__shape-control.callout")?n().filter((function(e){var t=e.component;return!(e.annot.getIntent()!==be.FREETEXT_CALLOUT||!U.Lazy.isPropertyIntialized(t,"shapeControl"))&&t.shapeControl.annot.getId()===e.annot.getId()}))[0]:void 0}},{key:"updateSize",value:function(e,t){for(var n in this.annotRenders){var i=this.annotRenders[n].component;i.scale=e,i.rotate=t}if(0!=this.$ui.find(".annotRenderers").width()){var r=(0,E._)(this.renderParams||[e],1)[0],o=this.renderParams[2],a=e/r,A="matrix(".concat(a,",0,0,").concat(a,",").concat(o.left*(a-1),",").concat(o.top*(a-1),")");this.$ui.find(".fv__ui-annots").css("transform",A);var s=this.$ui.find(".fv__pdf-form-control-handler-container, .fv__pdf-page-3d-annot-handler-container"),c=!0,u=!1,l=void 0;try{for(var d,h=s[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var f=d.value,p=parseFloat(N()(f).css("left")),g=parseFloat(N()(f).css("top"));N()(f).css({transform:"matrix(".concat(a,",0,0,").concat(a,",").concat(p*(a-1),",").concat(g*(a-1),")")})}}catch(e){u=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw l}}this.scaleChanged=!0}}},{key:"renderWidget",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.widgetsDone=1,this.isDestroyed)return Promise.resolve();var r=this.renderSerialPromise;r&&r.end().catch(Xi);var o=this.pageRender.page.annots.filter((function(e){return!t.annotRenders[e.objectNumber]&&"widget"==e.getType()})).map((function(e){return t.annotRenders[e.objectNumber]=new oe(N()("<div>"),N()("<div>"),e,t)}));this.$ui.append(o.reduce((function(e,t){return e.append(t.$ui,t.$handler),e}),N()(document.createDocumentFragment())));var a=o.map((function(r){return function(r){if(t.isDestroyed)return Promise.resolve();try{return r.render(e,n,i).then((function(e){return r.component.afterRender()}))}catch(e){return Promise.reject(e)}}(r)}));return r=this.renderSerialPromise=new pe(0),Promise.all(a)}},{key:"skipRender",value:function(e,t){return!!this.isDestroyed||(this._parent.pdfViewer.getScrollWrap().disabled||Math.abs(e-4*t/3)>1e-6)}},{key:"getBitmap",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"noHighlight",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{left:r.left/U.dpr,right:r.right/U.dpr,top:r.top/U.dpr,bottom:r.bottom/U.dpr};if(this.skipRender(4/3,1))return Promise.resolve([1]);var s=this._parent,c="noHighlight"==o,u=0;c&&"redact"==(null===(t=this.hotAnnot)||void 0===t?void 0:t.type)&&s.page.annots.find((function(e){return e.getId()===n.hotAnnot.id}))&&(u=this.hotAnnot.id);var l=s.docRender.hideMarkupFlag,d=["annot"];l&&d.push("hideMarkup"),c?d.push("noHighlight"):d.push("onlyHighlight");var h,f=this.pdfViewer.getAnnotManager().getAnnotFlag_;return this.pageRender&&this.pageRender.page||Promise.resolve([1]),h=this.pageRender.page.annots.map((function(e){var t=e.info.id;if(f&&e.getType()!==zi.link&&n.isAnnotHidden(e))return t;if(n.annotFiltered){if(!n.showAnnots.has(t)&&e.isMarkup())return t}else if(l&&e.isMarkup())return t})),s.page.getPageBitmap(4*e/3*U.dpr,i,{x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},d,"view","",{hideAnnots:h,hotAnnot:u,dpr:U.dpr}).then((function(t){var i=t.buffer,r=t.image,o=(t.progressiveId,t.x,t.y,t.width),s=t.height,u=t.scale;t.rate;if(n.skipRender(u,e*U.dpr))return[1];if(a)return t;n.$ui.find(c?".annotRenderers":".highlightAP");var l=N()("<canvas class='".concat(c?"annotRenderers":"highlightAP"," fv__ui-annots'></canvas>"))[0];N()(l).css({transform:"scale(1)",left:A.left,top:A.top,width:A.right-A.left,height:A.bottom-A.top});var d=l.getContext("2d");if(l.width=o,l.height=s,d.clearRect(0,0,l.width,l.height),r)return new Promise((function(t,n){try{var i=new Image;i.onload=function(){d.drawImage(i,0,0,o,s),URL.revokeObjectURL(i.src),t([0,e])},i.src=URL.createObjectURL(r)}catch(e){n(e)}}));var h=d.createImageData(o,s);return h.data.set(new(Uint8ClampedArray||Uint8Array)(i)),d.putImageData(h,0,0),n.skipRender(u,e*U.dpr)?[1]:[0,e,l]}))}},{key:"genScreenIcon",value:function(e,t){var n=e.scale,i=e.page.getDeviceRect(t.rect,n,e.rotate),r="fv__screen-decorator-".concat(t.id),o=this.$ui.find("."+r);o.length||(o=N()("<div class='fv__pdf-page-multi-media-annot-container screen-border ".concat(r,"' data-id='").concat(t.id,"'><div class='icon play'></div></div>")),this.$ui.append(o)),o.css({padding:(t.borderWidth||2)*U.dpr*n*4/3,left:i.left/e.getShowWidth()*100+"%",top:i.top/e.getShowHeight()*100+"%",width:(i.right-i.left)/e.getShowWidth()*100+"%",height:(i.bottom-i.top)/e.getShowHeight()*100+"%"});var a=this.pdfViewer.getPDFDocRender(),A=!1;this.pdfViewer.getAnnotManager().getAnnotFlag_&&this.isAnnotHidden(e.page.annotIdMap[t.id])&&(A=!0),a.noInteraction||A?o.hide():o.show()}},{key:"updateActiveRect",value:function(e,t,n,i){var r=e.annotsRender.getAnnotRender(t.name);if(r){var o=r.component;if(!(t.intent===be.FREETEXT_CALLOUT)||!o.isActive){var a=r.$handler.find(n),A=e.scale,s=e.page.getDeviceRect("freetext"===i?t.innerRect:t.rect,A,e.rotate);if(!a)return s;var c="px";return a.css({left:s.left+c,top:s.top+c,width:s.right-s.left+c,height:s.bottom-s.top+c}),s}o.active()}}},{key:"updateLinePoint",value:function(e,t){var n=e.annotsRender.getAnnotRender(t.name);n&&"Line"===n.component.name&&n.component.updateHandlerPosition(!0)}},{key:"updateCanvas",value:function(e,t){var n=e.buffer,i=(e.image,e.progressiveId,e.x),r=e.y,o=e.width,a=e.height,A=(e.scale,e.rate,this.$ui.find(t));if(!A[0].width){var s=this.renderParams[2];A.attr({width:s.right-s.left,height:s.bottom-s.top})}var c=A[0].getContext("2d");if(0!==o&&0!==a){var u=c.createImageData(o,a);u.data.set(new(Uint8ClampedArray||Uint8Array)(n)),this.renderParams[2]&&(c.putImageData(u,i-this.renderParams[2].left*U.dpr,r-this.renderParams[2].top*U.dpr),U.isSafari&&(A.hide(),setTimeout((function(){A.show()}),0)))}}},{key:"updateRender",value:function(e){var t=this,n=this.pageRender.page.annots.some((function(e){return"highlight"==e.getType()}));[[".annotRenderers",".annotRenderers"],[".highlightAP",".highlightAP"]].map((function(e){var i=(0,E._)(e,2),r=i[0],o=i[1];if((".highlightAP"!=r||n)&&0==t.$ui.find(r)[0].width){var a=t.renderParams[2];t.$ui.find(o).css({transform:"none",left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top}).attr({width:(a.right-a.left)*U.dpr,height:(a.bottom-a.top)*U.dpr})}}));var i=this.pageRender,r=(i.scale,U.dpr,e);r.left-=3,r.top-=3,r.right+=3,r.bottom+=3,r.left<0&&(r.left=0),r.top<0&&(r.top=0);var o=i.getCurrentVisibleRect();r.left=Math.min(r.left,o.left*U.dpr),r.top=Math.min(r.top,o.top*U.dpr),r.right=Math.max(r.right,o.right*U.dpr),r.bottom=Math.max(r.bottom,o.bottom*U.dpr);var a=[this.getBitmap(i.scale,i.rotate,r,"noHighlight",1)];return e.hasHighlight&&a.push(this.getBitmap(i.scale,i.rotate,r,"onlyHigh",1)),Promise.all(a).then((function(e){var n=(0,E._)(e,2),i=n[0],r=n[1];return!(1==i[0]||r&&1==r[0])&&(t.updateCanvas(i,".annotRenderers"),r&&t.updateCanvas(r,".highlightAP"),!0)}))}},{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.skipRender(4/3,1))return[1];if(this.pageRender.isDestroyed)return[1];var r=this.pageRender,o=r.page,a=r.docRender.hideMarkupFlag,A=r.docRender.forceLoadAnnot,s=this.pdfViewer.getAnnotManager().getAnnotFlag_;return(a||A||s?o.getAnnots().then((function(e){return e&&e.map((function(e){return e.info}))})):o.getAnnotRects()).then((function(e){if(!o.isDestroyed)return o.doc.hasFixedPageFields(o.getIndex()).then((function(e){if(e&&!o.hasFixedPageFields)return o.hasFixedPageFields=!0,o.doc.reloadPDFForm()})).then((function(t){return e}))})).then((function(o){if(o){if(t.renderParams=[e,n,i],!o.length)return t.$ui.find(".annotRenderers,.highlightAP").css({left:i.left,top:i.top,transform:"scale(1)",width:i.right-i.left,height:i.bottom-i.top}).attr({width:0,height:0}),void(t.widgetsDone=1);var a={left:i.left*U.dpr,right:i.right*U.dpr,top:i.top*U.dpr,bottom:i.bottom*U.dpr};return Promise.all([t.getBitmap(e,n,a,"noHighlight"),o.some((function(e){return"highlight"==e.type}))?t.getBitmap(e,n,a,"onlyHigh"):Promise.resolve([0])]).then((function(e){var n=(0,E._)(e,2),i=n[0],r=n[1];if(i[0]||r[0])return[1];var o=t.$ui.find(".annotRenderers"),a=t.$ui.find(".highlightAP");return o.replaceWith(i[2]),r.length>1?a.replaceWith(r[2]):a.attr({width:0,height:0}),t.$ownUI=t.$ui.find(".fv__ui-annots,.linkHighlightMode,.curAnnot"),[0,i[1]]})).then((function(a){var A=(0,E._)(a,2),s=A[0],c=A[1];if(!s){if(t.pdfViewer.eventEmitter.emit("renderAnnotSuccess",t.pageRender),t.scaleChanged)t.$ui.find(".fv__pdf-page-annot-handler-container").each((function(e,t){t.style.transform=null})),t.scaleChanged=!1;for(var u in o.forEach((function(e){"screen"==e.type&&e.isAudioVideo&&(t.genScreenIcon(r,e),t.updateActiveRect(r,e,".fv__pdf-player"))})),t.annotRenders){var l=t.annotRenders[u],d=l.component;if(d&&d.annot){var h=d.annot.getType();"widget"===h?l.render(c,n):"3d"===h&&d.isActive3D&&d.render3D(c,n);var f=l.scale,p=l.rotate;d.scale=c,d.rotate=n,l.scale=c,l.rotate=n;var g=f!==c||p!==n;l.component.isActive&&g&&l.component.active()}}if(!t.widgetsDone){if(!r||!r.page)return;if(r.page.annots.length)return t.renderWidget(e,n,i);var v;t.disposor.addDestroyHook((function(){clearTimeout(v)}));v=setTimeout((function(){t.isDestroyed||r&&r.page&&r.page.getAnnots()}),0)}}}))}}))}},{key:"adjustHighlightsRender",value:function(){return Promise.resolve()}},{key:"adjustHighlightAnnots",value:function(){var e=[];for(var t in this.annotRenders){var n=this.annotRenders[t];"highlight"===n.annot.getType()&&e.push(n.redraw())}return Promise.all(e)}},{key:"destroy",value:function(){for(var e in this.annotRenders){var t=this.annotRenders[e];t&&t.destroy()}(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageRender=null,this.annotRenders=null,this.rerenderAnnotDebounceTaskExecutor.cancel(),this.rerenderAnnotThrottleTaskExecutor.cancel(),this.rerenderAfterFilterTaskExecutor.cancel()}},{key:"clickNoteAt",value:function(e){var t=this.annotRenders[e];t&&t.focus()}},{key:"unActiveAnnot",value:function(e){var t=this,n=this.pdfViewer.getAllActiveElements();if(!n.length)return Promise.resolve();this.pdfViewer.eventEmitter;return e||this.pdfViewer.clearMultiSelectActiveFlag(),Promise.resolve(this.unActiveAnnotBefore()).then((function(i){if(!1!==i&&null!=t.pageRender){var r=n.filter((function(e){return e.annot}));(0,I._)(e,ln)?r=r.filter((function(t){return t.annot===e})):"number"==typeof e&&(r=r.filter((function(t){return t.annot.objectNumber===e}))),r.forEach((function(e){t.pdfViewer.deactivateElement(e),t.unActiveAnnotAfter(e)}))}}))}},{key:"_unActiveAnnot",value:function(e){e.unActive()}},{key:"_forEachRenderer",value:function(e){for(var t in this.annotRenders)e.call(this,this.annotRenders[t],t,this.annotRenders)}},{key:"activeAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getAnnotRender(e);if(!r)return Promise.resolve();var o=this.pdfViewer;if(o.activationManager.currentActivableIs(r.component)&&!U.keyboardStatus.isShiftDown&&!i)return Promise.resolve(r);var a=o.eventEmitter,A=this.pdfViewer.customs;return Promise.resolve((A.activeAnnotBefore||Xi)(r,e,this)).then((function(i){if(a.emit(de.activeAnnotationBefore,r,e,n),!1===i)return r;if(r.annot.isGrouped&&r.annot.isGrouped()){var o=[];return r.getGroupRenders().map((function(e){"popup"!==e.annot.getType()&&o.push(e.active())})),Promise.all(o).then((function(){return a.emit(de.activeAnnotation,r,e,n),Promise.resolve((A.activeAnnotationAfter||Xi)(r,e,n))})).then((function(){return a.emit(de.activeAnnotationAfter,r,e,n),r}))}return r.active(t).then((function(){return a.emit(de.activeAnnotation,r,e,n),Promise.resolve((A.activeAnnotationAfter||Xi)(r,e,n))})).then((function(){return a.emit(de.activeAnnotationAfter,r,e,n),t&&r.component.triggerPointerDownOnShapeControl(t),r}))}))}},{key:"_activeAnnot",value:function(e,t){var n=this.annotRenders[e];return n?n.active():Promise.resolve()}},{key:"splitAnnotIndexArr",value:function(e,t,n){for(var i=[],r=[],o=e+1,a=e-1,A=-1,s=0,c=t.length;s<c;s++){var u=t[s],l=u.length;if(1===l&&u[0]===e)return!1;for(var d=0,h=l;d<h;d++){var f=u[d];if((0,I._)(f,Array)){var p=f[0],g=f[1];if(e===p){A=s,i=u.slice(0,d),r=(r=g>o?[[o,g]]:[g]).concat(u.slice(d+1));break}if(e===g){A=s,i=u.slice(0,d),p<a?i.push([p,a]):i.push(p),r=u.slice(d+1);break}if(e>p&&e<g){A=s,i=u.slice(0,d),a===p?i.push(p):i.push([p,a]),r=(r=o===g?[g]:[[o,g]]).concat(u.slice(d+1));break}}else if(f===e){A=s,i=u.slice(0,d),r=u.slice(d+1);break}}if(-1!==A)break}if(-1===A)return!1;var v=JSON.stringify(t[A]),m=n[v],y=[A,1];return i.length&&y.push(i),y.push([e]),r.length&&y.push(r),t.splice.apply(t,y),{removeTileCanvas:m,beforeIndexArr:i,splitIndexArr:[e],afterIndexArr:r,tileCanvasMap:n,splitKey:v}}},{key:"splitTileCanvas",value:function(e,t,n,i,r,o,a,A,s,c){var u=e.beforeIndexArr,l=e.splitIndexArr,d=e.afterIndexArr,h=e.removeTileCanvas,f=e.tileCanvasMap,p=e.splitKey,g=N()(document.createDocumentFragment()),v=[];return u.length&&v.push(this.rangeAnnotTileCanvasRedraw(t,n,u,f,g,i,r,o,a,A,s,c)),v.push(this.renderSplitAnnots(l,t,n,g,i,s,c)),d.length&&v.push(this.rangeAnnotTileCanvasRedraw(t,n,d,f,g,i,r,o,a,A,s,c)),Promise.all(v).then((function(){h.$container.before(g),h.destroy(),delete f[p]}))}},{key:"createAnnotRender",value:function(e){if(this.annotRenders[e.id||e.getId()])return this.annotRenders[e.id||e.getId()];var t=N()("<div/>"),n=N()("<div/>");this.$ui.append(n);var i=new oe(t,n,e,this);return this.annotRenders[e.getId()]=i,i.component.rotate=this._parent.rotate,i.component.scale=this._parent.scale,i}},{key:"getAnnotRender",value:function(e){if(void 0!==e){var t=this._parent;if(!t)return null;var n=t.page;if("number"==typeof e){var i=this.annotRenders[e];if(i)return i;var r=n.getAnnotsSync([e])[0];return r?this.createAnnotRender(r):null}if(e.trim().length<1)return null;var o=n.annots.find((function(t){return t.getName()===e}));return o?this.createAnnotRender(o):null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this.pageRender.page.annots.find((function(t){return t.id===e}));return t?this.createAnnotRender(t):null}},{key:"removeAnnotRender",value:function(e){var t=e.annot.getId();delete this.annotRenders[t]}},{key:"showContextMenu",value:function(e,t,n,i){return this.activeAnnot(e,i).then((function(e){return e&&e.showContextMenu(t,n)}))}},{key:"doubleTapAnnot",value:function(e,t){return this.activeAnnot(e,t).then((function(e){return e&&e.doubleTapAnnot()}))}},{key:"getOrCreateAnnotRender",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$ui[0],n=e.getId();if(this.annotRenders[n])return this.annotRenders[n];var i=N()("<div></div>"),r=N()("<div></div>");return t.appendChild(i[0]),t.appendChild(r[0]),this.annotRenders[n]=new oe(i,r,e,this)}},{key:"addAnnots",value:function(e){var t=this,n=N()(document.createDocumentFragment());this.annots.reduce((function(e,i){var r=i.getId();return e[r]||(e[r]=t.getOrCreateAnnotRender(i,n[0])),e}),this.annotRenders),this.$ui.append(n);for(var i=!1,r=0,o=e.length;r<o;r++){if("highlight"===e[r].getType()){i=!0;break}}i&&this.parent("pdfPageRender").redrawContent(!0)}},{key:"getAnnotRenders",value:function(){return this.annotRenders}},{key:"removeAnnotRenders",value:function(e){var t=this,n=(this.annotRenders,e.map((function(e){var n=e.getId(),i=t.getAnnotRender(n);return i&&i.remove(!0)})));return Promise.all(n)}},{key:"redrawAnnotRenders",value:function(e){}},{key:"movedAnnotRenders",value:function(e,t){for(var n=e.length;n--;){var i=e[n].getId(),r=this.getAnnotRender(i);r&&r.moved(t)}}},{key:"addAnnotRenders",value:function(e){}},{key:"updateAnnotRendersId",value:function(e,t){e in this.annotRenders&&(this.annotRenders[t]=this.annotRenders[e],delete this.annotRenders[e])}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(Xi)}},{key:"invisibleRender",value:function(){this.endRender();var e=this.annotRenders;for(var t in e)e[t].invisibleRender()}},{key:"showDownIcon",value:function(e){}},{key:"startFilterAnnot",value:function(){this.annotFiltered=1,this.showAnnots=new Set}},{key:"addShowAnnot",value:function(e){this.showAnnots.add(e)}},{key:"endFilterAnnot",value:function(){var e=this;this.annotFiltered&&this.rerenderAfterFilterTaskExecutor.exec((function(){if(!e.isDestroyed)return e.render.apply(e,(0,R._)(e.renderParams))}))}},{key:"_updatePageMeasureScaleRatio",value:function(e,t){var n=this;if(0!==t.length){var i=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.abs(n),o=Math.abs(i);return Math.sqrt(r*r+o*o)};t.forEach((function(t){var r=t.getPDFPage().getIndex();e.getIndex()===r&&e.getMeasureScaleRatio().then((function(r){var o=r.ratioMap,a=r.unitName,A=r.scale;e.getViewportRect().then((function(e){var r=t.getType(),s=!0;switch(r){case"circle":var c=t.getRect();s=pi({x:c.left,y:c.top},e);case"line":s=pi(t.getStartPoint(),e);break;case"polyline":case"polygon":var u=J(t.getVertexes()).slice(0);if(u.length<1)return;s=pi({x:u[0].x,y:u[0].y},e)}var l,d,h,f=n.pdfViewer.getIoC().getInstanceByClass(Ji).getMeasurementInfo();if(A&&s)f=o.length?{userSpaceScaleValue:l=o[0].value,userSpaceUnit:d=Ni(o[0].unit),realScaleValue:h=o[1].value,realUnit:Ni(o[1].unit)}:null;else{if(!f)return;A=1,l=f.userSpaceScaleValue,d=f.userSpaceUnit,h=f.realScaleValue,f.realUnit}var p=t.getContent(),g=p.indexOf("\n");g>=0&&(g+=1);var v=p.substr(0,g),m=0;switch(r){case"circle":var y=Hi.caculateCircleArea(t.getRect(),f);return void t.setContent("".concat(v).concat(parseFloat(y*Math.pow(A,2)).toFixed(2)," sq ").concat(a));case"line":var b=t.getStartPoint(),w=t.getEndPoint();m=i(b,w);break;case"polyline":for(var k=t.getVertexes(),x=k[0],_=1;_<k.length;_++)m+=i(x,k[_]),x=k[_];break;case"polygon":var P=t.getVertexes(),D=Hi.caculatePolygonArea(P,f);return void t.setContent("".concat(v).concat(parseFloat(D*Math.pow(A,2)).toFixed(2)," sq ").concat(a))}var C=m;f?C=Pi.convertTo(m*A,d)*(h/l):C=m*A;t.setContent("".concat(v).concat(parseFloat(C).toFixed(2)," ").concat(a))}))}))}))}}}]),n}(ne);const rr=ir;function or(){if("undefined"!=typeof window){if(window.crypto)return e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296;if(window.msCrypto)return function(){var e=new Uint32Array(1);return window.msCrypto.getRandomValues(e),e[0]/4294967296}()}var e;return ue("random",Math)()}var ar=function(){},Ar=(0,U.createDOM)("canvas",{width:"0",class:"fv__tiles-canvas"}),sr=((0,U.createDOM)("div",{class:"fv__tiles-col"},[Ar.cloneNode()]),(0,U.createDOM)("div",{class:"fv__tiles-row"}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e||e.right-e.left<=t||e.bottom-e.top<=t}),cr=function(e,t){return e.left>=t.left&&e.right<=t.right&&e.top>=t.top&&e.bottom<=t.bottom},ur=function(e,t,n){if(!n&&e.left==t.left&&e.right==t.right&&e.top==t.top&&e.bottom==t.bottom)return[];var i={left:Math.max(e.left,t.left),bottom:Math.min(e.bottom,t.bottom),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top)};if(i.left<i.right&&i.top<i.bottom){if(n)return i;if(cr(t,e))return[];var r,o;i.left==t.left?(r={left:i.right,right:t.right,top:t.top,bottom:t.bottom},o=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:e.top}):i.right==t.right&&(o={left:t.left,right:i.left,top:t.top,bottom:t.bottom},r=i.top==t.top?{left:i.left,right:i.right,top:i.bottom,bottom:t.bottom}:{left:i.left,right:i.right,top:t.top,bottom:i.top});var a=[];return sr(o,0)||a.push(o),sr(r,0)||a.push(r),0!=a.length||sr(t)?a:[t]}return n?null:sr(t)?[]:[t]},lr=function(e,t){var n=e.left>t.left?e.left:t.left,i=e.right<t.right?e.right:t.right,r=e.bottom<t.bottom?e.bottom:t.bottom,o=e.top>t.top?e.top:t.top;if(!(n>=i||r<=o))return{left:n,right:i,bottom:r,top:o}},dr=function(e,t){return e.left<=t.left&&e.right>=t.right&&e.bottom>=t.bottom&&e.top<=t.top},hr=function(){function e(t,n,i){var r=this,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];(0,_._)(this,e),this.isDestroyed=!1,this.enableCache=o,this.cache={},this.getImageData=t,i&&(this.pageRender=i,this.api=i.page.api),this.tileTasks={},this.timer={};var a="fv__tiles-container";n=n?n.addClass(a):N()((0,U.createDOM)("div",{class:a})),this.setDom(n),this.updateCanvasMore=ar,this.updateCanvasContainer=ar,this.defer={},Object.defineProperties(this,{$canvases:{get:function(){return r.$container.find(".fv__tiles-canvas")}},rows:{get:function(){return r.$container.find(".fv__tiles-row").length}},$cols:{get:function(){return r.$container.find(".fv__tiles-col")}},cols:{get:function(){return r.$container.find(".fv__tiles-row").eq(0).find(".fv__tiles-col").length}}})}return(0,P._)(e,[{key:"setDom",value:function(e){this.$container=e}},{key:"redraw",value:function(e,t,n,i,r,o,a,A){var s,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=this.getCurrentCanvas();if(l&&!l.isInvalid&&(s=this.getRenderedRect(l))){var d=this.getVisibleRealRect();if(d&&s.left<=d.left&&s.right>=d.right&&s.top<=d.top&&s.bottom>=d.bottom&&this.scale==a&&this.rotate===A&&this.showWidth===n&&this.showHeight===i)return Promise.resolve()}this.showWidth=n,this.showHeight=i;var h=[e,t,n,i,r,o,a,A,c,u];this.lastRedrawParams=h;var f=this.$container,p={left:c*a+"px",top:u*a+"px"};if(f.css(p),f.css(p),this.getRectBitmap){var g=!!this.scale&&this.scale!=a;return this.scale=a,this.rotate=A,this.renderVisibleRect(o,a,g)}return this.scale=a,this.rotate=A,this.updateDom(e,t,n,i,r,o,a,A,c,u),this.updateRenderCanvasSerial(e,t,n,i,r,o,a,A,c,u)}},{key:"isRenderingDone",value:function(e,t){return e===this.scale&&t===this.$container.width()}},{key:"updateDom",value:function(e,t,n,i,r,o,a,A){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:this.$container;if(0!=n){var l={left:s*a+"px",top:c*a+"px"};this.updateCanvasContainer=function(){u.css(l)},u.css(l);var d=n/U.dpr,h=i/U.dpr,f=N()((0,U.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(d,"px;height:").concat(h,"px;")})),p=f[0];if(p.width=n,p.height=i,this.$container){var g=this.$container.find("#pdfcanvas");if(f.css("display",g.css("display")),this.$container.append(p),g&&g.length>0){var v=g[0];v.width=v.height=0,v.remove()}this.$container.show()}this.pageRender||this.lastRedrawParams||(this.lastRedrawParams=[e,t,n,i,r,o,a,A,s,c])}}},{key:"updateRenderCanvasSerial",value:function(e,t,n,i,r,o,a,A){var s=this,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=this.renderContentImageSerial;if(l&&l.end().catch((function(){})),0==n)return this.updateCanvasContainer(),Promise.resolve();l=this.renderContentImageSerial=new pe;var d=[],h=r*a/o,f=r,p=parseInt(n%r+.5);p=p||1;var g=parseInt(i%r+.5);g=g||1;for(var v=c*a,m=u*a,y=this.visibleRect,b=0,w=e;b<w;b++)for(var k=0,x=t;k<x;k++){if(y){var _=y.left-20,P=y.right+20,D=y.top-20,C=y.bottom+20,S=v+k*h,I=m+b*h;if(!(S+h>_&&S<P&&I+h>D&&I<C)){this.$canvases[t*b+k].width=0;continue}}var E=f,R=f;b===e-1&&(R=g),k===t-1&&(E=p),d.push(function(e,t,n,i,r,o){return function(){return s.isDestroyed?Promise.resolve():s.updateCanvas(e,t,n,i,r,o,a,A,c,u)}}(b,k,E,R,r,o))}return l.serial(d)}},{key:"updateCanvas",value:function(e,t,n,i,r,o,a,A,s,c){return this.renderImageData(e,t,n,i,r,o,a,A,s,c)}},{key:"renderImageData",value:function(e,t,n,i,r,o,a,A,s,c){var u=this;if(this.isDestroyed)return Promise.resolve();var l=[e,t,n,i,r,o,s,c,A].join("-"),d=this.cache,h=([l,"canvas"].join("-"),[l,"imageData"].join("-")),f=[l,"imageUrl"].join("-"),p=d[h];return(p?Promise.resolve(p):this.getImageData(e,t,n,i,r,o,s,c,A)).then((function(n){if(!n)return[];var i=n.width,A=n.height,l=n.buffer,p=n.image,g=n.type,v=n.url;d[h]={width:i,height:A,buffer:l,image:p,type:g,url:v};var m=u.getCurrentCanvas(),y=o/a,b=u.lastRedrawParams[2],w=u.lastRedrawParams[3],k=m.getContext("2d");if(0==i||0==A)return m.width=0,[k,e,t,i,A,r,o,s,c];if(Math.abs(m.width-b)>1&&(m.width=b,m.height=w,N()(m).css({width:u.showWidth/y,height:u.showHeight/y})),v)return new Promise((function(n,a){var l=d[f];if(l)return u.updateCanvasContainer(),k.drawImage(l,e*r,t*r),n([k,e,t,i,A,r,o,s,c]);var h=new Image;h.onload=function(){d[f]=h,u.updateCanvasContainer(),k.drawImage(h,e*r,t*r),n([k,e,t,i,A,r,o,s,c])},h.src=v}));if(p)return new Promise((function(n,a){var l=d[f];if(l)return u.updateCanvasContainer(),k.drawImage(l,0,0),n([k,e,t,i,A,r,o,s,c]);try{var h=new Image;h.onload=function(){d[f]=h,u.updateCanvasContainer(),k.drawImage(h,0,0),n([k,e,t,i,A,r,o,s,c])},h.src=URL.createObjectURL(p)}catch(e){console.log(e)}}));var x=new(Uint8ClampedArray||Uint8Array)(l),_=k.createImageData(i,A);return _.data.set(x),u.updateCanvasContainer(),u.$container.css({width:u.showWidth/y,height:u.showHeight/y}),k.putImageData(_,t*r,e*r),[m,k,e,t,i,A,r,o,s,c]})).then((function(e){var t=(0,E._)(e,7),n=(t[0],t[1]),i=t[2],r=t[3],o=t[4],a=t[5],A=t[6];u.updateCanvasMore(n,i,r,o,a,A,i,r)}))}},{key:"hideContainer",value:function(){this.$container.hide(),this.invisibleRender()}},{key:"showContainer",value:function(){var e=this.$container;if(!e.is(":visible")){e.show();var t=this.lastRedrawParams;t&&this.redraw.apply(this,t)}}},{key:"setUpdateCanvasMore",value:function(e){this.updateCanvasMore=e}},{key:"setRenderViewWatermark",value:function(e){this.isRenderViewWatermark=e}},{key:"destroy",value:function(){this.offRender&&this.offRender(),this.isDestroyed=!0,delete this.getImageData,this.updateCanvasMore=ar,this.updateCanvasContainer=ar,this.$canvases.each((function(e,t){t.width=0}));var e=this.getCurrentCanvas();e&&(e.width=0,e.parentNode.removeChild(e)),this.$container.remove(),delete this.$container,this.clearCache()}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"clearCache",value:function(){var e=this.cache;for(var t in e)delete e[t];this.cache={};var n=this.getCurrentCanvas();n&&(n.isInvalid=!0),this.clearProgressiveTask()}},{key:"clearProgressiveTask",value:function(){if(this.getRectBitmap){for(var e in this.timer)clearTimeout(this.timer[e]);this.timer={};var t=[];for(var n in this.tileTasks)t.push(this.api.cancleProgress(n));return this.tileTasks={},this.offRender=null,Promise.all(t)}}},{key:"cancelInvisibleProgressiveTask",value:function(e){for(var t in this.tileTasks){var n=this.tileTasks[t];lr(n,e)||(this.timer[t]&&(clearTimeout(this.timer[t]),delete this.timer[t]),this.api.cancleProgress(t),delete this.tileTasks[t])}}},{key:"invisibleRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.enableCache||!this.getRectBitmap||e){this.$canvases.each((function(e,t){t.width=0}));var t=this.getCurrentCanvas();t&&(t.width=0,t.parentNode.removeChild(t)),this.clearCache()}}},{key:"invisibleCanvas",value:function(){}},{key:"getRenderedRect",value:function(e){if(e)return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"recurToReduceRect",value:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=ur(r,t);if(o.length){for(var a=0;a<o.length;a++)if(i==e.length-1)n.push(o[a]);else{var A,s=e.slice(i+1),c=this.recurToReduceRect(s,o[a]);(A=n).push.apply(A,(0,R._)(c))}break}if(dr(r,t))return[]}return n}},{key:"pushToRenderRectsQueue",value:function(e){var t=[];for(var n in this.tileTasks){var i=this.tileTasks[n];t.push(i)}if(0==t.length)return e;var r=[],o=!0,a=!1,A=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;r=r.concat(this.recurToReduceRect(t,u))}}catch(e){a=!0,A=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw A}}return r}},{key:"getCurrentCanvas",value:function(){if(!this.$container)return null;var e=this.$container.find("#pdfcanvas");return e&&e.length?e[0]:null}},{key:"renderVisibleRect",value:function(e,t,n){var i=this;if(0===t)return Promise.resolve();this.isZoom=n;var r,o=this.visibleRect.right-this.visibleRect.left,a=this.visibleRect.bottom-this.visibleRect.top,A=this.getVisibleRealRect(),s=this.getCurrentCanvas();if(s&&s.left==A.left&&s.top==A.top&&s.right==A.right&&s.bottom==A.bottom)r=s,s.isInvalid=!1;else{var c=N()((0,U.createDOM)("canvas",{id:"pdfcanvas",style:"width:".concat(o,"px;height:").concat(a,"px;left:").concat(this.visibleRect.left,"px;top:").concat(this.visibleRect.top,"px; position:relative;")}));(r=c[0]).left=A.left,r.top=A.top,r.right=A.right,r.bottom=A.bottom,r.width=A.right-A.left,r.height=A.bottom-A.top}if(this.isZoom?this.clearProgressiveTask():this.cancelInvisibleProgressiveTask(A),!this.pageRender.pdfViewer.getScrollWrap().disabled){var u=r.getContext("2d"),l=[A];if(!this.isZoom&&s&&r!=s&&!s.isInvalid){var d=this.getRenderedRect(s);if(d){var h=lr(d,A);if(h&&s){var f=d,p=h.right-h.left,g=h.bottom-h.top,v={left:h.left-f.left,top:h.top-f.top,width:p,height:g},m={left:h.left-A.left,top:h.top-A.top,width:p,height:g};u.drawImage(s,v.left,v.top,p,g,m.left,m.top,p,g)}l=ur(d,A)}}var y=function(e){var t=i.getCurrentCanvas();t!=r&&(i.$container.append(r),i.$container.show(),t&&(t.width=t.height=0,t.remove(),t=null))};if(this.isZoom||y(),(l=this.pushToRenderRectsQueue(l)).length){var b=[];return l.forEach((function(t){var n={x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top};if(0!=n.width&&0!=n.height){var o=""+Date.now()+or();i.tileTasks[o]=t;var a=i.getRectBitmap(n,e,o,i.rotate).then((function(e){if(e){var t=i.isZoom?r:i.getCurrentCanvas(),a=i.displayImage(e,n,t),A=function(e){if(i.api){var t=i.api.continueProgress(o).then((function(e){var t=i.isZoom?r:i.getCurrentCanvas();i.displayImage(e,n,t)}));t.then((function(e){i.tileTasks[o]&&(i.timer[o]&&(clearTimeout(i.timer[o]),delete i.timer[o]),i.timer[o]=setTimeout(A.bind(i),10))}))}};return 100!=e.rate&&A(),a}}));b.push(a)}})),Promise.all(b).then((function(e){i.isZoom&&(e.every((function(e){return 1==e}))&&y())}))}}}},{key:"displayImage",value:function(e,t,n){var i=this,r=e.buffer,o=e.isFirst,a=e.image,A=e.progressiveId,s=e.x,c=e.y,u=e.width,l=e.height,d=e.isVirtual,h=(0,E._)(this.lastRedrawParams,10),f=(h[0],h[1],h[2],h[3],h[4],h[5]),p=(h[6],h[7],h[8],h[9],4*f/3),g=e.scale||p,v=function(){i.tileTasks[A]&&(i.api.cancleProgress(A),delete i.tileTasks[A]),i.timer[A]&&(clearTimeout(i.timer[A]),delete i.timer[A])},m=this.pageRender.pdfViewer.getScrollWrap();if(e.isEmpty||this.isDestroyed||!d&&!this.tileTasks[A])return v(),Promise.resolve(0);if(Math.abs(g-p)>1e-6||m.disabled)return v(),Promise.resolve(0);var y,b=this.$container;b.css({transform:"scale(1)"});var w=(0,U.createDeferred)();if(a){var k=new Image;k.onload=function(){y=function(e,t,n){e.drawImage(k,t,n)},w.resolve()},k.onerror=function(){w.reject()},k.src=URL.createObjectURL(a)}else{if(!r)return w.resolve();var x=new(Uint8ClampedArray||Uint8Array)(r);if(!n)return;var _=n.getContext("2d").createImageData(u,l);if(_.data.set(x),U.isChrome&&this.isRenderViewWatermark){var P=document.createElement("canvas"),D=P.getContext("2d");P.width=u,P.height=l,D.putImageData(_,0,0);var C=new Image;C.src=P.toDataURL(),y=function(e,t,n){e.drawImage(C,t,n)}}else y=function(e,t,n){e.putImageData(_,t,n)};w.resolve()}return w.promise.then((function(){var r=n.getContext("2d"),a=n.left,d=n.top;return y(r,s-a,c-d),i.updateCanvasMore(r,s,c,a,d,u,l,1e6,0,0,t),i.renderedScale=g,o&&i.setDom(b),100==e.rate&&(i.timer[A]&&(clearTimeout(i.timer[A]),delete i.timer[A]),i.tileTasks[A]&&(i.api.cancleProgress(A),delete i.tileTasks[A]),0==Object.keys(i.tileTasks).length&&(i.offRender=null)),1}))}},{key:"getVisibleRealRect",value:function(){var e=this.visibleRect;return e?{left:parseInt(e.left*U.dpr+.5),right:parseInt(e.right*U.dpr+.5),top:parseInt(e.top*U.dpr+.5),bottom:parseInt(e.bottom*U.dpr+.5)}:null}},{key:"clearCanvasContent",value:function(){Array.from(this.$canvases).forEach((function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}))}}]),e}();const fr=hr;var pr=n(840),gr=n.n(pr);const vr=function(){function e(t,n){(0,_._)(this,e),this.$handler=t,this.render=n,this.states=[]}return(0,P._)(e,[{key:"active",value:function(){}},{key:"destroy",value:function(){}},{key:"intoState",value:function(){}},{key:"outState",value:function(){}},{key:"resetState",value:function(){}},{key:"setStates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.states;this.states=e}},{key:"getStates",value:function(){return this.states}},{key:"clearStates",value:function(){}}]),e}();function mr(){var e,t=this,n=t.$handler,i=n[0],r=this.render,o=r.pdfViewer.eventEmitter,a=new(gr().Manager)(i,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});return a.add(new(gr().Tap)({event:"doubletap",taps:2})),a.add(new(gr().Tap)({event:"singletap"})),a.get("doubletap").recognizeWith("singletap"),a.get("singletap").requireFailure("doubletap"),a.on("singletap",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(de.tapPage,e)):o.emit(de.tapPage,e)})),a.on("doubletap",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(de.doubleTapPage,e)):o.emit(de.doubleTapPage,e)})),a.on("press",(function(e){var t=r.annotsRender;t?(t.unActiveAnnot(),r.parent("pdfDocRender").getFormRender().blurControl(),o.emit(de.pressPage,e)):o.emit(de.pressPage,e)})),i.oncontextmenu=function(e){e.preventDefault()},n.on("mouseup",e=function(e){if(3===e.which){var t=r.annotsRender;t?(t.unActiveAnnot(),o.emit(de.rightClickPage,e)):o.emit(de.rightClickPage,e)}}),function(){var r;a.destroy(),n.off("mouseup",e),t=r,n=r,i=r,o=r,e=r}}var yr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).handlers={hand:mr},r.destroyStateHandlers={},r}return(0,P._)(n,[{key:"active",value:function(){this.activated||(this.activated=!0,this.$handler.addClass("fv__active"));this.states.length||this.resetState()}},{key:"destroy",value:function(){this.$handler.removeClass("fv__active")}},{key:"intoState",value:function(e){var t=this.states;if(-1===t.indexOf(e)){t.push(e);var n=this.handlers[e];n&&(this.destroyStateHandlers[e]=n.bind(this)())}}},{key:"outState",value:function(e){var t,n;(t=this.destroyStateHandlers[e])&&(t.bind(this)(),delete this.destroyStateHandlers[e]),-1!==(n=this.states.indexOf(e))&&this.states.splice(n,1)}},{key:"resetState",value:function(){this.setStates(["hand"])}},{key:"setStates",value:function(e){for(var t=this.states,n=0,i=t.length;n<i;n++)this.outState(t[n]);for(var r=0,o=e.length;r<o;r++)this.intoState(e[r])}},{key:"getStates",value:function(){return this.states}}]),n}(vr);const br=yr;var wr=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,_._)(this,e),this.pageRender=t,this.secondaryScale=r,this.fixedPosition=o;var a=document.createElement("div");a.classList.add("fv__page-area-renderer");var A=document.createElement("canvas");a.appendChild(A),this.canvas=A,this.element=a,this.setDimension(n,i),this.offsetPageX=0,this.offsetPageY=0}return(0,P._)(e,[{key:"setDimension",value:function(e,t){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.element.style.cssText+="width: ".concat(e,"px;height:").concat(t,"px")}},{key:"setPosition",value:function(e,t){this.offsetPageX=e,this.offsetPageY=t}},{key:"setSecondaryScale",value:function(e){e=Number(e),(!isFinite(e)||e<=0)&&(e=1),this.secondaryScale=e}},{key:"update",value:function(){var e=this,t=this.pageRender;return t.getPDFPage().then((function(n){var i=n.doc.api;e.tasks&&(i.cancleProgress(e.tasks.id),e.tasks=null);var r=t.scale,o=e.canvas,a=4*r/3*e.secondaryScale,A=t.getShowWidth()*e.secondaryScale,s=t.getShowHeight()*e.secondaryScale,c=o.width,u=o.height,l=c/2,d=u/2,h=e.offsetPageX*e.secondaryScale,f=e.offsetPageY*e.secondaryScale,p=h-l,g=h+l,v=f-d,m=f+d,y=0,b=0;e.fixedPosition?(p<0&&(g=(p=0)+c),g>A&&(p=(g=A)-c),v<0&&(m=(v=0)+u),m>s&&(v=(m=s)-u)):(p<0?y=Math.min(-p,l):g>A&&(y=Math.max(A-g,-l)),v<0?b=Math.min(-v,d):m>s&&(b=Math.max(s-m,-d)),o.style.cssText+="left: ".concat(y,"px; top: ").concat(b,"px"));var w=Math.max(0,p),k=Math.min(g,A),x=Math.max(0,v),_=Math.min(m,s),P=Math.round(k-w),D=Math.round(_-x),C=Math.abs(Math.min(0,y)),S=Math.abs(Math.min(0,b)),I=""+Date.now()+or();return e.tasks={id:I,canvasDrawingLeft:C,canvasDrawingTop:S},e.getPageBitmap(n.getPDFDoc().getId(),n.getId(),a,e.pageRender.rotate,{x:w,y:x,width:P,height:D},I,U.dpr).then(e.displayImage.bind(e))}))}},{key:"displayImage",value:function(e){var t=e.buffer,n=e.image,i=e.progressiveId,r=(e.x,e.y,e.width),o=e.height,a=e.rate;if(!e.isEmpty&&this.tasks){if(this.tasks.id==i){var A=this.canvas,s=A.getContext("2d");if(s.clearRect(0,0,this.canvas.width,this.canvas.height),n)return new Promise((function(e,t){try{var i=new Image;i.onload=function(){s.drawImage(i,0,0,r,o),URL.revokeObjectURL(i.src),e(A)},i.src=URL.createObjectURL(n)}catch(e){console.log(e)}}));var c=s.createImageData(r,o);return c.data.set(new(Uint8ClampedArray||Uint8Array)(t)),s.putImageData(c,this.tasks.canvasDrawingLeft,this.tasks.canvasDrawingTop),100==a&&(this.tasks=null),A}}else this.tasks=null}},{key:"getPageBitmap",value:function(e,t,n,i,r,o,a){return this.pageRender.getPDFPage().then((function(A){return A.doc.api.getPageBitmap(e,t,n,i,r,["page","annot","form"],"view",o,!1,{hotAnnot:0,hideAnnots:[],dpr:a}).then((function(s){var c=function(s){return s.rate<100?A.doc.api.continueProgress(s.progressiveId).then(c):s.buffer||s.image?s:A.doc.api.getPageBitmap(e,t,n,i,r,["page","annot","form"],"view",o,!1,{hotAnnot:0,hideAnnots:[],dpr:a})};return s.rate>=100?s:c(s)}))}))}}]),e}(),kr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Center",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-45,A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100;(0,_._)(this,e),this.position=t,this.offsetX=n,this.offsetY=i,this.scaleX=r,this.scaleY=o,this.rotation=a,this.opacity=A}return(0,P._)(e,[{key:"setPosition",value:function(e){this.position=e}},{key:"getPosition",value:function(){return this.position}},{key:"setOffsetX",value:function(e){this.offsetX=e}},{key:"getOffsetX",value:function(){return this.offsetX}},{key:"setOffsetY",value:function(e){this.offsetY=e}},{key:"getOffsetY",value:function(){return this.offsetY}},{key:"setScaleX",value:function(e){this.scaleX=e}},{key:"getScaleX",value:function(){return this.scaleX}},{key:"setScaleY",value:function(e){this.scaleY=e}},{key:"getScaleY",value:function(){return this.scaleY}},{key:"setRotation",value:function(e){this.rotation=e}},{key:"getRotation",value:function(){return this.rotation}},{key:"setOpacity",value:function(e){this.opacity=e}},{key:"getOpacity",value:function(){return this.opacity}}]),e}(),xr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Microsoft Yahei",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000000",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"center";(0,_._)(this,e),this.font=t,this.fontSize=n,this.color=i,this.fontStyle=r,this.lineSpace=o,this.alignment=a}return(0,P._)(e,[{key:"setFont",value:function(e){this.font=e}},{key:"getFont",value:function(){return this.font}},{key:"setFontSize",value:function(e){this.fontSize=e}},{key:"getFontSize",value:function(){return this.fontSize}},{key:"setColor",value:function(e){this.color=e}},{key:"getColor",value:function(){return this.color}},{key:"setFontStyle",value:function(e){this.fontStyle=e}},{key:"getFontStyle",value:function(){return this.fontStyle}},{key:"setLineSpace",value:function(e){this.lineSpace=e}},{key:"getLineSpace",value:function(){return this.lineSpace}},{key:"setAlignment",value:function(e){this.alignment=e}},{key:"getAlignment",value:function(){return this.alignment}}]),e}(),_r=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"watermark",void 0),(0,X._)(this,"imageURL",void 0),(0,X._)(this,"imagePromise",void 0),(0,X._)(this,"image",void 0),(0,X._)(this,"originImageWidth",void 0),(0,X._)(this,"originImageHeight",void 0),this.watermark=t,this.imageURL=n,this.originImageWidth=0,this.originImageHeight=0,this.imagePromise=this.loadImage()}return(0,P._)(e,[{key:"ready",value:function(){var e=this;return this.imagePromise.then((function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e}))}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark.watermarkSettings,a=o.getOffsetX(),A=o.getOffsetY(),s=o.getScaleX(),c=o.getScaleY(),u=r.getContext("2d"),l=this.watermark.smartScale;u.globalAlpha=o.opacity/100;var d=this.image;return d.width=this.originImageWidth*s*l,d.height=this.originImageHeight*c*l,u.translate(-e,-t),this.performTransformation(u,d),u.drawImage(d,-d.width/2+a,-d.height/2+A,d.width,d.height),r}},{key:"performTransformation",value:function(e,t){var n=this.watermark.watermarkSettings,i=n.getRotation(),r=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),A=(n+360)%360;A>=270&&A<360||A>=90&&A<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var s=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:s-t/2}}(t.width,t.height,i),o=r.x,a=r.y,A=this.watermark.showWidth,s=this.watermark.showHeight;switch(n.getPosition()){case"TopLeft":c(o+t.width/2,a+t.height/2);break;case"TopCenter":c(A/2,a+t.height/2);break;case"TopRight":c(A-o-t.width/2,a+t.height/2);break;case"CenterLeft":c(o+t.width/2,s/2);break;case"Center":c(A/2,s/2);break;case"CenterRight":c(A-o-t.width/2,s/2);break;case"BottomLeft":c(o+t.width/2,s-a-t.height/2);break;case"BottomCenter":c(A/2,s-a-t.height/2);break;case"BottomRight":c(A-o-t.width/2,s-a-t.height/2)}function c(t,n){e.translate(t,n)}i%360!=0&&e.rotate(i*Math.PI/180)}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise((function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},t.src=e.imageURL}))}}]),e}();var Pr=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"watermark",void 0),(0,X._)(this,"text",void 0),(0,X._)(this,"allLines",void 0),this.watermark=t,this.text=n,this.allLines=n.split(/[\r\n]/)}return(0,P._)(e,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=this.watermark,a=o.smartScale,A=o.watermarkTextProperties,s=o.watermarkSettings,c=A.getFontSize()*a,u=A.getLineSpace()*a,l=A.getColor(),d=A.getFont(),h=r.getContext("2d");h.font="".concat(c,"px ").concat(d),h.fillStyle=l,h.lineWidth=1,h.strokeStyle=l,h.textBaseline="top",h.globalAlpha=s.getOpacity()/100;var f=this.allLines,p=f.length*c+(f.length-1)*u,g=this.resolveMaxWidth(h);return h.translate(-e,-t),this.performTransformation(h,g,p),this.renderText(h,g,p),r}},{key:"renderText",value:function(e,t,n){var i=this.allLines,r=this.watermark,o=r.smartScale,a=r.watermarkTextProperties,A=r.watermarkSettings,s=a.getFontSize()*o,c=a.getLineSpace()*o,u=a.getFontStyle(),l=a.getAlignment(),d=A.getOffsetX(),h=A.getOffsetY();s<12&&e.scale(s/12,s/12),i.forEach((function(i,r){var o,a,A=i.replace(/(^\s*)|(\s*$)/g,""),f=A.length*s,p=0,g=0;switch(l){case"left":e.textAlign="left",o=-f/2-(t-f)/2,a=f/2-(t-f)/2,p=-t/2,g=-n/2;break;case"right":e.textAlign="right",o=-f/2+(t-f)/2,a=f/2+(t-f)/2,p=t/2,g=-n/2;break;default:e.textAlign="center",o=-f/2,a=f/2,g=-n/2}e.fillText(A,p+d,g+r*(c+s)+h),"underline"===u&&(e.moveTo(o+d,-n/2+s+r*(s+c)+h),e.lineTo(a+d,-n/2+s+r*(s+c)+h),e.stroke())}))}},{key:"performTransformation",value:function(e,t,n){var i=this.watermark,r=i.showWidth,o=i.showHeight,a=i.watermarkSettings,A=a.getRotation(),s=function(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),A=(n+360)%360;A>=270&&A<360||A>=90&&A<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var s=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:s-t/2}}(t,n,A),c=s.x,u=s.y;switch(a.getPosition()){case"TopLeft":l(c+t/2,u+n/2);break;case"TopCenter":l(r/2,u+n/2);break;case"TopRight":l(r-c-t/2,u+n/2);break;case"CenterLeft":l(c+t/2,o/2);break;case"Center":l(r/2,o/2);break;case"CenterRight":l(r-c-t/2,o/2);break;case"BottomLeft":l(c+t/2,o-u-n/2);break;case"BottomCenter":l(r/2,o-u-n/2);break;case"BottomRight":l(r-c-t/2,o-u-n/2)}function l(t,n){e.translate(t,n)}A%360!=0&&e.rotate(A*Math.PI/180)}},{key:"resolveMaxWidth",value:function(e){var t=this.text.split(/[\r\n]+/);return Math.max.apply(Math,t.map((function(t){return e.measureText(t).width})))}}]),e}();var Dr=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"watermark",void 0),this.watermark=t}return(0,P._)(e,[{key:"getColumnSpace",value:function(){var e=this.watermark,t=e.columnSpace,n=e.smartScale;return(0,H.F2)(t)*n}},{key:"getRowSpace",value:function(){var e=this.watermark,t=e.rowSpace,n=e.smartScale;return(0,H.F2)(t)*n}},{key:"getColor",value:function(){return this.watermark.watermarkTextProperties.getColor()}},{key:"resolveDimensions",value:function(e,t,n){return Math.ceil(e/(t+n))}}]),e}(),Cr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),r=t.call(this,e),(0,X._)((0,k._)(r),"watermark",void 0),(0,X._)((0,k._)(r),"text",void 0),(0,X._)((0,k._)(r),"allLines",void 0),r.watermark=e,r.text=i,r.allLines=i.split(/[\r\n]/),r}return(0,P._)(n,[{key:"ready",value:function(){return Promise.resolve(this)}},{key:"setupFontInfo",value:function(e){var t=this.watermark.watermarkTextProperties,n=this.getFontSize(),i=t.getColor(),r=this.getFont();e.font="".concat(Math.max(12,n),"px ").concat(r),e.fillStyle=i,e.lineWidth=1,e.strokeStyle=i,e.textBaseline="top"}},{key:"getFontSize",value:function(){var e=this.watermark,t=e.smartScale,n=e.watermarkTextProperties;return(0,H.F2)(n.getFontSize())*t}},{key:"getFont",value:function(){return this.watermark.watermarkTextProperties.getFont()}},{key:"getLineSpacePx",value:function(){var e=this.watermark.watermarkTextProperties;return(0,H.F2)(e.getLineSpace())}},{key:"resolveTextBlockRect",value:function(e){var t=this;return this.invoke(e,(function(e){var n,i=t.getLineSpacePx();t.setupFontInfo(e);var r=t.getFontSize(),o=r<12?r/12:1,a=t.allLines.map((function(t){var n=e.measureText(t);return{width:n.width*o,height:(n.actualBoundingBoxDescent-n.actualBoundingBoxAscent)*o}})),A=a.reduce((function(e,t){return e+t.height}),0)+i*(a.length-1),s=(n=Math).max.apply(n,(0,R._)(a.map((function(e){return e.width}))));return{width:s,height:A,sizes:a,fontScale:o}}))}},{key:"invoke",value:function(e,t){var n=!1;try{e.save();var i=t(e);return"function"==typeof i.then&&"function"==typeof i.finally&&(n=!0,i.finally((function(){e.restore()}))),i}finally{n||e.restore()}}}]),n}(Dr);function Sr(e,t,n){var i,r,o,a,A=e/2,s=t/2,c=[{x:-A,y:-s},{x:A,y:-s},{x:-A,y:s},{x:A,y:s}].map((function(e){return{x:e.x*Math.cos(n)-e.y*Math.sin(n),y:e.x*Math.sin(n)+e.y*Math.cos(n)}})),u=e/((i=Math).max.apply(i,(0,R._)(c.map((function(e){return e.x}))))-(r=Math).min.apply(r,(0,R._)(c.map((function(e){return e.x}))))),l=t/((o=Math).max.apply(o,(0,R._)(c.map((function(e){return e.y}))))-(a=Math).min.apply(a,(0,R._)(c.map((function(e){return e.y})))));return Math.min(u,l)}var Ir=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"render",value:function(e,t,n,i){var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.resolveTextBlockRect(o),A=this.watermark,s=(A.smartScale,A.showWidth),c=A.showHeight,u=A.watermarkSettings,l=u.opacity,d=u.rotation,h=u.scaleX,f=u.scaleY;this.setupFontInfo(o);var p=(d+360)%360/180*Math.PI,g=Sr(s,c,p),v=.5*s-e,m=.5*c-t;o.globalAlpha=l/100,o.translate(v,m),o.scale(g,g),o.rotate(-p),o.translate(-v,-m);for(var y=this.getColumnSpace(),b=this.getRowSpace(),w=a.width*h*a.fontScale,k=a.height*f*a.fontScale,x=this.resolveDimensions(s,w,y),_=this.resolveDimensions(c,k,b),P={left:e,top:t,right:e+n,bottom:t+i},D=0;D<=x;D++)for(var C=D*w+y*D,S=0;S<=_;S++){var I=S*k+b*S;this.renderText(C,I,a,P,o,D,S)}return r}},{key:"renderText",value:function(e,t,n,i,r,o,a){var A=t,s=this.watermark,c=s.watermarkTextProperties,u=c.fontStyle,l=c.color,d=c.alignment,h=s.smartScale,f=s.watermarkSettings,p=f.scaleX,g=f.scaleY,v=n.sizes,m=n.fontScale,y=this.getLineSpacePx()*g*h,b="underline"===u,w=this.allLines.map((function(e,t){return v[t].width*p*m})),k=n.width*p*m;this.allLines.some((function(t,n){var i=v[n],o=i.width,a=i.height,s=o*p*m,c=a*g*m,u=function(e){switch(d){case"right":return k-w[e];case"center":return.5*(k-w[e])}return 0}(n);if(r.save(),r.scale(m,m),r.fillText(t,(e+u)/m,A/m),r.restore(),b){r.save(),r.imageSmoothingEnabled=!0,r.lineWidth=Math.floor(1*h),r.strokeStyle=l;var f=A+c;r.moveTo(e+u,f),r.lineTo(e+u+s,f),r.stroke(),r.restore()}return A+=c+y,!1}))}}]),n}(Cr),Er=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),r=t.call(this,e),(0,X._)((0,k._)(r),"watermark",void 0),(0,X._)((0,k._)(r),"imageURL",void 0),(0,X._)((0,k._)(r),"imagePromise",void 0),(0,X._)((0,k._)(r),"image",void 0),(0,X._)((0,k._)(r),"originImageWidth",void 0),(0,X._)((0,k._)(r),"originImageHeight",void 0),r.watermark=e,r.imageURL=i,r.originImageWidth=0,r.originImageHeight=0,r.imagePromise=r.loadImage(),r}return(0,P._)(n,[{key:"ready",value:function(){var e=this;return this.imagePromise.then((function(t){return e.image=t,e.originImageWidth=t.width,e.originImageHeight=t.height,e}))}},{key:"render",value:function(e,t,n,i){if(!this.image)throw new Error("Image watermark renderer has not been ready!");var r=document.createElement("canvas");r.width=n,r.height=i;var o=r.getContext("2d");if(!o)throw new Error("An unknown error has occurred and the view watermark cannot be rendered!");var a=this.watermark,A=a.smartScale,s=a.showWidth,c=a.showHeight,u=a.watermarkSettings,l=u.opacity,d=u.rotation,h=u.scaleX,f=u.scaleY,p=(d+360)%360/180*Math.PI,g=Sr(s,c,p),v=.5*s-e,m=.5*c-t;o.globalAlpha=l/100,o.translate(v,m),o.scale(g,g),o.rotate(-p),o.translate(-v-e,-m-t);var y=this.getColumnSpace(),b=this.getRowSpace(),w=this.originImageWidth*h*A,k=this.originImageHeight*f*A;this.image.width=w,this.image.height=k;for(var x=this.resolveDimensions(s,w,y),_=this.resolveDimensions(c,k,b),P=0;P<=x;P++)for(var D=P*w+y*P,C=0;C<=_;C++){var S=C*k+b*C;o.drawImage(this.image,D,S,w,k)}return r}},{key:"loadImage",value:function(){var e=this,t=document.createElement("img");return new Promise((function(n,i){t.onload=function(){n(t)},t.onerror=function(t){var n=new Error("Failed to load watermark image: ".concat(e.imageURL));n.originEvent=t,i(n)},0===e.imageURL.indexOf("blob")||0===e.imageURL.indexOf("data")?t.src=e.imageURL:function(e){if(Rr.has(e))return Rr.get(e);var t=fetch(e).then((function(e){return e.blob()})).then((function(e){return URL.createObjectURL(e)}));return Rr.set(e,t),t}(e.imageURL).then((function(e){t.src=e}))}))}}]),n}(Dr),Rr=new Map;var Tr=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=o.isMultiline,A=void 0!==a&&a,s=o.rowSpace,c=void 0===s?0:s,u=o.columnSpace,l=void 0===u?0:u,d=o.watermarkSettings,h=void 0===d?{position:"Center",offsetX:0,offsetY:0,scaleX:1,scaleY:1,rotation:-45,opacity:100}:d,f=o.watermarkTextProperties,p=void 0===f?{font:"Microsoft Yahei",fontSize:20,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}:f;(0,_._)(this,e),this.isMultiline=A,this.rowSpace=c,this.columnSpace=l,this.showWidth=t,this.showHeight=n,this.tileSize=i,this.smartScale=r;var g=h.position,v=h.offsetX,m=h.offsetY,y=h.scaleX,b=h.scaleY,w=h.rotation,k=h.opacity,x=p.font,P=p.fontSize,D=p.color,C=p.fontStyle,S=p.lineSpace,I=p.alignment;this.watermarkSettings=new kr(g,v,m,y,b,w,k),this.watermarkTextProperties=new xr(x,P,D,C,S,I)}return(0,P._)(e,[{key:"exportDataURL",value:function(e){var t=e.content,n=e.type,i=function(e){return e.toDataURL()};return"text"===n?this.createTextWatermark(t).then(i):"image"===n?this.createImageWatermark(t).then(i):void 0}},{key:"getWatermarkRenderer",value:function(e){var t=e.content;switch(e.type){case"text":return this.isMultiline?new Ir(this,t).ready():new Pr(this,t).ready();case"image":return this.isMultiline?new Er(this,t).ready():new _r(this,t).ready()}}},{key:"createImageWatermark",value:function(e){var t=this,n=(0,U.createDeferred)(),i=document.createElement("canvas");i.width=this.showWidth,i.height=this.showHeight;var r=i.getContext("2d"),o=i.getContext("2d"),a=new Image;a.src=e;var A=this.watermarkSettings,s=A.getOffsetX(),c=A.getOffsetY(),u=A.getScaleX(),l=A.getScaleY(),d=A.getRotation(),h=this.showWidth,f=this.showHeight;return a.onload=function(){a.width=a.width*u*t.smartScale,a.height=a.height*l*t.smartScale,Mr(r,A.getOpacity()),r.save();var e=Fr(a.width,a.height,d),p=e.x,g=e.y;switch(A.getPosition()){case"TopLeft":o.translate(p+a.width/2,g+a.height/2);break;case"TopCenter":o.translate(h/2,g+a.height/2);break;case"TopRight":o.translate(h-p-a.width/2,g+a.height/2);break;case"CenterLeft":o.translate(p+a.width/2,f/2);break;case"Center":o.translate(h/2,f/2);break;case"CenterRight":o.translate(h-p-a.width/2,f/2);break;case"BottomLeft":o.translate(p+a.width/2,f-g-a.height/2);break;case"BottomCenter":o.translate(h/2,f-g-a.height/2);break;case"BottomRight":o.translate(h-p-a.width/2,f-g-a.height/2)}d%360!=0&&o.rotate(d*Math.PI/180),o.drawImage(a,-a.width/2+s,-a.height/2+c,a.width,a.height),r.restore(),n.resolve(i)},a.onerror=function(e){var t=new Error("Failed to load image");t.originEvent=e,n.reject(t)},a.oncancel=function(e){var t=new Error("Load image has been cancelled");t.originEvent=e,n.reject(t)},n.promise}},{key:"createTextWatermark",value:function(e){var t=(0,U.createDeferred)(),n=document.createElement("canvas");n.width=this.showWidth,n.height=this.showHeight;var i=e.split("\n"),r=n.getContext("2d"),o=n.getContext("2d"),a=this.showWidth,A=this.showHeight,s=this.watermarkTextProperties,c=s.getFontSize()*this.smartScale,u=s.getLineSpace()*this.smartScale,l=s.getFontStyle(),d=s.getColor(),h=s.getAlignment(),f=s.getFont();o.font=c+"px "+f,o.fillStyle=d;var p=this.watermarkSettings,g=p.getOffsetX(),v=p.getOffsetY(),m=(p.getScaleX(),p.getScaleY(),p.getRotation()),y=0,b=i.length,w=b*c+(b-1)*u;i.map((function(e){var t=e.replace(/\s+/g,"");y=Math.max(t.length*c,y)})),o.lineWidth=1,o.strokeStyle=d,r.textBaseline="top",Mr(r,p.getOpacity());var k=Fr(y,w,m),x=k.x,_=k.y;switch(p.getPosition()){case"TopLeft":o.translate(x+y/2,_+w/2);break;case"TopCenter":o.translate(a/2,_+w/2);break;case"TopRight":o.translate(a-x-y/2,_+w/2);break;case"CenterLeft":o.translate(x+y/2,A/2);break;case"Center":o.translate(a/2,A/2);break;case"CenterRight":o.translate(a-x-y/2,A/2);break;case"BottomLeft":o.translate(x+y/2,A-_-w/2);break;case"BottomCenter":o.translate(a/2,A-_-w/2);break;case"BottomRight":o.translate(a-x-y/2,A-_-w/2)}return o.rotate(m*Math.PI/180),c<12&&o.scale(c/12,c/12),i.map((function(e,t){var n,i,a=e.replace(/(^\s*)|(\s*$)/g,""),A=a.length*c,s=0,d=0;switch(h){case"left":r.textAlign="left",n=-A/2-(y-A)/2,i=A/2-(y-A)/2,s=-y/2,d=-w/2;break;case"right":r.textAlign="right",n=-A/2+(y-A)/2,i=A/2+(y-A)/2,s=y/2,d=-w/2;break;default:r.textAlign="center",n=-A/2,i=A/2,d=-w/2}o.fillText(a,s+g,d+t*(u+c)+v),"underline"===l&&(o.moveTo(n,-w/2+c+t*(c+u)),o.lineTo(i,-w/2+c+t*(c+u)),o.stroke())})),t.resolve(n),t.promise}},{key:"getWatermarkSettings",value:function(){return this.watermarkSettings}},{key:"getWatermarkTextProperties",value:function(){return this.watermarkTextProperties}},{key:"getHeight",value:function(){return this.showHeight}},{key:"getWidth",value:function(){return this.showWidth}}]),e}();function Mr(e,t){e.globalAlpha=t/100}function Fr(e,t,n){var i,r,o=Math.sqrt(Math.pow(e/2,2)+Math.pow(t/2,2)),a=Math.asin(t/2/o)/(Math.PI/180),A=(n+360)%360;A>=270&&A<360||A>=90&&A<180?(i=n-a,r=a+n):(i=n+a,r=n-a);var s=o*Math.abs(Math.sin(i*Math.PI/180));return{x:o*Math.abs(Math.cos(r*Math.PI/180))-e/2,y:s-t/2}}var Lr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this,r)).name="customsRender",o.$ui=e,o.customs=i,o.customRenders={},o}return(0,P._)(n,[{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scale=e,this.rotate=t;var n=this.customs;this.adjustCustomsRenderInit(n);var i=this.pdfViewer.customRenderManager,r=this.customRenders;return Promise.all(n.map((function(n){return r[i.getCustomDataId(n)].render(e,t)})))}},{key:"activeCustom",value:function(e){var t=this.customRenders[this.customManager.getCustomDataId(e)];return t?(this.currentActiveCustomRender=t,t.render(this.scale,this.rotate)):Promise.reject(new Error("Custom render not found!"))}},{key:"unActiveCustoms",value:function(){var e=this.currentActiveCustomRender;if(e)return e.unActive()}},{key:"adjustCustomsRenderInit",value:function(e){var t=this,n=this.pdfViewer.customRenderManager,i=this.customRenders,r=document.createDocumentFragment();e.filter((function(e){return!i[n.getCustomDataId(e)]})).map((function(e){var o=document.createElement("div"),a=document.createElement("div");r.appendChild(o),r.appendChild(a),i[n.getCustomDataId(e)]=new(n.get(e))(o,a,e,t)})).length&&this.$ui.append(r)}},{key:"addCustomRenders",value:function(e){this.adjustCustomsRenderInit(e);var t=this.pdfViewer.customRenderManager,n=this.customRenders,i=this.scale,r=this.rotate;return Promise.all(e.map((function(e){return n[t.getCustomDataId(e)].render(i,r)})))}},{key:"removeCustomRenders",value:function(e){var t={},n=this.pdfViewer.customRenderManager,i=this.customRenders;e.map((function(e){var r=n.getCustomDataId(e);t[r]=1,delete i[r]}));for(var r=this.customs,o=r.length;o--;)t[n.getCustomDataId(r[o])]&&r.splice(o,1)}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this);var e=this.customRenders;for(var t in e){var i=e[t];i&&i.destroy()}this.customRenders=null}},{key:"updateCustomRenders",value:function(e){for(var t=this,n={},i=this.pdfViewer.customRenderManager,r=this.customRenders,o=e.map((function(e){var t=i.getCustomDataId(e);return n[t]=e,r[t]})),a=this.customs,A=a.length;A--;){var s=i.getCustomDataId(a[A]);n[s]&&(a[A]=n[s])}return Promise.all(o.map((function(e){return e&&e.render(t.scale,t.rotate)})))}}]),n}(ne),Nr=function(){function e(){(0,_._)(this,e),this.init.apply(this,arguments)}return(0,P._)(e,[{key:"init",value:function(){if(1==arguments.length)this.info={type:arguments[0]};else{var e=(0,E._)(arguments,6),t=e[0],n=e[1],i=e[2],r=(e[3],e[4]),o=e[5];this.info=t,this.factory=n,this.doc=i,this.host=o,this.eventEmitter=r}this.initSubAction()}},{key:"checkInserted",value:function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach((function(t){e.subAction.push(e.factory.createAction(t,e.doc,e.doc.api,e.eventEmitter,e.host))}))}},{key:"appendSubAction",value:function(e){this.subAction.push(e),this.info.subAction=this.info.subAction||[],this.info.subAction.push(e.info)}},{key:"getType",value:function(){return this.info.type}},{key:"getSubActionCount",value:function(){return this.info.subAction.length||0}},{key:"getSubAction",value:function(e){return this.subAction[e]}},{key:"insertSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");return t=Math.max(0,Math.min(t,this.getSubActionCount())),(0,I._)(n,e)&&(n=n.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return i.updateAction(e),e}))}},{key:"setSubAction",value:function(t,n){var i=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");var r=this.getSubActionCount();if(0===r)throw new Error("Cannot be set without sub action.");return t=Math.max(0,Math.min(t,r-1)),(0,I._)(n,e)&&(n=n.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,t,n).then((function(e){return i.updateAction(e),e}))}},{key:"removeAllSubActions",value:function(){var e=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then((function(t){e.updateAction(t)}))}},{key:"removeSubAction",value:function(e){var t=this;if(this.doc.api){if("number"!=typeof e)throw new Error("param error. Only number is available.");var n=this.getSubActionCount();if(0===n)throw new Error("Cannot be remove without sub action.");return e=Math.max(0,Math.min(e,n-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}}},{key:"setActionData",value:function(e){var t=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}},{key:"updateAction",value:function(e){Object.assign(this.info,e),this.initSubAction(),this.host&&(this.eventEmitter.emit(le.actionUpdated,this.host),(0,I._)(this.host,ln)&&this.eventEmitter.emit(le.annotationUpdated,[this.host],this.host.getPDFPage(),"widget"===this.host.getType()?tn.formFieldActionUpdated:tn.actionDataUpdated))}},{key:"checkOutData",value:function(e){return!0}},{key:"exportToJson",value:function(){return{type:this.getType()}}}]),e}(),Or=n(9307),Br=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.uri),(0,Or._)(s)):(s=t.call(this,e,i,r,o,a,A),(0,Or._)(s))}return(0,P._)(n,[{key:"getURI",value:function(){return this.info.uri}},{key:"checkOutData",value:function(e){return e&&e.uri}},{key:"setURI",value:function(e){var t=this;if(!e&&"string"==typeof e)throw new Error("param error. Only non-empty strings is available.");return this.doc?this.doc.api.setActionURI(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.uri=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{uri:this.getURI()})}}]),n}(Nr),jr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_._)(this,e),this.fileSpec=t}return(0,P._)(e,[{key:"setFileName",value:function(e){this._assetEmptyStringValue("fileName",e),this.fileSpec.fileName=e}},{key:"getChecksum",value:function(){return this.fileSpec.checksum}},{key:"getCreationDateTime",value:function(){return this.fileSpec.creationDateTime}},{key:"getDescription",value:function(){return this.fileSpec.description}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.fileName}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}},{key:"_assetEmptyStringValue",value:function(e,t){if("string"!=typeof t||0==t.length)throw new Error("[Illegal Argument] Invalid ".concat(e,": ").concat(e," is required."))}}]),e}(),Vr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.launch),(0,Or._)(s)):((s=t.call(this,e,i,r,o,a,A)).fileSpec=s.info.fileSpec&&new jr(s.info.fileSpec)||null,(0,Or._)(s))}return(0,P._)(n,[{key:"setFileSpec",value:function(e){var t=this;return this.fileSpec=e,this.info.fileSpec=e.fileSpec,this.doc?this.doc.api.setFileSpec({path:"jr/doc/action"},this.doc.id,this.info.objNumber,this.info.fileSpec).then((function(e){return t.updateAction(e)})):Promise.resolve()}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new jr(e.fileSpec)||null,(0,D._)((0,C._)(n.prototype),"updateAction",this).call(this,e)}}]),n}(Nr);const Ur=Vr;var Hr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){return(0,_._)(this,n),t.call(this,e,i,r,o,a,A)}return(0,P._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),n}(Nr);const zr=Hr;var Wr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.javaScript),(0,Or._)(s)):((s=t.call(this,e,i,r,o,a,A)).info.script&&(s.info.javascript=s.info.script),(0,Or._)(s))}return(0,P._)(n,[{key:"getScript",value:function(){return this.info.javascript}},{key:"checkOutData",value:function(e){return e&&e.javascript}},{key:"setScript",value:function(e){var t=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.javascript=e,Promise.resolve())}},{key:"exportToJson",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{script:this.getScript()})}}]),n}(Nr);const Yr=Wr;var Gr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),s=e?t.call(this,e,i,r,o,a,A):t.call(this,at.submitForm),(0,Or._)(s)}return(0,P._)(n,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getURL",value:function(){return this.info.url}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.url}},{key:"setData",value:function(e,t,n){this.info.flags=e,this.info.url=t,this.info.fieldNames=n}}]),n}(Nr);const $r=Gr;var Kr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;if((0,_._)(this,n),0==arguments.length)return e=t.call(this,at.resetForm),(0,Or._)(e);var i=(0,E._)(arguments,6),r=i[0],o=i[1],a=i[2],A=i[3],s=i[4],c=i[5];return e=t.call(this,r,o,a,A,s,c),(0,Or._)(e)}return(0,P._)(n,[{key:"getFlags",value:function(){return this.info.flags}},{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"checkOutData",value:function(e){return e&&e.fieldNames}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())}},{key:"setFlags",value:function(e){var t=this;if(!this.doc)return this.info.flags=e,Promise.resolve();if(0!==e&&1!==e)throw new Error("param error. Only 0 or 1 is available.");return this.doc.api.setActionFlags(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))}},{key:"exportToJson",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),flags:this.getFlags()})}}]),n}(Nr);const qr=Kr;var Jr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.importData),(0,Or._)(s)):((s=t.call(this,e,i,r,o,a,A)).fileSpec=s.info.fileSpec&&new jr(s.info.fileSpec)||null,(0,Or._)(s))}return(0,P._)(n,[{key:"setFileSpec",value:function(e){this.fileSpec=e,this.info.fileSpec=e.fileSpec}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"checkOutData",value:function(e){return e&&e.buffer}},{key:"updateAction",value:function(e){return this.fileSpec=e.fileSpec&&new jr(e.fileSpec)||null,(0,D._)((0,C._)(n.prototype),"updateAction",this).call(this,e)}}]),n}(Nr);const Xr=Jr;var Qr=["ZoomXYZ","ZoomFitPage","ZoomFitHorz","ZoomFitRect","ZoomFitBHorz","ZoomFitVert"],Zr=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.goto),(0,Or._)(s)):(s=t.call(this,e,i,r,o,a,A),(0,Or._)(s))}return(0,P._)(n,[{key:"getDestination",value:function(){return this.info.destination}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t}(e)}},{key:"setDestination",value:function(e){var t=this;if(!this.doc)return this.info.destination=e,Promise.resolve();if(-1===Qr.indexOf(e.zoomMode))throw new Error("param error. ZoomMode is invalid.");return e.pageIndex=Math.min(this.doc.getPageCount()-1,Math.max(e.pageIndex,0)),this.doc.api.setActionDestination(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e}))}},{key:"exportToJson",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{destination:this.getDestination()})}}]),n}(Nr);var eo=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.hide),(0,Or._)(s)):(s=t.call(this,e,i,r,o,a,A),(0,Or._)(s))}return(0,P._)(n,[{key:"getFieldNames",value:function(){return this.info.fieldNames}},{key:"getHideState",value:function(){return this.info.hideState}},{key:"setFieldNames",value:function(e){var t=this;return this.doc?this.doc.api.setActionFieldNames(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.fieldNames=e,Promise.resolve())}},{key:"setHideState",value:function(e){var t=this;return this.doc?this.doc.api.setActionHideState(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.hideState=e,Promise.resolve())}},{key:"checkOutData",value:function(e){return e&&e.fieldNames&&e.hideState}},{key:"exportToJson",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJson",this).call(this);return Object.assign(e,{fieldNames:this.getFieldNames(),hideState:this.getHideState()})}}]),n}(Nr),to=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),(s=t.call(this,e,i,r,o,a,A)).fileSpec=s.info.fileSpec&&new jr(s.info.fileSpec)||null,s}return(0,P._)(n,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"getDestination",value:function(){return this.info.destination}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"getFileSpecStream",value:function(){var e=[];return this.doc.api.getActionFileStream(this.doc.getId(),this.info.objNumber,(function(t){var n=t.arrayBuffer;e.push(n)})).then((function(){return e}))}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}}]),n}(Nr);var no=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),(s=t.call(this,e,i,r,o,a,A)).rootFile=s.info.rootFile&&new jr(s.info.rootFile)||null,s}return(0,P._)(n,[{key:"getDestinationName",value:function(){return this.info.destinationName}},{key:"getDestination",value:function(){return this.info.destination}},{key:"getRootFile",value:function(){return this.rootFile}},{key:"getNewWindowFlag",value:function(){return this.info.newWindowFlag}},{key:"getTarget",value:function(){return this.info.target}},{key:"getTargetFileInfo",value:function(){var e=this,t=this.getTarget();if(!t)return Promise.resolve(null);Promise.resolve();return t.pageIndex>-1?this.doc.getPageByIndex(t.pageIndex).then((function(e){return e.getAnnots()})).then((function(e){var n=e[t.fileAttachmentAnnotIndex];return Promise.all([n,n.getFileattachmentStream()])})).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1],r=n.getFileSpec().fileSpec,o=r.description,a=r.fileName,A=r.fileSize;return{blob:new Blob(i,{type:"application/pdf"}),description:o,fileName:a,fileSize:A}})):this.doc.getNameTree(jt.EmbeddedFiles).then((function(n){var i=n[t.attachedFileName];if(i){var r=i.objNum,o=i.description,a=i.fileName,A=i.fileSize;return e.doc.getFileSpecStream(r).then((function(e){return{blob:new Blob(e,{type:"application/pdf"}),description:o,fileName:a,fileSize:A}}))}}))}},{key:"checkOutData",value:function(e){return function(e){var t;t=!!e.type;var n={ZoomXYZ:function(){t=null!=e.pageIndex&&null!=e.left&&null!=e.top&&null!=e.zoomFactor},ZoomFitPage:function(){t=!(null==e.pageIndex)},ZoomFitHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitVert:function(){t=null!=e.pageIndex&&e.left},ZoomFitRect:function(){t=null!=e.pageIndex&&e.left&&null!=e.top&&null!=e.bottom&&null!=e.right},ZoomFitBBox:function(){t=!(null==e.pageIndex)},ZoomFitBHorz:function(){t=null!=e.pageIndex&&null!=e.top},ZoomFitBVert:function(){t=null!=e.pageIndex&&null!=e.left}};return n[e.type](),t&&e.buffer&&e.newWindowFlag}(e)}}]),n}(Nr);var io=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){var s;return(0,_._)(this,n),0==arguments.length?(s=t.call(this,at.thread),(0,Or._)(s)):((s=t.call(this,e,i,r,o,a,A)).info.dest_thread_index&&(s.info.dest_thread_index=s.info.dest_thread_index),(0,Or._)(s))}return(0,P._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}}]),n}(Nr),ro=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o,a,A){return(0,_._)(this,n),t.call(this,e,i,r,o,a,A)}return(0,P._)(n,[{key:"getName",value:function(){return this.info.name}},{key:"checkOutData",value:function(e){return e&&e.name}},{key:"setOCGState",value:function(e){var t=this,n=this._getLayerIds(e),i=n.hideLayerIds,r=n.visibleLayerIds;return this.doc?this.doc.api.setActionOCGState(this.doc.getId(),this.info.objNumber,i,r).then((function(e){return t.updateAction(e),e})):(this.info.hideLayerIds=i,this.info.visibleLayerIds=r,Promise.resolve())}},{key:"_getLayerIds",value:function(e){var t=[],n=[];function i(e){e.children.length>0&&e.children.forEach((function(e){i(e)})),e.visible?n.push(e.id):t.push(e.id)}for(var r=0;r<e.length;r++)i(e[r]);return{hideLayerIds:t,visibleLayerIds:n}}}]),n}(Nr),oo=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"createAction",value:function(e,t,n,i,r){if(e)switch(e.type){case"TypeThread":return new io(e,this,t,n,i,r);case"TypeURI":return new Br(e,this,t,n,i,r);case"TypeLaunch":return new Ur(e,this,t,n,i,r);case"TypeNamed":return new zr(e,this,t,n,i,r);case"TypeJavaScript":return new Yr(e,this,t,n,i,r);case"TypeSubmitForm":return new $r(e,this,t,n,i,r);case"TypeResetForm":return new qr(e,this,t,n,i,r);case"TypeImportData":return new Xr(e,this,t,n,i,r);case"TypeGoto":return new Zr(e,this,t,n,i,r);case"TypeHide":return new eo(e,this,t,n,i,r);case"TypeGoToR":return new to(e,this,t,n,i,r);case"TypeGoToE":return new no(e,this,t,n,i,r);case"TypeSetOCGState":return new ro(e,this,t,n,i,r);default:return new Nr(e,this,t,n,i,r)}}}]),e}();const ao=oo;var Ao=function(){function e(t,n,i){(0,_._)(this,e),this.doc=t,this.field=n,this.info=i,this.changes={}}return(0,P._)(e,[{key:"getExportValue",value:function(){return this.info.exportValue}},{key:"setExportValue",value:function(e){this.info.exportValue=e}},{key:"updateProperty",value:function(e,t){return this.changes[e]=t,this.info&&-1==this.info.objectNumber||!this.doc?Promise.resolve():this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,e,t)}},{key:"getProperty",value:function(e){return this.changes[e]}},{key:"destroy",value:function(){this.doc=null,this.info=null}},{key:"isEmpty",value:function(){return this.changes==={}}},{key:"setWidget",value:function(e){this.widget=e}},{key:"getWidget",value:function(){return this.widget}},{key:"getWidgetAnnot",value:function(){var e=this;return this.widget?Promise.resolve(this.widget):this.doc.api.getControlPageIndex(this.doc.id,this.field.getName(),this.info.objectNumber).then((function(t){if(t>=0)return e.doc.getPageAnnots(t)})).then((function(t){return e.widget?e.widget:t?e.widget=t.find((function(t){return t.info.objectNumber==e.info.objectNumber})):void 0}))}},{key:"getIndex",value:function(){return this.info.index}},{key:"getField",value:function(){return this.field}},{key:"getDefaultAppearance",value:function(){var e=this.info&&this.info.DA;if(e&&Object.keys(e).length>0)return e=Object.assign({},this.info.DA);var t=this.getField();return Object.assign({},t.info&&t.info.DA)}},{key:"setDefaultAppearance",value:function(e){var t=this;if(!this.doc.checkPermission(en.fillForm|en.annotForm))throw new Error("Permission error");var n=(e=Object.assign({},this.info.DA,e)).textColor,i=e.textSize;if("number"!=typeof n||"number"!=typeof i)throw new Error("param error. Only number is available.");n=(4278190080|n)>>>0,e.textColor=n,e.textSize=i;(0,U.colorConvertor)(n,"RGB");var r=JSON.stringify(e);return this.doc.api.updateFormControl(this.doc.id,this.field.getName(),this.info.objectNumber,"DA",r).then((function(){t.info.DA=e;var n=t.widget;if(n)return n.updateMKProperty("DA",e).then((function(i){var r=n.getPDFPage();t.widget.info.DA=e,t.doc.engine.eventEmitter.emit(de.annotationUpdated,[n],r,tn.defaultAppearanceUpdated),n.updateUI({type:"DA",value:e})}))}))}}]),e}();const so=Ao;var co=function(){function e(t){(0,_._)(this,e),this.match=t}return(0,P._)(e,[{key:"getEndCharIndex",value:function(){return this.match.endCharIndex}},{key:"getPageIndex",value:function(){return this.match.pageIndex}},{key:"getRects",value:function(){return this.match.rectArray}},{key:"getSentence",value:function(){return this.match.sentence}},{key:"getSentenceStartIndex",value:function(){return this.match.sentenceStartIndex}},{key:"getStartCharIndex",value:function(){return this.match.startCharIndex}}]),e}(),uo=function(){function e(t,n){(0,_._)(this,e),this.id=t,this.annot=n,this.page=n.getPDFPage(),this.api=this.page.api}return(0,P._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(e){return e?new co(e):null}))}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(e){return e?new co(e):null}))}},{key:"destroy",value:function(){return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),lo=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).resetAction(),r.mapFormControl(),r}return(0,P._)(n,[{key:"resetAction",value:function(){this.action=this.page.doc.engine.actionFactory.createAction(this.info.action,this.page.doc,this.page.doc.api,this.eventEmitter,this)}},{key:"mapFormControl",value:function(){var e=this.info,t=this.getField();if(t){var n=t.getControlById(e.objectNumber);n&&!n.isEmpty()&&n.setWidget(this),this.formControl=n}}},{key:"destroy",value:function(){this.action=null,this.render=null,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this)}},{key:"getControl",value:function(){return this.formControl||this.mapFormControl(),this.formControl}},{key:"setDisplay",value:function(e,t){var n=this.info.flag;switch(e){case 0:n&=-2,n&=-3,n&=-33,n|=4;break;case 1:n&=-2,n&=-33,n|=6;break;case 2:n&=-2,n&=-5,n&=-3,n&=-33;break;case 3:n|=32,n|=4,n&=-3}return this.setFlagValue(n,t)}},{key:"getObjNum",value:function(){return this.info.objectNumber}},{key:"getAction",value:function(){return this.action}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"getField",value:function(){if(!this.page)return null;var e=this.page.getPDFDoc().getPDFForm();return e&&e.getField(this.info.field)}},{key:"getMKProperty",value:function(e){switch(e){case"borderColor":return this.info.MKBorderColor;case"fillColor":return this.info.fillColor;default:return this.info[e]}}},{key:"setMKProperty",value:function(e,t){if(this.isDestroyed)return Promise.resolve();if(8===this.info.fieldType&&"rotation"!==e)return Promise.resolve();if("borderColor"===e){if(this.info.MKBorderColor==t)return Promise.resolve(!0);this.info.MKBorderColor=t}else{if(this.info[e]==t)return Promise.resolve(!0);this.info[e]=t}return this.updateMKProperty(e,t)}},{key:"_setMKProperty",value:function(e,t){switch(e){case"borderColor":if(this.info.MKBorderColor==t)break;this.info.MKBorderColor=t;break;default:if(this.info[e]==t)break;this.info[e]=t}}},{key:"getBorderColor",value:function(){return this.getMKProperty("borderColor")}},{key:"updateMKProperty",value:function(e,t){var n=this,i=this.page,r=i.getPDFDoc(),o={type:e,value:t};return this.page.doc.api.updateMKProperty(r.getId(),i.getId(),this.getId(),e,t).then((function(t){return n.triggerUpdateEvent(tn.formFieldMKPropertyUpdated,e),n.updateUI(o),t}))}},{key:"triggerUpdateEvent",value:function(e,t){this.eventEmitter.emit(le.annotationUpdated,[this],this.getPDFPage(),e,t)}},{key:"updateUI",value:function(e){this.isDestroyed||this.render&&this.render(e)}},{key:"setRenderNotifier",value:function(e){this.render=e}},{key:"getAdditionalAction",value:function(e){if(-1==e)return this.action;var t=this.getField();if(e>=Dt.keyStroke&&e<=Dt.calculate)return t&&t.getAction(e);if(!this.engineActions)for(var n in this.engineActions={},this.info.AA)this.engineActions[n]=ao.createAction(this.info.AA[n],this.page.getPDFDoc());return this.engineActions[e]?this.engineActions[e]:t&&t.getAction(e)}},{key:"switchAS",value:function(){var e=this.getField(),t=e.getType();if(3==t&&"Off"!=this.info.ApState)return Promise.resolve();1==this.info.ApStates.length&&"Off"!=this.info.ApStates[0]&&(this.info.ApStates[1]="Off"),this.info.ApStates[0]==this.info.ApState?this.info.ApState=this.info.ApStates[1]:this.info.ApState=this.info.ApStates[0];var n=this.info.ApState;return 3!=t&&2!=t||"Off"==n||(n=this.formControl.getExportValue()),e.setValue(n,this)}},{key:"setAS",value:function(e,t){this._setAS(e,t);var n=this.page,i=n.getPDFDoc();return this.page.doc.api.setWidgetAS(i.getId(),n.getId(),this.getId(),this.info.ApState)}},{key:"_setAS",value:function(e,t){var n="Off",i=this.info.ApStates;if(3===this.getField().getType()){var r=this.getControl().getExportValue(),o=this.getOnAS();n=t==this.info.objectNumber?e==r||e==o?o:"Off":(!t||gn.inUnison(this.getField().getFlags()))&&(e==r||e==o)?o:"Off"}else{var a=this.getField().getControlById(t);(!t||t&&this.getControl().getExportValue()==a.getExportValue())&&(n="Off"!=e?i[1]:i[0])}this.info.ApState=n}},{key:"getWidgetMkOption",value:function(){var e=this.page,t=e.getPDFDoc();return e.doc.api.getWidgetMkOption(t.getId(),e.getId(),this.getId())}},{key:"setWidgetIconCaptionRelation",value:function(e){var t=this,n=this.page,i=n.getPDFDoc();return n.doc.api.setWidgetIconCaptionRelation(i.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))}},{key:"setWidgetHighlighting",value:function(e){var t=this,n=this.page,i=n.getPDFDoc();return n.doc.api.setWidgetHighlighting(i.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))}},{key:"setWidgetMkCaption",value:function(e,t){var n=this,i=this.page,r=i.getPDFDoc();return i.doc.api.setWidgetMkCaption(r.getId(),i.getId(),this.getId(),e,t).then((function(e){n.updateUI({})}))}},{key:"setWidgetMkIcon",value:function(e,t){var n=this,i=this.page,r=i.getPDFDoc();return i.doc.api.setWidgetMkIcon(r.getId(),i.getId(),this.getId(),e,t).then((function(e){n.updateUI({})}))}},{key:"getWidgetIconFitOption",value:function(){var e=this.page,t=e.getPDFDoc();return e.doc.api.getWidgetIconFitOption(t.getId(),e.getId(),this.getId())}},{key:"setWidgetIconFitOption",value:function(e){var t=this,n=this.page,i=n.getPDFDoc();return n.doc.api.setWidgetIconFitOption(i.getId(),n.getId(),this.getId(),e).then((function(e){t.updateUI({})}))}},{key:"getDAFontSize",value:function(){var e=this.getDefaultAppearance(),t=e&&e.textSize;return t||this.getField().getDAFontSize()}},{key:"getDirectionRTL",value:function(){return this.info.directionRTL}},{key:"setDirectionRTL",value:function(e){var t=this;if(void 0!==e&&0!==e&&1!==e)throw new Error("Unknown directionRTL: "+e);return this.updateMKProperty("directionRTL",e).then((function(){return t.update().then((function(){return t.getField().setAlignment(e?2:0)}))}))}},{key:"getLineSpace",value:function(){return this.info.lineSpace}},{key:"setLineSpace",value:function(e){var t=this;if(!(void 0===e||Array.isArray(e)&&2===e.length&&-1!==[0,1,2,3].indexOf(e[0])&&e[1]>=0))throw new Error("Unknown lineSpace: "+e);return this.updateMKProperty("lineSpace",e).then((function(){return t.update()}))}},{key:"getOnAS",value:function(){return"Off"!=this.info.ApStates[0]?this.info.ApStates[0]:this.info.ApStates[1]}},{key:"getAS",value:function(){return this.info.ApState}},{key:"getIconObjNum",value:function(e){switch(e){case 0:return this.info.normalIcon;case 1:return this.info.downIcon;case 2:return this.info.rollIcon}}},{key:"setIconObj",value:function(e,t){var n;switch(t){case 0:n="normalIcon",this.info.normalIcon=e;break;case 1:n="downIcon",this.info.downIcon=e;break;case 2:n="rolloverIcon",this.info.rollIcon=e}return this.updateMKProperty(n,e)}},{key:"setAdditionalAction",value:function(e,t){if("string"==typeof t){var n=new Yr;n.setScript(t),t=n}return e>=Dt.keyStroke&&e<=Dt.calculate?this.getField().setAction(e,t):this.setAction(e,t)}},{key:"setAction",value:function(e,t,n){var i=this;if(!t)throw new Error("No Action!");var r=this.page,o=r.doc;return this.engineActions||this.getAdditionalAction(11),this.page.doc.api.setAction(o.getId(),r.getId(),this.getId(),t.info,e,n).then((function(r){if(!i.page.doc)return r;t.init(r,i.page.doc.engine.actionFactory,o,i.page.doc.api,i.page.doc.engine.eventEmitter,i);var a=!1;return-1==e&&i.info.action&&(a=!0),-1!=e&&i.engineActions[e]&&(a=!0),n&&a?-1==e?i.action.appendSubAction(t):i.engineActions[e].appendSubAction(t):-1==e?(i.info.action=t.info,i.action=t):(i.info.AA[e]=t.info,i.engineActions[e]=t),n?(i.eventEmitter.emit(le.actionAdd,i),i.triggerUpdateEvent(tn.addAction)):a?(i.eventEmitter.emit(le.actionUpdated,i),i.triggerUpdateEvent(tn.formFieldActionUpdated)):(i.eventEmitter.emit(le.actionAdd,i),i.triggerUpdateEvent(tn.addAction)),r}))}},{key:"removeAction",value:function(e,t){var n=this,i=this.getField(),r=0,o=0;t?(r=0,o=t.info.objNumber):delete i.info.AA[e],"-1"==e?(delete this.info.action,delete this.action):(delete this.info.AA[e],this.engineActions&&delete this.engineActions[e],i.engineActions&&delete i.engineActions);var a=this.page,A=a.doc;return A.api.removeAction(A.getId(),a.getId(),this.getId(),e,r,o).then((function(t){var r=t[0];r?"-1"==e?(n.info.action=r,n.action=ao.createAction(r,n.page.getPDFDoc())):(n.info.AA[e]=r,n.engineActions[e]=ao.createAction(r,n.page.getPDFDoc())):delete i.info.AA[e],t[1]&&(i.info.AA[e]=t[1]),n.triggerUpdateEvent(tn.formFieldActionUpdated)}))}},{key:"moveAction",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.moveAction).then((function(e){t.updateAdditionalAction()}))}))}},{key:"updateAdditionalAction",value:function(){for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=ao.createAction(this.info.AA[e],this.page.getPDFDoc())}},{key:"getDAFontColor",value:function(){var e=this.getDefaultAppearance(),t=e&&e.textColor;return t||this.getField().getDAFontColor()}},{key:"getAlignment",value:function(){return void 0!==this.info.alignment?this.info.alignment:this.getField().getAlignment()}},{key:"getDefaultAppearance",value:function(){return this.formControl||this.mapFormControl(),this.formControl&&this.formControl.getDefaultAppearance()}},{key:"setDefaultAppearance",value:function(e){return this.formControl||this.mapFormControl(),this.formControl&&this.formControl.setDefaultAppearance(e)}},{key:"_update",value:function(e){return this.engineActions=null,(0,D._)((0,C._)(n.prototype),"_update",this).call(this,e)}},{key:"getTextSearch",value:function(e,t){var n=this,i=this.page,r=i.doc;return this.page.doc.api.getAnnotTextSearch(r.getId(),i.getId(),this.getId(),e,t).then((function(e){return new uo(e,n)}))}}]),n}(ln);const ho=lo;var fo=function(){function e(t,n,i){(0,_._)(this,e),this.pageRender=t,this.pdfDoc=t.getPDFDoc(),this.pdfArticle=this.pdfDoc.pdfArticle,this.pdfPage=t.page,this.pdfViewer=t.pdfViewer,this.$container=t.$customsContainer,this.articleInfo=n,this.articleBeadInfo=i,this.$dom=null,this.render()}return(0,P._)(e,[{key:"render",value:function(){this.createDom()}},{key:"updateRender",value:function(e,t){e&&(this.articleInfo=e),t&&(this.articleBeadInfo=t);var n=this.getDeviceRect(),i=n.left,r=n.top,o=n.right-i,a=n.bottom-r;this.$dom.css({width:o+"px",height:a+"px",top:r+"px",left:i+"px"})}},{key:"read",value:function(){var e=this,t="fv__article-read";this.$dom.addClass(t),setTimeout((function(){e.$dom.removeClass(t)}),500);var n=this.articleBeadInfo,i=n.rect,r=n.pageIndex,o=this.pdfViewer;return o.zoomTo(2).then((function(){return o.goToPage(r,i.top,i.left)}))}},{key:"getDeviceRect",value:function(){var e=this.articleBeadInfo.rect,t=this.pageRender,n=t.getScale(),i=t.getRotation();return this.pdfPage.getDeviceRect(e,n,i)}},{key:"createDom",value:function(){var e=this.getDeviceRect(),t=e.left,n=e.top,i=e.right,r=e.bottom;this.$dom=N()('<div style="position:absolute;width:'+(i-t)+"px;height:"+(r-n)+"px;left:"+t+"px;top:"+n+'px;z-index:26;"></div>'),this.$container.append(this.$dom)}},{key:"destroy",value:function(){this.articleBeadInfo=null,this.$dom.remove(),this.$dom=null,this.pdfDoc=null,this.pdfArticle=null}}]),e}();const po=fo;const go={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20};var vo="zIndexContextMenu";const mo=function(){function e(t){(0,_._)(this,e),this.flag=t}return(0,P._)(e,[{key:"getValue",value:function(){return this.flag}},{key:"checkInvisible",value:function(){return(this.flag&nn.invisible)===nn.invisible}},{key:"checkHidden",value:function(){return(this.flag&nn.hidden)===nn.hidden}},{key:"checkPrint",value:function(){return(this.flag&nn.print)===nn.print}},{key:"checkNoZoom",value:function(){return(this.flag&nn.noZoom)===nn.noZoom}},{key:"checkNoRotate",value:function(){return(this.flag&nn.noRotate)===nn.noRotate}},{key:"checkNoView",value:function(){return(this.flag&nn.noView)===nn.noView}},{key:"checkReadOnly",value:function(){return(this.flag&nn.readOnly)===nn.readOnly}},{key:"checkLocked",value:function(){return(this.flag&nn.locked)===nn.locked}},{key:"checkToggleNoView",value:function(){return(this.flag&nn.toggleNoView)===nn.toggleNoView}},{key:"checkLockedContents",value:function(){return(this.flag&nn.lockedContents)===nn.lockedContents}},{key:"check",value:function(e){return(this.flag&e)===e}},{key:"or",value:function(e){return this.flag=this.flag|e,this}}]),e}();var yo,bo,wo,ko,xo,_o,Po;!function(e){e.CREATE_ANNOT="create-annots",e.REMOVE_ANNOT="remove-annots",e.UPDATE_ANNOT="update-annots",e.ADD_REPLY="add-reply",e.REMOVE_REPLY="remove-reply",e.ADD_REVIEW_STATE="add-review-state",e.ADD_MARKED_STATE="add-marked-state",e.UPDATE_ANNOT_CONTENT="update-comment-content",e.PPO_REMOVE_PAGE="ppo-remove-page",e.PPO_REMOVE_PAGES="ppo-remove-pages",e.PPO_INSERT_PAGE="ppo-insert-page",e.PPO_ROTATE_PAGE="ppo-rotate-page",e.PPO_MOVE_PAGE="ppo-move-page",e.MOVE_ANNOTS_BETWEEN_PAGES="move-annotations-between-pages",e.IMPORT_ANNOTATIONS_FILE="import-annotations-file"}(yo||(yo={})),function(e){e.SELECT_ALL="builtin-command-select-all-annotations",e.CREATION_UNDO_LAST="builtin-command-creation-undo-last",e.DELETE_SELECTED_OBJECT="builtin-command-delete-selected-object",e.DELETE_SELECTED_ANNOT_MAC="builtin-command-delete-selected-annot-mac",e.UNSELECT_OBJECT="builtin-command-unselect-object",e.UNDO_OPERATION="builtin-command-undo",e.REDO_OPERATION="builtin-command-redo",e.CANCEL_CREATING_ANNOTATION_OPERATION="builtin-command-cancel-creating-annotation",e.CLOSE_LAYER="builtin-command-close-closable-layer",e.ARROW_UP="builtin-command-arrow-up",e.ARROW_DOWN="builtin-command-arrow-down",e.ARROW_LEFT="builtin-command-arrow-left",e.ARROW_RIGHT="builtin-command-arrow-right",e.SWITCH_TO_HAND_STATE="builtin-command-switch-hand-state",e.COPY_ACTIVATE_ELEMENT="builtin-command-copy-activate-element",e.CUT_ACTIVATE_ELEMENT="builtin-command-cut-activate-element",e.ADD_BOOKMARK="builtin-command-add-bookmark",e.COPY_TEXT_IMAGE="builtin-command-copy-text-image",e.BLUR_EDITTING_TEXT_OBJECT="builtin-command-blur-editting-text-object",e.ALIGNMENT_REDUCE_WIDTH="builtin-command-alignment-reduce-width",e.ALIGNMENT_RAISE_WIDTH="builtin-command-alignment-raise-width",e.ALIGNMENT_REDUCE_HEIGHT="builtin-command-alignment-reduce-height",e.ALIGNMENT_RAISE_HEIGHT="builtin-command-alignment-raise-height",e.ALIGNMENT_REDUCE_STEP_WIDTH="builtin-command-alignment-reduce-step-width",e.ALIGNMENT_RAISE_STEP_WIDTH="builtin-command-alignment-raise-step-width",e.ALIGNMENT_REDUCE_STEP_HEIGHT="builtin-command-alignment-reduce-step-height",e.ALIGNMENT_RAISE_STEP_HEIGHT="builtin-command-alignment-raise-step-height",e.TAB_NEXT_OPERATION="builtin-command-tab-next",e.TAB_PREVIOUS_OPERATION="builtin-command-tab-previous",e.DELETE_ATTACHMENT="builtin-command-delete-attachment",e.JUMP_TO_NEXT_PAGE="builtin-command-jump-to-next-page",e.JUMP_TO_PREVIOUS_PAGE="builtin-command-jump-to-previsous-page",e.JUMP_TO_FIRST_PAGE="builtin-command-jump-to-first-page",e.JUMP_TO_LAST_PAGE="builtin-command-jump-to-last-page",e.SCROLL_TO_NEXT_VISIBLE_AREA="builtin-command-scroll-to-next-visible-area",e.SCROLL_TO_PREVIOUS_VISIBLE_AREA="builtin-command-scroll-to-previous-visible-area",e.SCROLL_VIEWER_SCROLLBAR_LEFT="builtin-command-scroll-viewer-scrollbar-left",e.SCROLL_VIEWER_SCROLLBAR_RIGHT="builtin-command-scroll-viewer-scrollbar-right",e.SCROLL_VIEWER_SCROLLBAR_UP="builtin-command-scroll-viewer-scrollbar-up",e.SCROLL_VIEWER_SCROLLBAR_DOWN="builtin-command-scroll-viewer-scrollbar-down"}(bo||(bo={})),function(e){e.GLOBAL="builtin-shortcut-context-global",e.SELECTION="builtin-shortcut-context-selection",e.BASIC_STATE_HANDLER="builtin-shortcut-context-state-hander",e.ANNOTATION_PROPERTIES="builtin-shortcut-context-annot-properties",e.ACTIVATION_ANY="builtin-shortcut-context-activation-any",e.ACTIVATION_ANNOTATION="builtin-shortcut-context-activation-annot",e.ACTIVATION_WIDGET="builtin-shortcut-context-activation-widget",e.ACTIVATION_GRAPH_OBJ="builtin-shortcut-context-activation-graph_obj",e.VIEWER="builtin-shortcut-context-viewer",e.CREATING_ANNOTATION="builtin-shortcut-context-creating-annotation",e.CLOSABLE_LAYER="builtin-shortcut-context-closable-layer",e.EDIT_TEXT_OBJECT="builtin-shortcut-context-edit-text-object"}(wo||(wo={}));const Do=[{context:"builtin-shortcut-context-global",topLayers:[],extends:[],shortcuts:{}},{context:"builtin-shortcut-context-closable-layer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,X._)({},"builtin-command-close-closable-layer","Escape")},{context:"builtin-shortcut-context-viewer",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(ko={},(0,X._)(ko,"builtin-command-undo","Mod+Z"),(0,X._)(ko,"builtin-command-redo","Mod+Y"),(0,X._)(ko,"builtin-command-add-bookmark","Mod+B"),(0,X._)(ko,"builtin-command-delete-attachment","Delete"),(0,X._)(ko,"builtin-command-jump-to-previsous-page","LeftArrow"),(0,X._)(ko,"builtin-command-jump-to-next-page","RightArrow"),(0,X._)(ko,"builtin-command-arrow-up","UpArrow"),(0,X._)(ko,"builtin-command-arrow-down","DownArrow"),(0,X._)(ko,"builtin-command-jump-to-first-page","Home"),(0,X._)(ko,"builtin-command-jump-to-last-page","End"),(0,X._)(ko,"builtin-command-scroll-to-next-visible-area","PageDown"),(0,X._)(ko,"builtin-command-scroll-to-previous-visible-area","PageUp"),(0,X._)(ko,"builtin-command-scroll-viewer-scrollbar-left","Shift+LeftArrow"),(0,X._)(ko,"builtin-command-scroll-viewer-scrollbar-right","Shift+RightArrow"),(0,X._)(ko,"builtin-command-scroll-viewer-scrollbar-up","Shift+UpArrow"),(0,X._)(ko,"builtin-command-scroll-viewer-scrollbar-down","Shift+DownArrow"),ko)},{context:"builtin-shortcut-context-edit-text-object",topLayers:["builtin-shortcut-context-global"],extends:[],shortcuts:(0,X._)({},"builtin-command-blur-editting-text-object","Escape")},{context:"builtin-shortcut-context-creating-annotation",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,X._)({},"builtin-command-cancel-creating-annotation","Escape")},{context:"builtin-shortcut-context-selection",topLayers:[],extends:[],shortcuts:(0,X._)({},"builtin-command-select-all-annotations","Mod+A")},{context:"builtin-shortcut-context-activation-any",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-selection"],shortcuts:(xo={},(0,X._)(xo,"builtin-command-delete-selected-object","Delete"),(0,X._)(xo,"builtin-command-delete-selected-annot-mac","Mod+Backspace"),(0,X._)(xo,"builtin-command-unselect-object","Escape"),(0,X._)(xo,"builtin-command-copy-activate-element","Mod+C"),(0,X._)(xo,"builtin-command-cut-activate-element","Mod+X"),xo)},{context:"builtin-shortcut-context-activation-annot",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-activation-widget",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:(_o={},(0,X._)(_o,"builtin-command-alignment-reduce-width","Mod+LeftArrow"),(0,X._)(_o,"builtin-command-alignment-raise-width","Mod+RightArrow"),(0,X._)(_o,"builtin-command-alignment-reduce-height","Mod+UpArrow"),(0,X._)(_o,"builtin-command-alignment-raise-height","Mod+DownArrow"),(0,X._)(_o,"builtin-command-alignment-reduce-step-width","Mod+Shift+LeftArrow"),(0,X._)(_o,"builtin-command-alignment-raise-step-width","Mod+Shift+RightArrow"),(0,X._)(_o,"builtin-command-alignment-reduce-step-height","Mod+Shift+UpArrow"),(0,X._)(_o,"builtin-command-alignment-raise-step-height","Mod+Shift+DownArrow"),_o)},{context:"builtin-shortcut-context-activation-graph_obj",topLayers:["builtin-shortcut-context-viewer"],extends:["builtin-shortcut-context-activation-any"],shortcuts:{}},{context:"builtin-shortcut-context-state-hander",topLayers:["builtin-shortcut-context-viewer"],extends:[],shortcuts:(0,X._)({},"builtin-command-switch-hand-state","Escape")},{context:Yn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:mn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Dn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Gn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Hn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:jn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ei,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ti,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ni,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Vn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:_n,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:En,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:wn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:On,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Bn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Nn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:kn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Ln,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Rn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Tn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Mn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Fn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Pn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Cn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:In,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-multi-media-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-text-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"create-redaction-state",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreatePushButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateCheckBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateRadioButtonStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateComboBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateListBoxStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateTextStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateSignStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateDateStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:"CreateImageStateHandler",topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:yn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Sn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:$n,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Kn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:qn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Jn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:Xn,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:(Po={},(0,X._)(Po,"builtin-command-copy-text-image","Mod+C"),(0,X._)(Po,"builtin-command-add-bookmark","Mod+B"),(0,X._)(Po,"builtin-command-select-all-annotations","Mod+A"),Po)},{context:Zn,topLayers:["builtin-shortcut-context-state-hander"],extends:["builtin-shortcut-context-selection"],shortcuts:{}},{context:ii,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:ai,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:Ai,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:si,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}},{context:ci,topLayers:["builtin-shortcut-context-state-hander"],extends:[],shortcuts:{}}];var Co="undefined"!=typeof PointerEvent,So=U.isIE10?"MSPointerDown":Co?"pointerdown":"mousedown",Io=U.isIE10?"MSPointerDown":"pointerdown",Eo="add",Ro="minus",To=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,o)).hasFocus=!1,a.docRender=a.parent("pdfDocRender"),a.name="annot",a.eUi=i,a.element=i;var A=a.$ui=N()(i);if(A.addClass("fv__pdf-page-annot-container").data(vo,(0,k._)(a)),A.attr("objectNumber",e.objectNumber),a.eHandler=r,(a.$handler=N()(r)).addClass("fv__pdf-page-annot-handler-container"),a.$page=o.$page,a.annot=e,a.$$isUIVisible=!0,A.data("component",(0,k._)(a)),a.deleteStatus=0,a.annotsRender=o.parent("annotsRender"),a.eventHandlers=[],a.mouseEnterAnnots=[],!a.pdfViewer.getCurrentPDFDoc().isDynamicXFA()&&(a.bindDoubleTab(),U.isIOS)){var s=function(e){return e.preventDefault()};i.addEventListener("touchstart",s),a.addDestroyHook((function(){i.removeEventListener("touchstart",s)}))}var c=function(){a.isDestroyed||a.annot.isDestroyed||a.getAppPermission().then((function(e){a.updateOnPermissionChange(e)}))},u=function(){a.isDestroyed||a.annot.isDestroyed||a.removed||a.isActive&&a.mouseLeave()},l=function(){a.removed=!0},d=a.pdfViewer.eventEmitter;return d.on(de.permissionChanged,c),d.on(de.globalAnnotFlagChanged,c),d.on(de.activeElementChanged,u),d.on(de.annotationRemoved,l),a.addDestroyHook((function(){d.off(de.permissionChanged,c),d.off(de.globalAnnotFlagChanged,c),d.off(de.activeElementChanged,u),d.off(de.annotationRemoved,l)})),a}return(0,P._)(n,[{key:"id",get:function(){return this.annot?this.annot.getId():void 0}},{key:"getAppPermission",value:function(){return this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot)}},{key:"initMouseEvent",value:function(){var e=this,t=this.pdfViewer.eventEmitter,n=this.getContainerElement();n.addEventListener("mouseenter",a),n.addEventListener("mousemove",(function(e){if(!o)return;var t=s(e);if(t.length===r.length)return;var n=[],a=Eo;t.length>r.length?n=t.filter((function(e){return!r.some((function(t){return t.getId()===e.getId()}))})):(n=r.filter((function(e){return!t.some((function(t){return t.getId()===e.getId()}))})),a=Ro);n.length&&(i.mouseMove&&i.mouseMove(n,a),r=t)})),n.addEventListener("mouseleave",A),this.addDestroyHook((function(){n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",A)}));var i=this,r=[],o=!1;function a(e){r=i.mouseEnterAnnots=s(e),t.emit(de.mouseEnter,hi.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseEnter&&i.mouseEnter(hi.annotation,{annots:i.mouseEnterAnnots,e}),o=i.needToggleView()}function A(e){r=[],t.emit(de.mouseLeave,hi.annotation,{annots:i.mouseEnterAnnots,e}),i.mouseLeave&&i.mouseLeave(hi.annotation,{annots:i.mouseEnterAnnots,e})}var s=function(t){var n=e.annotsRender.getAnnotRenders(),i=Object.keys(n).map((function(e){return n[e]})),r=t.clientX,o=t.clientY,a=[];return i.forEach((function(t){if(!e.annotsRender._isFormWidget(t)&&!e.annotsRender._isFormWatermark(t)){var n=t.component.$ui.get(0).getBoundingClientRect();r>=n.left&&r<=n.right&&o>=n.top&&o<=n.bottom&&a.push(t.annot)}})),a}}},{key:"initPointerDownEvent",value:function(){var e=this,t=this.pdfViewer.getEventEmitter(),n=function(n){var i=function(e){var i=e.component,r=i.shapeControl,o=!!r&&r.isActive;return t.emit(de.tapAnnotation,e,n),Promise.resolve(i.tapAnnot(n)).then((function(){o||i.triggerPointerDownOnShapeControl(n)}))};if(1===n.which&&!n.isManual&&!["fv__shape-control-text-area","fv__shape-control-move-area","fv__shape-controller","fv-shape-rotate-handle"].some((function(e){return N()(n.target).hasClass(e)}))){var r=e.parent("pdfPageRender"),o=(0,E._)(r.getPDFPointFromClientPoint(n.clientX,n.clientY,!0),2),a=o[0],A=o[1],s=e.parent();return r.getPDFPage().then((function(e){var t=r.scale,n=r.rotate,i=e.getDeviceMatrix();return i.scale(t,t),i.rotate(n),e.getAnnotObjectNumAtDevicePoint([a,A],1,[i.a,i.b,i.c,i.d,i.e,i.f])})).then((function(t){var n=e.annotsRender.getAnnotRender(t);if(n&&n!==s)if("watermark"===n.annot.getType())i(s);else i(n);else i(s)})),!1}};this.eUi.addEventListener(So,n),this.eHandler.addEventListener(So,n),this.addDestroyHook((function(){e.eHandler.removeEventListener(So,n),e.eUi.removeEventListener(So,n)}))}},{key:"triggerPointerDownOnShapeControl",value:function(e){var t,n=this.eHandler.querySelector(".fv__shape-control-move-area");n&&("function"!=typeof PointerEvent||(0,I._)(e,MouseEvent)?((t=document.createEvent("MouseEvent")).initMouseEvent(Io,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),t.pointerId=e.pointerId):t=new PointerEvent("pointerdown",e),t.isManual=!0,n.dispatchEvent(t),n.dispatchEvent(t))}},{key:"getContainerElement",value:function(){return this.$ui.get(0)}},{key:"getHandlerElement",value:function(){return this.$handler.get(0)}},{key:"getModel",value:function(){return this.annot}},{key:"tapAnnot",value:function(){var e=this,t=this.getModel().getId();return this.pdfViewer.isMultiSelectActive()&&this.pdfViewer.getAllActivatedElements().find((function(t){return t===e}))&&!U.keyboardStatus.isShiftDown?this.annotsRender.unActiveAnnot(t):this.annotsRender.activeAnnot(t)}},{key:"getId",value:function(){return this.id}},{key:"getIndex",value:function(){return this.annot.getIndex()}},{key:"setId",value:function(e){var t=this;return this.annot.setUniqueID(e).then((function(){t.id=e}))}},{key:"isHidden",value:function(){var e=this.getAnnotFlag();return!!(e.checkHidden()||e.checkNoView()&&!e.checkToggleNoView())}},{key:"_hideUI",value:function(){this.$ui[0].classList.add("fv__ui-hide"),this.$handler[0].classList.add("fv__ui-hide")}},{key:"_showUI",value:function(){this.$ui[0].classList.remove("fv__ui-hide"),this.$handler[0].classList.remove("fv__ui-hide")}},{key:"hideUI",value:function(){return this.isUIVisible()?(this.isActive&&this.annotsRender.unActiveAnnot(this.annot),this.$$isUIVisible=!1,this._hideUI(),Promise.resolve()):Promise.resolve()}},{key:"updateSize",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=t,this.rotate=n,e=this.annot.getDeviceRect(this.scale,this.rotate),8&this.annot.getFlags()){var i=this.annot.getRect();i.top-i.bottom,i.right-i.left}else e.bottom-e.top,e.right-e.left}},{key:"showUI",value:function(){var e=this;return this.isUIVisible()?Promise.resolve():(this.$$isUIVisible=!0,this._showUI(),Promise.resolve(this.redraw()).then((function(){e.pdfViewer.getAnnotAuthorityManager().update(e.annot)})))}},{key:"isUIVisible",value:function(){return this.$$isUIVisible}},{key:"render",value:function(e,t){return this.scale=e,this.rotate=t,Promise.resolve()}},{key:"afterRender",value:function(){if(!this.isDestroyed){var e=this.annot.getType();U.isDesktop&&this.pdfViewer.config.showFormFieldTooltip&&"widget"===e&&this.bindAnnotMouseEvents()}}},{key:"add",value:function(e,t){return this.render(e,t)}},{key:"redraw",value:function(){}},{key:"willRedraw",value:function(){}},{key:"afterRedraw",value:function(){}},{key:"doActive",value:function(){var e=this;if(this.bindEvent(),!this.pdfViewer.activationManager.currentActivableIs(this)){var t=this.annot;if(t.isGrouped&&t.isGrouped()){var n=new Z;t.groupElements.forEach((function(t){var i=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n.add(i)})),this.pdfViewer.activeElement(n)}else this.pdfViewer.activeElement(this)}}},{key:"doDeactive",value:function(){this.unBindEvent()}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this)}},{key:"destroy",value:function(){this.isActive=!1,this.$ui&&this.$ui.remove(),this.$handler&&this.$handler.remove(),this.unBindEvent(),this.eventHandlers=[],(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.annot=null,this.component=null,this.docRender=null,this.$ui=null,this.eHandler=null,this.$handler=null,this.$page=null,this.annotsRender=null}},{key:"remove",value:function(){this.destroy()}},{key:"showContextMenu",value:function(){}},{key:"enableContextMenu",value:function(e){this._disabledContextMenu=!e}},{key:"contextMenuIsEnable",value:function(){return!this._disabledContextMenu}},{key:"zIndexDown",value:function(){this.$ui.addClass("fv__zindex-down"),this.zIndexDownFlag=!0}},{key:"checkZIndexDown",value:function(){return!this.zIndexDownFlag}},{key:"zIndexRecover",value:function(){this.$ui.removeClass("fv__zindex-down"),this.zIndexDownFlag=!1}},{key:"moveTo",value:function(e,t,n){var i,r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(!(arguments.length>3&&void 0!==arguments[3])||arguments[3]))return this.$ui.css({left:e,top:t}),Promise.resolve(!0);if(o)i={left:e,top:t,action:n,triggerAction:a};else{var A=this.scale,s=this.rotate,c=this.getPDFPage(),u=this.annot.getDeviceRect(A,s),l=e-u.left,d=t-u.top;if("freetext"!==this.annot.getType()&&Math.abs(l)<1&&Math.abs(d)<1)return Promise.resolve();var h=(0,E._)(c.reverseDeviceOffset([l,d],A,s),2),f=h[0],p=h[1],g=this.annot.getRect();i={left:g.left+f,top:g.top+p,action:n,triggerAction:a}}return this.annot.moveTo(i).then((function(e){return r.updateRender&&r.updateRender().then((function(){r.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,r)}))}))}},{key:"move",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.annot.getDeviceRect(this.scale,this.rotate);return this.moveTo(i.left+e,i.top+t,n)}},{key:"moved",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);this.$ui.css({left:e.left+"px",top:e.top+"px"}),this.activeRect()}},{key:"movedByOther",value:function(e){}},{key:"setRectInPDF",value:function(e,t){var n=this;return this.annot._setRect(e,t).then((function(e){return e?n.updateRender().then((function(){return t&&n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n),e})):e}))}},{key:"_setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height,a=arguments.length>1?arguments[1]:void 0;r=Math.max(.001,r),o=Math.max(.001,o);var A=this.scale,s=this.rotate,c=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},A,s);return this.annot._setRect(c,a).then((function(t){return t?e.updateRender().then((function(){return e.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,e),t})):t}))}},{key:"setRect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=t.width,o=t.height;r=Math.max(.001,r),o=Math.max(.001,o);var a=this.scale,A=this.rotate,s=this.getPDFPage().reverseDeviceRect({left:n,top:i,right:n+r,bottom:i+o},a,A);return this.annot.setRect(s).then((function(t){return t&&e.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,e),t}))}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect();return n.getDeviceRect(i,e,t)}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"getPosition",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=(0,E._)(e.getDevicePoint([t.left,t.top],this.scale,this.rotate),2);return{left:n[0],top:n[1]}}},{key:"getDimension",value:function(){var e=this.getPDFPage(),t=this.annot.getRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{width:n.right-n.left,height:n.bottom-n.top}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){if(t.ignorable()&&e.getAnnotFlag().checkLocked())throw new Error("The remove operation was rejected because it is locked!");if(t.isDeletable())return e.doRemoveAnnot()}))}},{key:"doRemoveAnnot",value:function(){}},{key:"deleteDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"replyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||(!this.annot.getContent()||"sound"===this.annot.getType())}},{key:"propertyDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"moveDisabled",value:function(){if(!(32&this.docRender.getUserPermission().getValue()))return!0;var e=this.getAnnotFlag();return e.checkLocked()||e.checkReadOnly()}},{key:"readOnlyDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())||this.getAnnotFlag().checkReadOnly()}},{key:"isLocked",value:function(){return this.getAnnotFlag().checkLocked()}},{key:"bindEvent",value:function(){var e=this;this.pdfViewer&&this.pdfViewer.getKeyboard().withContext(wo.ACTIVATION_ANY,(function(t){if(!e.isDestroyed){e.__off__delete__event__&&e.__off__delete__event__();var n=bo.DELETE_SELECTED_OBJECT;0,e.__off__delete__event__=t.keyup(n,(function(t){!1!==e.isActive&&(e.removeAnnot(),t.stopPropagation())}),{interceptors:[(0,U.excludeEditableElementInterceptor)(),function(t,n){var i=e.pdfViewer.getStore().getCurrentValue(U.MODULE_LICENSE_INFO);if(e.annot){var r=e.annot.getType(),o=!0;"redact"==r&&(o=Object.keys(i).find((function(e){return e.startsWith(r)?i[e]:""._}))),o?n(t):e.pdfViewer.viewerUI.alert("dialog.error.noRedactionLicense")}}]})}}))}},{key:"unBindEvent",value:function(){this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=Gi}},{key:"updateDeleteStatus",value:function(e){e?++this.deleteStatus:--this.deleteStatus,this.deleteStatus>0?this.unBindEvent():this.bindEvent()}},{key:"getPDFAnnot",value:function(){return this.annot}},{key:"getPDFPage",value:function(){return this.getPDFAnnot().getPDFPage()}},{key:"getAnnotFlag",value:function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)}},{key:"groupMoveDisabled",value:function(){var e=!1;return this.annot&&this.annot.isGrouped&&this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=t.getType();"strikeout"!==n&&"highlight"!==n&&"squiggly"!==n&&"underline"!==n||(e=!0)})),e}},{key:"setVisibleRect",value:function(e){this.visibleRect=e}},{key:"invisibleRender",value:function(){}},{key:"clearCache",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot)return null;var n=this.annot.getDeviceRect(e,this.rotate),i=this.getRect(),r=this.annot.page,o=this.pdfViewer.getSmartScale(e);return{annotInfo:this.annot.info,annotFlag:this.getAnnotFlag(),smartScale:o,rect:i,outerDeviceRect:n,innerDeviceRect:this.annot.getInnerRect?this.annot.getDeviceInnerRect(e,t):n,engineRenderingRect:r.getDeviceRect(i,o,t),scale:e,rotate:t,page:this.annot.page}}},{key:"toImageURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t=this.annot.page,n=this.pdfViewer.getSmartScale(this.scale),i=this.annot.getDeviceRect(1,this.rotate);return t.getAnnotBitmap(this.annot.objectNumber,(0,H.F2)(n),this.rotate,e(i,this,this.scale,this.rotate),!0).then((function(e){var t=e.width,n=e.height,i=e.buffer,r=(e.image,e.type,e.url),o=document.createElement("canvas");o.width=t,o.height=n;var a=o.getContext("2d");if(r)return new Promise((function(e){var t=new Image;t.onload=function(){a.drawImage(t,0,0),e(o.toDataURL())},t.src=r}));var A=new(Uint8ClampedArray||Uint8Array)(i),s=a.createImageData(t,n);return s.data.set(A),a.putImageData(s,0,0),o.toDataURL()}))}},{key:"activeTooltip",value:function(e){}},{key:"bindAnnotMouseEvents",value:function(){var e=this;if("widget"==this.annot.getType()){var t,n=this.annot.isGrouped&&this.annot.isGrouped()?this.annot.getGroupHeader():this.annot,i=this.eHandler;i.addEventListener("mousemove",this.mouseEnterListener=function(i){(e.pdfViewer.config.showAnnotTooltip&&"widget"!==n.getType()||e.pdfViewer.config.showFormFieldTooltip&&"widget"===n.getType())&&(t=e.pdfViewer.customs.AnnotTooltip?new e.pdfViewer.customs.AnnotTooltip(e.pdfViewer,n):new fi(n)).show(i.clientX,i.clientY)}),i.addEventListener("mouseout",this.mouseLeaveListener=function(e){t&&t.hide()}),this.addDestroyHook((function(){i.removeEventListener("mousemove",e.mouseEnterListener),i.removeEventListener("mouseout",e.mouseLeaveListener)}))}}},{key:"collaborate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yo.UPDATE_ANNOT;if(this.pdfViewer.customs.isCollaborationMode&&this.pdfViewer.customs.isCollaborationMode())return e===yo.UPDATE_ANNOT?this.pdfViewer.collaborate(e,{annots:[this.annot.exportToJSON()]}):void 0}},{key:"getPropertyOptions",value:function(){return{}}},{key:"isFormControl",value:function(){return!1}},{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed&&U.Lazy.isPropertyIntialized(this,"shapeControl")){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():this.moveDisabled()||!e.isAdjustable());var n=this.shapeControl;t?n.disable():n.enable()}}},{key:"bindDoubleTab",value:function(){var e=this,t=function(t){e.pdfViewer.eventEmitter.emit(de.doubleTapAnnotation,e.parent(),t),e.annotsRender.doubleTapAnnot(e.annot.id)};if(U.isTouchDevice&&(U.isSafari||U.isChrome)){var n=(0,U.onTap)({target:this.$handler[0],onDoubleTap:function(e){t(e)}});this.addDestroyHook(n)}else{var i=new Hammer.Manager(this.$handler[0]);i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),i.on("doubletap",(function(e){t(e)})),this.addDestroyHook((function(e){return i.destroy()}))}}},{key:"needToggleView",value:function(){if(this.isDestroyed||!this.annot)return!1;var e=this.getAnnotFlag();return!(!e.checkToggleNoView()||e.checkHidden())}},{key:"shouldRenderByMouseEvent",value:function(){var e=this.getAnnotFlag();return this.renderAppearanceType===He.ROLLOVER?e.checkNoView():!e.checkNoView()}},{key:"mouseEnter",value:function(){this.needToggleView()&&(this.renderAppearanceType=He.ROLLOVER,this.redraw(!0))}},{key:"mouseLeave",value:function(){this.needToggleView()&&this.pdfViewer.currentPDFDoc&&(this.renderAppearanceType=He.NORMAL,this.redraw(!0))}},{key:"mouseMove",value:function(e,t){var n=this;e.forEach((function(e){var i=n.annotsRender._finAnnotRenderById(e.getId());if(i){var r=i.component;r.renderAppearanceType=t===Eo?He.ROLLOVER:He.NORMAL,r.redraw(!0)}}))}}]),n}(ne);const Mo=To;var Fo=n(5779),Lo=n.n(Fo),No="delete-annotation",Oo="pdf-viewer-keyboard-event-binder",Bo="activation-annotation-keyboard-event-binder",jo=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"pressEnter",value:function(e){if(e&&(0,I._)(e,zo))switch(e.getPDFAnnot().getField().getType()){case pn.ComboBox:return this.pressEnterOnComboBox(e);case pn.ListBox:break;case pn.CheckBox:case pn.PushButton:case pn.RadioButton:return this.pressEnterOnPushButton(e);case pn.Sign:return this.pressEnterOnSignature(e);case pn.Text:return this.pressEnterOnText(e);case pn.Unknown:return}}},{key:"pressEnterOnText",value:function(e){var t=e.getPDFAnnot().getField(),n=e.formRender;gn.isMultiline(t.getFlags())||Promise.resolve(n.blurControl(!0)).finally((function(){e.parent("pdfPageRender").$ui.get(0).focus({preventScroll:!0})}))}},{key:"pressEnterOnSignature",value:function(e){var t=e.pdfViewer,n=e.getPDFAnnot();t.eventEmitter.emit(de.signatureFieldMouseLButtonUp,n)}},{key:"pressEnterOnComboBox",value:function(e){e.isActive?e.formRender.blurControl():e.getPDFAnnot().updateUI({type:"focus"})}},{key:"pressEnterOnPushButton",value:function(e){e.handleEvent(go.AnnotMouseButtonReleased,{button:0})}}],[{key:"scope",value:function(){return U.IoCScope.SINGLETON}}]),e}(),Vo=document.createElement("div");Vo.classList.add("fv__ui-form-foreground");var Uo="fv__select-annot-state-handler",Ho=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).$input=null,a.$border=null,a.scale=1,a.rotate=0,r=a.$handler,a.name="pdfControlRender",i.classList.add("fv__pdf-form-control-container"),a.formRender=a.parent("pdfDocRender").getFormRender();var A=e.getField(),s=a.$foreground=N()(Vo.cloneNode());if(!A)return(0,Or._)(a);var c=!a.checkInvisible()&&a.pdfViewer.highlightControlsUI()?"block":"none",u="";a.checkReadOnly()&&7!==A.getType()&&(c="none",u+="form-field-readonly");var l=A.getType()==pn.PushButton?"0":"1";A&&gn.isRequired(A.getFlags())&&s.addClass("required"),s.addClass(u).css({display:c,position:"absolute",width:"100%",height:"100%",left:0,top:0,opacity:l}),(7!=A.info.type||7===A.info.type&&!A.info.isSigned)&&a.normalBackgroundColorHandler(),r.addClass("fv__pdf-form-control-handler-container").append(s).attr("fieldName",A&&A.getName()).attr("tabindex","-1"),e.getMKProperty("fillColor")||(7===e.info.fieldType?r.css("mix-blend-mode","multiply"):r.css("background-blend-mode","multiply")),e.setRenderNotifier((function(e){return a.updateUI(e)})),a.checkInvisible()&&r.hide(),a.bindControlEvent();var d=a.pdfViewer.i18n,h=function(e){return d.t(e)};Lo().i18n=h,a.addDestroyHook((function(){Lo().i18n===h&&(Lo().i18n=void 0)}));var f=function(t,n){if(e.getPDFPage()===t){var i=e.getId(),r=n.find((function(e){return e.info.id===i}));if(r&&r!==e){var o=e.render;r.setRenderNotifier(o),a.annot=r}}};"select-annotation"===a.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()&&s.hide();var p=function(){a.updateOnPermissionChange()},g=function(e){var t=a.pdfViewer.getPDFDocRender().$ui;e.getStateName()===dn.STATE_HANDLER_SELECT_ANNOTATION?t.addClass(Uo):t.removeClass(Uo)};return a.pdfViewer.eventEmitter.on(de.annotationLoaded,f),a.pdfViewer.eventEmitter.on(de.permissionChanged,p),a.pdfViewer.eventEmitter.on(de.switchStateHandler,g),a.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(de.annotationLoaded,f),a.pdfViewer.eventEmitter.off(de.permissionChanged,p),a.pdfViewer.eventEmitter.off(de.switchStateHandler,g)})),a.addDestroyHook((0,U.attachKeypressEvent)(r.get(0),(function(){a.pdfViewer.getIoC().getInstanceByClass(jo).pressEnter((0,k._)(a))}),U.Shortcut.from("Enter"))),a}return(0,P._)(n,[{key:"updateOnPermissionChange",value:function(){var e=this.$foreground;if(e){var t=this.checkReadOnly();if(e.toggleClass("form-field-readonly",t),!t)"select-annotation"===this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()?e.hide():(this.formRender.runtimeHighlight,e.show())}}},{key:"initPointerDownEvent",value:function(){}},{key:"updateSize",value:function(){arguments.length>0&&void 0!==arguments[0]||this.scale,arguments.length>1&&void 0!==arguments[1]||this.rotate}},{key:"shapeControlOnStart",value:function(){this.pdfViewer.config.highPerformance&&(this.editAreaDebouncePromise=new U.DebounceAsyncTaskExecutor(10))}},{key:"shapeControlOnUpdate",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editAreaDebouncePromise.exec((function(){return n.setRect(e)})),this.$selectedContainer.add(this.$handler).add(this.$handler.find(".fv__tiles-col")).css(e)}},{key:"shapeControlOnMoving",value:function(e,t){this.$selectedContainer.add(this.$handler).add(this.$handler.find(".fv__tiles-col")).css(e)}},{key:"shapeControlOnEnd",value:function(e,t){var n=this;return(this.pdfViewer.config.highPerformance?this.editAreaDebouncePromise.waitForLastTask():Promise.resolve()).then((function(){return n.setRect(e).then((function(){return n.render(n.scale,n.rotate,!0)}))}))}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"generateUI",value:function(){}},{key:"_hideUI",value:function(){this.$ui.hide()}},{key:"_showUI",value:function(){this.$ui.show()}},{key:"destroy",value:function(){this.$handler.off("mouseenter mouseleave mousedown focus blur"),this.addListenAnnotMouseEvent&&this.addListenAnnotMouseEvent(),this.rectHammer&&this.rectHammer.destroy(),this.$foreground.remove(),this.$foreground=null,this.annot.setRenderNotifier(null),this.formRender=null,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.tileCanvas=null}},{key:"bindControlEvent",value:function(){var e=this,t=this.pdfViewer.getCurrentPDFDoc();if(!t.isDestroyed&&!t.isDynamicXFA()){var n,i,r=this.$handler,o=this,a=this;r.on("mouseleave",(function(t){return e.handleEvent(go.AnnotCursorExit,t)})).on("mousedown",(i=(0,x._)((function(e){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return e.button?[2]:("textarea"===e.target.nodeName.toLowerCase()&&e.offsetX>=e.target.clientWidth||a.hasFocus||(6===a.annot.getField().getType()&&r.attr("contenteditable","true"),r.get(0).focus({preventScroll:!0})),(0,U.isEditable)(e.target)||e.preventDefault(),[4,o.pdfViewer.getCurrentPDFDoc().readonly()]);case 1:return t.sent()?(e.preventDefault(),[2]):(e&&e.stopPropagation(),n=e,2!=a.handleEvent(go.AnnotMouseButtonPressed,e)&&e.preventDefault(),[2])}}))})),function(e){return i.apply(this,arguments)})).on("focus",(function(t){if(N()(t.target).hasClass("fv__pdf-form-control-handler-container"))return e.annot.updateUI&&e.annot.updateUI({type:"focus"}),void e.pdfViewer.eventEmitter.emit("tab-active",e.annot);e.handleEvent(go.AnnotReceiveInputFocus,t)})).on("blur",(function(t){r.removeAttr("contenteditable"),N()(t.target).hasClass("fv__pdf-form-control-handler-container")||e.handleEvent(go.AnnotLoseInputFocus,t)})).on("contextmenu",(function(t){e.checkReadOnly()?t.preventDefault():e.handleEvent("contextmenu",t)})).on("click",(function(t){e.pdfViewer.eventEmitter.emit("tap-field",e.annot)})).on("mouseenter",(function(t){return e.handleEvent(go.AnnotCursorEnter,t)}));var A=this;this.addListenAnnotMouseEvent=this.pdfViewer.addListenAnnotMouseEvent(function(){var e=(0,x._)((function(e){var t;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return n?[3,2]:[3,3];case 1:if(i.sent())return[2];i.label=2;case 2:t=A.handleEvent(go.AnnotMouseButtonReleased,e),i.label=3;case 3:return n=null,[2,t]}}))}));return function(t){return e.apply(this,arguments)}}())}}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;Math.ceil(c/r),Math.ceil(s/r);return[1,1,s,c,1e6,i,e,t,a.left,a.top,A]}},{key:"updateForgroundAndHandler",value:function(e,t){var n=this.annot.getDeviceRect(e,t),i={width:n.right-n.left+.5|0,height:n.bottom-n.top+.5|0,left:n.left,top:n.top};return this.$handler.addClass("active").css(i),i}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal";e||t||(e=this.annotsRender.scale,t=this.annotsRender.rotate),(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t,i);var o=this.annot,a=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName();return this.checkInvisible()||o.isEmpty()||o.isDeleted()||o.rectIsEmpty()||!o.getField()?(this.checkInvisible()&&this.$handler.hide(),"select-annotation"==a?(this.updateForgroundAndHandler(e,t),this.redraw(e,t,i)):Promise.resolve()):(this.checkInvisible()||this.$handler.show(),this.updateForgroundAndHandler(e,t),this.redraw(e,t,i,r))}},{key:"redraw",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"normal",a=this.getTileConfig(n,i),A=this.annot,s=this.tileCanvas;return s||(s=this.tileCanvas=new fr((t=(0,x._)((function(e,t,n,i,r,o,a,c,u){var l,d,h,f,p,g,v,m,y,k,x,_,P,D,C,S,I,E;return(0,F.Jh)(this,(function(R){switch(R.label){case 0:return l=s.renderAppearanceType,d=function(){return A.getPDFPage().getAnnotBitmap(A.getId(),(0,H.F2)(o),u,{x:a*o+t*r,y:c*o+e*r,width:n,height:i},!0,l)},[4,A.getWidgetMkOption()];case 1:return h=R.sent().behavior,"down"!==l||"e_HighlightingPush"===h?[2,d()]:[4,d()];case 2:if(f=R.sent(),"e_HighlightingInvert"===h){for(p=new Uint8Array(f.buffer),g=0;g<p.length;g+=4)p[g]=255^p[g],p[g+1]=204^p[g+1],p[g+2]=142^p[g+2];return[2,(0,w._)((0,b._)({},f),{buffer:p.buffer})]}if("e_HighlightingOutline"===h){for(v=new Uint8Array(f.buffer),m=A.getBorderWidth()*o*4/3,y=A.getDeviceRect(o,u),k=a*o+t*r,x=c*o+e*r,_=y.left+m,P=y.top+m,D=y.right-m,C=y.bottom-m,S=0;S<v.length;S+=4)I=k+S/4%n,E=x+Math.floor(S/4/n),(I<=_||I>=D||E<=P||E>=C)&&(v[S]=255^v[S],v[S+1]=204^v[S+1],v[S+2]=142^v[S+2]);return[2,(0,w._)((0,b._)({},f),{buffer:v.buffer})]}return[2,f]}}))})),function(e,n,i,r,o,a,A,s,c){return t.apply(this,arguments)}),this.$handler)),s.renderAppearanceType=o,r&&s.clearCache(),(e=s).redraw.apply(e,(0,R._)(a))}},{key:"doubleTapAnnot",value:function(){}},{key:"checkReadOnly",value:function(){var e=this.annot.getField();if(!e)return!0;if(7==e.getType()&&e.isSigned())return!1;var t=!1;this.formRender.isReadOnly()&&(t=!0);this.getAnnotFlag();return gn.isReadOnly(e.getFlags())&&(t=!0),t}},{key:"getSignCNItem",value:function(){}},{key:"checkPagingSealByEsignCN",value:function(e){}},{key:"getMainPagingSealIdByEsignCN",value:function(){}},{key:"getPagingSealColorByEsignCN",value:function(e){}},{key:"checkReadOnlyByEsignCN",value:function(){return!1}},{key:"checkInvisibleByEsignCN",value:function(){return!1}},{key:"checkInvisible",value:function(){var e=this.getAnnotFlag();return!(!e.checkHidden()&&!e.checkNoView())}},{key:"handleEvent",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A,s;return(0,F.Jh)(this,(function(c){switch(c.label){case 0:if(i=n.annot,r=n.annot.getField(),0==t.button&&n.checkReadOnly())return e!=go.AnnotMouseButtonReleased&&e!=go.AnnotReceiveInputFocus||n.formRender.blurControl(),[2,!0];if(0!=t.button)return[3,6];switch(e){case go.AnnotMouseButtonPressed:return[3,1];case go.AnnotMouseButtonReleased:return[3,3]}return[3,5];case 1:return n.formRender.focusControl(n),[4,i.getWidgetMkOption()];case 2:return o=c.sent().behavior,1==r.getType()&&"e_HighlightingNone"!==o&&n.render(n.scale,n.rotate,!0,"down"),[3,5];case 3:return[4,i.getWidgetMkOption()];case 4:return a=c.sent().behavior,1==r.getType()&&"e_HighlightingNone"!==a&&n.render(n.scale,n.rotate,!0,"normal"),A=Promise.resolve(),2!=r.getType()&&3!=r.getType()||(A=n.annot.switchAS(),n.formRender.calculate(r)),s=n.formRender,setTimeout((function(){var e=i.getAction();A.then((function(t){return s.execAction("Field",e,r,r)}))}),0),[3,5];case 5:n.performAction(e),c.label=6;case 6:return[2]}}))}))()}},{key:"updateUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e.type,n=e.value;if(this.annot){var i=this.annot.getField(),r=this.$handler,o=this.$foreground,a=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName();switch(t){case"readonly":n?(r.css("z-index",27),o.hide().addClass("form-field-readonly")):(!this.pdfViewer.highlightControlsUI()||"select-annotation"===a||1==i.getType()||this.checkReadOnly()||this.checkInvisible()||o.show(),o.removeClass("form-field-readonly"),r.css("z-index",29));break;case"required":var A=n?this.pdfViewer._runtimeColorOpacityRequired:this.pdfViewer._runtimeColorOpacity,s=n?this.pdfViewer._runtimeColorRequired:this.pdfViewer._runtimeColor,c=this.pdfViewer.getDisplayHighlightColor(s,A);n?o.addClass("required"):o.removeClass("required"),o.css({"background-color":c});break;case"hidden":if(n){if(r.hide(),6==i.getType())return;return void(this.$input&&this.$input.css("visibility","hidden"))}if(!this.pdfViewer.highlightControlsUI()||"select-annotation"===a||1==i.getType()||this.checkReadOnly()||this.checkInvisible()||o.show().removeClass("form-field-readonly"),r.show(),6==i.getType())return;this.$input&&this.$input.css("visibility","visible");var u=r.get(0).getBoundingClientRect(),l=u.width*u.height;if(!l&&l>0)return;break;case"focus":this.formRender.focusControl(this);break;case"display":var d=this.annot.getFlags();if(2&d||32&d)return void r.hide().addClass("fv__ui-field-show-in-select-annot-handler");!this.pdfViewer.highlightControlsUI()||"select-annotation"===a||1==i.getType()||this.checkReadOnly()||this.checkInvisible()||o.show().removeClass("form-field-readonly"),r.show();var h=r.get(0).getBoundingClientRect(),f=h.width*h.height;if(!f&&f>0)return;break;case"textColor":if(!this.$input)break;var p=this.$input.find("input[type=text]");p||(p=this.$input.find("textarea")),p.css("color",(0,U.colorConvertor)(n));break;case"textSize":if(!this.$input)break;var g=this.$input.find("input[type=text]");g||(g=this.$input.find("textarea")),n?g.css("font-size",2*n+"px"):this.autoFontSize(0);break;case"fillColor":n?this.$handler.css("background-blend-mode","unset"):this.$handler.css("background-blend-mode","multiply");break;case"orientation":if(!this.$input)break;var v=this.$input.find("input[type=text]");v||(v=this.$input.find("textarea"));var m=90*(n||0);v.css("transform","rotate("+m+"deg)"),this.updateSize(this.scale,this.rotate,!0);break;case"rename":return void this.render(this.scale,this.rotate,!0)}this.updateUIMore({type:t,value:n})}}},{key:"updateUIMore",value:function(e){e.type,e.value;this.render(this.scale,this.rotate,!0)}},{key:"focus",value:function(){var e=this,t=this.annot.getField();if(t&&t.doc&&!(t.getFlags()&gn.ReadOnly==gn.ReadOnly)){this.hasFocus=!0,setTimeout((function(){t&&t.doc&&e.hasFocus&&(e.$foreground.hide(),4!==t.getType()&&e.$handler.addClass("fv__control_focus"))}),50);var n=this.annot.getAdditionalAction(go.AnnotReceiveInputFocus);try{return n&&this.formRender.execAction("Field",n,null,t)}finally{this.pdfViewer.eventEmitter.emit(de.focusOnControl,this)}}}},{key:"blur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hasFocus=!1;var t=this.annot.getField();if(t){if(!this.checkReadOnly()&&this.pdfViewer.highlightControlsUI())"select-annotation"===this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()?this.$foreground.hide():this.$foreground.show();4!==t.getType()&&this.$handler.removeClass("fv__control_focus");var n=this.annot.getAdditionalAction(go.AnnotLoseInputFocus);try{return n&&this.formRender.execAction("Field",n,null,t,"Blur")}finally{this.pdfViewer.eventEmitter.emit(de.blurFromObject,this,e)}}}},{key:"performAction",value:function(e,t){this.formRender&&this.formRender.execAction("Field",this.annot.getAdditionalAction(e),null,this.annot.getField(),e,t)}},{key:"autoFontSize",value:function(e){if(this.annot){var t=this.$textInput||this.$input,n=this.annot.getField();if(n){e||(e=n.getValue());var i=t.css("transform");i&&"none"!==i&&t.css({transform:"none",width:t.parent().width(),height:t.parent().height(),borderWidth:""});var r=this.annot.getDefaultAppearance(),o=4*(r?r.textSize:0)/3*this.scale;if(o)t.css("font-size",o+"px");else if(!gn.isMultiline(n.getFlags())){var a=parseInt(t.css("border-top-width"))+parseInt(t.css("border-bottom-width"));o=t.outerHeight()-a;var A=this.pdfViewer.$ui.find(".fwr-font-auto");0==A.length&&((A=N()('<div class="fwr-font-auto"></div>')).css({position:"absolute",top:0,width:"fit-content",opacity:0,"line-height":1}),A.appendTo(this.pdfViewer.$ui)),A.css({border:t.css("border"),fontFamily:t.css("font-family"),fontSize:o+"px",transform:"none"}).text(e);for(var s=t.parent().height(),c=t.parent().width(),u=12,l=s;l-u>=1;){var d=(u+l)/2;A.css("font-size",Math.max(12,d)+"px"),d<12&&A.css("transform","scale(".concat(d/12,")"));var h=A.outerHeight();A.outerWidth()<=c&&h<=s?u=d+1:l=d}if((o=u-1)<12){var f=o/12,p=t.css("transform");t.css({fontSize:12,transform:"".concat(p&&"none"!==p?p+" ":"","scale(").concat(f,")"),width:c/f,height:s/f,"border-width":parseFloat(t.css("border-width"))/f})}else t.css("font-size",o+"px")}}}}},{key:"bindKeyboardEvent",value:function(){var e=this;this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(Bo).on(No,(function(t){e.removeAnnot()})),this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=this.pdfViewer&&this.pdfViewer.getKeyboardEventBinder(Bo).on("unactive-annotation",(function(t){e.unActiveEditing()})),this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this._undoSwitchKbBinder=this.pdfViewer.switchKeyboardEventBinder(Bo)}},{key:"unBindKeyboardEvent",value:function(){this._undoSwitchKbBinder&&this._undoSwitchKbBinder(),this.__off__delete__event__&&this.__off__delete__event__(),this.__off__delete__event__=Gi,this.__off__esc__event__&&this.__off__esc__event__(),this.__off__esc__event__=Gi}},{key:"removeAnnot",value:function(){var e=this;return this.deleteDisabled()?Promise.resolve():(this.hideFormPropertiesDialog&&this.hideFormPropertiesDialog(),this.unBindKeyboardEvent(),this.pdfViewer.getPDFDocRender().getPDFDoc().loadPDFForm().then((function(t){return t.removeControl(e.annot.getField().getName(),e.annot.getObjNum()).then((function(e){return e}))})))}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"normalBackgroundColorHandler",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])this.$foreground.css({"background-color":"unset"});else{var e=this.annot.getField(),t=this.pdfViewer.getDisplayHighlightColor(this.pdfViewer._runtimeColor,this.pdfViewer._runtimeColorOpacity);e&&gn.isRequired(e.getFlags())&&(t=this.pdfViewer.getDisplayHighlightColor(this.pdfViewer._runtimeColorRequired,this.pdfViewer._runtimeColorOpacityRequired)),this.$foreground.css({"background-color":t})}}},{key:"isFormControl",value:function(){return!0}}]),n}(Mo);const zo=Ho;var Wo;!function(e){e[e.FROM_NEXT=0]="FROM_NEXT",e[e.FROM_PREV=1]="FROM_PREV"}(Wo||(Wo={}));var Yo,Go={"aria-hidden":"true",style:"position: fixed;top: 50%;left:50%;width:0;height:0;opacity: 0;pointer-events:none",tabindex:0},$o=(U.LoggerFactory.getLogger("AnnotTabManager"),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"pageRender",void 0),(0,X._)((0,k._)(i),"currentOrderedAnnotComponents",void 0),(0,X._)((0,k._)(i),"currentFocusOnAnnotComponent",void 0),(0,X._)((0,k._)(i),"index",void 0),(0,X._)((0,k._)(i),"jumpPrevElement",void 0),(0,X._)((0,k._)(i),"jumpNextElement",void 0),(0,X._)((0,k._)(i),"taskExecutor",void 0),i.pageRender=e,i.index=-1,i.jumpPrevElement=document.createElement("div"),i.jumpNextElement=document.createElement("div"),i.taskExecutor=new U.QueuedAsyncTaskExecutor;var r=(0,k._)(i);for(var o in U.Lazy.property((0,k._)(i),"currentOrderedAnnotComponents",(0,x._)((function(){return(0,F.Jh)(this,(function(e){switch(e.label){case 0:return[4,r.updateAnnots()];case 1:return[2,e.sent()]}}))}))),Go)i.jumpNextElement.setAttribute(o,Go[o]),i.jumpPrevElement.setAttribute(o,Go[o]);var a,A=function(e){i.currentFocusOnAnnotComponent&&e.preventDefault()};return i.addDOMEvent(i.pageRender.$element.get(0),"keydown",(function(e){if(!(0,U.isEditableElement)(e.target)){var t,n=U.matchers.ArrowLeft,r=U.matchers.ArrowRight,o=U.matchers.ArrowDown,a=U.matchers.ArrowUp,A=U.matchers.or;if((0,U.isMatch)(e,A(n,a)))t=0;else{if(!(0,U.isMatch)(e,A(r,o)))return;t=1}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){var s=i.currentFocusOnAnnotComponent;if(s&&(0,I._)(s,zo)){var c=s.annot.getField().controls;if(!(c.length<2)){var u=c.map((function(e){return e.widget})),l=(0,k._)(i);i.taskExecutor.exec((0,x._)((function(){var e,n,i,r,o,a,A,d;return(0,F.Jh)(this,(function(h){switch(h.label){case 0:if(e=u.indexOf(s.annot),(n=0===t?e-1:e+1)>=u.length&&(n=0),n<0&&(n=u.length-1),i=u[n],r=l.pageRender.pagesRender,i)return[3,4];o=l.pageRender.index,a=l.pageRender.pagesRender.pageRenders.length,h.label=1;case 1:return i?[3,4]:((A=o+1)>=a&&(A=0),A<0&&(A=a-1),[4,r.getPDFPageRender(A).getPDFPage()]);case 2:return[4,h.sent().getAnnots()];case 3:return h.sent(),i=c[n].widget,(o=A)===l.pageRender.index?(i=u[0],[3,4]):[3,1];case 4:return(d=r.getPDFPageRender(i.page.getIndex())).isRendered?[3,6]:[4,l.pageRender.pdfViewer.goToPage(d.index)];case 5:h.sent(),h.label=6;case 6:return d.isRendered?[3,8]:[4,new Promise((function(e){return setTimeout(e,10)}))];case 7:return h.sent(),[3,6];case 8:return d.getAnnotRender(i.getObjectNumber()).component.$handler.focus(),[2]}}))}))),e.stopPropagation(),e.preventDefault()}}}}}),!0),i.addDOMEvent(i.jumpPrevElement,"focus",(function(){i.currentFocusOnAnnotComponent?i.jumpToPrev():i.jumpToNext()})),i.addDOMEvent(i.jumpPrevElement,"keydown",A),i.addDOMEvent(i.jumpNextElement,"focus",(function(){i.jumpToNext()})),i.addDOMEvent(i.jumpNextElement,"keydown",A),i.addViewerEvent(de.blurFromObject,(function(e,t){t||(clearTimeout(a),a=setTimeout((function(){i.taskExecutor.exec((function(){e===i.currentFocusOnAnnotComponent&&(i.currentFocusOnAnnotComponent=void 0,i.index=-1)}))}),100))})),i.addViewerEvent(de.focusOnControl,(function(e){(clearTimeout(a),i.isDestroyed)||e.parent("pdfPageRender")===i.pageRender&&i.taskExecutor.exec((function(){if(e!==i.currentFocusOnAnnotComponent)return i.currentOrderedAnnotComponents.then((function(t){var n=t.indexOf(e);-1!==n&&(i.currentFocusOnAnnotComponent=e,i.index=n)}))}))})),i.addViewerEvent(de.activeAnnotation,(function(e){var t=e.component;t!==i.currentFocusOnAnnotComponent&&t.getPDFPage().getIndex()===i.pageRender.index&&i.taskExecutor.exec((function(){return i.currentOrderedAnnotComponents.then((function(e){var n=e.indexOf(t);-1!==n&&(i.currentFocusOnAnnotComponent=t,i.index=n)}))}))})),i.addViewerEvent(le.docModified,(function(){U.Lazy.reset((0,k._)(i),"currentOrderedAnnotComponents")})),i.addViewerEvent(de.switchStateHandler,(function(){U.Lazy.reset((0,k._)(i),"currentOrderedAnnotComponents")})),i.addDestroyHook((function(){i.taskExecutor.cancel()})),i}return(0,P._)(n,[{key:"addDOMEvent",value:function(e,t,n,i){e.addEventListener(t,n,i),this.addDestroyHook((function(){e.removeEventListener(t,n,i)}))}},{key:"addViewerEvent",value:function(e,t){var n=this.pageRender.pdfViewer.eventEmitter;n.on(e,t),this.addDestroyHook((function(){n.off(e,t)}))}},{key:"updateAnnots",value:function(){var e,t=this,n=this.pageRender,i=null===(e=n.docRender.formRender)||void 0===e?void 0:e.getEditType();return(n.annotsRender?n.getPDFPage():n.render(n.pagesRender.getPageScaleSync(n.index,n.docRender.getScale())).then((function(){return n.getPDFPage()}))).then((function(e){return e.getAnnotIdArrayByOrder().then((function(t){return e.getAnnotsByObjectNumArray(t)})).then((function(e){return e.filter((function(e){return!(!(0,I._)(e,ho)||!e.getField())&&(8===i||i===e.getField().getType()||(e.getField().getFlags()&gn.ReadOnly)!=gn.ReadOnly)})).map((function(e){var n=t.pageRender.getAnnotRender(e.getObjectNumber());return n&&n.component})).filter((function(e){return e.$handler.is(":visible")})).filter((function(e){switch(i){case 0:case 8:return!0;case 1:return 1===e.annot.getField().getType();case 2:return 2===e.annot.getField().getType();case 3:return 3===e.annot.getField().getType();case 4:return 4===e.annot.getField().getType();case 5:return 5===e.annot.getField().getType();case 6:return 6===e.annot.getField().getType();case 7:return 7===e.annot.getField().getType()}}))}))}))}},{key:"jumpToNext",value:function(){var e=this;this.taskExecutor.exec((function(){return e.currentOrderedAnnotComponents.then((function(t){var n=t.length;if(!(n<1)){var i,r=e.pageRender.index,o=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){if(!(i=t[e.index+1])){var a=o.getPDFPageRender(r+1);if(a)return e.jumpToPage(a.index,1);var A=0;return 0!==r&&r!==o.doc.getPageCount()-1||(A=1),e.jumpToPage(0,A)}}else i=t[e.index>-1?e.index%n:0];i&&i.$handler.focus()}}))}))}},{key:"jumpToPrev",value:function(){var e=this;this.taskExecutor.exec((function(){return e.currentOrderedAnnotComponents.then((function(t){var n=t.length;if(!(n<1)){var i,r=e.pageRender.index,o=e.pageRender.docRender;if(e.currentFocusOnAnnotComponent){if(!(i=t[e.index-1])){var a=r-1;if(-1===a){var A=o.getPDFDoc().getPageCount()-1;return e.jumpToPage(A,0)}return e.jumpToPage(a,0)}}else i=t[e.index<=0?n-1:e.index-1];i&&i.$handler.focus()}}))}))}},{key:"jumpFromPrevPage",value:function(){return this.currentOrderedAnnotComponents.then((function(e){return!!e[0]&&(e[0].$handler.focus(),!0)}))}},{key:"jumpFromNextPage",value:function(){return this.currentOrderedAnnotComponents.then((function(e){var t=e[e.length-1];return!!t&&(t.$handler.focus(),!0)}))}},{key:"jumpToPage",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:i=n.pageRender.pdfViewer,r=n.pageRender.docRender,o=r.doc.getPageCount(),A=(a=0===t)?-1:1,s=e,u.label=1;case 1:return[4,(c=r.getPDFPageRender(s)).tabManager.currentOrderedAnnotComponents];case 2:return 0!==u.sent().length?[3,3]:(s=(s+A+o)%o)===e?(c=r.getPDFPageRender(s),[3,3]):[3,1];case 3:return s===r.getCurrentPageIndex()?[3,5]:[4,i.goToPage(s)];case 4:u.sent(),u.label=5;case 5:return a?[4,c.tabManager.jumpFromNextPage()]:[3,7];case 6:return u.sent(),[3,9];case 7:return[4,c.tabManager.jumpFromPrevPage()];case 8:u.sent(),u.label=9;case 9:return[2]}}))}))()}},{key:"render",value:function(){this.pageRender.$ui.prepend(this.jumpPrevElement),this.pageRender.$element.append(this.jumpNextElement)}}]),n}(U.Disposable));!function(e){e.viewport="viewport",e.page="offset-page",e.scroll="scroll",e.pdf="pdf"}(Yo||(Yo={}));var Ko=function(){},qo=Math.min,Jo=Math.max,Xo=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,o)).isRendered=!1,a.renderedDefered=(0,U.createDeferred)(),a.name=n.getDefaultName(),a.$ui=e,a.$element=e.parent(),a.index=i,a.renderCount=0,e.attr("data-index",i),a.pagesRender=o,a.docRender=o.docRender,a.viewerRender=a.docRender.viewerRender,a.unObserveIntersectionObserver=a.docRender.intersectionObserver.observe(a.$element.get(0),(function(e,t){a.docRender._updateVisiblePageIndex(a.index,t),e.classList.toggle("fv__pdf-invisible-page-item",!t)})),a.unObservePageLayoutIntersectionObserver=a.docRender.intersectionObserver.observe(a.$ui.get(0),(function(e,t){a.pageAreaIsVisible=t}));var A=e[0];a.$rendering=N()(A.querySelector(".fv__pdf-page-rendering")),a.$container=N()(A.querySelector(".fv__pdf-page-container")),a.$container[0].setAttribute("data-index",i),a.$annotsContainer=N()(A.querySelector(".fv__pdf-page-annots-container")),a.$customsContainer=N()(A.querySelector(".fv__pdf-page-customs-container"));var s=a.$handler=N()(A.querySelector(".fv__pdf-page-handler-container"));a.$invisible=N()(A.querySelector(".fv__pdf-invisible-page-container")),a.pageHandler=new br(s,(0,k._)(a)),a.doc=r,a.scale=1,a.rotate=o.rotate;var c=a.pdfViewer.customs||{};return a.pdfPageRendering=new(c.PDFPageRendering||z)(a.$rendering[0],(0,k._)(a)),a.pageCustomRender=new(c.PageCustomRender||W)(A.querySelector(".fv__pdf-custom-page-container"),(0,k._)(a)),a.renderFlags=7,a.renderingDeferreds=[],a.followRenderDeferreds=[],a.watermarkConfig=null,a.excluedHighlights=[],a.annotsRenderDeferred=(0,U.createDeferred)(),a.$element.attr({tabindex:"-1","aria-busy":!0,role:"region","aria-label":a.pdfViewer.i18n.t("aria.pdf.page",{number:a.index+1})}),a.$ui.addClass("fv__pdf-page-not-rendered"),U.Lazy.property((0,k._)(a),"tabManager",(function(){var e=new $o((0,k._)(a));return a.addDestroyHook(e),e})),a.$annotsContainer.on("pointerdown",a.pointerdownFn=function(e){var t=e.target.classList;(t.contains("fv__pdf-annot-line-point-item")||t.contains("fv__shape-control-move-area")||t.contains("fv__shape-controller"))&&(a.pdfViewer.getScrollWrap().disable(!0),a.pdfViewer.setEnableScale(!1),document.addEventListener("pointerup",a.pointerupFn=function(e){a.pdfViewer.getScrollWrap().disable(!1),a.pdfViewer.setEnableScale(!0)},{once:!0}))}),a}return(0,P._)(n,[{key:"getHandlerDOM",value:function(){return this.$handler.get(0)}},{key:"clearCanvasCache",value:function(e){this.pageContentTiles&&this.pageContentTiles.invisibleRender(e)}},{key:"updateRenderFlags",value:function(e){this.renderFlags=this.renderFlags|e}},{key:"updateRenderFlagsByScaleAndRotate",value:function(e,t){Math.abs(e-this.scale)>1e-6||t!==this.rotate?this.updateRenderFlags(7):this.updateRenderFlags(0)}},{key:"checkRenderLayoutFlags",value:function(){return 4==(4&this.renderFlags)}},{key:"resetRenderLayoutFlags",value:function(){this.renderFlags&=-5}},{key:"checkRenderContainerFlags",value:function(){return this.checkRenderContentFlags()||this.checkRenderAnnotFlags()||this.checkRebuildAnnotFlags()}},{key:"checkRenderContentFlags",value:function(){return 2==(2&this.renderFlags)}},{key:"resetRenderContentFlags",value:function(){this.renderFlags&=-3}},{key:"checkRenderAnnotFlags",value:function(){return 1==(1&this.renderFlags)}},{key:"resetRenderAnnotFlags",value:function(){this.renderFlags&=-2,this.resetRebuildAnnotFlags()}},{key:"checkRenderCustomFlags",value:function(){return 16==(16&this.renderFlags)}},{key:"resetRenderCustomFlags",value:function(){this.renderFlags&=-17,this.resetRebuildCustomFlags()}},{key:"checkRebuildAnnotFlags",value:function(){return 8==(8&this.renderFlags)}},{key:"resetRebuildAnnotFlags",value:function(){this.renderFlags&=-9}},{key:"checkRebuildCustomFlags",value:function(){return 32==(32&this.renderFlags)}},{key:"resetRebuildCustomFlags",value:function(){this.renderFlags&=-33}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyPageHandler()}(this.stateHandler=new e(this.pdfViewer)).pageHandler(this)}},{key:"updateIndex",value:function(e){this.index!==e&&(this.index=e,this.$ui.attr("data-index",e),this.$container.attr("data-index",e),this.$element.attr("aria-label",this.pdfViewer.i18n.t("aria.pdf.page",{number:this.index+1})))}},{key:"getPDFPage",value:function(){var e=this;return this.page?Promise.resolve(this.page):this.doc?this.doc.getPageByIndex(this.index).then((function(t){return e.page=t,t.isVirtual()&&e.handleVirtualPage(),t})):Promise.resolve(null)}},{key:"handleVirtualPage",value:function(){this.$ui.addClass("fv__virtual-pdf-page")}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getAnnotRender",value:function(e){try{return this.annotsRender&&this.annotsRender.getAnnotRender(e)}catch(e){return console.error(e),null}}},{key:"getAnnotRenderSafely",value:function(e){var t=this;return this.annotsRender?Promise.resolve(this.annotsRender.getAnnotRenderSafely(e)):this.getPDFPage().then((function(e){return e.getAnnots()})).then((function(e){return new rr(t.$annotsContainer,e,t)})).then((function(t){return t.getAnnotRenderSafely(e)}))}},{key:"getAnnotsRenderSafely",value:function(){var e=this;return this.getPDFPage().then((function(e){return e.getAnnots()})).then((function(t){return Promise.resolve(new rr(e.$annotsContainer,t,e))}))}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.endRender(),this.isDestroyed)return this.renderSerialPromise?this.renderSerialPromise.end():Promise.resolve();var i=this.renderSerialPromise;0===this.renderCount&&this.rendering(t),this.updateRenderFlagsByScaleAndRotate(t,n);var r=this.scale;this.scale=t,this.rotate=n;var o=!this.renderCount;return this.renderCount++,this.pdfViewer.eventEmitter.emit(de.beforeRenderPage,this,o),Promise.resolve(this.pageCustomRender.render(this.scale,n)).then((function(t){if(!1!==t)return(i=e.renderSerialPromise=new pe(0)).push((function(){var t;if(e.checkRenderLayoutFlags()){e.resetRenderLayoutFlags();var i=e.pageTileConfigPromise=e.getPageTileConfig(e.scale,n);e.pageTileConfig=null;var o=null;if(e.pageContentTiles)"continuous-view-mode"===e.pagesRender.viewMode.constructor.getName()||e.doc.isPageSameSize()||(o=e.computePageSize(e.scale,n).then((function(t){var i=(0,E._)(t,2),r=i[0],o=i[1];return e.pagesRender.viewMode.renderViewMode(e,e.scale,n,r,o)}))),r!==e.scale&&(o=e.renderLayout(e.scale,n));else o=e.renderLayout(e.scale,n);t=Promise.all([i,o]).then((function(t){var n=(0,E._)(t,1)[0];return e.pageTileConfigPromise=null,e.pageTileConfig=n,n}))}else t=e.getPageTileConfig(e.scale,n);return t.then((function(t){var n=(0,E._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],A=n[4],s=n[5],c=n[6],u=n[7],l=e.pageContentTiles;if(!l){e.pageContentTiles=l=new fr((function(t,n,i,r,o,a){return e.getContentImageDataByTile(t,n,i,r,o,a)}),null,e,e.pdfViewer.tileCache),e.pdfViewer.webPDFSRPromise||(l.getRectBitmap=function(t,n,i,r){return e.getRectBitmap((0,H.F2)(n),t,i,r)});var d=l.$container;d.addClass("fv__pdf-page-content-container"),e.$container.append(d)}l.setRenderViewWatermark(!1);var h=e.containerVisibleRect=e.getContainerVisibleRect();l.setVisibleRect(h),e.checkRenderContentFlags()&&(l.clearCache(),e.resetRenderContentFlags());var f,p,g,v=(f=[],p=e.getWatermarkConfig(),g=e.docRender.getWatermarkConfig(),Array.isArray(p)&&p.length>0?f=p:p&&p.content&&p.type?f=[p]:Array.isArray(g)&&g.length>0?f=g:g&&g.content&&g.type&&((0,U.isInCloseRange)(e.index,g.pageStart,g.pageEnd),f=[g]),f.filter((function(t){var n=t.pageStart,i=t.pageEnd,r="number"==typeof n&&n>0,o="number"==typeof i&&i>0;return r&&o?(0,U.isInCloseRange)(e.index,n,i):r?e.index>=n:!o||e.index<i}))),m=[];return v.length>0?(v.forEach((function(t){if(t.content&&t.type){var n=e.watermark=new Tr(o,a,A,s,t);m.push(n.getWatermarkRenderer(t))}})),Promise.all(m).then((function(t){return l.setRenderViewWatermark(t.length>0),l.setUpdateCanvasMore((function(n,i,r,o,a,A,s,c,u,l,d){t.forEach((function(e){var t=o<0?l*c:i,d=a<0?u*c:r,h=Math.min(c,A),f=Math.min(c,s),p=e.render(t,d,h,f);n.drawImage(p,i-o,r-a)})),e.renderLayoutGrid(n,i,r,o,a,A,s)})),l.redraw(i,r,o,a,A,s,c,u)}))):(e.pdfViewer.getLayoutGrid()&&l.setUpdateCanvasMore((function(t,n,i,r,o,a,A,s){e.renderLayoutGrid(t,n,i,r,o,a,A)})),l.redraw(i,r,o,a,A,s,c,u))}))})),i.push((function(){return e.checkRebuildAnnotFlags()?(e.resetRebuildAnnotFlags(),e.rebuildAnnots(e.scale,n,e.containerVisibleRect)):e.renderAnnots(e.scale,n,e.containerVisibleRect)})),i.push((function(){e.rendered(),e.renderSerialPromise=null,e.pdfViewer.eventEmitter.emit(de.renderPageSuccess,e),e.tabManager.render()})),i.push((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).pageHandler(e)}return Promise.resolve()})),i.exec();e.rendered()}))}},{key:"setShowWidth",value:function(e){this.showWidth=Math.max(e,.01)}},{key:"getShowWidth",value:function(){return this.showWidth}},{key:"setShowHeight",value:function(e){this.showHeight=Math.max(e,.01)}},{key:"getShowHeight",value:function(){return this.showHeight}},{key:"computePageSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPDFPage().then((function(i){var r,o=function(t){var r=(0,H.ke)(i.getPxWidth(),i.getPxHeight(),t,n);return e.showWidth=r[0],e.showHeight=r[1],r};return"fitVisible"!==t?(r=e.pagesRender.getPageScaleSync(e.index,t,n),o(r)):e.pagesRender.getPageScale(e.index,t,n).then((function(e){return o(e)}))}))}},{key:"renderLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=function(i){return e.updateRenderFlagsByScaleAndRotate(i,n),e.scale=i,e.rotate=n,e.computePageSize(i,n).then((function(t){var r=(0,E._)(t,2),o=r[0],a=r[1];return e.pagesRender.viewMode.renderViewMode(e,i,n,o,a)})).then((function(){var r=e.$ui;if(r.css({width:e.showWidth,height:e.showHeight}),e.annotsRender&&e.annotsRender.updateSize(i,n),e.pageContentTiles){var o=r.find(".fv__pdf-page-content-container"),a=i/e.pageContentTiles.scale;o.css("transform","scale("+a+")")}e.pdfViewer.eventEmitter.emit(de.pageLayoutRedraw,e,t,n)}))};if("fitVisible"!==t){var r=this.pagesRender.getPageScaleSync(this.index,t,n);return i(r)}return this.pagesRender.getPageScale(this.index,t,n).then((function(e){return i(e)}))}},{key:"getPageTileConfig",value:function(e,t){var n=this;return this.getPDFPage().then((function(i){var r=n.getSmartScale(e),o=n.pdfViewer.config,a=o.tileSize;o.getTileSize&&(a=o.getTileSize(n.doc,n.page));var A=i.getPxWidth(),s=i.getPxHeight(),c=(0,E._)((0,H.ke)(A,s,r,t),2),u=c[0],l=c[1];return[Math.ceil(l/a),Math.ceil(u/a),u,l,a,r,e,t]}))}},{key:"updateSize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=(0,E._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],A=n[4],s=n[5],c=n[6],u=n[7],l=e.pageContentTiles;l&&l.updateDom(i,r,o,a,A,s,c,u)}))}},{key:"renderContentImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getPageTileConfig(t,n).then((function(t){var n=(0,E._)(t,8),i=n[0],r=n[1],o=n[2],a=n[3],A=n[4],s=n[5],c=n[6],u=n[7],l=e.pageContentTiles;return l?l.redraw(i,r,o,a,A,s,c,u):Promise.resolve()}))}},{key:"adjustHighlightInContentImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if([].concat(this.excluedHighlights).sort().join()!==[].concat(e).sort().join())return this.excluedHighlights=e,this.redrawContent(!0)}},{key:"adjustHighlightAnnots",value:function(){return Promise.resolve()}},{key:"getRotatedRowAndCols",value:function(e,t,n,i,r){switch(r){case 0:return[e,t];case 90:return[t,i-e];case 180:return[n-e,i-t];case 270:return[t,e]}}},{key:"renderContentImageByTileCanvas",value:function(e,t,n,i,r,o,a,A){var s=this,c=this.pageContentTiles;if(!c){this.pageContentTiles=c=new fr((function(e,t,n,i,r,o,a,A,c,u){return s.getContentImageDataByTile(e,t,n,i,r,o)}),null,!0);var u=c.$container;u.addClass("fv__pdf-page-content-container"),this.$container.append(u)}var l=this.getWatermarkConfig()||this.docRender.getWatermarkConfig();l&&l.content&&l.type&&(this.watermark=new Tr(n,i,r,o,l.watermarkSettings,l.watermarkTextProperties)).exportDataURL({content:l.content,type:l.type}).then((function(e){var t=new Image;t.src=e,c.setUpdateCanvasMore((function(e,n,i,r,o,a){e.drawImage(t,i*a,n*a,r,o,0,0,r,o)}))}));return c.redraw(e,t,n,i,r,o,a)}},{key:"getActiveAnnotInfo",value:function(e,t){var n=this.page.annots.map((function(e){return e.info})).filter((function(t){if(-1===["popup","unknown","watermark","widget"].indexOf(t.type))return e[0]>=t.rect.left&&e[0]<=t.rect.right&&e[1]>=t.rect.bottom&&e[1]<=t.rect.top?t:void 0}));if(t){for(var i=n[n.length-1],r=n.length-1;r>=0;r--)if("link"===n[r].type){i=n[r];break}return i}return n}},{key:"renderAnnots",value:function(e,t,n){var i=this,r=function(r){return i.annotsRender?i.annotsRender.render(e,t,n):Promise.resolve().then((function(e){return i.annotsRender||(i.annotsRender=new rr(i.$annotsContainer,e,i),i.annotsRenderDeferred.resolve(i.annotsRender)),i.annotsRender})).then((function(i){return i.render(e,t,n)}))};return this.parent("pdfDocRender").getFormRender()&&this.doc.getPDFForm()?this.doc.getPDFForm().addTask(r):Promise.resolve(r())}},{key:"rebuildAnnots",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.containerVisibleRect,r=function(){var r;r=n.page.getAnnots(1),n.docRender.setRebuildAnnotsFlag(!0);var o=n.annotsRender;return o&&o.removeUI(),r.then((function(e){return n.annotsRenderDeferred=(0,U.createDeferred)(),n.annotsRender=new rr(n.$annotsContainer,e,n),e.forEach((function(e){"3d"===e.getType()&&(n.annotsRender.annotRenders[e.getObjectNumber()]=o.annotRenders[e.getObjectNumber()],delete o.annotRenders[e.getObjectNumber()])})),n.annotsRenderDeferred&&n.annotsRenderDeferred.resolve(),n.annotsRender})).then((function(r){return i||(i=n.containerVisibleRect=n.getContainerVisibleRect()),r.render(e,t,i)})).then((function(e){return o&&o.destroy(),e}))},o=this.parent("pdfDocRender").getFormRender(),a=this.doc.getPDFForm();return o&&a?a.addTask(r):Promise.resolve(r())}},{key:"renderCustoms",value:function(e,t){var n=this;return this.customsRender?this.customsRender.render(e,t):this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender&&(n.customsRender.destroy(),n.customsRender=null),n.customsRender=n.customsRender||new Lr(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))}},{key:"rebuildCustoms",value:function(e,t){var n=this;return this.getPDFPage().then((function(e){return n.pdfViewer.customRenderManager.getPageCustomData(e)})).then((function(e){return n.customsRender=n.customsRender||new Lr(n.$customsContainer,e,n)})).then((function(n){return n.render(e,t)}))}},{key:"renderAnnot",value:function(e,t,n){return new(this.pdfViewer.annotManager.get(e.getType()))(e,this).render(t,n)}},{key:"updatePageDOMRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.doc.getPageSize(this.index);if((n||(-1===e&&(e=this.pagesRender.getEstimatedPageScaleSync(this.index,this.scale,this.rotate)),(n=this.doc.getEstimatedPageSize(this.index))&&-1!==e))&&e!=this.scale&&n){switch((t%360+360)%360){case 90:case 270:var i=n.width;n.width=n.height,n.height=i}n.width*=(0,H.F2)(1)*e,n.height*=(0,H.F2)(1)*e;var r=n;this.$ui.height()!=n.width&&(r.minHeight=40);var o=this.$ui.get(0),a=o.classList,A="fv__pdf-page-not-rendered";a.contains(A)&&a.remove(A),(0,U.cssText)(o,{width:Math.ceil(r.width)+"px",height:Math.ceil(r.height)+"px","min-height":r.minHeight+"px"})}}},{key:"rendering",value:function(){arguments.length>0&&void 0!==arguments[0]||this.scale,arguments.length>1&&void 0!==arguments[1]||this.rotate;this.$ui.addClass("fv__rendering"),this.pdfPageRendering.rendering()}},{key:"rendered",value:function(){var e=this;this.isDestroyed||(this.isRendered=!0,this.$ui.removeClass("fv__rendering"),this.pdfPageRendering.rendered(),this.pdfViewer.isWisWebPDFSR||this.openActionTrigged||!this.pdfViewer.enableOpenAction||this.getPDFPage().then((function(t){var n=t.getAction("open");n&&e.pdfViewer.actionManager.get(n,e).active(),e.openActionTrigged=!0})),this.renderedDefered.resolve())}},{key:"isRendering",value:function(){return this.$ui.hasClass("fv__rendering")}},{key:"waitRendered",value:function(){return this.isRendered?Promise.resolve():this.renderedDefered.promise}},{key:"destroy",value:function(){this.isDestroyed||(this.unObserveIntersectionObserver(),this.unObservePageLayoutIntersectionObserver(),this.pointerdownFn&&(this.$annotsContainer.off("pointerdown",this.pointerdownFn),this.pointerdownFn=null),this.pointerupFn&&(document.removeEventListener("pointerup",this.pointerupFn),this.pointerupFn=null),(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.invisibleRender(),this.pageContentTiles&&this.pageContentTiles.destroy(),this.stateHandler&&this.stateHandler.out(),this.annotsRender&&this.annotsRender.destroy(),this.annotsRenderDeferred=null,this.pageHandler.destroy(),this.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),this.eLayoutContainerTransitionStyle&&document.body.removeChild(this.eLayoutContainerTransitionStyle),this.pdfPageRendering.destroy(),this.pageCustomRender&&this.pageCustomRender.destroy(),this.pageCustomRender=null,this.pdfPageRendering=null,this.pageHammer=null,this.pageHandler=null,this.$ui=null,this.eLayoutContainerTransitionStyle=null,this.doc=null,this.page=null,this.pageContentTiles=null,this.stateHandler=null)}},{key:"getSmartScale",value:function(e){return this.pdfViewer.getSmartScale(e)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotate}},{key:"getRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate,r=this.page,o=this.docRender.getUserPermission();o.checkAnnotForm()||o.checkFillForm();return r.getPageBitmap(e,i,t,["page"],"view",n)}},{key:"previewRectBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.rotate;return this.getRectBitmap(e,t,n,i).then((function(r){var o=document.createElement("canvas"),a=o.getContext("2d"),A=r.buffer,s=r.width,c=r.height,u=r.x,l=r.y,d=new(Uint8ClampedArray||Uint8Array)(A),h=a.createImageData(s,c);h.data.set(d),o.width=s+u,o.height=c+l,a.putImageData(h,0,0);var f={scale:e,rect:t,id:n,rotate:i,url:o.toDataURL()};return console.log(f),f}))}},{key:"getContentImageDataByTile",value:function(e,t,n,i,r,o){return this.getRectBitmap((0,H.F2)(o),{x:t*r,y:e*r,width:n,height:i})}},{key:"getTextContinueRectAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextContinuousRectsAtRect(e)}))}},{key:"getTextContinueRectAtDevicePoints",value:function(e,t,n,i){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e),this.reverseDevicePoint(t)]).then((function(e){var t=(0,E._)(e,3),r=t[0],o=t[1],a=t[2];return r.getTextContinuousRectsAtPoints(o,a,8,n,i)}))}},{key:"getDoubleClickTextRectAtPoint",value:function(e){return Promise.all([this.getPDFPage(),this.reverseDevicePoint(e)]).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];return n.getDoubleClickTextRectAtPoint(i,8)}))}},{key:"getTextContinuousCharAtDeviceRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextContinuousCharsAtRect(e)}))}},{key:"getAllTextRect",value:function(){return this.getPDFPage().then((function(e){return e.getTextContinuousRectsAtRect(e.info.cropBox)}))}},{key:"getAllTextChar",value:function(){return this.getPDFPage().then((function(e){return e.getTextContinuousCharsAtRect(e.info.cropBox,!0)}))}},{key:"transformPoint",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A;return(0,F.Jh)(this,(function(s){switch(s.label){case 0:if(n=e.point,i=e.srcType,r=e.destType,o=t.scale,a=t.rotate,!n)throw new Error("[transformPoint] options.point is not a valid point object: ".concat(JSON.stringify(n),"."));if(!(0,U.isValidNumber)(n.x))throw new TypeError("[transformPoint] options.point.x: ".concat(n.x," is not a valid number"));if(!(0,U.isValidNumber)(n.y))throw new TypeError("[transformPoint] options.point.y: ".concat(n.y," is not a valid number"));if(i===r)return[2,Object.assign({},n)];if(!i)throw new Error("[transformPoint] options.srcType is not type of ViewerConstants.PagePointType");if(!r)throw new Error("[transformPoint] options.destType is not type of ViewerConstants.PagePointType");return[4,t.transformPointIntoPDFPoint({point:n,type:i,scale:o,rotate:a})];case 1:return A=s.sent(),[2,t.transformPDFPointToDestType({point:A,type:r,scale:o,rotate:a})]}}))}))()}},{key:"transformPDFPointToDestType",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A,s,c,u,l,d,h,f,p,g,v,m,y,b,w,k,x;return(0,F.Jh)(this,(function(_){switch(_.label){case 0:return n=e.point,i=e.type,r=e.scale,o=e.rotate,isFinite(r)||(r=t.scale),isFinite(o)||(o=t.rotate),[4,t.getPDFPage()];case 1:switch(a=_.sent(),i){case Yo.scroll:return A=t.getPagePositionOffsetViewerContainer(),s=(0,E._)(a.getDevicePoint([n.x,n.y],r,o),2),c=s[0],u=s[1],[2,{x:A.x+c,y:A.y+u}];case Yo.page:return l=(0,E._)(a.getDevicePoint([n.x,n.y],r,o),2),d=l[0],h=l[1],[2,{x:d,y:h}];case Yo.viewport:return f=(0,E._)(a.getDevicePoint([n.x,n.y],r,o),2),p=f[0],g=f[1],[2,{x:(v=t.$ui[0].getBoundingClientRect()).left+p,y:v.top+g}];case"PDFViewerPort":return m=(0,E._)(a.getDevicePoint([n.x,n.y],r,o),2),y=m[0],b=m[1],w=t.viewerRender.scrollWrap.getScrollHost(),((0,U.isWindowObject)(w)||(0,U.isDocument)(w))&&(w=document.body),k=t.$ui[0].getBoundingClientRect(),x=w.getBoundingClientRect(),[2,{x:y+k.left-x.left,y:b+k.top-x.top}];case Yo.pdf:return[2,n];default:throw new Error("[transformPDFPointToDestType] options.type is not type of ViewerConstants.PagePointType")}return[2]}}))}))()}},{key:"transformPointIntoPDFPoint",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A,s,c,u,l,d,h,f,p,g,v;return(0,F.Jh)(this,(function(m){switch(m.label){case 0:return n=e.point,i=e.type,r=e.scale,o=e.rotate,isFinite(r)||(r=t.scale),isFinite(o)||(o=t.rotate),[4,t.getPDFPage()];case 1:switch(a=m.sent(),i){case Yo.scroll:return A=t.getPagePositionOffsetViewerContainer(),s=[n.x-A.x,n.y-A.y],c=(0,E._)(a.reverseDevicePoint(s,r,o),2),u=c[0],l=c[1],[2,{x:u,y:l}];case Yo.viewport:d=t.$ui[0].getBoundingClientRect(),h=d.left,f=d.top,n={x:n.x-h,y:n.y-f};case Yo.page:return p=(0,E._)(a.reverseDevicePoint([n.x,n.y],r,o),2),g=p[0],v=p[1],[2,{x:g,y:v}];case Yo.pdf:return[2,n];default:throw new Error("[transformPointIntoPDFPoint] options.type is not type of ViewerConstants.PagePointType")}return[2]}}))}))()}},{key:"getPagePositionOffsetViewerContainer",value:function(){var e=this.pdfViewer.getPDFViewerRender().$ui[0],t=e.parentElement,n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=this.$ui[0].getBoundingClientRect(),o=i.top-n.top,a=i.left-n.left;return{x:r.left+t.scrollLeft-i.left+a,y:r.top+t.scrollTop-i.top+o}}},{key:"reverseDeviceRect",value:function(e){var t=this;return this.getPDFPage().then((function(n){return n.reverseDeviceRect(e,t.scale,t.rotate)}))}},{key:"reverseDevicePoint",value:function(e){var t=(0,E._)(e,2),n=t[0],i=t[1],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.getPDFPage().then((function(e){return e.reverseDevicePoint([n,i],r,o)}))}},{key:"getDeviceRect",value:function(e){var t=this;return this.getPDFPage().then((function(n){return n.getDeviceRect(e,t.scale,t.rotate)}))}},{key:"transformRectArray",value:function(e,t){for(var n=[],i=this.scale,r=t.length;r--;){var o=t[r];n[r]=e.getDeviceRect(o,i,this.rotate)}return n}},{key:"getClientPoint",value:function(e,t){var n=this.$ui[0].getBoundingClientRect();return[e+n.left,t+n.top]}},{key:"redraw",value:function(e){return e&&(this.updateRenderFlags(7),this.annotsRender&&this.annotsRender.adjustHighlightsRender()),this.render()}},{key:"redrawContent",value:function(e){var t,n=this;return(e?((t=n.pageContentTiles)&&t.clearCache(),Promise.resolve()):Promise.resolve()).then((function(){return n.renderContentImage(n.scale,n.rotate)})).then((function(){return n.adjustHighlightAnnots()}))}},{key:"getDevicePointFromEvent",value:function(e){var t=this.$ui.offset();return[e.pageX-t.left,e.pageY-t.top]}},{key:"removeAnnotRenders",value:function(e){return this.annotsRender&&this.annotsRender.removeAnnotRenders(e)}},{key:"redrawAnnotRenders",value:function(e){if("canvas"===this.pdfViewer.config.annotRenderingMode.highlight)return this.annotsRender.redrawAnnotRenders(e);for(var t=[],n=[],i=0,r=e.length;i<r;i++){var o=e[i];"highlight"===o.getType()?t.push(o):n.push(o)}return t.length&&this.renderContentImage(),this.annotsRender.redrawAnnotRenders(n)}},{key:"movedAnnotRenders",value:function(e,t){return this.annotsRender.movedAnnotRenders(e,t)}},{key:"addAnnotRenders",value:function(e){var t=this;if(!this.annotsRender)return this.annotsRenderDeferred.promise.then((function(){return t.addAnnotRenders(e)}));return this.annotsRender.addAnnotRenders(e)}},{key:"getPageAreaRenderer",value:function(e,t){return new wr(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}},{key:"getSnapshot",value:function(e,t,n,i){var r=1,o=window.localStorage.getItem("PREFERENCES-GENNERAL");if(o){var a=JSON.parse(o),A=a.resolution;a.fixedResolution&&(r=A/96)}var s=this.getPageAreaRenderer(n*r,i*r,r,!0);return s.setPosition(e+n/2,t+i/2),s.update().then((function(e){var t=(0,U.createDeferred)();return e.toBlob((function(e){return t.resolve(e)}),"image/png"),t.promise}))}},{key:"unActiveAnnotRender",value:function(){try{this.annotsRender.unActiveAnnot()}catch(e){}}},{key:"activeGraphicsObject",value:function(e){}},{key:"addCustomRenders",value:function(e){this.customsRender.addCustomRenders(e)}},{key:"removeCustomRenders",value:function(e){this.customsRender.removeCustomRenders(e)}},{key:"updateCustomRenders",value:function(e){this.customsRender.updateCustomRenders(e)}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.page&&this.page.isVirtual()?{content:"VIRTUAL PAGE",type:"text",watermarkSettings:void 0,watermarkTextProperties:{font:"Microsoft Yahei",fontSize:40,color:"#000000",fontStyle:"normal",lineSpace:10,alignment:"center"}}:this.watermarkConfig}},{key:"endRender",value:function(){var e=this.renderSerialPromise;e&&e.end().catch(Ko);var t=this.annotsRender;t&&t.endRender()}},{key:"invisibleRender",value:function(e){var t=this;return(0,x._)((function(){var n,i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return t.endRender(),n=t.pageContentTiles,i=t.annotsRender,e?(n&&(n.destroy(),delete t.pageContentTiles),(r=t.stateHandler)&&(r.destroyPageHandler(),delete t.stateHandler),t.page?(t.page.clearRenderCache(),[4,t.page.clearCacheObjects()]):[3,2]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,4];case 3:n&&n.invisibleRender(),i&&i.invisibleRender(),o.label=4;case 4:return[2]}}))}))()}},{key:"move",value:function(){}},{key:"renderingFollowPromise",value:function(){}},{key:"triggerAction",value:function(e){var t=this;setTimeout((function(){if(t.page&&!t.page.isDestroyed&&t.annotsRender)return!t.annotsRender.widgetsDone&&t.page.annots.length?t.triggerAction(e):void t.page.annots.forEach((function(n){n.getAdditionalAction&&t.docRender.formRender.execAction("annot",n.getAdditionalAction(e),n,n,go[e])}))}),200)}},{key:"getContainerVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=(n.right-n.left)/2|0,r=(n.bottom-n.top)/2|0,o=Math.max(t.left,n.left)-t.left-i,a=Math.min(t.right,n.right)-t.left+i,A=Math.max(t.top,n.top)-t.top-r,s=Math.min(t.bottom,n.bottom)-t.top+r;return o<0&&(o=0),A<0&&(A=0),a>this.getShowWidth()&&(a=this.getShowWidth()),s>this.getShowHeight()&&(s=this.getShowHeight()),{left:o,right:Math.max(o,a),top:A,bottom:Math.max(A,s)}}},{key:"getCurrentVisibleRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect(),i=n.right-n.left,r=n.bottom-n.top,o=Jo(0,n.left-t.left),a=Jo(0,n.top-t.top),A=qo(Jo(0,t.width-o),i),s=qo(Jo(0,t.height-a-Jo(0,t.bottom-n.bottom)),r);return{left:o,top:a,width:A,height:s,right:o+A,bottom:a+s}}},{key:"getContainerFullRect",value:function(){var e=this.docRender,t=this.$ui[0].getBoundingClientRect(),n=e.getContainerVisibleRect();return{left:n.left-t.left,right:n.right-t.right,top:n.top-t.top,bottom:n.bottom-t.bottom}}},{key:"getPDFRectFromClientRect",value:function(e){var t=this.$ui[0].getBoundingClientRect(),n=e.left-t.left,i=e.top-t.top,r={left:n,top:i,right:n+e.width,bottom:i+e.height};return this.page.reverseDeviceRect(r,this.scale,this.rotate)}},{key:"getPDFPointFromClientPoint",value:function(e,t,n){var i=this.$ui[0].getBoundingClientRect();return n?[e-i.left,t-i.top]:this.page.reverseDevicePoint([e-i.left,t-i.top],this.scale,this.rotate)}},{key:"formatGridOptions",value:function(e){if(e){var t=Ni(e.unit);if(t){var n=this.getScale(),i=t.convertTo(e.width*n,Mi),r=t.convertTo(e.height*n,Fi),o=t.convertTo(e.offsetLeft*n,Mi),a=t.convertTo(e.offsetTop*n,Fi),A=e.subdivisions;return{lineWidth:i,lineHeight:r,offsetLeft:o,offsetTop:a,subLineWidth:i/A,subLineHeight:r/A,maxWidth:this.getShowWidth(),maxHeight:this.getShowHeight()}}}}},{key:"renderLayoutGrid",value:function(e,t,n,i,r,o,a){var A=this.pdfViewer.getLayoutGrid();if(A&&Ni(A.unit)){var s=e.canvas.width,c=e.canvas.height;e.getImageData(0,0,1,1);var u=A.color,l=u.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/)||[u,127,127,255],d=+l[1],h=+l[2],f=+l[3],p=.67,g="rgba("+(d+(255-d)*p)+","+(h+(255-h)*p)+","+(f+(255-f)*p)+","+(+l[4]||1)+")",v=this.formatGridOptions(A),m=v.lineWidth,y=v.lineHeight,b=v.offsetLeft,w=v.offsetTop,k=v.subLineWidth,x=v.subLineHeight,_=Math.abs((i-b)%m-m)%m,P=Math.abs((r-w)%y-y)%y,D=Math.abs((i-b)%k-k)%k,C=Math.abs((r-w)%x-x)%x,S=s,I=c;for(i=Math.max(0,i),r=Math.max(0,r),e.beginPath(),e.strokeStyle=g,e.lineWidth=1;D<S;)e.moveTo(D,0),e.lineTo(D,I),D+=k;for(;C<I;)e.moveTo(0,C),e.lineTo(S,C),C+=x;for(e.stroke(),e.beginPath(),e.strokeStyle=u;_<S;)e.moveTo(_,0),e.lineTo(_,I),_+=m;for(;P<I;)e.moveTo(0,P),e.lineTo(S,P),P+=y;e.stroke()}}},{key:"getTextRectsAtRect",value:function(e){var t,n=this;return this.getPDFPage().then((function(i){return(t=i).reverseDeviceRect(e,n.scale,n.rotate)})).then((function(e){return t.getTextRectsAtRect(e)}))}},{key:"renderArticles",value:function(e){var t=this;this.doc&&this.doc.hasArticle()&&(e&&e.length>0?Promise.resolve(e):this.doc.getPdfArticle().getArticleList()).then((function(e){e.forEach((function(e){(e.children||[]).forEach((function(n){t.renderArticle(e,n)}))}))}))}},{key:"renderArticle",value:function(e,t){var n=this.articleBeads.hasOwnProperty(t.objNum);t.pageIndex===this.index&&(n?this.articleBeads[t.objNum].updateRender(e,t):this.articleBeads[t.objNum]=new po(this,e,t))}},{key:"getSignaturePDFRect",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRotation(),o=this.getScale(),a={},A=this.$handler.find("#".concat(e));if(!A.length)return Promise.resolve();var s=A.find("canvas")[0].width+2,c=A.find("canvas")[0].height+2;90===r||270===r?(n=s,t=c):(t=s,n=c),a.top=parseFloat(A.css("top")),a.left=parseFloat(A.css("left")),a.right=a.left+t,a.bottom=a.top+n;var u="".concat(a.top,"_").concat(a.left,"_").concat(a.right,"_").concat(a.bottom),l=JSON.parse(localStorage.getItem("device_rect_map")||"{}"),d=(0,b._)({},l,i);return Object.keys(d).length&&u in d?Promise.resolve(d[u]):this.getPDFPage().then((function(e){var t=e.reverseDeviceRect(a,o,r);i[u]=t;var n=(0,b._)({},l,i);return localStorage.setItem("device_rect_map",JSON.stringify(n)),t}),(function(){return Promise.resolve()}))}}],[{key:"getDefaultName",value:function(){return"pdfPageRender"}}]),n}(ne);const Qo=Xo;function Zo(e){return JSON.parse(JSON.stringify(e)).reduce((function(e,t){if(2===t.length){for(var n=[],i=t[0];i<t[1];i++)n.push(i);t=n}return e.concat(t)}),[])}var ea=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"viewMode",void 0),(0,X._)(this,"executor",void 0),this.viewMode=t,U.Lazy.property(this,"executor",(function(){return new U.ThrottleAsyncTaskExecutor(80)}))}return(0,P._)(e,[{key:"getPageCount",value:function(){var e=this.getPDFDocRender();if(!e)return 0;var t=e.getPDFDoc();return t?t.getPageCount():0}},{key:"getPDFDocRender",value:function(){return this.viewMode.docRender}},{key:"onKeyReleased",value:function(e){return!1}}]),e}(),ta=function(){function e(t){(0,_._)(this,e),this.docRender=t,t.$ui.addClass("fv__view-mode"),this.pageDOMs=[],this.shortcutEventHandler=this.generateShortcutEventHandler()}return(0,P._)(e,[{key:"getItems",value:function(){return this.pageDOMs}},{key:"into",value:function(e,t){this.pageDOMs=t;var n=document.createDocumentFragment();"function"==typeof n.append?n.append.apply(n,t):t.forEach((function(e){n.appendChild(e)})),e.innerHTML="",e.appendChild(n)}},{key:"updatePageDOMs",value:function(e){this.pageDOMs=e}},{key:"renderViewMode",value:function(e,t,n,i,r){}},{key:"afterRenderVisiblePages",value:function(){}},{key:"jumpToPage",value:function(e,t){t.x,t.y}},{key:"getFitHeight",value:function(e){}},{key:"getFitWidth",value:function(e){}},{key:"getVisibleIndexes",value:function(){return this.docRender.getVisiblePageIndexes()}},{key:"getCurrentPageIndex",value:function(){return 0}},{key:"getPrevPageIndex",value:function(){return Math.max(0,this.getCurrentPageIndex()-1)}},{key:"getNextPageIndex",value:function(){var e=this.docRender.getPDFDoc().getPageCount();return Math.min(e-1,this.getCurrentPageIndex()+1)}},{key:"out",value:function(){this.docRender=null,this.pageDOMs=[]}},{key:"generateShortcutEventHandler",value:function(){}},{key:"getShortcutEventHandler",value:function(){return this.shortcutEventHandler}}],[{key:"getName",value:function(){}}]),e}();const na=ta;n(3138);function ia(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e&&(e=parseFloat(e)),isFinite(e)?e:t}var ra=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"onKeyPressed",value:function(e){var t=this,n=this.viewMode,i=n.fixedVerticalPosition;switch(e.command){case bo.JUMP_TO_FIRST_PAGE:return this.executor.exec((function(){return t.jumpToFirstPage()})),!0;case bo.JUMP_TO_LAST_PAGE:return this.executor.exec((function(){return t.jumpToLastPage()})),!0;case bo.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec((function(){return n.jumpToPrevPage()})),!0;case bo.JUMP_TO_NEXT_PAGE:return this.executor.exec((function(){return n.jumpToNextPage()})),!0}if(i)switch(e.command){case bo.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case bo.ARROW_UP:return this.executor.exec((function(){return n.jumpToPrevPage()})),!0;case bo.SCROLL_TO_NEXT_VISIBLE_AREA:case bo.ARROW_DOWN:return this.executor.exec((function(){return n.jumpToNextPage()})),!0}else{var r=n.computePageMetadata(n.currentPageIndex);if(!r)return!1;var o=n.scrollWrap,a=r.pageHeight,A=r.visibleBoxHeight,s=r.visibleBoxWidth,c=r.scrollTop,u=n.scrollWrap.getScrollTop(),l=80;switch(e.command){case bo.SCROLL_TO_PREVIOUS_VISIBLE_AREA:case bo.SCROLL_VIEWER_SCROLLBAR_UP:l=A;case bo.ARROW_UP:return this.executor.exec((function(){if(u>c){var e=u-c;return e=Math.min(l,e),o.scrollBy(0,-e,"smooth"),Promise.resolve()}return n.jumpToPrevPage()})),!0;case bo.SCROLL_TO_NEXT_VISIBLE_AREA:case bo.SCROLL_VIEWER_SCROLLBAR_DOWN:l=A;case bo.ARROW_DOWN:return this.executor.exec((function(){if(u>=c+(a-A))return n.jumpToNextPage();if(u>=c){var e=a-(u-c)-A;e=Math.min(e,l),o.scrollBy(0,e,"smooth")}return Promise.resolve()})),!0;case bo.SCROLL_VIEWER_SCROLLBAR_LEFT:return o.scrollBy(-s,0,"smooth"),!0;case bo.SCROLL_VIEWER_SCROLLBAR_RIGHT:return o.scrollBy(s,0,"smooth"),!0}}return!1}},{key:"jumpToFirstPage",value:function(){return this.viewMode.jumpToPage(0,{x:0,y:0})}},{key:"jumpToLastPage",value:function(){var e=this.getPageCount();return this.viewMode.jumpToPage(e-1,{x:0,y:0})}}]),n}(ea),oa="up",aa="down",Aa="left-top",sa="left-bottom",ca=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n),(i=t.call(this,e)).currentPageIndex=0,i.scrollWrap=i.docRender.viewerRender.scrollWrap,i.lastScale=null,i.isZoomin=!1,i.fixedVerticalPosition=!1,i.currentPageOffset=0,i.rerenderViewExecutor=new U.DebounceAsyncTaskExecutor(100),i.rerenderPageExecutor=new U.DebounceAsyncTaskExecutor(10),i.scrollEventExecutor=new U.DebounceAsyncTaskExecutor(100),i.dragScrollbarEventExecutor=new U.ThrottleAsyncTaskExecutor(50,!0),i.queuedDragScrollbarEventExecutor=new U.QueuedAsyncTaskExecutor,i.mouseWheelExecutor=new U.QueuedAsyncTaskExecutor,i.jumpPageExecutor=new U.DebounceAsyncTaskExecutor,i.unbindScrollEvent=Gi,i.unbindMouseEvent=Gi,i.unbindWheelEvent=Gi,i.allowHandleScrollOnWheel=!1,i.isMouseDownOnScrollbar=!1,i.handledWheel=!1,i.instanceId=or(),i.diffJumpPage=i.diffJumpPage.bind((0,k._)(i)),i.forceUpdatePageContainer=i.forceUpdatePageContainer.bind((0,k._)(i)),i.currentScrollDirection;var r=i.scrollWrap.getScrollHost();r===window&&(r=document.documentElement);var o=function(e){var t=e.clientX,n=i.getCurrentVisibleBoxRect(),o=getComputedStyle(r),a=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.borderRightWidth)||0),A=r.offsetWidth,s=A-r.clientWidth-a;i.isMouseDownOnScrollbar=t>=A-s+n.left},a=function(e){i.isMouseDownOnScrollbar=!1};return r.addEventListener("mousedown",o,{capture:!0}),window.addEventListener("mouseup",a,{capture:!0}),i.unbindMouseEvent=function(){r.removeEventListener("mousedown",o,{capture:!0}),window.removeEventListener("mouseup",a,{capture:!0})},i}return(0,P._)(n,[{key:"diffJumpPage",value:function(){var e=(new Date).getTime(),t=e;return isNaN(this.countNum)?(this.countNum=0,this.lastCountDateTime=e):(this.countNum++,t=e-this.lastCountDateTime,this.lastCountDateTime=e),t}},{key:"getPDFPageRender",value:function(e){return this.docRender.pagesRender.pageRenders[e]}},{key:"into",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentPageIndex;this.docContainer=e,this.pageDOMs=t,e.classList.add("fv__viewer-single-view-mode");var i=this.pageDOMs[n],r=e.childNodes;if(r.length>1){if(U.isIE)for(var o=r.length-1;o>=0;o--)e.removeChild(r[o]);else e.innerHTML="";e.appendChild(i)}else 1===r.length?e.contains(i)||e.replaceChild(i,r[0]):e.contains(i)||e.appendChild(i);this.renderPageContainer(),this.scrolledToPage(n),this.bindScrollEvent(),this.bindWheelEvent(),this.docRender.pdfViewer.eventEmitter.on(de.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(de.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.on(de.pagesInserted,this.forceUpdatePageContainer)}},{key:"out",value:function(){this.pageDOMs.forEach((function(e){e.style.top&&(e.style.top="")})),this.docRender.pdfViewer.eventEmitter.off(de.pageAdded,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(de.pageRemoved,this.forceUpdatePageContainer),this.docRender.pdfViewer.eventEmitter.off(de.pagesInserted,this.forceUpdatePageContainer),this.unbindScrollEvent(),this.unbindWheelEvent(),this.unbindMouseEvent(),this.rerenderViewExecutor.cancel(),this.rerenderPageExecutor.cancel(),this.jumpPageExecutor.cancel(),this.scrollEventExecutor.cancel(),this.mouseWheelExecutor.cancel(),this.dragScrollbarEventExecutor.cancel(),this.queuedDragScrollbarEventExecutor.cancel(),this.resetCurrentPageDom(),this.enableScroll(),this.docContainer.classList.remove("fv__viewer-single-view-mode"),this.isMouseDownOnScrollbar=!1,this.docContainer.style.height=""}},{key:"rebindScrollEvent",value:function(){this.bindScrollEvent()}},{key:"forceUpdatePageContainer",value:function(){this.renderPageContainer(!0)}},{key:"updateScrollPosition",value:function(){var e=this,t=this.currentPageIndex,n=this.pageDOMs[t],i=function(t){var i=e.scrollWrap.getScrollTop();n.style.cssText+="top: ".concat(t.pageOffset+i,"px")};if(!this.isPageRendered(t))return this.computePageMetadataAsync(t).then(i);i(this.computePageMetadata(t))}},{key:"keepPagePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.fixedVerticalPosition||e)return this.updateScrollPosition()}},{key:"isValidCurrentPageIndex",value:function(){var e=this.docRender;if(!e)return!1;var t=e.pagesRender;if(!t)return!1;var n=t.pageRenders;if(!n)return!1;var i=this.currentPageIndex;return i>=0&&i<n.length}},{key:"bindScrollEvent",value:function(){var e=this;this.unbindScrollEvent();var t=this.scrollWrap.getScrollTop();this.unbindScrollEvent=this.scrollWrap.addScrollEventListener((function(n){if((e.allowHandleScrollOnWheel||(e.allowHandleScrollOnWheel=!0,e.isMouseDownOnScrollbar||!U.isChrome&&!U.isChromiumEdge))&&e.isValidCurrentPageIndex()){var i=e.keepPagePosition(),r=function(){var n=e.scrollWrap.getScrollTop(),i=t;if(n>i?e.currentScrollDirection=aa:n<i&&(e.currentScrollDirection=oa),e.isMouseDownOnScrollbar)e.queuedDragScrollbarEventExecutor.exec((function(){return t=n,e.handleDragScrollbar(e.scrollWrap.getScrollTop(),e.currentScrollDirection)}));else{var r=!1;switch(e.currentScrollDirection){case aa:r=e.isBottomOutOfBoundsOnWheel();break;case oa:r=e.isTopOutOfBoundsOnWheel()}if(!r)return t=n,e.handleWheel(e.scrollWrap.getScrollTop(),e.currentScrollDirection);var o=e.handleWheel(n,e.currentScrollDirection);e.scrollEventExecutor.exec((function(){return o}))}};(0,I._)(i,Promise)?i.then(r):r()}}))}},{key:"bindWheelEvent",value:function(){var e=this;this.unbindWheelEvent();var t=function(t){if(!U.keyboardStatus.isCtrlDown){e.allowHandleScrollOnWheel=!1;var n,i=t.deltaY;if(i<0)n=oa;else{if(!(i>0))return;n=aa}e.currentScrollDirection=n,e.fixedVerticalPosition?(t.preventDefault(),e.keepPagePosition(),e.mouseWheelExecutor.exec((function(){switch(n){case aa:return e.jumpToNextPage();case oa:return e.jumpToPrevPage()}return Re}))):U.keyboardStatus.isShiftDown||!U.isChrome&&!U.isChromiumEdge||(e.allowHandleScrollOnWheel=!0)}},n=this.scrollWrap.getScrollHost();n.addEventListener("wheel",t,{passive:!1}),this.unbindWheelEvent=function(){n.removeEventListener("wheel",t,{passive:!1})}}},{key:"handleDragScrollbar",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===oa)return this.handleDragUp(e);if(t===aa)return this.handleDragDown(e)}return Re}},{key:"handleWheel",value:function(e,t){if(this.fixedVerticalPosition){var n=this.computePageIndex(e);if(n!==this.currentPageIndex)return this.scrolledToPage(n,t)}else{if(t===oa)return this.handleWheelUp(e);if(t===aa)return this.handleWheelDown(e)}return Re}},{key:"handleWheelUp",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().top>=n.top)return this.jumpToPrevPage()}},{key:"handleWheelDown",value:function(e){this.handledWheel=!0;var t=this.getPDFPageRender(this.currentPageIndex),n=this.getCurrentVisibleBoxRect();if(t.$element[0].getBoundingClientRect().bottom<n.bottom)return this.jumpToNextPage()}},{key:"isBottomOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().bottom<n.bottom}},{key:"isTopOutOfBoundsOnWheel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPageIndex,t=this.getPDFPageRender(e),n=this.getCurrentVisibleBoxRect();return t.$element[0].getBoundingClientRect().top>n.top}},{key:"handleDragUp",value:function(e){var t=this.computePageMetadata(this.currentPageIndex);if(t){var n=t.pageTop,i=t.visibleBoxHeight,r=this.pageDOMs[this.currentPageIndex],o=n-i;if(e>o&&e<n)r.style.cssText+="top: ".concat(e,"px");else if(e<o){var a=this.computePageIndex(e);return this.jumpToPage(a,oa)}return Re}}},{key:"handleDragDown",value:function(e){var t=this.computePageIndex(e);if(t!==this.currentPageIndex)return this.jumpToPage(t,aa);var n=this.currentPageIndex,i=this.scrollWrap.getScrollTop(),r=this.computePageMetadata(n);if(r){var o=r.scrollTop,a=r.pageHeight,A=r.visibleBoxHeight;if(i>o+a-A&&this.pageDOMs.length>1){var s=i+A-a;this.pageDOMs[n].style.cssText+="top: ".concat(s,"px")}return Re}}},{key:"doJumpOnScroll",value:function(e){var t=this,n=function(n){var i=n.pageHeight-n.visibleBoxHeight;return t.jumpToPage(e,{y:i},!1).then((function(){t.docRender.getPDFPageRender(n.pageIndex).renderLayout()}))};return this.isPageRendered(e)?n(this.computePageMetadata(e)):this.computePageMetadataAsync(e).then(n)}},{key:"jumpToPage",value:function(e,t){var n=this,i=this.docRender.getPDFDoc().getPageCount();if(e<0||e>=i)throw new Error("Illegal page index value: "+e);var r=function(){return n.unbindScrollEvent(),n.computePageMetadataAsync(e).then((function(i){n.currentPageIndex=e;var r=n.waitForScrollEnd();try{n.rerenderPage(i),n.scrollToPage(i,t),n.docRender.setCurrentPageIndex(e)}finally{return r.finally((function(){n.currentPageIndex=e,n.rebindScrollEvent()}))}}))};return e===this.currentPageIndex?r():this.jumpPageExecutor.exec(r)}},{key:"waitForScrollEnd",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=(0,U.createDeferred)(),r=this.scrollWrap.addScrollEventListener((function(n){n.isMock||(clearTimeout(e),e=setTimeout((function(){r(),i.resolve(),clearTimeout(e)}),t))}));return n&&(e=setTimeout((function(){r(),i.resolve(),clearTimeout(e)}),t)),i.promise}},{key:"jumpPageByWheelOnFixedPosition",value:function(e){var t=this;if(this.fixedVerticalPosition)return this.mouseWheelExecutor.exec((function(){var n,i;switch(e){case aa:n=t.getNextPageIndex(),i=Aa;break;case oa:n=t.getPreviousPageIndex(),i=sa;break;default:return}if(n!==t.currentPageIndex)return t.unbindScrollEvent(),t.computePageMetadataAsync(index).then((function(e){t.currentPageIndex=index;var n=t.waitForScrollEnd(0,!1);try{t.rerenderPage(e),t.scrollToPage(e,i),t.docRender.setCurrentPageIndex(index)}finally{return n.finally((function(){t.currentPageIndex=index,t.rebindScrollEvent()}))}}))}))}},{key:"jumpToNextPage",value:function(){var e=this.getNextPageIndex();return e===this.currentPageIndex?Re:this.jumpToPage(e)}},{key:"jumpToPrevPage",value:function(){var e=this.getPrevPageIndex();return e===this.currentPageIndex?Re:this.jumpToPage(e,sa,!1)}},{key:"formatPosition",value:function(e,t){var n=Math.max(0,e.pageHeight-e.visibleBoxHeight),i=Math.max(0,e.pageWidth-e.visibleBoxWidth);switch(t){case sa:return{y:n};case Aa:return{};case"right-top":return{x:i};case"right-bottom":return{x:i,y:n}}return t}},{key:"scrolledToPage",value:function(e,t){var n=this;this.currentPageIndex=e;var i=function(i){i&&(n.rerenderPage(i),n.renderPagePosition(i,t),n.docRender.setCurrentPageIndex(e))};return this.isPageRendered(e)?(i(this.computePageMetadata(e)),Re):this.computePageMetadataAsync(e).then(i)}},{key:"resetCurrentPageDom",value:function(){this.currentPageOffset=0;var e=this.pageDOMs[this.currentPageIndex];e&&(e.style.top="")}},{key:"rerenderPage",value:function(e){var t=this;if(e){var n=e.pageIndex,i=e.pageWidth,r=e.pageHeight,o=e.pageTop,a=e.visibleBoxHeight,A=e.visibleBoxWidth,s=e.refresh,c=this.pageDOMs[n],u=this.docContainer;if(n!==this.currentPageIndex||s||!c.parentElement){var l=u.childNodes;if(l.length>1){if(U.isIE)for(var d=l.length-1;d>=0;d--)u.removeChild(l[d]);else u.innerHTML="";u.appendChild(c)}else 1===l.length?u.contains(c)||u.replaceChild(c,l[0]):u.contains(c)||u.appendChild(c);this.resetCurrentPageDom(),this.currentPageIndex=n}var h=i<=A,f=r<=a;this.fixedVerticalPosition=r<=a,c.style.cssText+="top: ".concat(o,"px;"),c.children[0].style.cssText+="width:".concat(i,"px;height:").concat(r,"px");var p=this.docRender,g=this.docRender.getPDFPageRender(n).pagesRender,v=p.rotation;return g.getPageScale(n,p.scale,v).then((function(e){t.docRender.pdfViewer.eventEmitter.emit(de.updateScrollableStatus,{disableHorizontal:h,disableVertical:f})}))}}},{key:"renderPagePosition",value:function(e,t){if(e){var n=e.pageHeight,i=e.pageTop,r=e.scrollTop,o=e.visibleBoxHeight,a=this.pageDOMs[e.pageIndex];if(this.fixedVerticalPosition)this.keepPagePosition();else{a.style.cssText+="top: ".concat(i,"px;");var A=this.scrollWrap.getScrollTop();if(t===aa){if(A>r+n-o){var s=A+o-n;a.style.cssText+="top: ".concat(s,"px")}}else if(t===oa){A>i-o&&A<i&&(a.style.cssText+="top: ".concat(A,"px"))}else{var c=a.offsetTop;c>A?a.style.cssText+="top: ".concat(A,"px"):c+n<A+o&&(a.style.cssText+="top: ".concat(A+o-n,"px"))}}}}},{key:"scrollToPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.visibleBoxHeight,r=e.visibleBoxWidth,o=e.pageHeight,a=e.pageWidth,A=e.scrollTop,s=e.pageTop,c=this.formatPosition(e,t),u=c.x,l=void 0===u?this.scrollWrap.getScrollLeft():u,d=c.y,h=void 0===d?0:d;o<=i&&(h=0),a<r&&(l=0);var f,p,g=l;p=o>=i?s+(o-i):A,f=Math.min(A+Math.max(0,h),p),this.scrollWrap.scrollTo(g,f,n?"smooth":"auto")}},{key:"computePageMetadataAsync",value:function(e){var t=this,n=this.docRender,i=n.pagesRender.pageRenders[e],r=n.scale,o=n.rotation;return this.isPageRendered(e)?i.computePageSize(r,o).then((function(n){return t.computePageMetadata(e)})):i?i.computePageSize(r,o).then((function(){var n=t.computePageMetadata(e);return t.docContainer.style.cssText+="height: ".concat(n.containerHeight,"px"),n})):Promise.resolve()}},{key:"isPageRendered",value:function(e){var t=this.docRender.pagesRender.pageRenders[e];if(!t)return!1;var n=t.getShowHeight();return"number"==typeof n&&!isNaN(n)&&isFinite(n)}},{key:"computePageMetadata",value:function(e){var t,n,i=null===(n=this.docRender)||void 0===n||null===(t=n.pagesRender)||void 0===t?void 0:t.pageRenders[e];if(i){var r=this.scrollWrap.getHeight(),o=this.scrollWrap.getWidth(),a=i.getShowHeight(),A=i.getShowWidth(),s=this.computeScrollTop(e),c=this.computeContainerHeight(e,s),u=.5*Math.max(0,r-a);return{visibleBoxHeight:r,visibleBoxWidth:o,pageIndex:e,pageHeight:a,pageWidth:A,containerHeight:c,pageTop:s+u,scrollTop:s,pageOffset:u,occupiedHeight:Math.max(r,a)}}}},{key:"computeScrollTop",value:function(e){for(var t=this.scrollWrap.getHeight(),n=this.docRender.pagesRender.pageRenders,i=0,r=0,o=0;o<e;o++){var a=n[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:t),r+=a,i+=Math.max(t,a)}return i}},{key:"computePageIndex",value:function(e){for(var t=this.docRender.pagesRender.pageRenders,n=this.scrollWrap.getHeight(),i=0,r=0,o=0;o<t.length;o++){var a=t[o].getShowHeight();this.isPageRendered(o)||(a=o>0?r/o:n);var A=Math.max(a,n);if(e>=i&&e<i+A)return o;r+=a,i+=A}return-1}},{key:"computeContainerHeight",value:function(e,t){var n=this.scrollWrap.getHeight(),i=this.docRender.pagesRender&&this.docRender.pagesRender.pageRenders,r=t;if(i)for(var o=e;o<i.length;o++){var a=i[o].getShowHeight();("number"!=typeof a||isNaN(a))&&(a=o>0?r/o:r),r+=Math.max(n,a)}return U.isMobile&&(r+=10),r}},{key:"renderViewMode",value:function(e){var t=this;if(e.index===this.currentPageIndex){var n=this.computePageMetadata(e.index),i=e.getScale();null==this.lastScale?this.isZoomin=!1:this.isZoomin=this.lastScale<i,this.lastScale=i,n.refresh=!0,this.rerenderPage(n),this.renderPagePosition(n)}this.rerenderViewExecutor.exec((function(){t.renderPageContainer()}))}},{key:"renderPageContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.computeContainerHeight(0,0);this.docContainer.style.cssText+="height: ".concat(t,"px"),this.keepPagePosition(e)}},{key:"disableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(de.disableScroll,e)}},{key:"enableScroll",value:function(e){this.docRender.pdfViewer.eventEmitter.emit(de.enableScroll,e)}},{key:"getFitWidth",value:function(e){var t=this.scrollWrap,n=getComputedStyle(this.pageDOMs[e]);return t.getWidth()-ia(n.marginLeft)-ia(n.marginRight)}},{key:"getFitHeight",value:function(e){return this.scrollWrap.getHeight()}},{key:"getVisibleIndexes",value:function(){return[this.currentPageIndex]}},{key:"getCurrentPageIndex",value:function(){return this.currentPageIndex}},{key:"getScrollHostElement",value:function(){var e=this.scrollWrap.getScrollHost();return e===window?document.body:e}},{key:"getCurrentVisibleBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window||e===document.body||e===document.documentElement){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;return{x:0,y:0,width:t,height:n,left:0,right:t,top:0,bottom:n}}return e.getBoundingClientRect()}},{key:"generateShortcutEventHandler",value:function(){return new ra(this)}}],[{key:"getName",value:function(){return"single-page-view-mode"}}]),n}(na),ua=(U.LoggerFactory.getLogger("PDFPagesRender"),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;(0,_._)(this,n),(o=t.call(this,r)).name=n.getDefaultName(),o.$element=e.parent(),o.$ui=e,o.pageDOMs=[],o.doc=i,o.docRender=r;var a=r.viewerRender.ViewMode;return o.viewMode=new a(r),o.viewerRender=r.viewerRender,o.pdfViewer=o.viewerRender.pdfViewer,o.pageRenders=[],o.scale=1,o.rotate=0,o.neverRendered=!0,o.minScale=+o.pdfViewer.config.minScale,o.maxScale=+o.pdfViewer.config.maxScale,o.isPageDOMsLoaded=!1,o.pdfViewer.eventEmitter.on(de.layerVisibleChange,o.layerVisibleChange=function(e){o.doc===e&&(o.setRenderFlags(2),o.renderVisiblePages().catch((function(e){0})),o.pageRenders.forEach((function(e){e.page&&e.rebuildAnnots(e.scale,e.rotate)})))}),o.pdfViewer.eventEmitter.on(de.imageAdded,o.imageAdded=function(e){var t=o.viewMode.getVisibleIndexes(),n=e.getIndex();if(-1!==t.indexOf(n)){var i=o.pageRenders[n];i&&i.redrawContent(!0).then((function(e){o.setRenderFlags(2),o.renderVisiblePages()}))}}),o.pdfViewer.eventEmitter.on(de.watermarkAdded,o.watermarkAdded=o.imageAdded),o.pdfViewer.eventEmitter.on(de.watermarkRemoved,o.watermarkRemoved=function(e){o.viewMode.getVisibleIndexes().forEach((function(e){var t=o.pageRenders[e];t&&t.redrawContent(!0).then((function(e){o.setRenderFlags(2),o.renderVisiblePages()}))}))}),o.pdfViewer.eventEmitter.on(de.graphicsUpdated,o.graphicsUpdated=function(e){var t=o.viewMode.getVisibleIndexes(),n=e.getIndex();-1!==t.indexOf(n)&&(o.setRenderFlags(2),o.renderVisiblePages())}),o.pdfViewer.eventEmitter.on(de.pageAdded,o.pageAdded=function(e){var t=e.getIndex();o.addNewPageByIndex(t)}),o.pdfViewer.eventEmitter.on(de.pageMoved,o.pageMoved=function(e,t){o.movePageRender(e,t)}),o.pdfViewer.eventEmitter.on(de.pagesMoved,o.pagesMoved=function(e,t,n){o.movePagesRender(e,t,n)}),o.pdfViewer.eventEmitter.on(de.pageRemoved,o.pageRemoved=function(e){o.removePageByIndex(e);var t=o.pageRenders.length,n=o.viewMode.getCurrentPageIndex();if(n===e){var i=Math.min(n,t-1);o.docRender.goToPage(i),o.viewMode.currentPageIndex=i}}),o.pdfViewer.eventEmitter.on(de.pagesRemoved,o.pagesRemoved=function(e){var t=Zo(e).sort((function(e,t){return t-e})),n=o.viewMode.getCurrentPageIndex();t.forEach((function(e){var t=o.pageRenders[e];t&&(t.destroy(),o.pageRenders.splice(e,1),e<n&&n--)})),o.pageRenders.forEach((function(e,t){e.updateIndex(t)})),o.updatePageDOMs();var i=o.doc.getPageCount();n=Math.max(0,Math.min(n,i-1)),o.docRender.goToPage(n),o.viewMode.currentPageIndex=n}),o.pdfViewer.eventEmitter.on(de.importPages,o.importPages=function(e){o.importPagesByArray(e)}),o.pdfViewer.eventEmitter.on(de.pagesReplace,o.pagesReplace=function(e){var t=e.delPageRange,n=e.pages;t.sort((function(e,t){return t-e})).forEach((function(e){o.removePageByIndex(e)})),o.importPagesByArray(n)}),o.pdfViewer.eventEmitter.on(de.applyRedaction,o.applyRedaction=function(e){var t=o.pdfViewer;if(!1!==e){var n=t.getPDFDocRender(),i=n.pagesRender;if(!i)return;e.forEach((function(e){var t=e.pageIndex,i=e.removedAnnots;if(0!==i.length){var r=n.pagesRender.pageRenders[t];if(r&&r.annotsRender)for(var o=r.page.annots,a=o.length-1;a>=0;a--){var A=o[a];-1!==i.indexOf(A.objectNumber)&&(A.info.isDeleted=!0,o.splice(a,1))}}})),i.setRenderFlags(10),i.renderVisiblePages(),t.eventEmitter.emit(de.redactAnnotApplyed,(0,k._)(o))}}),o.pdfViewer.eventEmitter.on(de.flattened,o.flattened=function(e){o.setRenderFlags(10),o.renderVisiblePages()}),o.pdfViewer.eventEmitter.on(de.headerFooterUpdated,o.headerFooterUpdated=o.flattened),o.pdfViewer.eventEmitter.on(de.headerFooterAdded,o.headerFooterAdded=o.flattened),o}return(0,P._)(n,[{key:"setViewMode",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:return n=t.viewMode,i=n.getCurrentPageIndex(),r=t.scale,[4,t.docRender.getViewBoxCenter(!0,"topLeft")];case 1:if(o=E._.apply(void 0,[u.sent(),2]),a=o[0],A=o[1],n.out(),"fitVisible"==r&&-1!==["facing-page-view-mode"].indexOf(e.getName())&&(t.scale=r=1),t.docRender.isDestroyed)return[2];t.viewMode=new e(t.docRender),t.viewMode.into(t.$ui.get(0),t.pageDOMs,i),t.setRenderFlags(4),s=Object.keys(t.doc.getPageSizesSync()),u.label=2;case 2:return u.trys.push([2,5,,6]),c={pageIndex:a?a.getIndex():i,x:A[0],y:A[1]},[4,Promise.all([t.docRender.zoomTo(t.scale,c),t.loadPageSize(s,0)])];case 3:return u.sent(),[4,t.docRender.goToPage(i,{x:0,y:0})];case 4:return u.sent(),[3,6];case 5:return u.sent(),[3,6];case 6:return[2]}}))}))()}},{key:"getViewMode",value:function(){return this.viewMode}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.scale=t,this.rotate=n,this.createPagesStructure(),this.viewMode.pageDOMs.length||this.viewMode.into(this.$ui.get(0),this.pageDOMs),this.docRender.rendered(),Promise.resolve().then((function(t){return e.docRender.move()}))}},{key:"getScaleSyncOrNot",value:function(e,t,n,i){"fitVisible"!==n?e(this.getPageScaleSync(t,n,i)):this.getPageScale(t,n,i).then((function(t){e(t)}))}},{key:"movePageRender",value:function(e,t){var n=this,i=this.pageRenders[e];if(i){var r=i.$ui.parent(),o=this.pageRenders[t];if(o){var a=o.$ui.parent();e<t?r.insertAfter(a):r.insertBefore(a),this.pageRenders.splice(e,1),this.pageRenders.splice(t,0,i);for(var A=Math.min(e,t),s=Math.max(e,t),c=A;c<=s;c++)this.pageRenders[c].updateIndex(c);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}}}},{key:"movePagesRenderBAK",value:function(e,t){var n=this,i=e.filter((function(e){return e<t})),r=e.filter((function(e){return e>=t})),o=this.pageRenders.length,a=t===o,A=function(e,t){var i=n.pageRenders[e];if(i){var r=i.$ui.parent(),o=n.pageRenders[t];if(o){var a=o.$ui.parent();r.insertBefore(a)}}};i.reverse().forEach((function(e,i){var r=n.pageRenders[e];A(e,t-i),n.pageRenders.splice(e,1),n.pageRenders.splice(t-i-1,0,r)})),r.forEach((function(e,i){var r=n.pageRenders[e];A(e,t+i),n.pageRenders.splice(e,1),n.pageRenders.splice(t+i,0,r)}));for(var s=a?t-1:t,c=Math.min(Math.min.apply(null,e),s),u=Math.max(Math.max.apply(null,e),s),l=c;l<=u;l++)this.pageRenders[l].updateIndex(l);this.updatePageDOMs(),this.getScaleRatio().then((function(e){return n.renderVisiblePages(e).catch((function(e){0}))}))}},{key:"movePagesRender",value:function(e,t,n){var i=this,r=this.pageRenders.length;e.reduce((function(e,n){var o=i.pageRenders[n].$ui.parent();return e?o.insertAfter(e):""===e&&(t===r?o.insertAfter(i.pageRenders[r-1].$ui.parent()):o.insertBefore(i.pageRenders[t].$ui.parent())),o}),"");var o,a=this.pageRenders;e.map((function(e){return a[e]})).forEach((function(e,n){var i=a.indexOf(e);if(a.splice(i,1),0===n)i<t?a.splice(t-1,0,e):a.splice(t,0,e);else{var r=a.indexOf(o);a.splice(r+1,0,e)}o=e})),a.forEach((function(e,t){e.updateIndex(t)})),this.updatePageDOMs(),this.getScaleRatio().then((function(e){return i.renderVisiblePages(e).catch((function(e){0}))}))}},{key:"_updatePageRenders",value:function(e,t){var n=N()(V),i=n.get(0);if(this.pageRenders[e]){if(!t){var r=this.pageRenders[e].$ui.parent();n.insertBefore(r)}this.pageDOMs.splice(e,0,i)}else t||this.$ui.append(n),this.pageDOMs.push(i);var o=n.find(".fv__pdf-page-layout"),a=new Qo(o,e,this.doc,this);this.pageRenders.splice(e,0,a);for(var A=e+1;A<this.pageRenders.length;A++)this.pageRenders[A].updateIndex(A)}},{key:"addNewPageByIndex",value:function(e){var t=this,n=(0,I._)(this.viewMode,ca);return this._updatePageRenders(e,n),this.updatePageDOMs(),this.getScaleRatio().then((function(n){var i=t.pageRenders[e];if(i)return t.getScaleSyncOrNot((function(e){return i.updatePageDOMRect(e,t.rotate)}),e,n,t.rotate),t.renderVisiblePages(n).catch((function(e){0}))}))}},{key:"importPagesByArray",value:function(e){var t=this,n=(0,U.createDeferred)(),i=this.importPagesByArrayPromises=this.importPagesByArrayPromises||Promise.resolve();return this.importPagesByArrayPromises=i.finally((function(){var i=(0,I._)(t.viewMode,ca);return e.forEach((function(e){var n=e.getIndex();t._updatePageRenders(n,i);var r=t.pageRenders[n];r&&t.getScaleSyncOrNot((function(e){return r.updatePageDOMRect(e,t.rotate)}),n,t.scale,t.rotate)})),t.updatePageDOMs(),t.docRender.loadFormRender(!0).then((function(e){return t.setRenderFlags(8),t.renderVisiblePages(t.scale)})).then((function(){return n.resolve()})).catch((function(e){return n.reject()}))})),n.promise}},{key:"removePageByIndex",value:function(e){if(this.pageRenders[e]){var t=this.pageRenders.splice(e,1)[0];t.$ui.parent().remove().next(".fv__pdf-view-mode-item-split").remove(),t.destroy();for(var n=e;n<this.pageRenders.length;n++)this.pageRenders[n].updateIndex(n);this.pageDOMs.splice(e,1)}this.updatePageDOMs(),this.renderVisiblePages(this.scale).catch((function(e){0}))}},{key:"updatePageDOMs",value:function(){this.pageDOMs=this.pageRenders.map((function(e){return e.$element.get(0)})),this.viewMode.updatePageDOMs(this.pageDOMs)}},{key:"setRenderFlags",value:function(e){for(var t=this.pageRenders,n=0,i=t.length;n<i;n++)t[n].updateRenderFlags(e)}},{key:"loadPageSize",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;this.doc.getPageSize(e[i]);)i++;if(i==e.length)t=Promise.resolve();else{var r=e[i];t=this.doc.getPageSizes(r+n,7)}return t}},{key:"renderVisiblePages",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]||this.docRender.getScale(),arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isDestroyed)return Promise.resolve();var t;return this.renderingTask=(t=e.viewMode.getVisibleIndexes(),e.loadPageSize(t,-3).then((function(){return e.adjustRenderVisiblePages(e.scale,e.rotate)})).then((function(){e.viewMode&&(e.viewMode.afterRenderVisiblePages(),e.pdfViewer.eventEmitter.emit(de.visiblePagesRenderCompleted),e.renderingTask=null)})))}},{key:"adjustRenderVisiblePages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.viewMode,r=i.getVisibleIndexes();return this.renderPages(r,t,n).then((function(){if(i.docRender&&0!==i.pageDOMs.length)return i.getVisibleIndexes().filter((function(e){return-1===r.indexOf(e)})).length>0?e.adjustRenderVisiblePages(t,n):void 0}))}},{key:"renderPages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.docRender.getScale(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;if(this.isDestroyed)return Promise.resolve();var r=this.docRender.doc,o=this.renderPagesSerial;o&&o.end().catch((function(e){0})),o=this.renderPagesSerial=new pe;for(var a=0;t[a]>=0&&r.getPageSize(t[a]);)a++;var A=[];a<t.length&&A.push((function(e){return r.getPageSizes(t[a],t.length)}));for(var s=0,c=t.length;s<c;s++){var u=t[s];A.push(function(t,n){return function(){return e.getPageScale("fitVisible"===n?0:t,n,i).then((function(n){var r=e.pageRenders[t];if(!r)return Promise.resolve();var o=r.render(n,i).then((function(e){var t=r.$annotsContainer.get(0),n="fv__viewer-annot-container-hide";t.classList.contains(n)&&t.classList.remove(n)}));return e.pdfViewer.asyncRender?Promise.resolve():o})).catch((function(e){return Promise.resolve()}))}}(u,n))}return o.serial(A)}},{key:"renderPagesLayout",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;if(this.isDestroyed)return Promise.resolve();var i=this.renderPagesSerial;i&&i.end().catch((function(e){0})),i=this.renderPagesSerial=new pe;for(var r=0;this.doc.getPageSize(t[r++]););for(var o=[function(n){return e.doc.getPageSizes(t[r],t.length-r)}],a=0,A=t.length;a<A;a++){var s=t[a];o.push(function(t,n){return function(){return e.getPageScale(t,n).then((function(n){if(e.pageRenders[t])return e.pageRenders[t].renderLayout(n)}))}}(s,n))}return i.serial(o)}},{key:"destroy",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"destroy",this).call(this);for(var t=this.pageRenders.length;t--;)this.pageRenders[t].destroy();this.pageRenders=[],this.renderPagesSerial&&this.renderPagesSerial.end().catch((function(e){0})),this.viewMode.out(),this.viewMode=null,this.$ui.empty(),this.pageDOMs.length=0;var i=this.pdfViewer.eventEmitter;["actionAdd","actionRemove","layerVisibleChange","imageAdded","watermarkAdded","watermarkRemoved","graphicsUpdated","pageAdded","pagesInserted","pageMoved","pagesMoved","pageRemoved","pagesRemoved","importPages","applyRedaction","flattened","headerFooterUpdated","headerFooterAdded","pagesReplace","articleThreadUpdated","articleBeadAdded","articleBeadUpdated","updateZoomMode"].forEach((function(t){e[t]&&i.off(de[t],e[t]),e[t]=null})),this.renderPagesSerial&&this.renderPagesSerial.end(),this.renderPagesSerial=null}},{key:"renderViewMode",value:function(e){this.viewMode.renderViewMode(e)}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.getPDFPageRender(e))return this.viewMode.jumpToPage(e,{x:n,y:i})}},{key:"updatePagesDomSize",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isDestroyed)return Promise.resolve();var o=this.pdfViewer.getScrollWrap(),a=o.getHeight(),A=o.getWidth(),s=[],c=this.doc.isPageSameSize();this.pageRenders.forEach((function(t,n){var r=t.pageContentTiles;t.updateRenderFlags(7),t.page&&(t.page.clearDesignerAssitCache(),r&&r.clearCache());var u=i.getPageScale("fitVisible"===e||c?0:n,e,i.rotate),l=t.annotsRender;s.push(u.then((function(e){var s=4*e/3,c=i.doc,u=c.getPageSize(n);u||(u=c.getEstimatedPageSize(n));var d=u.width,h=u.height;switch(i.rotate/90){case 1:case 3:var f=d;d=h,h=f}t.scale=e,t.rotate=i.rotate;var p,g=r?r.renderedScale:1,v=s*U.dpr/g;if(p="scale("+v+")",!n&&i.viewMode.fixMargin){var m=c.getPageSizesSync(),y=Object.keys(m).reduce((function(e,t){return t=m[t],e.height=Math.max(t.height,e.height),e.width=Math.max(t.width,e.width),e}),{width:0,height:0}),b=y.width*s,w=y.height*s;switch(i.rotate/90){case 1:case 3:var k=b;b=w,w=k}i.viewMode.fixMargin(b,w),a==o.getHeight()&&A==o.getWidth()||i.viewMode.fixMargin(d*s,h*s)}t.setShowWidth(d*s),t.setShowHeight(h*s);t.$container.parent().css({width:d*s,height:h*s}).find(".fv__pdf-page-content-container").css("transform",p),l&&l.updateSize(e,i.rotate)})))}));var u,l=this;return Promise.all(s).then((u=(0,x._)((function(i){var s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:return r?[2,i]:!isNaN(e)||a==o.getHeight()&&A==o.getWidth()?[3,3]:(s=l.pdfViewer.customs.isFullScreen,(c=s)?[4,s()]:[3,2]);case 1:c=u.sent(),u.label=2;case 2:if(!(s=c))return[2,l.updatePagesDomSize(e,t,n,!0)];u.label=3;case 3:return[2,i]}}))})),function(e){return u.apply(this,arguments)}))}},{key:"zoomTo",value:function(e,t){var n=this;if(this.isDestroyed)return Promise.resolve();this.scale=e,this.doc.clearAllDesignerAssistCache();var i,r,o=[],a=t.pageIndex;if("device"==t.type)i=t;else{this.pageRenders[a];var A=this;o.push(this.getPageScale("fitVisible"===e?0:a,e,this.rotate).then((r=(0,x._)((function(e){var n,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,A.doc.getPageByIndex(a)];case 1:return n=o.sent(),r=n.getDevicePoint([t.x,t.y],e,A.rotate),i={x:r[0],y:r[1]},[2]}}))})),function(e){return r.apply(this,arguments)})))}return this.doc.isPageSameSize()?o.push(this.updatePagesDomSize(e,!1,this.viewMode.pageDOMs)):this.pageRenders.forEach((function(t){t.page?o.push(t.renderLayout(e,n.rotate)):(t.scale=e,t.rotate=n.rotate);var i=t.pageContentTiles;i&&i.clearCache()})),Promise.all(o).then((function(e){if(!n.isDestroyed){var r=t.pageIndex,o=n.getPDFPageRender(r);if(n.renderViewMode(o),n.pdfViewer.getScrollWrap().disabled)return n.pdfViewer.store.getCurrentValue("force-redraw")||n.pdfViewer.getScrollWrap().disable(0),Promise.resolve(n.viewMode.jumpToPage(r,i));var a=n.viewerRender.scrollWrap;return new Promise((function(e){n.pdfViewer.eventEmitter.once(de.afterRenderingVisiblePages,e);var t=a.getScrollTop(),o=a.getScrollLeft();n.viewMode.jumpToPage(r,i),requestAnimationFrame((function(){var n=a.getScrollTop(),i=a.getScrollLeft();n===t&&i===o&&e()}))}))}}))}},{key:"getScaleRatio",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.docRender.getScale(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.viewMode.getCurrentPageIndex();return n>=this.docRender.getPDFDoc().getPageCount()&&(n=this.docRender.getPDFDoc().getPageCount()-1),this.getPageScale(n,e,t)}},{key:"rotateTo",value:function(e){var t=this;(0,U.assertThat)((0,U.isValidRotationAngle)(e),"Illegal rotation angle: ".concat(e,", it should be 0,90,180 or 270")),this.rotate=(e%360+360)%360;var n=this.viewMode.getVisibleIndexes();return Promise.all(n.map((function(e){var n=t.pageRenders[e];return n.$annotsContainer.addClass("fv__viewer-annot-container-hide"),n.clearCanvasCache(!0),n.renderLayout(void 0,t.rotate)}))).then((function(e){t.setRenderFlags(7)})).then((function(e){return Promise.all(t.pageRenders.map((function(e){if(-1===n.indexOf(e.index))return e.renderLayout(void 0,t.rotate)})))})).finally((function(e){t.pdfViewer.eventEmitter.emit(de.fitWidthResizeViewport)}))}},{key:"adjustFitPage",value:function(e){var t,n,i=this.doc.getPageSize(e);return i&&(t=i.height,n=i.width),t||(t=(i=this.doc.getPageSize(0)).height,n=i.width),t/n>this.viewMode.getFitHeight(e)/this.viewMode.getFitWidth(e)?"fitHeight":"fitWidth"}},{key:"getPageScaleSync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,n)}},{key:"_getPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return n.doc.getPageSize(e)};if(i=(i%360+360)%360,"fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale)return Math.min(+t,this.maxScale);if(+t<=this.minScale)return this.minScale;if("fitWidth"===t){var o=r();if(o||(o=this.doc.getEstimatedPageSize(e)),o){if(!this.viewMode)return this.resolveScaleValue(1);var a=this.viewMode.getFitWidth(e),A=90===i||270===i?o.height:o.width;return this.resolveScaleValue(a/(A*(0,H.F2)(1)))}}else if("fitHeight"===t){var s=r();if(s||(s=this.doc.getEstimatedPageSize(e)),s){var c=90===i||270===i?s.width:s.height;return this.resolveScaleValue(this.viewMode.getFitHeight(e)/(c*(0,H.F2)(1)))}}return-1}},{key:"getEstimatedPageScaleSync",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._getPageScaleSync(e,t,i,(function(){return n.doc.getEstimatedPageSize(e)}))}},{key:"getPageScale",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotate;return this.viewMode&&this.doc?("fitHeight"===t&&(t=this.adjustFitPage(e)),+t>this.minScale?Promise.resolve(Math.min(+t,this.maxScale)):+t<=this.minScale?Promise.resolve(this.minScale):"fitWidth"===t?this.doc.getPageByIndex(e).then((function(t){if(!n.viewMode)return Promise.resolve(1);var r=n.viewMode.getFitWidth(e),o=90===i||270===i?t.getPxHeight():t.getPxWidth();return n.resolveScaleValue(r/o)})):"fitVisible"===t?this.doc.getPageByIndex(e).then((function(t){return t.calcPageContentBBox(Ct.CalcContentsBox).then((function(r){if(!n.viewMode)return Promise.resolve(1);var o=1,a=t.getRotation(),A=n.viewMode.getFitWidth(e);r&&void 0!==r.left&&r.left!==r.right&&r.top!==r.bottom&&(o=(o=1===a||3===a?t.info.mediaHeight/Math.abs(r.top-r.bottom):t.info.mediaWidth/Math.abs(r.right-r.left))>1.5?1.5:o);var s=90===i||270===i?t.getPxHeight():t.getPxWidth();return n.resolveScaleValue(A*o/s)}))})):"fitHeight"===t?Promise.all([this.viewMode.getFitHeight(e),this.pageRenders[e].getPDFPage().then((function(e){return 90===i||270===i?e.getPxWidth():e.getPxHeight()}))]).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];return n.resolveScaleValue(i/r)})):Promise.resolve(1)):Promise.resolve(1)}},{key:"resolveScaleValue",value:function(e){if(e=+e,!isFinite(e))throw new Error("The scale value must be valid number, but actual: ".concat(e));return Math.max(this.minScale,Math.min(this.maxScale,e))}},{key:"createPagesStructure",value:function(){var e=this;if(!this.pageDOMs.length){var t=this.doc.getPageCount(),n=function(){var e=document.createElement("div");e.innerHTML=V;var t=e.firstElementChild;return e.removeChild(t),t}(),i=Array(t).fill(0).map((function(e){return n.cloneNode(!0)}));i.forEach((function(t,n){var i=t.firstElementChild;e.pageRenders[n]||(e.pageRenders[n]=new Qo(N()(i),n,e.doc,e))})),this.pageDOMs=i,this.isPageDOMsLoaded=!0}}},{key:"getPDFPageRender",value:function(e){try{return this.pageRenders[e]}catch(e){return null}}},{key:"unActiveAnnotRender",value:function(){for(var e=this.pageRenders||[],t=e.length;t--;){e[t].unActiveAnnotRender()}}},{key:"moveTo",value:function(e){var t=this;return this.pagesEndRender(e),this.pdfViewer.eventEmitter.emit(de.beforeRenderingVisiblePages,e),this.renderPages(e).finally((function(){t.pdfViewer.eventEmitter.emit(de.afterRenderingVisiblePages,e)}))}},{key:"pagesEndRender",value:function(e){var t=this.pageRenders||[],n=t.length;if(!this.pdfViewer.keepCache){var i=this.pdfViewer.tileCache,r=e[0]||0,o=r-i;if(--r>-1)for(var a=r;a>=0;a--){var A=t[a];A&&A.invisibleRender(a<=o)}var s=e[e.length-1]||0,c=s+i;if(++s<n)for(var u=s;u<n;u++){var l=t[u];l&&l.invisibleRender(u>=c)}}}}],[{key:"getDefaultName",value:function(){return"pdfPagesRender"}}]),n}(ne));const la=ua;const da=function(){function e(t,n){(0,_._)(this,e),this.$ui=N()(t),this.docRender=n,this.viewerRender=n.viewerRender,this.pdfViewer=this.viewerRender.pdfViewer}return(0,P._)(e,[{key:"rendering",value:function(){this.closeLoadingFn=this.pdfViewer.viewerUI.loading(this.$ui.get(0))}},{key:"rendered",value:function(){this.closeLoadingFn&&this.closeLoadingFn(),this.$ui.empty()}},{key:"destroy",value:function(){this.$ui=null}}]),e}();var ha=function(){function e(t,n){(0,_._)(this,e),this.eCustom=t,this.pdfDocRender=n,this.doc=n.doc}return(0,P._)(e,[{key:"render",value:function(e){}},{key:"destroy",value:function(){this.pdfDocRender=null,this.doc=null}}]),e}(),fa=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4294967292;(0,_._)(this,e),this.permissions=t}return(0,P._)(e,[{key:"getValue",value:function(){return this.permissions}},{key:"checkPrint",value:function(){return this.permissions&en.print}},{key:"checkModify",value:function(){return this.permissions&en.modify}},{key:"checkExtract",value:function(){return this.permissions&en.extract}},{key:"checkAnnotForm",value:function(){return this.permissions&en.annotForm}},{key:"checkFillForm",value:function(){return this.permissions&en.fillForm}},{key:"checkExtractAccess",value:function(){return this.permissions&en.extractAccess}},{key:"checkAssemble",value:function(){return this.permissions&en.assemble}},{key:"checkPrintHigh",value:function(){return this.permissions&en.printHigh}},{key:"checkCannotModifyAny",value:function(){return 0==(1323&this.permissions)}},{key:"putCannotModifyAny",value:function(){return this.or(-1324)}},{key:"checkCannotModifyExcludeAssemble",value:function(){return 0==(299&this.permissions)}},{key:"putCannotModifyExcludeAssemble",value:function(){return this.or(-300)}},{key:"and",value:function(e){return this.permissions=this.permissions&e,this}},{key:"or",value:function(e){return this.permissions=this.permissions|e,this}}]),e}(),pa=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"],ga=["January","February","March","April","May","June","July","August","September","October","November","December"],va=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"MakeFixed",value:function(e,t){return(Array(t).join("0")+e).slice(-t)}},{key:"FormatDateTimeString",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,r=e.GetDate(t,i);n&&""!=n||(r=new Date),"Invalid Date"==r.toString()&&(r=new Date);for(var o="",a="",A=r.getFullYear(),s=r.getMonth()+1,c=r.getDate(),u=r.getHours(),l=r.getMinutes(),d=r.getSeconds(),h=0,f=0;h<n.length;){switch(a="",f=n[h]){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":if(n[h+1]!=f){switch(f){case"y":a+=f;break;case"m":a=s;break;case"d":a=c;break;case"H":a=u;break;case"h":a=u>12?u-12:u;break;case"M":a=l;break;case"s":a=d;break;case"t":a+=u>=12?"p":"a"}h++}else if(n[h+1]==f&&n[h+2]!=f){switch(f){case"y":a=this.MakeFixed(A-100*parseInt(A/100),2);break;case"m":a=this.MakeFixed(s,2);break;case"d":a=this.MakeFixed(c,2);break;case"H":a=this.MakeFixed(u,2);break;case"h":a=this.MakeFixed(u>12?u-12:u,2);break;case"M":a=this.MakeFixed(l,2);break;case"s":a=this.MakeFixed(d,2);break;case"t":a=u>=12?"pm":"am"}h+=2}else if(n[h+1]==f&&n[h+2]==f&&n[h+3]!=f)if("m"===f)h+=3,a+=pa[s-1];else h+=3,a+=f,a+=f,a+=f;else if(n[h+1]==f&&n[h+2]==f&&n[h+3]==f&&n[h+4]!=f)switch(f){case"y":a=A,h+=4;break;case"m":h+=4,a+=ga[s-1];break;default:h+=4,a+=f,a+=f,a+=f,a+=f}else h++,a+=f;break;default:h++,a+=f}o+=a}return o}},{key:"GetDate",value:function(e,t,n){t=(t=(t=t.replace("MM","ii")).replace("M","i")).toLowerCase();for(var i=new Date(e),r=new Date,o=r.getFullYear(),a=r.getMonth(),A=r.getDate(),s=0,c=0;c<t.length&&s<e.length;){switch(t[c]){case"y":for(var u="";"0"<=e[s]&&e[s]<="9";)u+=e[s],s++;for(;"y"==t[c];)c++;if(2===u.length)u="20"+u;o=parseInt(u);break;case"m":var l="";if("A"<=e[s]&&e[s]<="Z")for(;s<e.length&&e[s].match(/[a-zA-Z]/);)l+=e[s],s++;else for(;"0"<=e[s]&&e[s]<="9";)l+=e[s],s++;for(;"m"==t[c];)c++;switch(l.length){case 1:case 2:a=parseInt(l)-1;break;case 3:a=pa.indexOf(l);break;case 4:a=ga.indexOf(l)}break;case"d":for(var d="";"0"<=e[s]&&e[s]<="9";)d+=e[s],s++;for(;"d"==t[c];)c++;A=parseInt(d);break;case"i":for(var h="";"0"<=e[s]&&e[s]<="9";)h+=e[s],s++;for(;"i"==t[c];)c++;r.setMinutes(parseInt(h));break;case"h":for(var f="";"0"<=e[s]&&e[s]<="9";)f+=e[s],s++;for(;"h"==t[c];)c++;r.setHours(parseInt(f));break;case"s":for(var p="";"0"<=e[s]&&e[s]<="9";)p+=e[s],s++;for(;"s"==t[c];)c++;r.setSeconds(parseInt(p));break;case"t":for(var g="";e[s]&&e[s].match(/[AaPpMm]/);)g+=e[s],s++;for(;"t"==t[c];)c++;if("pm"==g.toLowerCase()){var v=r.getHours();v<12&&(v+=12),r.setHours(v)}else{12==r.getHours()&&r.setHours(0)}break;default:s++,c++}}1==a&&29==A&&o%4!=0&&(o&=4294967292),r.setFullYear(o),r.setMonth(a),r.setDate(A);var m=new Date;return Math.abs(i.getFullYear()-m.getFullYear())<Math.abs(r.getFullYear()-m.getFullYear())||Math.abs(i.getMonth()-m.getMonth())<Math.abs(r.getMonth()-m.getMonth())||Math.abs(i.getDate()-m.getDate())<Math.abs(r.getDate()-m.getDate())?i:r}},{key:"getMonth",value:function(e,t){switch(t){case"m":return e;case"F":return ga[e];case"M":return pa[e]}}},{key:"switchFormat",value:function(e,t){return"toLib"==t?e.replace("yyyy","Y").replace("yy","y").replace("dd","d").replace("HH","H").replace("hh","h").replace("MM","i").replace("M","i").replace("mmmm","F").replace("mmm","M").replace("mm","m").replace("ss","S").replace("tt","K"):e.replace("Y","yyyy").replace("y","yy").replace("d","dd").replace("H","HH").replace("h","hh").replace("i","MM").replace("F","mmmm").replace("M","mmm").replace("m","mm").replace("S","ss").replace("K","tt")}}]),e}(),ma=n(4953),ya=n.n(ma),ba=(n(799),n(7821),n(401),n(6741),n(2805),n(969),n(1844),n(6679),n(9088),["CreatePushButtonStateHandler","CreateCheckBoxStateHandler","CreateRadioButtonStateHandler","CreateComboBoxStateHandler","CreateListBoxStateHandler","CreateTextStateHandler","CreateSignStateHandler","CreateDateStateHandler","CreateImageStateHandler"]);!function(){function e(){(0,_._)(this,e),this.tasks=[]}(0,P._)(e,[{key:"appendTask",value:function(e,t){var n=this;this.tasks.push(e.bind(t)),this.runner||(setTimeout((function(){n.execute()}),10),this.runner=setInterval((function(e){n.execute()}),30))}},{key:"execute",value:function(){this.tasks.pop()(),0==this.tasks.length&&(clearInterval(this.runner),this.runner=0)}},{key:"destroy",value:function(){clearInterval(this.runner),delete this.tasks,this.dt&&this.dt.destroy()}}])}();var wa=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;(0,_._)(this,n),(r=t.call(this,i)).doc=e,r.docRender=i,r.$docContainer=i.$container,r.isRunningAction=!1;var o,a=e.getPDFForm();if(!a)return(0,Or._)(r);a.setActionHandler((function(e,t,n,i){return r.execAction("Field",e,t,n,i)}));var A=r.viewerEvents=(o={},(0,X._)(o,de.switchStateHandler,(function(e,t){r.blurControl()})),(0,X._)(o,de.tapPage,(function(){r.blurControl(),r.initTabParams()})),(0,X._)(o,de.tapAnnotation,(function(){r.blurControl()})),(0,X._)(o,de.openFileSuccess,(function(){r.control=null,r.initTabParams()})),(0,X._)(o,de.renderPageSuccess,(function(e){r.currentDocId!==e.doc.id&&r.initTabParams(),r.currentDocId=e.doc.id,r.afterPageRender&&(r.afterPageRender(),r.afterPageRender=null)})),(0,X._)(o,de.activeAnnotation,(function(e){var t=e.getAnnot();r.initTabParams(t)})),(0,X._)(o,de.tapField,(function(e){r.initTabParams(e)})),(0,X._)(o,de.spawnPageSuccess,(function(e){e.setActionHandler((function(e,t,n,i){return r.execAction("Field",e,t,n,i)}))})),(0,X._)(o,"change-language-success",(function(e){if(r.dt&&r.dt.isOpen){var t=r.switchToFlatpickrLocale(e),n=r.dt.input,i=Object.assign(r.dt.config,{locale:t}),o=r.dt.timeContainer.style;r.dt.close(),r.dt&&r.dt.calendarContainer&&r.dt.calendarContainer.remove(),r.dt=Object.assign(r.dt,ya()(n,i)),r.dt.timeContainer.style.cssText=o.cssText,r.dt.redraw(),r.dt.open(null,n),delete n._flatpickr}})),o);for(var s in A)r.pdfViewer.eventEmitter.on(s,A[s]);return r.runtimeHighlight=!0,r}return(0,P._)(n,[{key:"getEditType",value:function(){switch(this.pdfViewer.getStateHandlerManager().currentStateHandler.getStateName()){case"select-annotation":return 8;case"CreatePushButtonStateHandler":case"CreateImageStateHandler":return 1;case"CreateCheckBoxStateHandler":return 2;case"CreateRadioButtonStateHandler":return 3;case"CreateComboBoxStateHandler":return 4;case"CreateListBoxStateHandler":return 5;case"CreateTextStateHandler":case"CreateDateStateHandler":return 6;case"CreateSignStateHandler":return 7;default:return 0}}},{key:"usingHTML",value:function(e){var t,n=(t={},(0,X._)(t,pn.Unknown,""),(0,X._)(t,pn.PushButton,"pushButton"),(0,X._)(t,pn.CheckBox,""),(0,X._)(t,pn.RadioButton,"radioButton"),(0,X._)(t,pn.Text,"textField"),(0,X._)(t,pn.ListBox,"listBox"),(0,X._)(t,pn.ComboBox,"comboBox"),(0,X._)(t,pn.Sign,""),t)[e];return"canvas"===this.pdfViewer.config.annotRenderingMode[n]}},{key:"addTask",value:function(e,t){return this.doc.getPDFForm()?this.doc.getPDFForm().addTask(e,t):Promise.resolve(e())}},{key:"initJS",value:function(){var e=this.doc.getJsNameTree(),t="";for(var n in e)"!ADBE::0200_VersChkCode_XFACheck"!==n&&(t+=e[n]+"\n");var i=this.doc.action;i&&i.getScript&&(t+=i.getScript());var r=this.pdfViewer.JSEngine;r.initEvent(13,null,null,"Init",{doc:this.doc}),r.resetClosure(t);var o=this.doc.getPDFForm();if(o&&!o.isEmpty())return o.addTask().then((function(e){return o.setState("jsInited")}));o&&o.setState("jsInited")}},{key:"goPreviousOrNextWidget",value:function(e){var t=this,n=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName(),i=this.pdfViewer.getPDFPageRender(this.currentPageNumber).page;i&&i.getAnnotIdArrayByOrder().then((function(n){if(t.tabIndex+="previous"===e?-1:1,!(t.tabIndex<0||t.tabIndex>n.length-1)){var r=n[t.tabIndex];return i.getAnnotsByObjectNumArray([r])}t.goToPreviousOrNextPage(e)})).then((function(i){if(i){var r=i[0];if(r&&"widget"===r.getType())if("hand"===n){var o=r.getField();if(!o)return;var a=1===gn.isReadOnly(o.getFlags()),A=t.checkWidgetVisibleType(r);a||"hidden"===A||"hiddenButPrintable"===A?t.goPreviousOrNextWidget(e):(r.updateUI&&r.updateUI({type:"focus"}),t.pdfViewer.eventEmitter.emit("tab-active",r))}else"hand"!==n&&t.pdfViewer.eventEmitter.emit("tab-active",r);else t.goPreviousOrNextWidget(e)}}))}},{key:"goToPreviousOrNextPage",value:function(e){var t=this,n=this.doc.getPageCount(),i=this.currentPageNumber,r="previous"===e?i-1:i+1;r<0?r=n-1:r>=n&&(r=0),this.doc.getPageByIndex(r).then((function(e){return e.getAnnotIdArrayByOrder().then((function(t){var n=!1,i=!0,r=!1,o=void 0;try{for(var a,A=e.annots[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){if("widget"===a.value.getType()){n=!0;break}}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}return[t,n]}))})).then((function(i){var o=(0,E._)(i,2),a=o[0],A=o[1];if(t.currentPageNumber=r,A){if(t.tabIndex="previous"===e?a.length:-1,t.docRender.currentPageNumber===r)return void t.goPreviousOrNextWidget(e);t.docRender.goToPage(r,0,0,!1).then((function(){1===n?t.goPreviousOrNextWidget(e):t.afterPageRender=function(){return t.goPreviousOrNextWidget(e)}}))}else t.goToPreviousOrNextPage(e)}))}},{key:"setTabIndexByAnnotId",value:function(e){}},{key:"initTabParams",value:function(e){if(this.tabIndex=-1,this.currentPageNumber=this.docRender.currentPageNumber,e){var t=this,n=e.objectNumber,i=e.getPage();this.currentPageNumber=i.getIndex(),i.getAnnotIdArrayByOrder().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.tabIndex=e.indexOf(n)}))}}},{key:"checkWidgetVisibleType",value:function(e){var t=e.getFlags(),n=t&nn.print,i=t&nn.noView,r="".concat(t&nn.hidden,"_").concat(n,"_").concat(i);switch(r){case"0_4_0":r="visible";break;case"2_4_0":r="hidden";break;case"0_0_0":r="visibleButUnprintable";break;case"0_4_32":r="hiddenButPrintable"}return r}},{key:"showWigetInArea",value:function(e,t){var n=document.getElementsByClassName("fv__ui-pdfviewer")[0],i=e.annotsRender.getAnnotRender(t.getId()).component.$handler[0],r=i.getBoundingClientRect(),o=document.body.clientWidth,a=document.body.clientHeight;(o-r.x<r.width||r.x<r.width)&&(n.scrollLeft=i.offsetLeft),(a-r.y<r.height||r.y<r.height)&&(n.scrollTop=i.offsetTop)}},{key:"getNextStepWidget",value:function(e,t){var n=this.pageIndex;return t?this.getPreviousWidget(e,n):this.getNextWidget(e,n)}},{key:"getFilterAnnot",value:function(){var e=this,t={},n={},i=this.pdfViewer.currentPDFDoc.getPDFForm().fields,r=[];return i.map((function(e){return e.controls.map((function(e){return e.getWidgetAnnot()}))})).forEach((function(e){r=r.concat(e)})),Promise.all(r).then((function(i){return(i=i.sort((function(e,t){return e.getPage().getIndex()<t.getPage().getIndex()?-1:1}))).forEach((function(e,t){null==n[e.getPage().getIndex()]&&(n[e.getPage().getIndex()]=[]),n[e.getPage().getIndex()].push(e)})),Object.keys(n).forEach((function(i){var r=e.filterWidgets(n[i]);r.length>0&&(t[i]=r)})),t}))}},{key:"filterWidgets",value:function(e){var t=e.filter((function(e){return"widget"==e.getType()&&261!==e.getField().getFlags()}));return t=t.filter((function(e){var t=e.getFlags()&nn.hidden,n=e.getFlags()&nn.print,i=e.getFlags()&nn.noView;return!(gn.isReadOnly(e.getField().getFlags())||2==t&&4==n&&0==i||0==t&&4==n&&32==i)})),t=t.sort((function(e,t){return e.info.index<t.info.index?-1:1}))}},{key:"getPreviousWidget",value:function(e,t){var n=this,i={},r=Object.keys(e),o=e[t].findIndex((function(e){e.getField().getControlById(n.widget.getObjNum());return n.widget.getObjNum()==e.getObjNum()}));if(0==o){var a=r[r.length-1];if(t>0){var A=r.findIndex((function(e){return e==t}));t=r[A-=1]}else t=a;i=e[t][e[t].length-1]}else o>0&&o<=e[t].length-1&&--o,i=e[t][o];return i}},{key:"getNextWidget",value:function(e,t){var n=this,i={},r=Object.keys(e),o=e[t].findIndex((function(e){return n.widget.getObjNum()==e.getObjNum()}));if(o==e[t].length-1){var a=r[r.length-1];if(t<a){var A=r.findIndex((function(e){return e==t}));t=r[A+=1]}else t=0;i=e[t][0]}else o>=0&&o<e[t].length-1&&++o,i=e[t][o];return i}},{key:"destroy",value:function(){var e=this.viewerEvents;for(var t in e)this.pdfViewer.eventEmitter.off(t,e[t]),e[t]=null;this.viewerEvents=null,this.msgQueue&&(this.msgQueue.destroy(),delete this.msgQueue)}},{key:"setRuntimeHighlight",value:function(e){var t=".fv__ui-form-foreground:not(.form-field-readonly)";e&&this.pdfViewer.highlightControlsUI()?this.$docContainer.find(t).show():this.$docContainer.find(t).hide(),this.runtimeHighlight=!1}},{key:"setRuntimeHighlightColor",value:function(e,t,n,i){var r=this;[t,i].forEach((function(t,i){var o=".fv__ui-form-foreground"+(0==i?":not(.required)":".required");r.$docContainer.find(o).css("background-color",(0,U.colorConvertor)(0==i?e:n,"HTML",t))}))}},{key:"isReadOnly",value:function(){var e=this.docRender.getUserPermission().getValue();return!(32&e||256&e)}},{key:"isSameTarget",value:function(e){return this.control==e}},{key:"focusControl",value:function(e,t){var n=this;if(this.control!=e){if(e&&function(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return t.bottom<100||t.top>n}(e.$handler[0])){var i=e.annot,r=i.getPage().getIndex(),o=i.getRect();this.pdfViewer.getPDFDocRender().goToPage(r,{x:o.left,y:o.bottom,width:o.right-o.left,height:o.top-o.bottom},!0)}return(this.control&&this.control.annot?Promise.resolve(this.blurControl()):Promise.resolve(!1)).then((function(i){i&&!t||(n.control=e,e&&e.focus(t))}))}}},{key:"blurControl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(this.isRunningAction||this.control&&this.control.isOnFocus)){this.dt&&this.dt.close();var t=this.pdfViewer,n=t.getStateHandlerManager().getCurrentStates().getStateName();ba.indexOf(n)>-1?t.setHighlightControlsUI(!1):t.setHighlightControlsUI(t.highlightControls());var i=this.control;return this.control=null,i&&i.annot?(t.unActiveElement(i),i.blur(e,e)):void 0}}},{key:"setValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.getField(),r=i.getValue();i.setValueWithoutAction(t);var o={rc:!0},a=!0;t===r&&(a=!1);var A=!1,s=i.getAction(go.FieldKeyStroke);if(a&&s){if(o=this.execAction("Field",s,null,i,go.FieldKeyStroke,{change:t,willCommit:n}),!i.form||!i.doc)return Promise.resolve(!1);o&&-1!==o&&(o.rc?(o.changed||(o.change=t),i.setValueWithoutAction(o.change)):(A=!0,t=r))}if(A)return i.setValue(r).then((function(){return Promise.resolve(o.rc)}));if(s=i.getAction(go.FieldValueChanged),a&&s){if(o=this.execAction("Field",s,null,i,go.FieldValueChanged),!i.form||!i.doc)return Promise.resolve(!1);-1!==o&&(o.rc?(void 0===o.value&&(o.value=t),i.setValueWithoutAction(o.value)):A=!0)}return i.form&&i.doc?A?i.setValue(r).then((function(){return Promise.resolve(o.rc)})):a?i.syncValue(i.getValue(),this).then((function(){return i.form?(i.form.calculate(i),Promise.resolve(o&&o.rc||-1===o)):Promise.resolve(!1)})):(s=i.getAction(go.FieldWillFormat),i.getValue()&&s&&(o=this.execAction("Field",s,null,i,go.FieldWillFormat)),i.form?o&&!o.rc?i.setValue(r).then((function(){return Promise.resolve(o.rc)})):Promise.resolve(o&&o.rc):Promise.resolve(!1)):Promise.resolve(!1)}},{key:"calculate",value:function(e){this.doc.getPDFForm().calculate(e)}},{key:"execAction",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return!0;var A=this.pdfViewer.actionManager.get(t,this);switch(A.setSourceTarget(i,r),t.getType()){case"TypeJavaScript":return A.setTypeName(e,o),A.setParam(a),A.active();case"TypeURI":return this.isRunningAction=!0,A.active((function(e){if(n.isRunningAction=!1,n.control){var t=n.control.$textInput;t&&t.focus()}}));default:A.active()}return-1}},{key:"getFormatedData",value:function(e){var t=this,n={},i=this.doc.getPDFForm();return i.enumFields([],0,(function(r,o,a){var A=i.getField(o),s=A.getAction(go.FieldWillFormat);if(6==r&&s){var c=a;if("display"==e)if(A.getDisplayValue())n[o]=A.getDisplayValue();else{var u=a.length>0&&s&&t.execAction("Field",s,null,A,go.FieldWillFormat);!1!==u&&u&&u.rc&&(c=u.value),n[o]=c}else n[o]=c}})),n}},{key:"reshowDTPicker",value:function(e){this.dt._input||(this.dt._input=this.dt._inputTemp),this.dt.open(null,e)}},{key:"showDateTimePicker",value:function(e,t,n,i){var r=this,o=-1!==t.indexOf("H"),a=-1!==t.indexOf("s")||-1!==t.indexOf("S"),A=this.pdfViewer.getCurrentLanguage();A=this.switchToFlatpickrLocale(A);var s={onOpen:[function(){r.dt&&(r.dt.isOpen=!0)}],onClose:[i,function(){r.dt&&(r.dt.isOpen=!1)}],onMonthChange:[function(e,n,o){var a=new Date(e[0].getTime());a.setMonth(o.currentMonth),a.setFullYear(o.currentYear);var A=o.formatDate(a,t),s=new Date(A);"Invalid Date"===s.toString()&&(s=a),r.dt.setDate(s,!1,t),i("",A)}],onYearChange:[function(e,n,o){if(t.match(/y|Y/)){var a=new Date(e[0].getTime());a.setMonth(o.currentMonth),a.setFullYear(o.currentYear);var A=o.formatDate(a,t),s=new Date(A);"Invalid Date"===s.toString()&&(s=a),r.dt.setDate(s,!1,t),i("",A)}}],parseDate:function(e,t){var n=ya().parseDate(e,t);if(n&&t.indexOf("K")>0){var i=e.split(" "),r=i[i.length-1].toLowerCase();if(["am","pm"].includes(r)>-1){var o=e.split(":");("pm"==r&&o[0]<12||"am"==r&&o[0]>12)&&n.setHours(o[0])}}return n},clickOpens:!1,now:new Date,allowInput:!0,dateFormat:t,enableTime:!0,time_24hr:o,enableSeconds:a,locale:A};this.dt&&this.dt.destroy();var c=this.dt=Object.assign(this.dt||{},ya()(n,s));this.dt._input||(this.dt._input=this.dt._inputTemp),N()(c.timeContainer).toggle(!!t.match(/h|H|i/));var u=!!t.match(/m|d|y|F|M|Y/);N()(c.monthNav).toggle(u),N()(c.innerContainer).toggle(u),o?c.amPMTemp||(c.amPMTemp=c.amPM,delete c.amPM):c.amPM||(c.amPM=c.amPMTemp,delete c.amPMTemp),N()(c.amPM||c.amPMTemp).toggle(!o),o?(N()(c.hourElement).attr("min",0),N()(c.hourElement).attr("max",23)):(N()(c.hourElement).attr("min",0),N()(c.hourElement).attr("max",12)),c.element=c.input=n;var l=e,d=t;if(e.length>0&&-1===t.indexOf("d")){var h=new Date,f=e.indexOf("/");l=-1!==f?e.slice(0,f)+"/"+h.getDate()+e.slice(f):e+"/"+h.getDate(),d=-1!==(f=t.indexOf("/"))?t.slice(0,f)+"/d"+t.slice(f):t+"/d"}var p=l?new Date(l):new Date;"Invalid Date"===p.toString()&&(p=l),c.setDate(p,!1,d),N()(c).find(".flatpickr-time .flatpickr-time-separator").toggle(!!t.match(/d/));var g=N()(c.timeContainer).find(".flatpickr-second").parent();g.toggle(a),g.prev().toggle(a),setTimeout((function(){c.close(),c.redraw(),c.open(null,n)}),10),delete n._flatpickr}},{key:"switchToFlatpickrLocale",value:function(e){var t=flatpickr.l10ns.en;switch(e){case"zh-CN":t=flatpickr.l10ns.zh;break;case"zh-TW":t=flatpickr.l10ns.zh_tw;break;case"en-US":t=flatpickr.l10ns.en;break;case"ja-JP":t=flatpickr.l10ns.ja;break;case"ko-KR":t=flatpickr.l10ns.ko;break;case"de-DE":t=flatpickr.l10ns.de;break;case"fr-FR":t=flatpickr.l10ns.fr;break;case"it-IT":t=flatpickr.l10ns.it;break;case"es-ES":t=flatpickr.l10ns.es;break;case"nl-NL":t=flatpickr.l10ns.nl}return t}},{key:"_bindTabEvent",value:function(e){var t=this;this.doc.getAnnots().then((function(n){n.some((function(e){return e.some((function(e){return"widget"!==e.getType}))}))&&t.goPreviousOrNextWidget(e)}))}},{key:"_stopInterceptor",value:function(e,t){var n=e.native.target;(!!n.closest(".fv__pdf-form-control-handler-container")||"BODY"===n.nodeName)&&t(e)}}]),n}(ne);const ka=wa;n(8433);var xa=function(){function e(t,n){(0,_._)(this,e),this.pdfviewer=t,this.docRender=n,this.$ui=N()('<canvas class="fv_shapes_ui"></canvas>')}return(0,P._)(e,[{key:"initPageShapes",value:function(e){this.pdfviewer.getAllActiveElements();return this.targetPage&&this.targetPage.index==e||((this.targetPage=this.docRender.pagesRender.pageRenders[e]).$ui.append(this.$ui.show()),this.drawShape()),!0}},{key:"setOffset",value:function(e,t){var n=1e6,i=1e6,r=0,o=0,a=this.path={},A=this.pdfviewer.getAllActiveElements(),s=(A[0].pageRender?A[0].pageRender:A[0].annotsRender.pageRender).$ui[0].getBoundingClientRect();for(var c in A.forEach((function(e){var t;e.getRect?((t=e.getRect()).width=t.right-t.left,t.height=t.bottom-t.top,t.left=s.left+t.left,t.right=s.left+t.right,t.bottom=s.top+t.bottom,t.top=s.top+t.top):t=e.$label[0].getBoundingClientRect(),t.left<n&&(n=t.left),t.top<i&&(i=t.top),t.right>r&&(r=t.right),t.bottom>o&&(o=t.bottom),a[e.annot.getId()]={left:t.left,top:t.top,width:t.width,height:t.height}})),this.path){var u=this.path[c];u.left-=n,u.top-=i}this.deltaX=e-n,this.deltaY=t-i;var l={width:r-n+2,height:o-i+2};this.$ui.css(l).attr(l)}},{key:"drawShape",value:function(){var e=this.$ui[0],t=e.getContext("2d");for(var n in t.clearRect(0,0,e.offsetWidth,e.offsetHeight),t.save(),t.beginPath(),t.strokeStyle="#5aa",t.lineWidth=2,this.path){var i=this.path[n];t.rect(i.left+1,i.top+1,i.width,i.height)}t.stroke(),t.restore()}},{key:"update",value:function(e,t){if(this.targetPage){var n=this.targetPage.$ui[0].getBoundingClientRect(),i=Math.max(n.left,e-this.deltaX),r=Math.max(n.top,t-this.deltaY),o=this.$ui[0];i+o.offsetWidth>n.right&&(i=n.right-o.offsetWidth),r+o.offsetHeight>n.bottom&&(r=n.bottom-o.offsetHeight),this.$ui.css({left:i-n.left,top:r-n.top})}}},{key:"hide",value:function(){return this.targetPage=null,this.$ui&&this.$ui.hide(),!1}},{key:"destroy",value:function(){this.pdfviewer=null,this.docRender=null,this.$ui&&(this.$ui.remove(),this.$ui=null)}},{key:"moveAnnot",value:function(e){var t=this,n=e[0].annot.getPDFPage(),i=this.targetPage;if(!i)return Promise.resolve(this.hide());var r=i.page,o=n.getIndex(),a=i.index;if(a==o)return Promise.resolve(this.hide());var A=n.doc,s=e.reduce((function(e,t){return t.getRelevanceRenders?(0,R._)(e).concat((0,R._)(t.getRelevanceRenders(!0))):(0,R._)(e).concat([t.annot.getId()])}),[]),c=s.reduce((function(e,r){var a=n.annotIdMap[r],A={},s={},c=t.path[r];if(c){var u=t.pdfviewer.getAnnotRender(o,r);u=u.component,A="FreeTextCallout"==a.getIntent()?u.backupProperty.rect:a.getRect();var l=c.left,d=c.top,h=t.$ui[0].getBoundingClientRect(),f=u.getRect();h={width:f.right-f.left,height:f.bottom-f.top,left:h.left+l,top:h.top+d},s=i.getPDFRectFromClientRect(h)}return e[r]={rect:s,oldRect:A},e}),{});return this.pdfviewer.killFocus().then((function(e){var i=Object.keys(c).map((function(e){return Number(e)}));return n.getAnnotsByObjectNumArray(i).then((function(e){var i=e.reduce((function(e,t){return e[t.getUniqueID()]=c[t.getObjectNumber()],e}),{});return A.moveAnnotsToPage(n,r,c).then((function(e){return t.pdfviewer.collaborate(yo.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:o,toPageIndex:a,annots:i}),e}))}))})).then((function(e){return t.hide(),e}))}}]),e}();const _a=xa;var Pa=["movingstart","movingend","movingcancel"],Da=["mousemove"],Ca=function(){function e(t,n){(0,_._)(this,e),this.pdfviewer=t,this.docRender=n,this.state=0,this.initHammer(t,n)}return(0,P._)(e,[{key:"initHammer",value:function(e,t){var n=this;if("JR"===e.config.engineMode){var i=t.$doc;this.movingstart=function(r){r.deltaX,r.deltaY;var o=r.srcEvent;if(0==n.state){var a=n.shapeManager=new _a(e,t);n.mousemove=function(e){if(!(n.state<2)){var t,i,r=(t=e.target,(i=N()(t).parents(".fv__pdf-page-layout")).length?i.attr("data-index"):-1);if(-1!=r){n.state=2;var o=n.getEnableMoveElement();if(o&&o.length)if(!n.toggleShapeControl(o,+r))a.initPageShapes(r)?(a.update(e.clientX,e.clientY),n.state=3):(n.state=1,n.getEnableMoveElement().forEach((function(e){var t=e.shapeControl;t&&(t.show(),t.enable())})))}}},Da.forEach((function(e){return i.on(e,n[e])}))}n.shapeManager&&(n.shapeManager.setOffset(o.clientX,o.clientY),n.state=2)},this.movingend=function(e){n.shapeManager&&(3==n.state&&n.shapeManager&&n.shapeManager.moveAnnot(n.getEnableMoveElement()).then((function(e){n.getEnableMoveElement().forEach((function(e){var t=e.shapeControl;t&&((0,I._)(e,Mo)?(e._applyShapeChange(),t.show(),t.enable()):e.shapeControlOnEnd())})),n.pdfviewer.initializers[2].selectAllAnnotOrWidget(n.pdfviewer,e.filter((function(e){return"popup"!==e.getType()})))})),n.state=1)},this.movingcancel=function(e){n.shapeManager&&(n.shapeManager.hide(),n.state=1)},Pa.forEach((function(t){return e.eventEmitter.on(t,n[t])}))}}},{key:"toggleShapeControl",value:function(e,t){var n=this,i=e[0].annot.getPDFPage().getIndex(),r=!1,o=this.pdfviewer.customs.isCollaborationMode&&this.pdfviewer.customs.isCollaborationMode();return e.forEach((function(e){if(o&&n.pdfviewer.customs.getAnnotPermissionsSync(e.annot).indexOf("fully")<0)return;var a=e.shapeControl;-1==t||t==i?(a&&(a.show(),a.enable()),(0,I._)(e,Mo)||e.$label.show(),n.shapeManager.hide(),r=!0):(a&&a.hide(),(0,I._)(e,Mo)||e.$label.hide())})),r}},{key:"getActiveElement",value:function(){return this.pdfviewer.getAllActiveElements()}},{key:"getEnableMoveElement",value:function(){var e=this.getActiveElement(),t=-1===e.findIndex((function(e){return e.shapeControl&&e.shapeControl.isDisabled}));return t?e:[]}},{key:"destroy",value:function(){var e=this,t=this.pdfviewer;Pa.forEach((function(n){t.eventEmitter.off(n,e[n]),e[n]=null}));var n=this.docRender.$doc;Da.forEach((function(t){n.off(t,e[t]),e[t]=null})),this.pdfviewer=null,this.docRender=null,this.shapeManager&&this.shapeManager.destroy()}}]),e}();const Sa=Ca;var Ia=[{background:"#ffffff",foreground:"#000000",componentName:"white"},{background:"#faf9de",foreground:"#1f1f00",componentName:"yellowish"},{background:"#fff2e2",foreground:"#381f00",componentName:"lightOrange"},{background:"#dce2f1",foreground:"#232a3c",componentName:"lightBlue"},{background:"#3b3537",foreground:"#b0afac",componentName:"lightBlack"},{background:"#333333",foreground:"#838383",type:"moon",componentName:"moon"}],Ea=function(){var e={background:null,foreground:null},t=localStorage.getItem("change-color-user-choice");return t&&Ia[Number(t)]&&(e=function(e){for(var t in delete(e=JSON.parse(JSON.stringify(e))).type,e)e.hasOwnProperty(t)&&(e[t]=Number(e[t].replace("#","0xff")));return e}(Ia[Number(t)])),e},Ra=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;(0,_._)(this,e),this.top=t,this.left=n,this.bottom=i,this.right=r},Ta=function(){function e(t){(0,_._)(this,e),this.offsetLeft=0,this.offsetTop=0,this.offsetRight=0,this.offsetBottom=0,this.target=t}return(0,P._)(e,[{key:"moveLeft",value:function(e){return this.offsetLeft+=e,this.offsetRight+=e,this}},{key:"moveTop",value:function(e){return this.offsetTop+=e,this.offsetBottom+=e,this}},{key:"move",value:function(e,t){return this.moveLeft(e).moveTop(t)}},{key:"moveTo",value:function(e,t){return this.offsetLeft=this.offsetRight=this.target.left-e,this.offsetTop=this.offsetBottom=this.target.top-t,this}},{key:"shrink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Ra(e,t,-n,-i))}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;return this.add(new Ra(-e,-t,n,i))}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",i=this.target.right+this.offsetRight-(this.target.left+this.offsetLeft),r=this.target.bottom+this.offsetBottom-(this.target.top+this.offsetTop),o=i*e-i,a=r*e-r,A=0,s=0,c=0,u=0;switch(t){case"right":A=-o;break;case"center":A=-o/2,s=o/2;break;default:s=o}switch(n){case"bottom":c=-a;break;case"center":c=-a/2,u=a/2;break;default:u=a}return this.add(new Ra(c,A,u,s))}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.top,n=void 0===t?0:t,i=e.left,r=void 0===i?n:i,o=e.bottom,a=void 0===o?n:o,A=e.right,s=void 0===A?r:A;return this.offsetLeft+=r,this.offsetRight+=s,this.offsetBottom+=a,this.offsetTop+=n,this}},{key:"extract",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight;return{left:e,top:this.target.top+this.offsetTop,right:t,bottom:this.target.bottom+this.offsetBottom}}},{key:"boundary",value:function(){var e=this.target.left+this.offsetLeft,t=this.target.right+this.offsetRight,n=this.target.top+this.offsetTop;return{left:e,top:n,width:t-e,height:this.target.bottom+this.offsetBottom-n}}},{key:"intersect",value:function(t){(0,I._)(t,e)||(t=e.on(t));var n=this.toPlainObject(),i=t.toPlainObject(),r={left:Math.max(n.left,i.left),right:Math.min(n.right,i.right),top:Math.max(n.top,i.top),bottom:Math.min(n.bottom,i.bottom)};return e.on(r)}},{key:"toPlainObject",value:function(){return{left:this.target.left+this.offsetLeft,right:this.target.right+this.offsetRight,top:this.target.top+this.offsetTop,bottom:this.target.bottom+this.offsetBottom}}}],[{key:"isOverlap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Math.max(e.left,t.left),r=Math[n?"min":"max"](e.top,t.top),o=Math[n?"max":"min"](e.bottom,t.bottom),a=Math.min(e.right,t.right);if(i<=a)if(n){if(r>=o)return(a-i)*(r-o)}else if(r<=o)return(a-i)*(o-r);return 0}},{key:"isInRect",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e>=n.left&&e<=n.right)if(i){if(t>=n.bottom&&t<=n.top)return!0}else if(t<=n.bottom&&t>=n.top)return!0;return!1}},{key:"rectInRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(e.left>=t.left&&e.right<=t.right)&&(n?e.top<=t.top&&e.bottom>=t.bottom:e.top>=t.top&&e.bottom<=t.bottom)}},{key:"isSimilar",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e.top-t.top)<n&&Math.abs(e.bottom-t.bottom)<n&&Math.abs(e.left-t.left)<n&&Math.abs(e.right-t.right)<n}},{key:"on",value:function(t){return new e(t)}},{key:"subtract",value:function(e,t){return new Ra(e.top-t.top,e.left-t.left,e.bottom-t.bottom,e.right-t.right)}},{key:"expandOffset",value:function(e,t){return new Ra(e.top-t.top,e.left-t.left,t.bottom-e.bottom,t.right-e.right)}},{key:"copyTo",value:function(e,t){t.left=e.left,t.top=e.top,t.right=e.right,t.bottom=e.bottom}}]),e}(),Ma=n(3162);function Fa(e,t,n){if(U.isMobile&&U.isSafari&&(new RegExp(/\sversion\/(.*?)\s/i).test(navigator.userAgent.toLowerCase())&&Number(RegExp.$1)<13))return window.pdfui.pdfViewer.viewerUI.alert("alert.browserNotSupportDownload");void 0===n&&(n="application/octet-stream");var i=(0,I._)(e,Blob)?e:new Blob(e,{type:n});(0,Ma.saveAs)(i,t)}var La=ja("hand"),Na=(ja("annot"),"fv__hidden"),Oa=U.LoggerFactory.getLogger("PDFDocRender"),Ba=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;(0,_._)(this,n),(o=t.call(this,r)).name="pdfDocRender",o.$ui=e,o.rotation=0,o.doc=i,o.lastPageNumber=0,o.currentPageNumber=0,o.currentAnnot=null,o.viewerRender=r;var a=r.scrollWrap.getScrollHost();((0,I._)(a,Window)||a===document.body||a==document.documentElement)&&(a=document),o.intersectionObserver=new U.BuiltinIntersectionObserver(a),o.visiblePageIndexesStore=new U.ValueStore,o.visiblePageIndexesStore.reduce((function(e){return e.slice(0)}));var A=[0];"facing-continuous-page-view-mode"==o.viewerRender.ViewMode.getName()&&A.push(1),o.visiblePageIndexesStore.dispatch(A);var s=o.pdfViewer=r.pdfViewer,c=N()('<div class="fv__pdf-doc-layout"> <div class="fv__pdf-doc-rendering"></div> <div class="fv__pdf-doc-custom-container"></div> <div class="fv__pdf-doc-container"></div> <div class="fv__pdf-doc-handler-container"></div> </div>');c[0].id=i.id,e.append(c),o.$doc=c,o.$rendering=c.find(".fv__pdf-doc-rendering"),o.$container=c.find(".fv__pdf-doc-container"),o.pdfDocRendering=new(s.customs.PDFDocRendering||da)(o.$rendering[0],(0,k._)(o)),o.docCustomRender=new(s.customs.DocCustomRender||ha)(c.find(".fv__pdf-doc-custom-container")[0],(0,k._)(o)),o.zoomToTaskExecutor=new U.DebounceAsyncTaskExecutor,o.bindEvent(),o.controlStateClass=La,o.$container.addClass(La),o.handlerInit(c.find(".fv__pdf-doc-handler-container")),o.initTransparencyGridChecked(),o.watermarkConfig=s.config.watermarkConfig;var u=o.customPermission_=s.customs.getDocPermissions||function(){return-1};i.setCustomPermission("standard",u),u=s.customs.getAdditionalPerm||function(){return-1},i.setCustomPermission("additional",u),i.setCustomPermission("replaceStandard",s.customs.getStandardPermissions);var l=s.eventEmitter;return l.on(de.annotationAppearanceUpdated,o.annotationAppearanceUpdatedBind=function(e,t){if(t.getPDFDoc()===o.doc)try{var n=e[0];if(7===(n&&n.info.fieldType)){var i=t.getIndex(),r=o.getPDFPageRender(i),a=r.scale,A=r.rotate,s=r.containerVisibleRect,c=n.objectNumber;o.getAnnotRender(i,c).render(a,A,s)}else o.getPDFPageRender(t.getIndex()).redrawAnnotRenders(e)}catch(e){}}),l.on(de.annotationMovedPosition,o.annotationMovedPositionBind=function(e,t,n){if(t.getPDFDoc()===o.doc)try{o.getPDFPageRender(t.getIndex()).movedAnnotRenders(e,n)}catch(e){}}),l.on(de.annotationRemoved,o.annotationRemovedBind=function(e,t){if(t.getPDFDoc()===o.doc)try{o.getPDFPageRender(t.getIndex()).removeAnnotRenders(e)}catch(e){}}),l.on(de.annotationImported,o.updateImportedAnnotsBind=function(e,t){if(e===i&&o.pagesRender)try{o.pagesRender.setRenderFlags(1),o.setRebuildAnnotsFlag(!1),o.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){Oa.warn(e)}}),l.on(de.pageRotationChange,o.rotationPageBind=function(e,t,n){if(e.getPDFDoc()===o.doc)try{var i=o.pagesRender.pageRenders[e.getIndex()];i.$annotsContainer.addClass("fv__viewer-annot-container-hide"),i.clearCanvasCache(!0),i.renderLayout().then((function(e){o.pagesRender.setRenderFlags(7),o.pagesRender.renderVisiblePages()}))}catch(e){console.error(e)}}),l.on(de.pagesRotated,o.rotationPagesBind=function(e,t,n){e.forEach((function(e,i){o.rotationPageBind(e,t,n[i])}))}),l.on(de.customDataAdd,o.customDataAddBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).addCustomRenders(e)}catch(e){}}),l.on(de.customDataImported,o.customDataImportedBind=function(e){if(o.doc.getId()===e)try{o.pagesRender.setRenderFlags(32),o.pagesRender.renderVisiblePages().catch((function(e){0}))}catch(e){}}),l.on(de.customDataRemoved,o.customDataRemovedBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).removeCustomRenders(e)}catch(e){}}),l.on(de.customDataUpdated,o.customDataUpdatedBind=function(e,t,n){if(o.doc.getId()===n)try{o.getPDFPageRender(t).updateCustomRenders(e)}catch(e){}}),l.on(de.pagesBoxChange,o.pagesBoxChangeEventListener=function(e){o.pagesRender&&o.pagesRender.setRenderFlags(8),o.pdfViewer.redraw(!0)}),l.on(de.pageRemoved,o.pageRemovedListener=function(e){var t=o.visiblePageIndexesStore.getCurrentValue([]),n=t.indexOf(e);n>-1&&t.splice(n,1);for(var i=o.doc.getPageCount(),r=0;r<t.length;r++)t[r]>e&&t[r]<=i&&(t[r]-=1);o.visiblePageIndexesStore.dispatch(t)}),l.on(de.pagesRemoved,o.pagesRemovedListener=function(e){var t=e.reduce((function(e,t){return 1===t.length?e.concat(t[0]):t.length>1?e.concat(function(e,t,n){n||(n=e>t?-1:1);for(var i=[],r=e;r<t;r+=n)i.push(r);return i.push(t),i}(t[0],t[1]-1)):e}),[]),n=o.visiblePageIndexesStore.getCurrentValue([]);t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}));var i=o.doc.getPageCount();t.forEach((function(e){for(var t=0;t<n.length;t++)n[t]>e&&n[t]<=i?n[t]-=1:n[t]>i&&n.splice(t,1)})),o.visiblePageIndexesStore.dispatch(n)}),o.noInteraction=o.getUserPermission().checkCannotModifyExcludeAssemble()&&!o.doc.hasSignature(),l.on(de.permissionChanged,o.permissionChangedBind=function(){var e=o.getUserPermission().checkCannotModifyExcludeAssemble();o.noInteraction=e&&!o.doc.hasSignature();o.getUserPermission();o.loadFormRender().then((function(e){o.pdfViewer.redraw(!0)}))}),l.on(de.switchStateHandler,o.switchStateHandlerBind=function(e,t){e.getStateName()!==mn&&o.resetReadModeData&&o.quitReadMode(!1)}),o.docHandler=new Sa(s,(0,k._)(o)),o.allCommentVisible=!0,o.rebuildAnnotsFlag=!0,l.on("annot-filter",o.filterAnnot=function(e){"start"==e&&(o.forceLoadAnnot=1)}),o.isDocRendered=!1,o}return(0,P._)(n,[{key:"setRebuildAnnotsFlag",value:function(e){this.rebuildAnnotsFlag=e}},{key:"getRebuildAnnotsFlag",value:function(){return this.rebuildAnnotsFlag}},{key:"_updateVisiblePageIndex",value:function(e,t){var n=this.visiblePageIndexesStore.getCurrentValue(),i=n.indexOf(e);if(t){if(i>-1)return;n.push(e)}else i>-1&&n.splice(i,1);this.visiblePageIndexesStore.dispatch(n)}},{key:"getVisiblePageIndexes",value:function(){return this.visiblePageIndexesStore.getCurrentValue().sort((function(e,t){return e-t}))}},{key:"initTransparencyGridChecked",value:function(){var e=localStorage.getItem("PAGE_DISPLAY_DATA");if(e){var t=JSON.parse(e);this.doc.pageDisplayPreferences=t,this.doc.setPageDisplayPreferences(t)}}},{key:"getHandlerDOM",value:function(){return this.$doc.get(0)}},{key:"getBoundingClientRects",value:function(){var e=this.$container.find(".fv__pdf-view-mode-item"),t=this.viewerRender.scrollWrap.getScrollHost();t==window&&(t=document.body);for(var n="single-page-view-mode"===this.viewerRender.getViewMode().getName(),i=t.getBoundingClientRect(),r=[],o=0;o<e.length;o++){var a=e[o],A=N()(a).find(".fv__pdf-page-layout")[0].getBoundingClientRect();if(A.bottom>i.top&&A.top<i.bottom&&A.left<i.right&&A.right>i.left){var s={index:n?this.getCurrentPageIndex():o,scale:this.getPDFPageRender(o).scale,left:Math.max(i.left,A.left)-A.left,right:Math.min(i.right,A.right)-A.left,top:Math.max(i.top,A.top)-A.top,bottom:Math.min(i.bottom,A.bottom)-A.top};s.x=s.left,s.y=s.top,s.height=s.bottom-s.top,s.width=s.right-s.left,r.push(s)}}return r}},{key:"handlerInit",value:function(e){var t=this;e.on("click",(function(){t.unActiveAnnotRender()}))}},{key:"getFormRender",value:function(){return this.formRender}},{key:"setStateHandler",value:function(e){if(this.stateHandler){if(this.stateHandler.constructor.getStateName()===e.getStateName())return;this.stateHandler.destroyDocHandler()}(this.stateHandler=new e(this.pdfViewer)).docHandler(this)}},{key:"setViewMode",value:function(e){return this.pagesRender?this.pagesRender.setViewMode(e):Promise.resolve()}},{key:"getViewMode",value:function(){return this.pagesRender?this.pagesRender.getViewMode():void 0}},{key:"prevPage",value:function(){var e=this.getCurrentViewMode().getPrevPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"nextPage",value:function(){var e=this.getCurrentViewMode().getNextPageIndex();return this.goToPage(e,{x:0,y:0})}},{key:"goToPage",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.x,a=void 0===o?0:o,A=r.y,s=void 0===A?0:A,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments[1];u&&(t=u.width,n=u.height),this.isGoto=!0,e>=this.doc.getPageCount()?e=this.doc.getPageCount()-1:e<0&&(e=0);var l=this.pagesRender,d=l.getPDFPageRender(e);if(d)return d.getPDFPage().then((function(r){return l.getPageScale(e,i.scale).then((function(e){if(c){if(void 0!==t){var o=r.getDeviceRect({left:a,right:a+t,top:s+n,bottom:s},e,i.rotation);a=o.left,s=o.top,o.right<a&&(a=o.right),o.bottom<s&&(s=o.bottom)}else{var A=(0,E._)(r.getDevicePoint([a,s],e,i.rotation),2),u=A[0],l=A[1],d=r.info.height;(s>d||l<0)&&(l=0),a=u,s=l}return[e,a,s]}return[e,a,s]}))})).then((function(t){var n=(0,E._)(t,3),r=n[0],o=n[1],a=n[2],A=l.goToPage(e,r,o,a);if("fitVisible"!==i.scale||!A)return A})).catch((function(e){0})).finally((function(){i.moveDebounce()}));this.isGoto=!1}},{key:"setCurrentPageIndex",value:function(e){void 0!==e&&this.pageNumberChange(e)}},{key:"getCurrentPageIndex",value:function(){var e=this.getCurrentViewMode();return e&&"function"==typeof e.getCurrentPageIndex?e.getCurrentPageIndex():0}},{key:"pageNumberChange",value:function(e){if(e>=0&&this.currentPageNumber!==e){var t=0!=this.pdfViewer.enablePageAction;if(this.lastVIs&&t){var n=this.getPDFPageRender(this.currentPageNumber);n&&n.triggerAction(18),this.getPDFPageRender(e).triggerAction(17)}this.lastPageNumber=this.currentPageNumber,this.currentPageNumber=e,this.pdfViewer.eventEmitter.emit(de.pageNumberChange,e+1)}}},{key:"bindEvent",value:function(){}},{key:"destroy",value:function(e){if(!this.isDestroyed){var t=this.pdfViewer.eventEmitter;this.pagesRender&&this.pagesRender.destroy(),this.visiblePageIndexesStore.destroy(),(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.$doc.addClass("fv__destroying"),this.stateHandler&&this.stateHandler.destroyDocHandler(),this.docCustomRender.destroy(),this.$doc.remove(),this.zoomToTaskExecutor.destroy(),this.zoomToTaskExecutor=null,t.off(de.annotationAppearanceUpdated,this.annotationAppearanceUpdatedBind),t.off(de.annotationMovedPosition,this.annotationMovedPositionBind),t.off(de.annotationRemoved,this.annotationRemovedBind),t.off(de.annotationImported,this.updateImportedAnnotsBind),t.off(de.pageRotationChange,this.rotationPageBind),t.off(de.pagesRotated,this.rotationPagesBind),t.off(de.customDataAdd,this.customDataAddBind),t.off(de.customDataImported,this.customDataImportedBind),t.off(de.customDataRemoved,this.customDataRemovedBind),t.off(de.customDataUpdated,this.customDataUpdatedBind),t.off(de.permissionChanged,this.permissionChangedBind),t.off(de.pagesBoxChange,this.pagesBoxChangeEventListener),t.off(de.pageRemoved,this.pageRemovedListener),t.off(de.pagesRemoved,this.pagesRemovedListener),t.off("annot-filter",this.filterAnnot),t.off(de.switchStateHandler,this.switchStateHandlerBind),this.formRender&&this.formRender.destroy(),this.formRender=null;var i=null;if(e&&e.destroyCurrentDoc){var r=this.doc.id;this.pdfViewer.getWebPDFJR().then((function(e){e.pdfDocCacheMap.delete(r)})),i=this.doc.destroy()}return this.pdfDocRendering.destroy(),this.pdfDocRendering=null,this.pagesRender=this.docCustomRender=this.stateHandler=null,this.annotationAppearanceUpdatedBind=null,this.annotationMovedPositionBind=null,this.annotationRemovedBind=null,this.updateImportedAnnotsBind=null,this.updateAddAnnotsBind=null,this.rotationPageBind=null,this.rotationPagesBind=null,this.customDataAddBind=null,this.customDataImportedBind=null,this.customDataRemovedBind=null,this.customDataUpdatedBind=null,this.permissionChangedBind=null,this.pagesBoxChangeEventListener=null,this.pageRemovedListener=null,this.pagesRemovedListener=null,this.switchStateHandlerBind=null,this.docHandler.destroy(),i}}},{key:"rendering",value:function(){this.$doc.addClass("fv__doc-rendering"),this.pdfDocRendering.rendering()}},{key:"rendered",value:function(){this.$doc.removeClass("fv__doc-rendering"),this.pdfDocRendering.rendered(),this.isDocRendered=!0}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fitWidth",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotation;return this.scale=t,this.rotation=n,this.rendering(),this.doc&&this.doc.setColors(Ea()),Promise.resolve(this.docCustomRender.render(t,n)).then((function(t){if(!1!==t)return e.doc.getPageSizes(0,e.pdfViewer.config.sizeCount).then((function(t){return e.doc.getRootLayerNodeChildrenCount()})).then((function(t){if(!(t>8e3))return e.doc.getLayerNodesJson()})).then((function(t){return e.doc.getTemplates()})).then((function(t){if(e.doc&&!e.doc.isDestroyed){var i=e.pagesRender=e.pagesRender||new la(e.$container,e.doc,e),r=e.loadFormRender(),o=Promise.resolve();if(e.pdfViewer.enableOpenAction){var a=localStorage.getItem("PAGE_DISPLAY_DATA"),A=e.doc.getViewerPreference().then((function(t){var n=t.uiLayout;if(a){var i=JSON.parse(a);i.navigation&&"useInitialView"!==i.navigation&&(n=e.transfUiLayoutKey(i.navigation))}e.executeNavigationAction(n),"FullScreen"===n&&(n=t.viewerPreference.NonFullScreenPageMode,e.executeNavigationAction(n))})),s=e.doc.getViewerPreference().then((function(t){var n=a?JSON.parse(a):void 0;e.executeLayeroutAction(t.pageLayout,n);var r=e.executeScaleAction(e.doc.action,n),o=r.pageIndex,A=r.scale;if(o>0){i.createPagesStructure();var s=i.viewMode;s.into(i.$ui.get(0),i.pageDOMs),s.jumpToPage(o,{x:0,y:0})}if(null!=A&&(e.scale=A),n){var c=n.customMarginChecked,u=n.margin,l=n.customFacingChecked,d=n.facingPages;c||(u=10),e.pdfViewer.setCustomMargin(u);["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"].forEach((function(t){var n="multipage-"+e.pdfViewer.viewModeManager.ViewModes[t].getName();l?e.pdfViewer.store.dispatch(n,d):e.pdfViewer.store.dispatch(n,2)}))}return Promise.resolve()}));o=A.then((function(){return s}))}return o.then((function(t){return i.render(e.scale,n)})).then((function(e){return r})).then((function(){if(!e.stateHandler){var t=e.pdfViewer;(e.stateHandler=new(t.stateHandlerManager.getCurrentStates())(t)).docHandler(e)}Object.keys(e.doc.metadata).length<2&&e.doc.getMetadata(),"fitWidth"!=e.scale&&e.pdfViewer.eventEmitter.emit(de.updateZoomMode,e.scale)}))}}));e.rendered()}))}},{key:"loadFormRender",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.doc.reloadPDFForm():this.doc.loadPDFForm()).then((function(t){return(e.formRender=new ka(e.doc,e)).initJS()}))}},{key:"hidden",value:function(){this.$doc.addClass(Na)}},{key:"show",value:function(){this.$doc.removeClass(Na)}},{key:"zoomTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.lastScale=this.scale;var r=this.scale;this.scale=t;var o=Promise.resolve(n);return n?"fitVisible"==t&&(o=this.getPDFPageRender(n.pageIndex).getPDFPage().then((function(e){return e.calcPageContentBBox(0)})).then((function(e){return n.x=e.left,n}))):o="fitVisible"!==t?this.getViewBoxCenter(!0,"topLeft").then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];if(n)return{pageIndex:n.getIndex(),x:i[0],y:i[1]}})):this.getViewerStartPosition(),o.then((function(t){if(t)return Promise.all([e.pagesRender.getPageScale(0,r,e.rotation),e.getScaleRatio(1)]).then((function(n){var o=(0,E._)(n,2),a=o[0],A=o[1],s=function(t,n,i){return n.eventEmitter.emit(de.beforeZoomTo,t,a),e.pagesRender.zoomTo(e.scale,i).then((function(){return n.eventEmitter.emit(de.zoomToSuccess,e.scale,r,A,a),t}),(function(i){return e.scale=r,n.eventEmitter.emit(de.zoomToFailed,t,e.scale),Promise.reject(i)}))};return i?e.zoomToTaskExecutor.exec(s,[A,e.pdfViewer,t],e):s(A,e.pdfViewer,t)}))}))}},{key:"getScaleRatio",value:function(e){var t=this,n=function(){switch((0,T._)(t.scale)){case"number":return t.scale;case"string":return t.pagesRender?t.pagesRender.getScaleRatio(t.scale,t.rotate):1;default:return 1}};return e?Promise.resolve(n()):this.zoomToTaskExecutor.waitForLastTask().then(n,n)}},{key:"getScale",value:function(){return this.scale}},{key:"getRotation",value:function(){return this.rotation}},{key:"rotateTo",value:function(e,t){var n=this.rotation;return this.rotation=(e%360+360)%360,this.applyRotation(n,this.rotation,t)}},{key:"applyRotation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;return(0,x._)((function(){var r,o,a,A,s,c,u,l,d,h,f;return(0,F.Jh)(this,(function(p){switch(p.label){case 0:return 0===((t-e)%360+360)%360?[2]:((r=i.pdfViewer.eventEmitter).emit(de.beforeDocumentRotation,t,e),o=(0,U.isValidNumber)(n.pageIndex)?n.pageIndex:i.getCurrentPageIndex(),a=i.getPDFPageRender(o),A=0,s=0,null==n.offsetX||null==n.offsetY?[3,4]:(A=(0,U.isValidNumber)(n.offsetX)?n.offsetX:0,s=(0,U.isValidNumber)(n.offsetY)?n.offsetY:0,[4,i.pagesRender.rotateTo(t)]));case 1:return p.sent(),[4,a.transformPoint({point:{x:A,y:s},srcType:Yo.page,destType:Yo.pdf})];case 2:return c=p.sent(),[4,i.goToPage(o,c,!0)];case 3:return p.sent(),[3,9];case 4:return null==n.baseX||null==n.baseY?[3,9]:(s=(0,U.isValidNumber)(n.baseX)?n.baseX:0,s=(0,U.isValidNumber)(n.baseY)?n.baseY:0,[4,a.transformPoint({point:{x:A,y:s},srcType:Yo.page,destType:Yo.pdf})]);case 5:return u=p.sent(),[4,i.pagesRender.rotateTo(t)];case 6:return p.sent(),[4,a.transformPoint({point:u,srcType:Yo.pdf,destType:Yo.page})];case 7:return l=p.sent(),d=i.getValidContainerVisibleRect(),h=l.x-(d.left/2+d.right/2),f=l.y-(d.top/2+d.bottom/2),[4,i.goToPage(o,{x:Math.max(0,h),y:Math.max(0,f)})];case 8:p.sent(),p.label=9;case 9:return r.emit(de.afterDocumentRotation,t,e),[2]}}))}))()}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getPDFPageRender",value:function(e){try{return this.pagesRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getCurrentViewMode",value:function(){try{return this.pagesRender.viewMode}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)}catch(e){return null}}},{key:"getAllAnnotRender",value:function(){for(var e=this.doc.getPageCount(),t=[],n=0;n<e;n++)t=t.concat(this.getPDFPageRender(n).getAllAnnotRender());return t}},{key:"unActiveAnnotRender",value:function(e){if(e)return e.unActive();try{this.pagesRender.unActiveAnnotRender()}catch(e){}}},{key:"setCurrentAnnotHandler",value:function(){var e=this.pdfViewer.stateHandlerManager.currentStateHandler.getStateName(),t=this.pdfViewer.getAllActiveElements().reverse();try{t.sort((function(e,t){return e.annot.getId()>t.annot.getId()?1:-1}))}catch(e){}"edit-all"!==e&&t.length?(t.forEach((function(e){e.shapeControl&&N()(e.shapeControl.ui).removeClass("current-annot")})),this.pdfViewer.isMultiSelectActive()?this.currentAnnot=t[t.length-1]:this.currentAnnot=t[0],this.currentAnnot.shapeControl&&N()(this.currentAnnot.shapeControl.ui).addClass("current-annot")):this.currentAnnot=null}},{key:"setWatermarkConfig",value:function(e){this.watermarkConfig=e}},{key:"getWatermarkConfig",value:function(){return this.watermarkConfig}},{key:"getUserPermission",value:function(){var e=this.doc,t=this.customPermission_(e),n=e.getPermissionsSync();return new fa(t&n)}},{key:"getOffsetInfo",value:function(){var e,t=0,n=0,i=0,r=this.pagesRender;if(!r)return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then((function(n){var i=(0,E._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotate:e.getRotation()}}));for(var o=this.pdfViewer.$ui,a=o.parent()[0].getBoundingClientRect(),A=r.viewMode.getVisibleIndexes(),s=0,c=A.length;s<c;s++){t=A[s];var u=this.getCurrentViewMode().constructor.getName(),l=t;"single-page-view-mode"===u&&(l=0);var d=o.find(".fv__pdf-page-layout").eq(l)[0].getBoundingClientRect();if(!(d.bottom<=a.top)){(n=a.left-d.left)<0&&(n=0),(i=a.top-d.top)<0&&(i=0);break}}return(e=r.getPDFPageRender(t)).reverseDevicePoint([n,i]).then((function(n){var i=(0,E._)(n,2),r=i[0],o=i[1];return{index:t,left:r,top:o,scale:e.getScale(),rotation:e.getRotation()}}))}},{key:"getViewerStartPosition",value:function(e){return void 0===e&&(e=this.getCurrentPageIndex()),this.doc.getPageByIndex(e).then((function(t){return t.calcPageContentBBox(Ct.CalcContentsBox).then((function(n){n&&void 0!==n.left&&n.left!==n.right&&n.top!==n.bottom||(n={left:0,right:t.info.mediaWidth,top:t.info.mediaHeight,bottom:0});var i=t.getRotation(),r=[n.left,n.top];switch(i){case 0:r=[n.left,n.top];break;case 1:r=[n.left,n.bottom];break;case 2:r=[n.right,n.bottom];break;case 3:r=[n.right,n.top]}return{pageIndex:e,x:r[0],y:r[1],rotation:i}}))}))}},{key:"getViewBoxCenter",value:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",i=this.getCurrentPageIndex(),r=this.viewerRender.scrollWrap.getScrollHost(),o=(e=r===window?{x:0,y:0,width:window.innerWidth,height:window.innerHeight}:r.getBoundingClientRect()).x+e.width/2,a=e.y+e.height/2,A={left:o-20,right:o+20,top:a-20,bottom:a+20},s=function(e){if(!e)return Promise.resolve();var n=e.$ui.get(0).getBoundingClientRect(),i=n.x,r=n.y,s=r+n.height,c=n.right;return Ta.isOverlap(A,{left:i,right:c,bottom:s,top:r},!1)?e.getPDFPage().then((function(n){if(t){var A=Math.max(0,o-i),s=Math.max(0,a-r);return Promise.all([n,n.reverseDevicePoint([A,s],e.getScale(),e.getRotation())])}return Promise.all([n,[o-i,a-r]])})):void 0};if("topLeft"==n){if(!this.pagesRender)return Promise.resolve([0,[0,0]]);var c=this.pagesRender.viewMode.getVisibleIndexes(),u=c.length>0&&(-1===c.indexOf(i)||U.isMobile)?c[0]:i,l=this.getPDFPageRender(u);if(!l)return Promise.resolve([null,[0,0]]);var d=l.page,h=l.$ui.get(0).getBoundingClientRect();o=Math.max(e.x,h.x),a=Math.max(e.y,h.y);var f=Math.max(0,o-h.x),p=Math.max(0,a-h.y);return d?Promise.all([d,d.reverseDevicePoint([f,p],l.getScale(),l.getRotation())]):l.getPDFPage().then((function(e){return Promise.all([e,e.reverseDevicePoint([f,p],l.getScale(),l.getRotation())])}))}for(var g=i;g<this.doc.getPageCount();g++){var v=s(this.getPDFPageRender(g));if(v)return v}for(var m=i-1;m>-1;m--){var y=s(this.getPDFPageRender(m));if(y)return y}return this.doc.getPageByIndex(i).then((function(e){return Promise.all([e,[0,0]])}))}},{key:"renderPages",value:function(e,t){return this.pagesRender.renderPages(e,t).catch((function(e){0}))}},{key:"moveDebounce",value:function(){var e=this;this._moveDebounce||(this._moveDebounce=(0,U.debounce)((function(){e.move()}),U.isChromiumEdge||U.isChrome||U.isFirefox||U.isSafari?20:50,!1)),this._moveDebounce()}},{key:"move",value:function(){var e=this,t=this;if(this.isDestroyed||!this.pagesRender)return Promise.resolve();var n=this.getCurrentViewMode(),i=this.pagesRender.pageRenders,r=this.getCurrentPageIndex();if(r>=i.length)return this.goToPage(r-1);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.isDestroyed?[]:t.visiblePageIndexesStore.takeWhile().then((function(t){return 0===t.length&&e<10?new Promise((function(e){return setTimeout(e,0)})).then((function(){return o(e+1)})):t.sort((function(e,t){return e-t}))}))};return o().then((function(t){var i=e.currentPageNumber;i!==r&&e.setCurrentPageIndex(r);var a,A=e,s=(a=(0,x._)((function(e){var t,n,i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,A.pagesRender.moveTo(e)];case 1:r.sent(),t=5,r.label=2;case 2:return t>=0?[4,o()]:[3,7];case 3:return n=r.sent(),i=n.filter((function(t){return-1===e.indexOf(t)})),i.length>0?[4,A.pagesRender.moveTo((0,R._)(new Set((0,R._)(e).concat((0,R._)(i)))))]:[3,5];case 4:return r.sent(),[3,6];case 5:return[3,7];case 6:return e=n,t--,[3,2];case 7:return[2]}}))})),function(e){return a.apply(this,arguments)});return s(t).then((function(){var r=e,o=e.currentPageNumber,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:19;e.forEach((function(e){r.getPDFPageRender(e)&&r.getPDFPageRender(e).triggerAction(t)}))};if(e.lastVIs){var A=e.lastVIs.filter((function(e){return-1==t.indexOf(e)}));a(A,20),a(A=t.filter((function(t){return-1==e.lastVIs.indexOf(t)})))}else a(t),a(t,17);(e.lastVIs=t,"fitVisible"===e.scale&&n&&o!==i)&&("single-page-view-mode"===n.constructor.getName()&&e.zoomTo("fitVisible"))}))}))}},{key:"getContainerOffsetLeftTop",value:function(){var e=this._offsetTop;if("number"==typeof e)return{left:this._offsetLeft,top:e};e=0;for(var t=0,n=this.$container[0],i=this.viewerRender.scrollWrap.getScrollHost();n&&(e+=n.offsetTop,t+=n.offsetLeft,(n=n.offsetParent)!==i););return{left:t,top:e}}},{key:"getContainerVisibleRect",value:function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight,i=this.viewerRender.scrollWrap.getScrollHost(),r=0,o=t,a=0,A=n;if((0,I._)(i,HTMLElement)){var s=i.getBoundingClientRect();r=Math.max(r,s.left),o=Math.min(o,s.right),a=Math.max(a,s.top),A=Math.min(A,s.bottom)}return{left:r,right:o,top:a,bottom:A}}},{key:"getValidContainerVisibleRect",value:function(){var e,t,n,i,r=document.documentElement,o=(r.clientWidth,r.clientHeight,this.viewerRender.scrollWrap.getScrollHost());if((0,U.isHTMLElement)(o)){var a=o.getBoundingClientRect();e=a.left,t=a.left+o.clientWidth,n=a.top,i=a.top+o.clientHeight}else((0,U.isWindowObject)(o)||(0,U.isDocument)(o))&&(e=0,n=0,t=document.body.clientWidth,i=document.body.clientHeight);return e=Math.max(0,e),n=Math.max(0,n),{left:e,right:t=Math.min(t,document.body.clientWidth),top:n,bottom:i=Math.min(i,document.body.clientHeight)}}},{key:"getContainerVisiblePageIndexes",value:function(){if(!this.viewerRender||!this.getViewMode())return[];switch(this.viewerRender.getViewMode().getName()){case"single-page-view-mode":case"facing-continuous-page-view-mode":case"facing-page-view-mode":case"continuous-view-mode":return this.getViewMode().getVisibleIndexes()}for(var e,t,n,i,r=this.getCurrentPageIndex(),o=N()(this.pagesRender.pageDOMs),a=o.length,A=r-1,s=r,c=[],u=this.getContainerVisibleRect(),l=u.left,d=u.right,h=u.top,f=u.bottom;;){if(!i&&s<a){var p=o[s],g=N()(p).find(".fv__pdf-page-container"),v=g.length>0?g[0].getBoundingClientRect():p.getBoundingClientRect();v.right>l&&v.left<d&&v.bottom>h&&v.top<f?(c.push(N()(p).index()),n=!0):n&&(i=!0),s++}else!i&&s>=a&&(i=!0);if(!t&&A>-1){var m=o[A],y=N()(m).find(".fv__pdf-page-container"),b=y.length>0?y[0].getBoundingClientRect():m.getBoundingClientRect();b.right>l&&b.left<d&&b.bottom>h&&b.top<f?(c.unshift(N()(m).index()),e=!0):e&&(t=!0),A--}else!t&&A<=-1&&(t=!0);if(i&&t)break}return c}},{key:"downloadFileSpec",value:function(e,t){this.doc.getFileSpecStream(e).then((function(e){Fa(e,t,"application/octet-stream")}))}},{key:"downloadFileSpecByName",value:function(e,t){this.doc.getFileSpecStreamByName(e).then((function(e){Fa(e,t,"application/octet-stream")}))}},{key:"performAction",value:function(e){var t=this.doc.getAdditionalAction(e);this.pdfViewer.actionManager.get(t,this).active(!0)}},{key:"setPrintState",value:function(e){this._isPrinting=e}},{key:"isPrinting",value:function(){return this._isPrinting}},{key:"transfUiLayoutKey",value:function(e){var t="";switch(e){case"pageOnly":t="PageOnly";break;case"bookmarksPanelAndPage":t="UseOutlines";break;case"pagesPanelAndPage":t="UseThumbs";break;case"attachmentsPanelAndPage":t="UseAttachments";break;case"layersPanelAndPage":t="UseOC"}return t}},{key:"executeNavigationAction",value:function(e){this.pdfViewer.customs.executeNavigationAction(e,this.pdfViewer)}},{key:"executeLayeroutAction",value:function(e,t){if(1!=this.doc.getPageCount()){var n=e;if("Default"===n&&t&&t.defaultPageLayout)switch(t.defaultPageLayout){case"continuous":n="OneColumn";break;case"singlePage":n="SinglePage";break;case"facing":n="TwoPageLeft";break;case"continuous-Facing":n="TwoColumnLeft"}var i="";switch(n){case"SinglePage":i="single-page-view-mode";break;case"OneColumn":i="continuous-view-mode";break;case"TwoPageLeft":i="facing-page-view-mode";break;case"TwoColumnLeft":i="facing-continuous-page-view-mode"}i&&this.pdfViewer.viewModeManager.set(i)}}},{key:"executeScaleAction",value:function(e,t){var n,i,r={pageIndex:void 0,scale:void 0};if(!(e&&"TypeGoto"===e.getType()||t))return r;if(e&&e.getDestination&&(r={pageIndex:i=(n=e.getDestination()).pageIndex}),n&&void 0!==n.zoomMode&&"ZoomXYZ"!==n.zoomMode||n&&n.zoomFactor>0){var o=n.zoomFactor;switch(n.zoomMode){case"actualSize":o=1;break;case"ZoomFitPage":case"ZoomFitVert":o="fitHeight";break;case"ZoomFitHorz":o="fitWidth";break;case"ZoomFitBHorz":o="fitVisible"}r={pageIndex:i,scale:o}}else if(t){var a=t.zoom;switch(Number.isNaN(parseFloat(a))||(a/=100),t.zoom){case"autoMatic":case"fitWidth":a="fitWidth";break;case"actualSize":a=1;break;case"fitPage":a="fitHeight";break;case"fitVisible":a="fitVisible"}a&&(r={pageIndex:i,scale:a})}return r}},{key:"isHandReadArticles",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!e||JSON.parse(e).handReadArticles}},{key:"startReadMode",value:function(e){var t=this,n=this.pdfViewer,i=this.$doc,r=i.get(0),o=n.stateHandlerManager,a=o.currentStateHandler.getStateName(),A=this.scale,s=e.children,c=s[0].pageIndex,u=0,l=function(){var e=s[u],n=e.objNum,i=e.pageIndex;t.pagesRender.pageRenders[i].articleBeads[n].read(),u+=1};o.switchTo(mn),n.goToPage(c,0,0,!1).then(l),i.get(0).addEventListener("click",this.readArticle=function(e){t.isHandReadArticles()&&(N()(e.target).closest(".fv__pdf-page-annots-container").length>0||(u>=s.length?t.quitReadMode():l()))},{capture:!0}),this.readArticleCursor&&r.removeEventListener("mouseover",this.readArticleCursor),r.addEventListener("mouseover",this.readArticleCursor=function(e){var n=t.isHandReadArticles(),r=!!t.resetReadModeData;i.toggleClass("fv__cursor-frame",n&&r),i.find(".fv__pdf-page-handler-container").toggleClass("fv__cursor-frame",n&&r)}),this.isHandReadArticles()&&(i.addClass("fv__cursor-frame"),i.find(".fv__pdf-page-handler-container").addClass("fv__cursor-frame")),this.resetReadModeData={pageIndex:c,scale:A,statesName:a,thread:e},n.eventEmitter.emit(de.articleEnterReadMode,e.objNum)}},{key:"quitReadMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.pdfViewer,n=this.$doc,i=t.getStateHandlerManager();n.get(0).removeEventListener("click",this.readArticle,{capture:!0}),n.get(0).removeEventListener("mouseover",this.readArticleCursor),n.removeClass("fv__cursor-frame"),n.find(".fv__pdf-page-handler-container").removeClass("fv__cursor-frame");var r=this.resetReadModeData,o=r.pageIndex,a=r.scale,A=r.statesName,s=r.thread;t.getPDFPageRender(o).$handler.find(".fv__mark-selection-blank").remove(),e&&i.switchTo(A),t.goToPage(o,0,0,!1).then((function(){t.zoomTo(a)})),t.eventEmitter.emit(de.articleOutReadMode,s.objNum),this.resetReadModeData=null,this.readArticle=null,this.readArticleCursor=null}},{key:"fullscreen",value:function(){this.pdfViewer.viewerUI.rootComponent.querySelector("float-bar").controller.fullScreen()}},{key:"disableDragToScroll",value:function(){this.viewerRender.disableDragToScroll()}},{key:"enableDragToScroll",value:function(){this.viewerRender.enableDragToScroll()}},{key:"hideMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.hideMarkupFlag=e;var n=this.pagesRender;n.viewMode.getVisibleIndexes();n.pageRenders.forEach((function(n){var i,r=n.annotsRender;r&&(t?(i=r).render.apply(i,(0,R._)(r.renderParams)):e?(r.backAnnots=r.showAnnots,r.showAnnots=new Set,r.annotFiltered=1):(Array.from(r.showAnnots).map((function(e){return r.backAnnots.add(e)})),r.showAnnots=r.backAnnots,r.backAnnots=new Set))}))}}]),n}(ne);function ja(e){return"state-"+e}const Va=Ba;var Ua=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this)).viewerRender=e,i}return(0,P._)(n,[{key:"getScrollHost",value:function(){return window}},{key:"scrollBy",value:function(e,t){this.getScrollHost().scrollBy(e,t)}},{key:"scrollTo",value:function(e,t){this.getScrollHost().scrollTo(e,t)}},{key:"getScrollOffsetTop",value:function(){return this.viewerRender.$ui[0].offsetTop}},{key:"getScrollOffsetLeft",value:function(){return this.viewerRender.$ui[0].offsetLeft}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getWidth",value:function(){var e=this.getScrollHost();return Ha(e)?document.documentElement.clientWidth:e.clientWidth}},{key:"getHeight",value:function(){var e=this.getScrollHost();return Ha(e)?document.documentElement.clientHeight:e.clientHeight}},{key:"getScrollTop",value:function(){var e=this.getScrollHost();return Ha(e)?document.scrollingElement?document.scrollingElement.scrollTop:e.scrollY||e.pageYOffset||0:e.scrollTop}},{key:"getScrollLeft",value:function(){var e=this.getScrollHost();return Ha(e)?document.scrollingElement?document.scrollingElement.scrollLeft:window.scrollX||window.pageXOffset||0:e.scrollLeft}},{key:"disable",value:function(e){if(this.disabled=e,e){var t=this.getScrollHost();t===document.body&&(t=document),this.scrollPosition={top:t.scrollTop,left:t.scrollLeft}}else this.scrollPosition=null}},{key:"addScrollEventListener",value:function(e){var t=this,n=this.getScrollHost();n===document.body&&(n=document);var i=function(i){var r,o;t.disabled?n.scrollTo(null===(r=t.scrollPosition)||void 0===r?void 0:r.left,null===(o=t.scrollPosition)||void 0===o?void 0:o.top):e(i,n)};n.addEventListener("scroll",i);var r=Gi,o=function(){n.removeEventListener("scroll",i),r()};return r=this.addDestroyHook(o),o}},{key:"getOffsetOfPageElement",value:function(e){var t=this.viewerRender.$ui[0].getBoundingClientRect(),n=e.getBoundingClientRect();return{left:n.left-t.left,top:n.top-t.top}}}]),n}(U.Disposable);function Ha(e){return(0,I._)(e,Window)||(0,I._)(e,Document)}const za=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t}return(0,P._)(e,[{key:"docHandler",value:function(e){if(this.pdfViewer){var t=this.pdfViewer.getPDFViewerRender();t&&t.disableDragToScroll()}}},{key:"destroyDocHandler",value:function(){}},{key:"pageHandler",value:function(e){}},{key:"destroyPageHandler",value:function(){}},{key:"out",value:function(){this.pdfViewer.keyboard.activeDefaultBinde&&this.pdfViewer.keyboard.activeDefaultBinder()}}],[{key:"getStateName",value:function(){(0,U.notImplemented)()}},{key:"getKeyboardBinderName",value:function(){return null}},{key:"setParams",value:function(e,t){}}]),e}();function Wa(e,t,n){var i=e.getBoundingClientRect();return[t-i.left,n-i.top]}function Ya(e,t,n){var i,r=e[0],o=e[1],a=r+t,A=o+n;return a<r&&(i=r,r=a,a=i),A<o&&(i=o,o=A,A=i),{left:r,right:a,top:o,bottom:A}}var Ga="fv__mark-selection-blank",$a="."+Ga;function Ka(e){e.find($a).remove()}function qa(e){var t,n,i=e[e.length-1],r={};switch(i.rotation){case 0:n=2*(t=i.top-i.bottom)/5,r.left=i.right-n,r.right=i.right+n,r.top=(i.top+i.bottom)/2,r.bottom=r.top-t;break;case 3:t=4*(n=i.right-i.left)/5,r.left=(i.right+i.left)/2,r.right=r.left+n,r.top=i.top+t/2,r.bottom=r.top-t;break;case 2:n=2*(t=i.top-i.bottom)/5,r.left=i.left-n,r.right=i.left+n,r.bottom=(i.top+i.bottom)/2,r.top=r.bottom+t;break;case 1:t=4*(n=i.right-i.left)/5,r.right=(i.right+i.left)/2,r.left=r.right-n,r.top=i.bottom+t/2,r.bottom=r.top-t}return{rect:r,rotate:i.rotation*Math.PI/2}}function Ja(e,t){(t||e.$handler).find(".fv__mark-text-selection-range").remove()}function Xa(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove(),Ja(e,i);var r={top:Math.min(t[1],n[1]),left:Math.min(t[0],n[0]),width:Math.abs(t[0]-n[0]),height:Math.abs(t[1]-n[1])};i.append(N()('<div class="fv__mark-text-selection-range"></div>').css(r))}function Qa(e){if("clientX"in e)return e.clientX;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientX;case"touchend":case"touchcancel":return e.changedTouches[0].clientX}}function Za(e){if("clientY"in e)return e.clientY;switch(e.type){case"touchstart":case"touchmove":return e.touches[0].clientY;case"touchend":case"touchcancel":return e.changedTouches[0].clientY}}const eA=function(e,t){var n=e.getBoundingClientRect(),i=t.srcEvent,r=Qa(i),o=Za(i);return{x:r-n.left-t.deltaX,y:o-n.top-t.deltaY}};var tA="update-dbl-click-data",nA=function(){function e(){(0,_._)(this,e),(0,X._)(this,"store",new U.Store)}return(0,P._)(e,[{key:"dispatchDblClickData",value:function(e){var t=this;this.store.dispatch(tA,e).finally((function(){t.store.dispatch(tA,null)}))}},{key:"takeWhileDblClickDataReturn",value:function(e){var t=this.store.subscribe(tA,(function(n){n&&(e(n),t())}))}}]),e}();var iA,rA,oA,aA,AA=(iA=function(e,t){t&&(Object.values(t).forEach((function(e){var t=e.target;"-1"===t.getAttribute("tabindex")&&t.removeAttribute("tabindex")})),function(e){!e.getAttribute("tabindex")&&e.setAttribute("tabindex",-1)}(e))},rA=500,oA=!0,function(){var e=this,t=arguments,n=oA&&!aA;clearTimeout(aA),aA=setTimeout((function(){aA=null,oA||iA.apply(e,t)}),rA),n&&iA.apply(e,t)}),sA=function(){function e(){(0,_._)(this,e),this.eventObject={},this._addKeyEvent()}return(0,P._)(e,[{key:"setDebugger",value:function(e){this.debugger=e}},{key:"_cwarn",value:function(){if(this.debugger)return console.warn.apply(this,arguments)}},{key:"_addTabindexEvent",value:function(e){var t=this;if(!e._hasmousedownevent_){var n=e._mousedown_=function(n){AA(e,t.eventObject)};e.addEventListener("mousedown",n),e._hasmousedownevent_=!0}}},{key:"_addEventObject",value:function(e,t,n){if(!t)throw Error("keys arguments is required.");var i,r=e._stctid||(i=(new Date).getTime(),window.performance&&"function"==typeof window.performance.now&&(i+=performance.now()),"xxyy-4xxx-yxxx-xx-sc".replace(/[xy]/g,(function(e){var t=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==e?t:3&t|8).toString(16)})));t=(t+"").toLocaleLowerCase().replace(/ /g,""),this._addTabindexEvent(e);var o=this.eventObject[r];o||(o={}),o.target=o.target||e,o[t]&&this._cwarn("重复绑定快捷键：",e,t),o[t]=n,e._stctid=r,this.eventObject[r]=o}},{key:"_addKeyEvent",value:function(){var e=this,t=[],n=[],i=function(r,o){var a=o||r.target,A=a._stctid,s=e.eventObject[A];if(o=a.parentNode,A&&s){var c=t.concat([]),u=n.concat([]);do{var l=c.join("+"),d=u.join("+"),h=s[l],f=s[d];if(h||f)return t=c,n=u,void(h||f)(r);c.shift(),u.shift()}while(c.length+u.length)}o&&"HTML"!==o.nodeName&&i(r,o)};document.addEventListener("keydown",(function(r){var o=r.key,a=r.keyCode;if(o){o="Control"===o?"ctrl":"Escape"===o?"esc":o.toLocaleLowerCase();var A=t.indexOf(o),s=n.indexOf(a);A>-1&&t.splice(A,1),s>-1&&n.splice(s,1),t.push(o),n.push(a);var c=function(){var t=document.activeElement;if(["INPUT","TEXTAREA"].includes(t.nodeName)||t.hasAttribute("contenteditable")||t.hasAttribute("tabindex"))return t;var n=Object.values(e.eventObject).find((function(e){return e.target.hasAttribute("tabindex")}));return n&&n.target}();i(r,c)}})),document.addEventListener("keyup",(function(e){var i=e.keyCode,r=e.altKey,o=e.ctrlKey,a=e.metaKey,A=e.shiftKey;if(r||o||a||A){var s=n.indexOf(i);s>-1&&(t.splice(s,1),n.splice(s,1))}else t=[],n=[]}))}},{key:"register",value:function(e,t,n){var i=this;if(e||(e=document),!(0,I._)(e,Node))throw Error("first arguments is not a node.");return(0,I._)(t,Array)?t.forEach((function(t){i._addEventObject(e,t,n)})):this._addEventObject(e,t,n),this}},{key:"unregister",value:function(e,t){var n=this,i=e._stctid;t?((0,I._)(t,Array)?t:[t]).forEach((function(e){delete n.eventObject[i][e]})):(e.removeEventListener("mousedown",e._mousedown_),delete this.eventObject[i],delete e._stctid,delete e._hasmousedownevent_,delete e._mousedown_)}}],[{key:"getInstance",value:function(){return window.Shortcut?window.Shortcut:window.Shortcut=new e}}]),e}();const cA=sA.getInstance();var uA="rectangle",lA=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank:not(.rectangle)").remove();for(var r=N()(document.createDocumentFragment()),o=i.get(0).getBoundingClientRect(),a=0,A=t.length;a<A;a++){var s=t[a],c={top:s.top/o.height*100+"%",left:s.left/o.width*100+"%",width:(s.right-s.left)/o.width*100+"%",height:(s.bottom-s.top)/o.height*100+"%"};r.append(N()('<mark class="fv__mark-selection-blank" type="'+n+'"></mark>').css(c))}i.append(r)},dA=function(e,t,n,i){var r=Ya(t,n,i);return e.getTextRectsAtRect(r).then((function(t){return Promise.all([e.getPDFPage(),t]).then((function(t){var n=(0,E._)(t,2),i=n[0],r=n[1],o=e.transformRectArray(i,r);return lA(e,o,Lt.Text),{page:i,rectArray:r,rectArrayInPixel:o}}))}))},hA=function(e,t,n){var i=e.$handler;i.find(".fv__mark-selection-blank.rectangle").remove();var r=i.get(0).getBoundingClientRect(),o={top:Math.min(t[1],n[1])/r.height*100+"%",left:Math.min(t[0],n[0])/r.width*100+"%",width:Math.abs(t[0]-n[0])/r.width*100+"%",height:Math.abs(t[1]-n[1])/r.height*100+"%"};i.append(N()('<mark class="fv__mark-selection-blank rectangle" type="rectangle"></mark>').css(o))},fA=function(e,t,n,i){var r=e.point,o=e.rectArray,a=e.isReadSelectText,A=void 0===a||a,s=e.characterIndexStart,c=void 0===s?-1:s,u=e.characterIndexEnd,l=void 0===u?-1:u,d=e.panStartEvent,h=e.panMoveArr,f=e.overrideText,p=n.pdfViewer,g=n.doc;return(o||[])[0]?Promise.all([n.getPDFPage(),o]).then((function(e){var o=(0,E._)(e,2),a=o[0],s=o[1];Ya(r,t.deltaX,t.deltaY);return Promise.all(s.map((function(e){return a.getTextContinuousCharsAtRect(e,!0)}))).then((function(e){return e.join("\n")})).then((function(e){g.addTextSelectedInfo(n,c,l,s,e,t,d,h),p.getStore().dispatch(Ce.SELECTION_INFO,{page:a,text:f||e,rectArray:s,isReadSelectText:A,e:t,panStartEvent:d,panMoveArr:h}),p.eventEmitter.emit(de.selectText,{page:a,text:f||e,rectArray:s,e:t,panStartEvent:d,panMoveArr:h});var r=n.transformRectArray(a,s);lA(n,r,Lt.Text);var o=r[0];return!!o&&(i&&i.showAt((o.left+o.right)/2,o.top,e,r),!0)}))})):Promise.resolve(!1)},pA=function(e){e.currentPDFDoc&&e.currentPDFDoc.setSelectedInfo(null),e.getStore().dispatch(Ce.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()}))},gA=function(){function e(t,n,i,r){var o=this;if((0,_._)(this,e),[mn,Xn].includes(r)){var a,A,s=-1,c=-1,u="unknown",l=n.$handler.addClass("fv__select-text-image-state-handler"),d=l[0],h=n.pdfViewer,f=(h.viewerUI,h.eventEmitter),p=null,g=null,v=[],m=n.doc;this.pdfDoc=m,this.pdfViewer=h,this.pageRender=n,this.tooltip=i,this.stateName=r,this.altEnter=!1,this.altSwitch=!1,this.disposor=new U.Disposable,this.isEnable=!0,this.addAltEvent(l);var y,b,w,k,P=m.isDynamicXFA();0;var D,C=!1,S=!1;if(U.isTouchDevice){var I,R,T=null,M=this;t.on("press",(D=(0,x._)((function(e){var t;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return P?[2]:[4,n.annotsRender.findAnnot(e.srcEvent)];case 1:return r.sent()||(pA(h),i&&i.hide(),t=eA(d,e),n.getTextContinueRectAtDevicePoints([t.x,t.y],[t.x+5,t.y+5],-1,-1).then((function(e){T=e,n.getPDFPage().then((function(t){var i=n.transformRectArray(t,e);lA(n,i,Lt.Text)})),(e||[])[0]&&(C=!0,M.setEnable(!0),M.pdfViewer.eventEmitter.emit(de.togglePageContextMenu,!1))}))),[2]}}))})),I=function(e){return D.apply(this,arguments)})),t.on("hammer.input",R=function(e){if("pointerup"===e.srcEvent.type){if(S)return T=null,void(C=!1);if(C&&T){var t=eA(d,e);fA({point:[t.x,t.y],rectArray:T,characterIndexStart:s,characterIndexEnd:c,panStartEvent:g,panMoveArr:v},e,n,i)}else pA(h),i&&i.hide();T=null,C=!1,o.pdfViewer.eventEmitter.emit(de.togglePageContextMenu,!0)}else"pointerdown"===e.srcEvent.type&&(S=!1)}),this.disposor.addDestroyHook((function(){t.off("press",I),t.off("hammer.input",R)}))}t.on("doubletap",y=function(e){P||o.isEnable&&(pA(h),i&&i.hide(),o.isTextSelectionToolEnabledInHandState()&&function(e,t,n,i){var r=eA(t,e),o=[r.x,r.y];n.getDoubleClickTextRectAtPoint(o).then((function(t){var r=n.pdfViewer.getIoC().getInstanceByClass(nA);fA({point:o,rectArray:t,isReadSelectText:!1},e,n,i).then((function(e){r.dispatchDblClickData({isTextSelected:e})}))}))}(e,d,n,i))}),t.on("panstart",b=function(e){if(o.isEnable&&(r!==mn||!U.isTouchDevice||C)){S=!0;var t=eA(d,e);n.getTextContinueRectAtDevicePoints([t.x,t.y],[t.x+5,t.y+5],-1,-1).then((function(n){var l=(n||[])[0];if(u=!l,r===mn){if(u)return;var d=h.customs.isCollaborationMod&&h.customs.isCollaborationMode(),p=h.customs.getCommentPermission&&h.customs.getCommentPermission();if(d&&!p)return;f.emit("can-scroll",!1)}o.pdfDoc.textSelecting=!0,g=e,v=[],s=l&&"string"==typeof l.text?l.start:-1,c=-1,void 0,a=[t.x,t.y],A=new fe,m.clearSelectedInfo(h),i&&i.hide(),h.killFocus(),o.altSwitch=o.altEnter}))}}),t.on("panmove",w=function(e){if(o.isEnable){if(r===mn){if(U.isTouchDevice&&!C)return;if("unknown"===u||!o.pdfDoc.textSelecting)return}else if("unknown"===u)return;var t=eA(d,e);A||(A=new fe),A.push((function(){var i=o;v.push(e);var A=[a[0]+e.deltaX,t.y+e.deltaY];if(r===mn){if(o.altSwitch)return Xa(n,a,A),dA(n,a,e.deltaX,e.deltaY);if(u)return p={type:uA,pageRender:n},m.setSelectedInfo(p),hA(n,a,A),Promise.resolve()}var l=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Promise.all([t.getPDFPage(),n?Promise.resolve(r):t.reverseDevicePoint(r)]).then((function(n){var r=(0,E._)(n,2),a=r[0],A=r[1];return a.getTextIndexAtPoint(A).then((function(n){if(-1==n)return Promise.resolve();var r=o?n:0,A=o?-1:n;return a.getTextRectsByIndexes(r,A).then((function(n){var o=t.transformRectArray(a,n);lA(t,o,Lt.Text),i.pdfDoc.addTextSelectedInfo(t,r,A,n,"",e,g,v)}))}))}))};return h.convertClientCoordToPDFCoord({clientX:e.srcEvent.clientX,clientY:e.srcEvent.clientY}).then((function(t){var i=t.index;return i!=n.index?l(n,!1,a,i>n.index).then((function(){c=i>n.index?-1:0;var e=h.getPDFPageRender(i),r=[t.left,t.top];return l(e,!0,r,i<n.index)})):n.getTextContinueRectAtDevicePoints(a,A,s,c).then((function(t){var i=(t||[])[0];if(i&&("string"==typeof i.text&&(s=i.start,c=i.end),-1!==s))return Promise.all([n.getPDFPage(),t]).then((function(t){var i=(0,E._)(t,2),r=i[0],a=i[1],A=n.transformRectArray(r,a);lA(n,A,Lt.Text),o.pdfDoc.addTextSelectedInfo(n,s,c,a,"",e,g,v)}))}))}))}))}}),t.on("panend",k=function(e){if(o.isEnable&&!h.asyncRender){if(r===mn){if(!o.pdfDoc.textSelecting||"unknown"===u)return;o.pdfDoc.textSelecting=!1,o.pdfViewer.eventEmitter.emit("can-scroll",!0)}else if(o.pdfDoc.textSelecting=!1,"unknown"===u)return;A&&(A.end(),A=null);var t=eA(d,e),s=[a[0]+e.deltaX,t.y+e.deltaY];if(o.altSwitch&&r===mn)return o.altSwitch=!1,Ja(n),dA(n,a,e.deltaX,e.deltaY).then((function(t){var r=t.page,o=t.rectArray,a=t.rectArrayInPixel,A=o[0].texts||"";m.addTextSelectedInfo(n,0,0,o,A,e,g,v),h.getStore().dispatch(Ce.SELECTION_INFO,{page:r,text:A,rectArray:o,e,panStartEvent:g,panMoveArr:v}),f.emit(de.selectText,{page:r,text:A,rectArray:o,e,panStartEvent:g,panMoveArr:v});var s=a[0];s&&i&&i.showAt((s.left+s.right)/2,s.top,p.getText(),a)}));if(!u||r!==mn)return o.pdfDoc.updateTextSelectInfo().then((function(){o.pdfDoc.selectedInfo&&function(e,t){var n=e.selectedPages;if(n.length){var i=e.e,r=e.panStartEvent,o=e.panMoveArr,a=n[0].pageRender,A=a.pdfViewer,s=(a.doc,n[0].rectArray),c=e.getText(),u=c;a.getPDFPage().then((function(n){A.getStore().dispatch(Ce.SELECTION_INFO,{selectedInfo:e,page:n,text:u||c,rectArray:s,isReadSelectText:!1,e:i,panStartEvent:r,panMoveArr:o}),A.eventEmitter.emit(de.selectText,{selectedInfo:e,page:n,text:u||c,rectArray:s,e:i,panStartEvent:r,panMoveArr:o});var l=a.transformRectArray(n,s),d=l[0];return!!d&&(t&&t.showAt((d.left+d.right)/2,d.top,c,l),!0)}))}}(o.pdfDoc.selectedInfo,i)}));p={type:uA,pageRender:n,e,panStartEvent:g,panMoveArr:v},m.setSelectedInfo(p),hA(n,a,s),u="unknown"}});var L=function(){i&&i.hide()};f.on(de.activeElementChanged,L),f.on(de.switchStateHandler,L),this.disposor.addDestroyHook((function(){i&&i.destroy(),f.off(de.activeElementChanged,L),f.off(de.switchStateHandler,L),t.off("doubletap",y),t.off("panstart",b),t.off("panmove",w),t.off("panend",k)}))}}return(0,P._)(e,[{key:"destroy",value:function(){cA.unregister(this.pageRender.$element.get(0)),this.pdfViewer.viewerUI.loadContextPromise=null,this.disposor.destroy(),this.removeAltEvent()}},{key:"doTextCopy",value:function(e){var t=this,n=e.getText();void 0!==n&&(0,U.copyText)(n).then((function(e){t.pdfViewer.eventEmitter.emit(e?de.copyTextSuccess:de.copyTextFailed,n)}))}},{key:"doExportSelectionText",value:function(e){var t=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(t.customs&&t.customs.isAccountExpired&&t.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var n=[],i=!0,r=!1,o=void 0;try{for(var a,A=e.selectedPages[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value,c=s.rectArray.map((function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}}));n.push({pageIndex:s.pageRender.index,rectArray:c})}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}t.customs&&t.customs.showSaveAsDialog&&t.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify(n))}}},{key:"createTextMarkupAnnot",value:function(e,t){var n=this,i=t.selectedPages,r=function(t,i){return t.getPDFPage().then((function(t){if("replace"===e){var r=qa(i),o=r.rect,a=r.rotate;return t.addAnnotGroup([{flags:4,type:"strikeout",rect:{left:0,right:0,top:0,bottom:0},coords:i,noPopup:!0,typeAlias:"Replace",intent:"StrikeOutTextEdit",subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")},{type:"caret",flags:4,rect:o,typeAlias:"Replace",intent:"Replace",rotation:a,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects.Replace")}],1)}return t.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i,subject:n.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))})})).then((function(e){var i=e[0];n.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,i),t.annotsRender.activeAnnot(i.getId())}))},o=[],a=!0,A=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;o.push(r(l.pageRender,l.rectArray))}}catch(e){A=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(A)throw s}}Promise.all(o).then((function(){pA(n.pdfViewer),n.tooltip&&n.tooltip.hide()}))}},{key:"doTextSelectAll",value:function(e,t){var n=this,i=this.pdfViewer;pA(i),this.tooltip&&this.tooltip.hide();var r=[];if(t){var o=!0,a=!1,A=void 0;try{for(var s,c=t.selectedPages[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;r.push(u.pageRender)}}catch(e){a=!0,A=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw A}}}else e&&r.push(e);var l=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;Promise.all([e.getAllTextRect(),e.getAllTextChar(),e.getPDFPage()]).then((function(t){var r=(0,E._)(t,3),o=r[0],a=r[1],A=r[2];i.getStore().dispatch(Ce.SELECTION_INFO,{page:A,text:a,rectArray:o}),i.eventEmitter.emit(de.selectText,{page:A,text:a,rectArray:o});var s=e.transformRectArray(A,o);lA(e,s,Lt.Text);var c=n.pdfViewer.currentPDFDoc;e.getAllTextChar().then((function(t){c.addTextSelectedInfo(e,0,-1,o,t)}))}))},g=r[Symbol.iterator]();!(l=(f=g.next()).done);l=!0)p()}catch(e){d=!0,h=e}finally{try{l||null==g.return||g.return()}finally{if(d)throw h}}}},{key:"createBookmark",value:function(e,t){var n=this;if(!e){var i=!0,r=!1,o=void 0;try{for(var a,A=t.selectedPages[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){e=a.value.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}}var s=this.pdfViewer.viewerUI.rootComponent;if(s.getComponentByName("sidebar-bookmark").active(),t){var c,u,l=t.type,d=t.graphicsObject;l==Lt.Text&&(c=t.getText(),u=t.selectedPages[0].rectArray),e.getPDFPage().then((function(e){var t=l===Lt.Text?u[0]:d.getRect(),i=t.left,r=t.top,o=l===Lt.Text?c:n.pdfViewer.i18n.t("sidebar.bookmark.untitled"),a=e.getIndex(),A=s.getComponentByName("fv-bookmark-sidebar-panel");n.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{bookmarkId:A.currentBookmarkId,left:i,top:r,title:o,relationship:3,pageIndex:a})}))}else this.pdfViewer.eventEmitter.emit("bookmark-create-current-view")}},{key:"doEditText",value:function(e){}},{key:"createLink",value:function(e){var t,n=this,i=!0,r=!1,o=void 0;try{for(var a,A=e.selectedPages[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value;t=s.pageRender;break}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}if(t){var c=t.doc;t.getPDFPage().then((function(e){var i=0;if(c.selectedInfo){var r=c.selectedInfo.selectedPages[0].rectArray,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,A=-Number.MAX_VALUE,s=Number.MAX_VALUE;r.forEach((function(e){o=Math.min(o,e.left),a=Math.max(a,e.right),A=Math.max(A,e.top),s=Math.min(s,e.bottom)})),i&&(c.selectedInfo=null),e.addAnnot({type:"link",rect:{left:o,right:a,top:A,bottom:s},color:"0000FF"}).then((function(e){var i=t.getAnnotRender(e[0].getId()).component;i.showCreateDialog(),U.isMobile&&n.pdfViewer.getStateHandlerManager().switchTo(mn),t.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,i.annot),pA(n.pdfViewer),n.tooltip&&n.tooltip.hide()}))}else i=1}))}}},{key:"doWordCount",value:function(e){}},{key:"getLoopUpText",value:function(){var e=!1,t=this.pageRender.doc;if(t.selectedInfo){var n=t.selectedInfo.getText();return n=n.trim(),U.isWindows&&(n=n.substr(n.lastIndexOf(" ")+1)),t.selectedInfo.lookUpText=n,e&&(t.selectedInfo=null),n}e=!0}},{key:"doLookUp",value:function(e){var t=e.lookUpText;this.dictionaryWindow&&this.dictionaryWindow.close(),this.dictionaryWindow=window.open("https://www.dictionary.com/browse/".concat(t,"?utm_source=foxit&utm_medium=referral&utm_campaign=foxit"))}},{key:"isTextSelectionToolEnabledInHandState",value:function(){if(this.stateName===mn){var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(mn);if(e&&!e.enableTextSelectionTool)return!1}return!0}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"addAltEvent",value:function(e){var t=this;this.keydownUpEvent=function(e){"keyup"===e.type&&t.altEnter?(e.stopPropagation(),e.preventDefault(),t.altEnter=!1):e.altKey&&(e.stopPropagation(),e.preventDefault(),t.altEnter=!0)},N()(window).on("keydown keyup",this.keydownUpEvent)}},{key:"removeAltEvent",value:function(){N()(window).off("keydown keyup",this.keydownUpEvent)}},{key:"isTextSelecting",value:function(){return!!this.pdfDoc.textSelecting}},{key:"setEnable",value:function(e){this.isEnable=e}}]),e}(),vA=function e(){(0,_._)(this,e),this.scrollValid=!0},mA=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).isDestroyed=!1,i.cursorStyle="fv__cursor-grab",i.isOnText=!1,i.timeStamp=0,i.pdfViewer=e,i.service=e.getIoC().getInstanceByClass(vA),i.throttleTaskExecutor=new U.ThrottleAsyncTaskExecutor(100,!0),i}return(0,P._)(n,[{key:"docHandler",value:function(e){e.viewerRender.enableDragToScroll()}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e;e.$ui.addClass("fv__annot-container-zindex-up fv__allow-modify-form-control");var i=n.$handler;i.addClass("fv__hand-state-handler"),i.addClass(this.cursorStyle);var r=i[0],o=e.pdfViewer,a=o.getCurrentPDFDoc();a||(a=e.docRender.doc);var A=a.isDynamicXFA(),s=this.eventEmitter=o.eventEmitter;s.emit("can-scroll",!0);var c=this.hammer=new(gr().Manager)(r,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});c.add(new(gr().Tap)({event:"doubletap",taps:2})),c.add(new(gr().Tap)({event:"singletap"})),c.add(new(gr().Press)),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("panstart",(function(t){if(!A){var n=e.annotsRender;n&&n.panStart(t.srcEvent)}}));var u,l=this,d=(u=(0,x._)((function(t){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return pA(l.pdfViewer),A?(s.emit(de.tapPage,t),[2]):(n=e.annotsRender)?[4,n.tapPage(t.srcEvent)]:(s.emit(de.tapPage,t),[2]);case 1:return i.sent()||(t.srcEvent.ctrlKey||n.unActiveAnnot(),s.emit(de.tapPage,t)),[2]}}))})),function(e){return u.apply(this,arguments)}),h=this,f=function(){var t=(0,x._)((function(t){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return A?(s.emit(de.doubleTapPage,t,e),[2]):(n=e.annotsRender)?[4,n.doubleTapPage(t.srcEvent)]:(s.emit(de.doubleTapPage,t,e),[2]);case 1:return i.sent()||(n.unActiveAnnot(),U.isTouchDevice&&e.pdfViewer.getIoC().getInstanceByClass(nA).dispatchDblClickData({isTextSelected:h.isOnText}),s.emit(de.doubleTapPage,t,e)),[2]}}))}));return function(e){return t.apply(this,arguments)}}();U.isTouchDevice&&(U.isSafari||U.isChrome||U.isHuaweiBrowser)?this.offDoubleTapEvent=(0,U.onTap)({target:r,onDoubleTap:f,onSingleTap:d}):(c.on("singletap",d),c.on("doubletap",f));var p=this;if(c.on("press",function(){var t=(0,x._)((function(t){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return A?(s.emit(de.pressPage,t),[2]):(n=e.annotsRender,p.eventEmitter.emit("can-scroll",!0),n?(n.unActiveAnnot(),[4,n.pressPage(t.srcEvent)]):(s.emit(de.pressPage,t),[2]));case 1:return i.sent()?(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation(),[2]):(s.emit(de.pressPage,t),[2])}}))}));return function(e){return t.apply(this,arguments)}}()),U.isTouchDevice){var g=e.docRender;c.on("press",(function(t){var n=eA(r,t);e.getTextContinueRectAtDevicePoints([n.x,n.y],[n.x+5,n.y+5],-1,-1).then((function(e){!!(e||[])[0]&&g.viewerRender.disableDragToScroll()}))})),c.on("hammer.input",(function(e){"pointerup"===e.srcEvent.type&&g.viewerRender.enableDragToScroll()}))}i.on("mousedown",this.mousedown=function(e){U.isTouchDevice||(t.isOnText?pA(t.pdfViewer):(t.textSelectionHandler&&t.textSelectionHandler.setEnable(!1),i.removeClass(t.cursorStyle),t.cursorStyle="fv__cursor-grabbing",i.addClass(t.cursorStyle),t.textSelectionHandler&&t.textSelectionHandler.isTextSelecting()&&t.eventEmitter.emit("can-scroll",!1)))}),U.isTouchDevice&&U.isIOS&&U.isChrome||i.on("mousemove",this.mousemove.bind(this)),i.on("mouseup",this.mouseup=function(n){if(!t.isOnText&&(i.removeClass(t.cursorStyle),t.textSelectionHandler&&!t.textSelectionHandler.isTextSelecting()&&t.emitCanScroll(),t.cursorStyle="fv__cursor-grab",i.addClass(t.cursorStyle),3===n.which))if(A)s.emit(de.rightClickPage,n);else{var r=e.annotsRender;r?(r.unActiveAnnot(),s.emit(de.rightClickPage,n)):s.emit(de.rightClickPage,n)}});var v=N()('<div class="fv__hand-state-contextmenu-container fv__contextmenu-container"></div>'),m=i.find(".fv__mark-selection-blank");m&&m.length>0?v.insertBefore(m[0]):i.append(v),v.data("hand-state",this),setTimeout((function(){if(t.textSelectionToolEnabled()&&!t.isDestroyed&&!e.isDestroyed){var n=t.tooltip=o.viewerUI&&o.viewerUI.createTextSelectionTooltip(e);t.textSelectionHandler=new gA(t.hammer,e,n,mn),n&&n.on("blur",(function(e){!e&&pA(t.pdfViewer),n.hide()}))}}),200)}},{key:"mousemove",value:function(e){var t=this;if(this.textSelectionHandler&&this.textSelectionHandler.isTextSelecting())return this.cursorStyle="fv__cursor-text",void this.pageRender.$handler.removeClass("fv__cursor-grab").addClass(this.cursorStyle);clearTimeout(this.timer),this.throttleTaskExecutor.exec((function(){if(t.pageRender&&t.textSelectionToolEnabled())return t.mousemoveHandler(e)}))}},{key:"textSelectionToolEnabled",value:function(){if(!this.pdfViewer)return!1;var e=this.pdfViewer.getStateHandlerManager().getStateHandlerConfig(mn);return!e||!!e.enableTextSelectionTool}},{key:"mousemoveHandler",value:function(e){var t=this,n=this.pageRender,i={x:e.originalEvent.layerX,y:e.originalEvent.layerY};return n.getTextContinueRectAtDevicePoints([i.x,i.y],[i.x+5,i.y+5],-1,-1).then((function(e){e[0]?(t.cursorStyle="fv__cursor-text",t.eventEmitter.emit("can-scroll",!1),t.isOnText=!0,t.textSelectionHandler&&t.textSelectionHandler.setEnable(!0),n.$handler.removeClass("fv__cursor-grab").addClass(t.cursorStyle)):(n.$handler.removeClass("fv__cursor-text").addClass("fv__cursor-grab"),t.isOnText=!1)}))}},{key:"emitCanScroll",value:function(){var e=this;this.service.scrollValid&&(this.service.scrollValid=!1,this.scrollTimer=setTimeout((function(){e.eventEmitter.emit("can-scroll",!0),e.service.scrollValid=!0}),30))}},{key:"destroyPageHandler",value:function(){this.isDestroyed=!0,this.offDoubleTapEvent&&this.offDoubleTapEvent(),this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up fv__allow-modify-form-control"),this.pageRender.$handler.off("mousedown",this.mousedown).off("mouseup",this.mouseup).off("mousemove").removeClass("fv__hand-state-handler").removeClass(this.cursorStyle).find(".fv__hand-state-contextmenu-container").remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.pageRender.$handler.removeClass("fv__cursor-grab").removeClass("fv__cursor-grabbing"),this._destroyTouchScrollEvent&&this._destroyTouchScrollEvent(),this.textSelectionHandler&&this.textSelectionHandler.destroy()}},{key:"out",value:function(){this.destroyPageHandler(),this.destroyDocHandler(),this.pageRender=null}},{key:"allowZoomIn",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.ceil(4*n+1)/4)<t.config.maxScale}},{key:"zoomIn",value:function(){var e=this.pageRender,t=e.getScale();t=Math.ceil(4*t+1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))}},{key:"allowZoomOut",value:function(){var e=this.pageRender,t=e.pdfViewer,n=e.getScale();return(n=Math.floor(4*n-1)/4)>t.config.minScale}},{key:"zoomOut",value:function(){var e=this.pageRender,t=e.getScale();t=Math.floor(4*t-1)/4,e.pdfViewer.zoomTo(t).catch((function(){}))}},{key:"clockwiseRoataion",value:function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+1)%4;e.setRotation(t)}))}},{key:"contrarotate",value:function(){this.pageRender.getPDFPage().then((function(e){var t=(e.getRotation()+3)%4;e.setRotation(t)}))}}],[{key:"getStateName",value:function(){return mn}},{key:"getDefaultContextMenuConfig",value:function(){var e="hand-state";return{selector:".fv__hand-state-contextmenu-container",items:{zoomin:{name:"zoomin",nameI18nKey:"viewer_:contextmenu.hand.zoomin",callback:function(t,n,i){this.data(e).zoomIn()},visible:function(){return this.data(e).allowZoomIn()}},zoomout:{name:"zoomout",nameI18nKey:"viewer_:contextmenu.hand.zoomout",callback:function(t,n,i){this.data(e).zoomOut()},visible:function(){return this.data(e).allowZoomOut()}}}}}}]),n}(za);const yA=mA;var bA=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).pdfViewer=e,r.scrollHost=i,r.prepare(),r.canScroll=!0,r.scrollable=!0,r}return(0,P._)(n,[{key:"disable",value:function(){this.scrollable=!1}},{key:"enable",value:function(){this.scrollable=!0}},{key:"addViewerEventListener",value:function(e,t){var n=this;this.pdfViewer.eventEmitter.on(e,t),this.addDestroyHook((function(){n.pdfViewer.eventEmitter.off(e,t)}))}},{key:"prepare",value:function(){var e,t,n=this;this.taskExecutor=new U.DebounceAsyncTaskExecutor(66);var i=!1,r=this.pdfViewer,o=r.getStateHandlerManager();this.addViewerEventListener("can-scroll",(function(e){n.canScroll=e})),this.addViewerEventListener(de.updateScrollableStatus,(function(n){var i=n.disableHorizontal,r=n.disableVertical;e=i,t=r})),this.addViewerEventListener(de.changeViewModeSuccess,(function(n){n!==ca&&(e=!1,t=!1)}));var a=this.scrollHost,A=function(e,t){a.scrollBy?a.scrollBy(e,t):(a.scrollLeft=a.scrollLeft+e,a.scrollTop=a.scrollTop+t)},s=new Hammer.Manager(a,{inputClass:U.TrustedPointerEventInput});s.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL}));var c,u=0,l=0,d=0,h=0,f=0,p=function(e){u=0,l=0,f=0},g=function(i,o,a){if(n.scrollable&&"hand"===r.getStateHandlerManager().currentStateHandler.getStateName()){var s=i-u,c=o-l;if(e&&(s=0),t){var p=o-f;if(a===Hammer.DIRECTION_UP||a===Hammer.DIRECTION_DOWN)return n.scrollSinglePage(p),void(f=o);c=0}A(-s,-c),r.eventEmitter.emit(de.scrollingPage,{touched:!0,distanceX:d,distanceY:h}),u=i,l=o,d=i,h=o}},v=!1,m=!0,y=!1,b=function(e){var t,n,i,r=e.clientX;if((0,I._)(a,Window))t=0,n=0,i=0;else{t=a.getBoundingClientRect().left;var o=getComputedStyle(a);n=parseInt(o.borderLeftWidth)||0,i=parseInt(o.borderRightWidth)||0}var A=n+i,s=a.offsetWidth,c=s-a.clientWidth-A;y=r>=s-c+t},w=function(){y=!1};a.addEventListener("mousedown",b),a.addEventListener("touchstart",b),a.addEventListener("mouseup",w),a.addEventListener("touchend",w),a.addEventListener("touchcancel",w);var k=function(e){var t=(0,U.eventPath)(e).some((function(e){return!!e.classList&&e.classList.contains("fv__pdf-page-annots-container")}));i=t};window.addEventListener("mousedown",k,!0),window.addEventListener("touchstart",k,!0);var x=["fv__pdf-page-handler-container","fv__hand-state-contextmenu-container","fv__rendering-container"],_=function(e){var t=e.classList;return o.getCurrentStates()===yA||x.some((function(e){return t.contains(e)}))},P=!1,D=!1;s.on("panstart",(function(e){P=!1,!n.scrollable||i||y||(D?D=!1:(_(e.srcEvent.srcElement)&&(P=!0,r.eventEmitter.emit(de.startScrollingPage,{})),d=0,h=0,v=!1,m=!0,cancelAnimationFrame(c),e.pointers.length>1||n.canScroll&&g(e.deltaX,e.deltaY,e.direction)))})),s.on("panmove",(function(e){P&&_(e.srcEvent.srcElement)?v||!n.scrollable||i||e.pointers.length>1||n.canScroll&&g(e.deltaX,e.deltaY,e.direction):P=!1})),s.on("panend",(function(o){if(P&&_(o.srcEvent.srcElement)){if(!(o.pointers.length>1||!n.scrollable||i)){P=!1;var a=o.velocityX*(1e3/60),s=o.velocityY*(1e3/60);e&&(a=0),t&&(s=0),p();var u=.8,l=a<0?-.8:u,f=s<0?-.8:u;m=!1,c=requestAnimationFrame((function e(){var t=Math.abs(a),n=Math.abs(s);t<u&&n<u||m?r.eventEmitter.emit(de.endScrollingPage,{distanceX:d,distanceY:h}):(c=requestAnimationFrame(e),A(-a,-s),t>=u&&(a-=l),n>=u&&(s-=f),d+=a,h+=s,r.eventEmitter.emit(de.scrollingPage,{touched:!1,distanceX:d,distanceY:h}))}))}}else P=!1})),s.on("pancancel",p);var C=function(){v=!0,p()};window.addEventListener("touchend",C),window.addEventListener("touchcancel",C),window.addEventListener("mouseup",C);var S=function(e){var t=window[e];return window[e]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=t.apply(window,n);return D=!0,r},function(){window[e]=t}};this.addDestroyHook(S("alert"),S("confirm"),S("prompt")),this.addDestroyHook((function(){s.destroy(),c&&cancelAnimationFrame(c),a.removeEventListener("mousedown",b),a.removeEventListener("touchstart",b),a.removeEventListener("mouseup",w),a.removeEventListener("touchend",w),a.removeEventListener("touchcancel",w),window.removeEventListener("touchend",C),window.removeEventListener("mouseup",C),window.removeEventListener("touchcancel",C),window.removeEventListener("mousedown",k,!0),window.removeEventListener("touchstart",k,!0)}))}},{key:"scrollSinglePage",value:function(e){var t=this;0!==e&&this.taskExecutor.exec((function(){return Promise.resolve().then((function(){var n=t.pdfViewer.getPDFDocRender().getViewMode();if((0,I._)(n,ca))return e>0?n.jumpToPrevPage():n.jumpToNextPage()}))}))}}]),n}(U.Disposable),wA=B()(),kA="scroll",xA=U.LoggerFactory.getLogger("PDFViewerRender"),_A=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;(0,_._)(this,n),(o=t.call(this)).name=n.getDefaultName(),o.pdfViewer=r,o.ViewMode=i,o.$ui=e;var a=o.scrollWrap=new(o.pdfViewer.customs.ScrollWrap||Ua)((0,k._)(o)),A=100;(U.isChromiumEdge||U.isChrome||U.isFirefox||U.isSafari)&&(A=30),o.unBindScrollEvent=a.addScrollEventListener((function(){o.pdfDocRender&&(o.pdfDocRender.isDestroyed||o.pdfDocRender.moveDebounce())}));var s,c="fv__pdf-view-mode-item";e.on(kA,"."+c,o._scrollPageBind=function(e){clearTimeout(s);var t,n=e.currentTarget;try{if(!(t=o.pdfDocRender.pagesRender).length)return}catch(e){return}s=setTimeout((function(){for(var e=n.previousSibling,i=0;e;)e.classList.contains(c)&&i++,e=e.previousSibling;var r=t[i];if(r)try{r.move()}catch(e){}}),A)});o.addDestroyHook((function(){clearTimeout(s)})),e.addClass("fv__pdf-viewer").html(wA),o.$rendering=e.find(".fv__pdf-viewer-rendering"),o.$container=e.find(".fv__pdf-viewer-container"),o.pdfViewerRendering=new(r.customs.PDFViewerRendering||j)(o.$rendering[0],(0,k._)(o)),(o.handler=new(r.customs.PDFViewerHandler||vr)(e.find(".fv__pdf-viewer-handler-container"),(0,k._)(o))).active(),o.oldPdfDocRenders=[],o.touchToScrollViewer=new bA(r,a.getScrollHost());var u,l=r.getKeyboard(),d=function(e){var t=o.pdfDocRender;if(t){var n=t.getViewMode();if(u=n.getShortcutEventHandler())u.onKeyPressed(e)&&e.native.preventDefault()}},h={interceptors:[function(e,t){"input"!=e.native.target.tagName.toLowerCase()&&(0===r.getAllActiveElements().length&&t(e))}]},f=function(e){u&&(u.onKeyReleased(e)&&e.native.preventDefault(),u=void 0)},p=[bo.ARROW_UP,bo.ARROW_DOWN,bo.JUMP_TO_FIRST_PAGE,bo.JUMP_TO_LAST_PAGE,bo.JUMP_TO_NEXT_PAGE,bo.JUMP_TO_PREVIOUS_PAGE,bo.SCROLL_TO_NEXT_VISIBLE_AREA,bo.SCROLL_TO_PREVIOUS_VISIBLE_AREA,bo.SCROLL_VIEWER_SCROLLBAR_LEFT,bo.SCROLL_VIEWER_SCROLLBAR_RIGHT,bo.SCROLL_VIEWER_SCROLLBAR_UP,bo.SCROLL_VIEWER_SCROLLBAR_DOWN];o.addDestroyHook.apply(o,(0,R._)(p.map((function(e){return l.keydown(e,d,h)}))).concat((0,R._)(p.map((function(e){return l.keyup(e,f,h)}))))),o.allowScrollOnMouseWheel=!0;var g=o.scrollWrap.getScrollHost();g.hasAttribute&&!g.hasAttribute("tabIndex")&&g.setAttribute("tabIndex",-1);var v=function(e){o.allowScrollOnMouseWheel||e.preventDefault()};g.addEventListener("wheel",v),o.addDestroyHook((function(){g.removeEventListener("wheel",v)}));var m=g;((0,U.isWindowObject)(m)||(0,U.isDocument)(m)||m===document.body)&&(m=window);var y=(0,U.debounce)((function(){var e=o.pdfViewer,t=o.pdfDocRender;if(t){e.eventEmitter.emit(de.fitWidthResizeViewport);var n=t.getScale();switch(n){case"fitVisible":case"fitWidth":case"fitHeight":return e.zoomTo(n,null,0);default:return e.redraw(!0,!1)}}}),100);return o.addDestroyHook((0,U.observeResize)(m,(function(){var e=o.pdfDocRender;e&&e.isDocRendered&&y()}))),o}return(0,P._)(n,[{key:"setAllowScrollOnMouseWheel",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.allowScrollOnMouseWheel=e}},{key:"setViewMode",value:function(e){var t=this;if(e!==this.ViewMode){var n=this.ViewMode;this.ViewMode=e;var i=this.pdfDocRender;if(i){this.pdfViewer.eventEmitter.emit(de.startChangeViewMode,e,n);var r=i.getViewMode(),o=r?r.getVisibleIndexes():[];return i.setViewMode(e).then((function(){if(!i.isDestroyed){var r=i.getViewMode();t.pdfViewer.eventEmitter.emit(de.changeViewModeSuccess,e,n,r);var a=i.pagesRender;if(a){var A=r&&r.docRender?r.getVisibleIndexes():[];if(!function(e,t){if(e.length!==t.length)return!1;return!e.some((function(e){return-1===t.indexOf(e)}))}(o,A))return a.renderVisiblePages()}}}),(function(r){t.ViewMode=n,t.pdfViewer.eventEmitter.emit(de.changeViewModeFailed,e,n,i.getViewMode(),r),xA.warn("change view mode fail",r)}))}}return Promise.resolve()}},{key:"getViewMode",value:function(){return this.ViewMode}},{key:"rendering",value:function(){this.$ui.addClass("fv__view-rendering"),this.pdfViewerRendering.rendering()}},{key:"rendered",value:function(){this.$ui.removeClass("fv__view-rendering"),this.pdfViewerRendering.rendered()}},{key:"renderDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfViewer.config.defaultScale,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Va(this.$container,e,this);return this.pdfDocRender=i,this.oldPdfDocRenders.push(i),this.rendered(),i.render(t,n)}},{key:"rotateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,U.assertThat)((0,U.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e)),this.pdfDocRender?this.pdfDocRender.rotateTo(e,t):Promise.reject(new Error("Cannot perform rotation without document opening!"))}},{key:"getRotation",value:function(){return this.pdfDocRender?this.pdfDocRender.getRotation():0}},{key:"closeOldDocRender",value:function(e){for(var t,n=[],i=this.oldPdfDocRenders,r=i.length;r--;)n[r]=((t=i[r]).hidden(),t.destroy(e)),this.pdfDocRender==i[r]&&(this.pdfDocRender=null),i.splice(r,1);return Promise.all(n)}},{key:"bindEvent",value:function(){}},{key:"zoomTo",value:function(e,t){if(!this.pdfDocRender)return Promise.reject(new Error("doc renderer has not been initialized!"));"number"==typeof e&&(e<this.pdfViewer.config.minScale&&(e=this.pdfViewer.config.minScale),e>this.pdfViewer.config.maxScale&&(e=this.pdfViewer.config.maxScale));try{return this.pdfDocRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.pdfDocRender.goToPage(e,{x:n,y:t},i)}},{key:"zoomAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=this;return(0,x._)((function(){var i,r,o,a,A,s,c,u,l,d,h,f;return(0,F.Jh)(this,(function(p){switch(p.label){case 0:if(!n.pdfDocRender)throw new Error("No PDF files are currently open");if(!t)return[2,n.zoomTo(e)];if(!(0,U.isValidNumber)(t.x))throw new TypeError("fixedPoint.x: ".concat(t.x," is not a valid number"));if(!(0,U.isValidNumber)(t.y))throw new TypeError("fixedPoint.y: ".concat(t.y," is not a valid number"));return-1===(i=n.getPageIndexByClientPosition(t.x,t.y))&&(i=t.pageIndex),r=n.pdfDocRender.doc.getPageCount(),(0,U.isNumberInRange)(i,0,r,!0,!1)?(o=n.pdfDocRender.getPDFPageRender(i),a=o.scale,A=n.getViewBoxRect(),[4,o.transformPoint({point:{x:t.x,y:t.y},srcType:Yo.viewport,destType:Yo.page})]):[2,n.zoomTo(e)];case 1:return s=p.sent(),c=e/a,u=s.x*c,l=s.y*c,d=t.x-A.left,h=t.y-A.top,f={type:"device",x:u-d,y:l-h,pageIndex:i,offsetY:0},[2,n.zoomTo(e,f)]}}))}))()}},{key:"getPageIndexByClientPosition",value:function(e,t){var n=this,i=-1;return this.pdfDocRender?(document.elementsFromPoint(e,t).some((function(e){if(e.classList.contains("fv__pdf-page-layout")){var t=+e.getAttribute("data-index"),r=n.pdfDocRender.getPDFPageRender(t);if(r&&r.$ui[0]===e)return i=t,!0}return!1})),i):i}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfDocRender?this.pdfDocRender.setLayerNodeVisible(e,t):Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"getScaleRatio",value:function(){return this.pdfDocRender?this.pdfDocRender.getScaleRatio():Promise.reject(new Error("doc renderer has not been initialized!"))}},{key:"disableDragToScroll",value:function(){this.touchToScrollViewer.disable()}},{key:"enableDragToScroll",value:function(){this.touchToScrollViewer.enable()}},{key:"getViewBoxRect",value:function(){var e=this.scrollWrap.getScrollHost();if(e===window)return{left:0,top:0,right:window.innerWidth,height:window.innerHeight};var t=e.getBoundingClientRect();return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.scrollWrap.destroy(),this.touchToScrollViewer.destroy(),this.pdfDocRender&&this.closeOldDocRender(),this.unBindScrollEvent(),this.$ui.off(kA)}}],[{key:"getDefaultName",value:function(){return"pdfViewerRender"}}]),n}(U.Disposable);const PA=_A,DA={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class CA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||DA,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new CA(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new CA(this.logger,e)}}var SA=new CA;class IA{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[i,r]=t;for(let t=0;t<r;t++)i.apply(i,[e,...n])}))}}}function EA(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n}function RA(e){return null==e?"":""+e}const TA=/###/g;function MA(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(TA,"."):e}function r(){return!e||"string"==typeof e}const o="string"!=typeof t?t:t.split(".");let a=0;for(;a<o.length-1;){if(r())return{};const t=i(o[a]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++a}return r()?{}:{obj:e,k:i(o[a])}}function FA(e,t,n){const{obj:i,k:r}=MA(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let o=t[t.length-1],a=t.slice(0,t.length-1),A=MA(e,a,Object);for(;void 0===A.obj&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),A=MA(e,a,Object),A&&A.obj&&void 0!==A.obj[`${A.k}.${o}`]&&(A.obj=void 0);A.obj[`${A.k}.${o}`]=n}function LA(e,t){const{obj:n,k:i}=MA(e,t);if(n)return n[i]}function NA(e,t,n){for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):NA(e[i],t[i],n):e[i]=t[i]);return e}function OA(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var BA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function jA(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>BA[e])):e}const VA=[" ",",","?","!",";"],UA=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20);function HA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;){if(!r||"object"!=typeof r)return;let t,o="";for(let a=e;a<i.length;++a)if(a!==e&&(o+=n),o+=i[a],t=r[o],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<i.length-1)continue;e+=a-e+1;break}r=t}return r}function zA(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class WA extends IA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):"string"==typeof n&&r?a.push(...n.split(r)):a.push(n)));const A=LA(this.data,a);return!A&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),A||!o||"string"!=typeof n?A:HA(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),FA(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let A=LA(this.data,a)||{};i?NA(A,n,r):A={...A,...n},FA(this.data,a,A),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var YA={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))})),t}};const GA={};class $A extends IA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach((e=>{t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=SA.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const i=VA.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===i.length)return!0;const r=UA.getRegExp(`(${i.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!r.test(e);if(!o){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(o=!0)}return o}(e,n,i));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(r=o.shift()),e=o.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),A=a[a.length-1],s=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${A}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:s,usedNS:A,usedParams:this.getUsedParamsDetails(t)}:`${A}${e}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:s,usedNS:A,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let l=u&&u.res;const d=u&&u.usedKey||o,h=u&&u.exactUsedKey||o,f=Object.prototype.toString.apply(l),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&l&&("string"!=typeof l&&"boolean"!=typeof l&&"number"!=typeof l)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof p||"[object Array]"!==f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,l,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){const e="[object Array]"===f,n=e?[]:{},i=e?h:d;for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e)){const o=`${i}${r}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=l[e])}l=n}}else if(g&&"string"==typeof p&&"[object Array]"===f)l=l.join(p),l&&(l=this.extendTranslation(l,e,t,n));else{let i=!1,a=!1;const c=void 0!==t.count&&"string"!=typeof t.count,d=$A.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(s,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(s,t.count,{ordinal:!1}):"",p=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(l)&&d&&(i=!0,l=g),this.isValidLookup(l)||(a=!0,l=o);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:l,m=d&&g!==l&&this.options.updateMissing;if(a||i||m){if(this.logger.log(m?"updateKey":"missingKey",s,A,o,m?g:l),r){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=d&&i!==l?i:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,A,n,r,m,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,A,n,r,m,t),this.emit("missingKey",e,A,n,l)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{i([e],o+n,t[`defaultValue${n}`]||g)}))})):i(e,o,g))}l=this.extendTranslation(l,e,t,u,n),a&&l===o&&this.options.appendNamespaceToMissingKey&&(l=`${A}:${o}`),(a||i)&&this.options.parseMissingKeyHandler&&(l="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${A}:${o}`:o,i?l:void 0):this.options.parseMissingKeyHandler(l))}return i?(u.res=l,u.usedParams=this.getUsedParamsDetails(t),u):l}extendTranslation(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let A;if(a){const t=e.match(this.interpolator.nestingRegexp);A=t&&t.length}let s=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),e=this.interpolator.interpolate(e,s,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);A<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):o.translate(...i,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,A="string"==typeof a?[a]:a;return null!=e&&A&&A.length&&!1!==n.applyPostProcessor&&(e=YA.handle(A,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const A=this.extractFromKey(e,a),s=A.key;n=s;let c=A.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&"string"!=typeof a.count,l=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,!GA[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(GA[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;r=n;const o=[s];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,s,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(s+e),a.ordinal&&0===e.indexOf(i)&&o.push(s+e.replace(i,this.options.pluralSeparator)),l&&o.push(s+t)),d){const n=`${s}${this.options.contextSeparator}${a.context}`;o.push(n),u&&(o.push(n+e),a.ordinal&&0===e.indexOf(i)&&o.push(n+e.replace(i,this.options.pluralSeparator)),l&&o.push(n+t))}}let A;for(;A=o.pop();)this.isValidLookup(t)||(i=A,t=this.getResource(n,e,A,a))})))}))})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}function KA(e){return e.charAt(0).toUpperCase()+e.slice(1)}class qA{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=SA.create("languageUtils")}getScriptPartFromCode(e){if(!(e=zA(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=zA(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=KA(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=KA(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=KA(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach((e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))})),i}}let JA=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],XA={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const QA=["v1","v2","v3"],ZA=["v4"],es={zero:0,one:1,two:2,few:3,many:4,other:5};class ts{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=SA.create("pluralResolver"),this.options.compatibilityJSON&&!ZA.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return JA.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:XA[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(zA("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>es[e]-es[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!QA.includes(this.options.compatibilityJSON)}}function ns(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){const i=LA(e,n);return void 0!==i?i:LA(t,n)}(e,t,n);return!o&&r&&"string"==typeof n&&(o=HA(e,n,i),void 0===o&&(o=HA(t,n,i))),o}class is{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=SA.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:jA,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?OA(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?OA(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?OA(t.nestingPrefix):t.nestingPrefixEscaped||OA("$t("),this.nestingSuffix=t.nestingSuffix?OA(t.nestingSuffix):t.nestingSuffixEscaped||OA(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let r,o,a;const A=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function s(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=ns(t,A,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),o=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(ns(t,A,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:o})};this.resetRegExp();const u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,l=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>s(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?s(this.escape(e)):s(e)}].forEach((t=>{for(a=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=c(n),void 0===o)if("function"==typeof u){const t=u(e,r,i);o="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))o="";else{if(l){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=RA(o));const A=t.safeValue(o);if(e=e.replace(r[0],A),l?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let o=`{${i[1]}`;e=i[0],o=this.interpolate(o,r);const a=o.match(/'/g),A=o.match(/"/g);(a&&a.length%2==0&&!A||A.length%2!=0)&&(o=o.replace(/'/g,'"'));try{r=JSON.parse(o),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let A=[];r={...o},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let s=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),A=e,s=!0}if(i=t(a.call(this,n[1].trim(),r),r),i&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=RA(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),s&&(i=A.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}function rs(e){const t={};return function(n,i,r){const o=i+JSON.stringify(r);let a=t[o];return a||(a=e(zA(i),r),t[o]=a),a(n)}}class os{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=SA.create("formatter"),this.options=e,this.formats={number:rs(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:rs(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:rs(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:rs(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:rs(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=rs(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:r,formatOptions:o}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((e=>{if(!e)return;const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=r),"false"===r&&(n[t.trim()]=!1),"true"===r&&(n[t.trim()]=!0),isNaN(r)||(n[t.trim()]=parseInt(r,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[r]){let t=e;try{const a=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},A=a.locale||a.lng||i.locale||i.lng||n;t=this.formats[r](e,A,{...o,...i,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e}),e);return r}}class as extends IA{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=SA.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},o={},a={},A={};return e.forEach((e=>{let i=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,i=!1,void 0===o[a]&&(o[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===A[t]&&(A[t]=!0)))})),i||(a[e]=!0)})),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(A)}}loaded(e,t,n){const i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,i){const{obj:r,k:o}=MA(e,t,Object);r[o]=r[o]||[],i&&(r[o]=r[o].concat(n)),i||r[o].push(n)}(n.loaded,[r],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:o});this.readingCalls++;const a=(a,A)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&A&&i<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,i+1,2*r,o)}),r):o(a,A)},A=this.backend[n].bind(this.backend);if(2!==A.length)return A(e,t,a);try{const n=A(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const A={...o,isUpdate:r},s=this.backend.create.bind(this.backend);if(s.length<6)try{let r;r=5===s.length?s(e,t,n,i,A):s(e,t,n,i),r&&"function"==typeof r.then?r.then((e=>a(null,e))).catch(a):a(null,r)}catch(e){a(e)}else s(e,t,n,i,a,A)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}function As(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ss(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function cs(){}class us extends IA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=ss(e),this.services={},this.logger=SA,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=As();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...ss(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?SA.init(r(this.modules.logger),this.options):SA.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=os);const n=new qA(this.options);this.store=new WA(this.options.resources,this.options);const o=this.services;o.logger=SA,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new ts(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(o.formatter=r(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new is(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new as(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new $A(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=cs),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=EA(),a=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cs;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>i(e)))}this.options.preload&&this.options.preload.forEach((e=>i(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const i=EA();return e||(e=this.languages),t||(t=this.options.ns),n||(n=cs),this.services.backendConnector.reload(e,t,(e=>{i.resolve(),n(e)})),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&YA.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=EA();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,A=new Array(a>2?a-2:0),s=2;s<a;s++)A[s-2]=arguments[s];o=i.options.overloadTranslationOptionHandler([e,t].concat(A))}else o={...t};o.lng=o.lng||r.lng,o.lngs=o.lngs||r.lngs,o.ns=o.ns||r.ns,o.keyPrefix=o.keyPrefix||n||r.keyPrefix;const c=i.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,i.t(u,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||i&&!o(r,e)))}loadNamespaces(e,t){const n=EA();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=EA();"string"==typeof e&&(e=[e]);const i=this.options.preload||[],r=e.filter((e=>i.indexOf(e)<0));return r.length?(this.options.preload=i.concat(r),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new qA(As());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new us(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cs;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new us(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new WA(this.store.data,i),r.services.resourceStore=r.store),r.translator=new $A(r.services,i),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)})),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ls=us.createInstance();ls.createInstance=us.createInstance;ls.createInstance,ls.dir,ls.init,ls.loadResources,ls.reloadResources,ls.use,ls.changeLanguage,ls.getFixedT,ls.t,ls.exists,ls.setDefaultNamespace,ls.hasLoadedNamespace,ls.loadNamespaces,ls.loadLanguages;function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hs(e){return hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(e)}function fs(e){var t=function(e,t){if("object"!=hs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=hs(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hs(t)?t:String(t)}function ps(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,fs(i.key),i)}}function gs(e,t,n){return t&&ps(e.prototype,t),n&&ps(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var vs=[],ms=vs.forEach,ys=vs.slice;function bs(e,t,n,i){var r=e.read.bind(e);if(2!==r.length)r(t,n,i);else try{var o=r(t,n);o&&"function"==typeof o.then?o.then((function(e){return i(null,e)})).catch(i):i(null,o)}catch(e){i(e)}}var ws=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ds(this,e),this.backends=[],this.type="backend",this.allOptions=i,this.init(t,n)}return gs(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return ms.call(ys.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(n,this.options||{},{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}),this.allOptions=i,this.options.backends&&this.options.backends.forEach((function(n,r){var o;t.backends[r]=t.backends[r]||((o=n)?"function"==typeof o?new o:o:null),t.backends[r].init(e,t.options.backendOptions&&t.options.backendOptions[r]||{},i)})),this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"read",value:function(e,t,n){var i=this,r=this.backends.length,o=function n(r,o){if(!(r<0)){var a=i.backends[r];a.save?(a.save(e,t,o),n(r-1,o)):n(r-1,o)}};!function a(A){if(A>=r)return n(new Error("non of the backend loaded data",!0));var s=A===r-1,c=i.options.handleEmptyResourcesAsFailed&&!s?0:-1,u=i.backends[A];u.read?bs(u,e,t,(function(r,s,l){if(!r&&s&&Object.keys(s).length>c){if(n(null,s,A),o(A-1,s),u.save&&i.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(i.options.cacheHitMode)>-1){if(l&&i.options.refreshExpirationTime&&l+i.options.refreshExpirationTime>Date.now())return;var d=i.backends[A+1];d&&d.read&&bs(d,e,t,(function(n,r){n||r&&(Object.keys(r).length<=c||(o(A,r),"refreshAndUpdateStore"===i.options.cacheHitMode&&i.services&&i.services.resourceStore&&i.services.resourceStore.addResourceBundle(e,t,r)))}))}}else a(A+1)})):a(A+1)}(0)}},{key:"create",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backends.forEach((function(a){if(a.create){var A=a.create.bind(a);if(A.length<6)try{var s;(s=5===A.length?A(e,t,n,i,o):A(e,t,n,i))&&"function"==typeof s.then?s.then((function(e){return r(null,e)})).catch(r):r(null,s)}catch(e){r(e)}else A(e,t,n,i,r,o)}}))}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,i=t.languageUtils,r=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],A=function(e){i.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};A(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return A(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(i,o){i&&r.warn("loading namespace ".concat(e," for language ").concat(t," failed"),i),!i&&o&&r.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),i,o)}))}))}))}}}]),e}();function ks(e,t,n){return(t=fs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ws.type="backend";var Ps=function(){function e(t){ds(this,e),this.store=t.store}return gs(e,[{key:"setItem",value:function(e,t){if(this.store)try{this.store.setItem(e,t)}catch(e){}}},{key:"getItem",value:function(e,t){if(this.store)try{return this.store.getItem(e,t)}catch(e){}}}]),e}();var Ds=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ds(this,e),this.init(t,n),this.type="backend"}return gs(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=_s(_s(_s({},function(){var e=null;try{e=window.localStorage}catch(e){"undefined"!=typeof window&&console.log("Failed to load local storage.",e)}return{prefix:"i18next_res_",expirationTime:6048e5,defaultVersion:void 0,versions:{},store:e}}()),this.options),t),this.storage=new Ps(this.options)}},{key:"read",value:function(e,t,n){var i=Date.now();if(!this.storage.store)return n(null,null);var r=this.storage.getItem("".concat(this.options.prefix).concat(e,"-").concat(t));if(r){r=JSON.parse(r);var o=this.getVersion(e);if(r.i18nStamp&&r.i18nStamp+this.options.expirationTime>i&&o===r.i18nVersion){var a=r.i18nStamp;return delete r.i18nVersion,delete r.i18nStamp,n(null,r,a)}}return n(null,null)}},{key:"save",value:function(e,t,n){if(this.storage.store){n.i18nStamp=Date.now();var i=this.getVersion(e);i&&(n.i18nVersion=i),this.storage.setItem("".concat(this.options.prefix).concat(e,"-").concat(t),JSON.stringify(n))}}},{key:"getVersion",value:function(e){return this.options.versions[e]||this.options.defaultVersion}}]),e}();Ds.type="backend";var Cs=[],Ss=Cs.forEach,Is=Cs.slice;function Es(e,t){if(t&&"object"===hs(t)){var n="",i=encodeURIComponent;for(var r in t)n+="&"+i(r)+"="+i(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function Rs(e,t,n,i,r){i&&"object"===hs(i)&&(r||(i._t=new Date),i=Es("",i).slice(1)),t.queryStringParams&&(e=Es(e,t.queryStringParams));try{var o;(o=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!t.withCredentials,i&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var a=t.customHeaders;if(a="function"==typeof a?a():a)for(var A in a)o.setRequestHeader(A,a[A]);o.onreadystatechange=function(){o.readyState>3&&n&&n(o.responseText,o)},o.send(i)}catch(e){console&&console.log(e)}}var Ts=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ds(this,e),this.init(t,n),this.type="backend"}return gs(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=function(e){return Ss.call(Is.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,parsePayload:function(e,t,n){return ks({},t,n||"")},crossDomain:!1,ajax:Rs})}},{key:"readMulti",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath(e,t));var r=this.services.interpolator.interpolate(i,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var i=this.options.loadPath;"function"==typeof this.options.loadPath&&(i=this.options.loadPath([e],[t]));var r=this.services.interpolator.interpolate(i,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,(function(i,r){if(r.status>=500&&r.status<600)return t("failed loading "+e,!0);if(r.status>=400&&r.status<500)return t("failed loading "+e,!1);var o,a;try{o=n.options.parse(i,e)}catch(t){a="failed parsing "+e+" to json"}if(a)return t(a,!1);t(null,o)}))}},{key:"create",value:function(e,t,n,i){var r=this;"string"==typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,i);e.forEach((function(e){var n=r.services.interpolator.interpolate(r.options.addPath,{lng:e,ns:t});r.options.ajax(n,r.options,(function(e,t){}),o)}))}}]),e}();Ts.type="backend";const Ms=Ts,Fs={hash:.9251017155024335};function Ls(e,t){var n=Ns(e);return{loadPath:function(e,i){var r;try{r=n.versions[e.join(" ")][i.join(" ")]||n.versions.defaultVersion}catch(e){r=n.hash||n.version||""}return t+"/{{lng}}/{{ns}}.json?v="+r}}}function Ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},Fs,e)}const Os=function(e){var t,n,i=ls.createInstance();return i.use(ws).init(Object.assign({},{load:"currentOnly",fallbackLng:"en-US",backend:{backends:[Ds,Ms],backendOptions:e.backendOptions||[(t=e.version,n=Ns(t),{prefix:"foxit_pdf_sdk_for_web_i18next_",expirationTime:6048e6,versions:n.versions||{},defaultVersion:n.hash}),Ls(e.version,e.absolutePath)]}},e.initOption)),i};function Bs(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||304===i.status?t(i.response):n(new Error("Could not load image!")))},i.onerror=function(){n(new Error("Could not load image!"))},i.send()}))}var js=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t}return(0,P._)(e,[{key:"getPassword",value:function(){var e=this,t=(0,U.createDeferred)();return setTimeout((function(){var n=prompt(e.pdfViewer.i18n.t("viewer_:tip.inputPassword"),"");if(null===n)return t.reject(new Error("User has been cancelled the prompt dialog"));t.resolve(n)}),0),t.promise}}]),e}(),Vs=n(9463),Us=n.n(Vs);function Hs(){if(document.baseURI)return document.baseURI;var e=document.head.querySelector("base");if(!e)return location.href;var t=e.href,n=location.pathname;return t?/^\w+?:\/+/.test(t)?t:location.origin+Ks(n,t):location.href}var zs="/";function Ws(e){if("string"!=typeof e)throw new Error("invalid url type: (".concat(void 0===e?"undefined":(0,T._)(e),")!"));return 0===(e=e.trim()).indexOf("file:")?new Gs(e):new Ys(e)}var Ys=function(){function e(t){(0,_._)(this,e);var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect url: "'.concat(t,'"'));this.protocol=n[1],this.port=parseInt(n[5]),isNaN(this.port)&&(this.port=""),this.pathname=n[6]||"/",this.pathname=this.pathname.replace(/(\/|\\)+/g,zs);var i=(0,E._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.pathname)||[this.pathname,this.pathname],2)[1];this.dirname=i,this.hostname=n[3]||"",this.host=this.hostname+(this.port?":"+this.port:""),this.query=n[7]||"",this.hash=n[8]||""}return(0,P._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Ks.apply(void 0,[this.dirname].concat((0,R._)(n)));return new e("".concat(this.protocol,"://").concat(this.host).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"".concat(this.protocol,"://").concat(this.host).concat(this.pathname).concat(this.query).concat(this.hash):"".concat(this.protocol,"://").concat(this.host).concat(this.pathname)}},{key:"absoluteDir",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.dirname)}}],[{key:"REGEX",get:function(){return/^([a-z]+):\/\/(([\w\-\.:\[\]]+)(:(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?)$/}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}(),Gs=function(){function e(t){(0,_._)(this,e),this.protocol="file";var n=e.REGEX.exec(t);if(!n)throw new Error('Illegal argument: incorrect URL: "'.concat(t,'"'));this.path=(n[3]||"").replace(/[\\/]+/g,"/");var i=(0,E._)(/(.*[\/\\]+)[^\/\\]+$/.exec(this.path)||[this.path,this.path],2)[1];this.dir=i,this.disk=n[2],this.disk||("/"===this.path[0]&&(this.path=this.path.slice(1)),this.disk=""),this.hash=n[5]||"",this.query=n[4]||""}return(0,P._)(e,[{key:"join",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=Ks.apply(void 0,[this.dir].concat((0,R._)(n)));return new e("file:///".concat(this.disk).concat(r).concat(this.query).concat(this.hash))}},{key:"absolute",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?"file:///".concat(this.disk).concat(this.path).concat(this.query).concat(this.hash):"file:///".concat(this.disk).concat(this.path)}},{key:"absoluteDir",value:function(){return"file:///".concat(this.disk).concat(this.dir)}}],[{key:"REGEX",get:function(){return/^(file:\/\/\/)([a-z]\:)?(.+?)(\?([^?#]*))?(#([^#]*))?$/i}},{key:"isValid",value:function(t){return e.REGEX.test(t)}}]),e}();function $s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;return(r=Ws(e)).join.apply(r,(0,R._)(n)).absolute()}function Ks(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];if(r.match(/^\w+?:\/\//)){var o=r.match(/^(\w+?:\/\/[^\/]+)(\/?.*)/);o&&(i=o[1],t[0]=o[2]||"/")}var a=t.filter((function(e){return"string"==typeof e&&e.length>0})),A=a.map((function(e){return e.replace(/[\/\\]+/,"/").split("/").filter((function(e,t,n){return""!==e||0===t}))})).reduce((function(e,t){return t.forEach((function(t,n){switch(t){case".":break;case"..":e.pop();break;case"":e=[""];break;default:e.push(t)}})),e}),[]).join("/");return a.length>0&&(/[\/\\\\]/.test(a[0][0])||0===a[0].indexOf(".."))&&"/"!==A[0]&&(A="/"+A),i?i+A:A}function qs(e){return Ys.isValid(e)||Gs.isValid(e)}window.createURL=Ws;var Js=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"onKeyPressed",value:function(e){var t=this.getPDFDocRender(),n=t.viewerRender.scrollWrap,i=n.getWidth(),r=n.getHeight();switch(e.command){case bo.JUMP_TO_PREVIOUS_PAGE:return this.executor.exec((function(){return t.prevPage()})),!0;case bo.JUMP_TO_NEXT_PAGE:return this.executor.exec((function(){return t.nextPage()})),!0;case bo.JUMP_TO_LAST_PAGE:var o=this.getPageCount();return t.goToPage(o-1,{x:0,y:0}),!0;case bo.JUMP_TO_FIRST_PAGE:return t.goToPage(0),!0;case bo.SCROLL_VIEWER_SCROLLBAR_LEFT:return n.scrollBy(-i,0,"smooth"),!0;case bo.SCROLL_VIEWER_SCROLLBAR_RIGHT:return n.scrollBy(i,0,"smooth"),!0;case bo.SCROLL_VIEWER_SCROLLBAR_UP:return n.scrollBy(0,-r,"smooth"),!0;case bo.SCROLL_VIEWER_SCROLLBAR_DOWN:return n.scrollBy(0,r,"smooth"),!0}return!1}}]),n}(ea),Xs=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return n}(Js),Qs=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).scrollCurrentPageIntoView_debounced=(0,U.debounce)((function(){i.docRender&&i.scrollCurrentPageIntoView()}),20),i}return(0,P._)(n,[{key:"into",value:function(e,t){var i=this;(0,D._)((0,C._)(n.prototype),"into",this).call(this,e,t),this.updatePageDOMs(t),this.docRender.$container.addClass(n.getName());var r=this.docRender.viewerRender.scrollWrap;this._triggerScrollCount=0,this._unwatchScrollEvent=r.addScrollEventListener((function(e){e.isTrusted&&i._triggerScrollCount++,i._triggerScrollCount>2&&delete i.lastJumpPageIndex})),this.onPageNumberChange=function(){i.scrollCurrentPageIntoView_debounced()},this.docRender.pdfViewer.eventEmitter.on(de.pageNumberChange,this.onPageNumberChange)}},{key:"updatePageDOMs",value:function(e){(0,D._)((0,C._)(n.prototype),"updatePageDOMs",this).call(this,e),U.Lazy.property(this,"pageElements",(function(){return e.map((function(e){return e.querySelector(".fv__pdf-page-layout")}))}))}},{key:"getDocLayoutWidth",value:function(){var e=this.docRender.doc.pageCache,t=0;return e.forEach((function(e){t=Math.max(e.getPxWidth(),t)})),t}},{key:"getFitHeight",value:function(e){return this.docRender.viewerRender.scrollWrap.getHeight()}},{key:"getFitWidth",value:function(e){var t=this.docRender.viewerRender.scrollWrap,n=getComputedStyle(this.pageDOMs[e]);return t.getWidth()-ia(n.marginLeft)-ia(n.marginRight)}},{key:"jumpToPage",value:function(e,t){var n=t.x,i=void 0===n?0:n,r=t.y,o=void 0===r?0:r;this.lastJumpPageIndex=e;var a=this.getItems();e>=a.length?e=a.length-1:e<0&&(e=0);var A=a[e],s=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(A),c=s.left+i,u=s.top+o;if("fitVisible"===this.docRender.scale){var l=A.offsetWidth,d=this.docRender.viewerRender.scrollWrap.getWidth();l>d&&(c=(l-d)/2)}this._triggerScrollCount=0;var h=A.firstElementChild;this.docRender.viewerRender.scrollWrap.scrollTo(c+h.offsetLeft,u)}},{key:"out",value:function(){this.docRender&&this.docRender.$container.removeClass(n.getName()),this._triggerScrollCount=0,this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.pdfViewer.eventEmitter.off(de.pageNumberChange,this.onPageNumberChange),(0,D._)((0,C._)(n.prototype),"out",this).call(this)}},{key:"getCurrentPageIndex",value:function(){if(!isNaN(this.lastJumpPageIndex))return this.lastJumpPageIndex;if(!this.pageDOMs.length)return 0;var e=this.docRender.getContainerVisibleRect(),t=this.getVisibleIndexes();if(t.length){var n,i=this.pageDOMs,r=t.map((function(t){var n=i[t].getBoundingClientRect();return Math.round(n.right-n.left-Math.max(e.left-n.left,0)-Math.max(n.right-e.right,0))*Math.round(n.bottom-n.top-Math.max(e.top-n.top,0)-Math.max(n.bottom-e.bottom,0))})),o=(n=Math).max.apply(n,(0,R._)(r));return t[r.indexOf(o)]}var a,A=this.getItems(),s=this.docRender.viewerRender.scrollWrap.getScrollHost(),c=(a=s===window?{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}:s.getBoundingClientRect()).left+(a.right-a.left)/2,u=a.top+(a.bottom-a.top)/2,l=this.pageElements,d=this.lastJumpPageIndex;if(void 0!==d){var h=l[d];if(h){var f=h.getBoundingClientRect();if(f.left<c&&f.right>=c){if(this.getVisibleIndexes().length>2&&f.top<a.bottom&&f.bottom>a.top)return d;var p=getComputedStyle(h.parentElement),g=parseInt(p.marginTop)||0;if(f.top-g<u&&f.bottom>=u)return d;if(f.top>=a.bottom&&f.bottom<=a.top)return d}}}for(var v=0;v<A.length;v++)if(l[v]){var m=l[v].getBoundingClientRect();if(m&&m.left<c&&m.right>=c){var y=getComputedStyle(l[v].parentElement),b=parseInt(y.marginTop)||0;if(m.top-b<u&&m.bottom>=u)return this.lastJumpPageIndex=v,v;if(m.top>=a.bottom&&m.bottom<=a.top)return this.lastJumpPageIndex=v,v}}return 0}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();return t<e-1&&t++,t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();return e>0&&e--,e}},{key:"generateShortcutEventHandler",value:function(){return new Xs(this)}},{key:"scrollCurrentPageIntoView",value:function(){if(this.docRender){var e=this.docRender.getCurrentPageIndex(),t=this.docRender.getPDFPageRender(e);t&&!t.pageAreaIsVisible&&t.$ui.get(0).scrollIntoViewIfNeeded(!0)}}}],[{key:"getName",value:function(){return"continuous-view-mode"}}]),n}(na);const Zs=Qs;const ec=function(){function e(t){(0,_._)(this,e),this.ViewModes={},this.pdfViewer=t,this.register(Zs),this.register(ca)}return(0,P._)(e,[{key:"register",value:function(e){return this.ViewModes[e.getName()]=e}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs.getName();return this.ViewModes[e]||Zs}},{key:"set",value:function(e){var t=this.get(e),n=this.currentViewMode;this.currentViewMode=t,this.pdfViewer.eventEmitter.emit(de.startChangeViewMode,t,n);var i=this.pdfViewer.pdfViewerRender;if(i){i.ViewMode=t;var r=i.pdfDocRender;if(r){var o=r.pagesRender;o&&(o.viewMode=new t(r),this.pdfViewer.eventEmitter.emit(de.changeViewModeSuccess,t,n,o.viewMode))}}}},{key:"switchTo",value:function(e){var t=this.currentViewMode,n=this.get(e);if(t!==n){this.currentViewMode=n;var i=this.pdfViewer,r=i.pdfViewerRender;if(r)return i.activeElement(null),r.setViewMode(n)}}},{key:"getCurrentViewMode",value:function(){return this.currentViewMode||Zs}},{key:"getAll",value:function(){return this.ViewModes}}]),e}();var tc="annotComponent",nc={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(tc).showReplyDialog("reply")},disabled:function(){return this.data(tc).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(tc).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(tc).removeAnnot()},disabled:function(){return this.data(tc).deleteDisabled()}}};function ic(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:nc,events:{show:function(){return this.data(tc).updateDeleteStatus(!0),!0},hide:function(){return this.data(tc).updateDeleteStatus(!1),!0}}}}var rc,oc=n(7211),ac=n.n(oc),Ac=n(5100),sc=n.n(Ac),cc=function(){function e(t,n,i){(0,_._)(this,e),this.viewerComponent=t;var r=this.viewerComponent.getModel();i=i||this.viewerComponent.getPropertyOptions();var o=sc()(i);n&&n!==document.body||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=N()(o);this.$propertiesDialog=a,this.$fillColor=a.find("#fillcolor-input"),this.$txThickness=a.find("#thickness-input-tx"),this.updateBorderInfo(r,i),this.bindChangeEvent();var A=n||document.body;if(a.appendTo(A),!n||n===document.body){var s=a[0];ac().registerDialog(s),s.showModal()}}return(0,P._)(e,[{key:"toggle",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.$propertiesDialog.find("input,select").removeAttr("disabled"):this.$propertiesDialog.find("input,select").attr("disabled","true")}},{key:"updateBorderInfo",value:function(e,t){var n=this.$propertiesDialog;if(t.lineEndStyle&&n.find("#endstyle-select [value="+e.getEndingStyle()+"]").attr("selected",!0),t.lineStartStyle)if("freetext"===e.getType())n.find("#startstyle-select [value="+e.getCalloutLineEndingStyle()+"]").attr("selected",!0);else n.find("#startstyle-select [value="+e.getStartStyle()+"]").attr("selected",!0);if(void 0!==t.highlightingMode&&n.find("#highlighting-select [value="+e.getHighlightingMode()+"]").attr("selected",!0),void 0!==t.rotation&&n.find("#rotation-select [value="+e.getRotation()+"]").attr("selected",!0),!1!==t.borderStyle){var i=e.getBorderDashes();if(1==e.getBorderStyle()&&i.length>0){var r=Math.max.apply(Math,i),o=Math.min.apply(Math,i);o==r?o>3?n.find("#borderStyle-select [value=3]").attr("selected",!0):o>2?n.find("#borderStyle-select [value=2]").attr("selected",!0):o<2||2==o?n.find("#borderStyle-select [value=1]").attr("selected",!0):n.find("#borderStyle-select [value=3]").attr("selected",!0):r>8?n.find("#borderStyle-select [value=6]").attr("selected",!0):r>4?n.find("#borderStyle-select [value=5]").attr("selected",!0):n.find("#borderStyle-select [value=4]").attr("selected",!0)}else if(e.getBorderStyle()==me.CLOUDY){switch(e.getCloudIntensity()){case 1:n.find("#borderStyle-select [value=7]").attr("selected",!0);break;case 2:n.find("#borderStyle-select [value=8]").attr("selected",!0)}}}}},{key:"bindChangeEvent",value:function(){var e=this;this.$propertiesDialog.on("click",".fv__btn-close",(function(){e.viewerComponent.hidePropertiesDialog?e.viewerComponent.hidePropertiesDialog():e.close()})).on("change","#color-input",(function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setColor(i)})).on("change","#opacity-input",(function(t){var n=t.target.value;e.viewerComponent.setOpacity(+n)})).on("change","#thickness-input",(function(e){return i("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input",(function(e){return i("#thickness-input","#thickness-input-tx")})).on("blur","#thickness-input-tx",(function(e){return i("#thickness-input-tx","#thickness-input")})).on("change","#thickness-input-tx",(function(e){return i("#thickness-input-tx","#thickness-input")})).on("change","#borderStyle-select",(function(t){var n=t.target.value,i=me.DASHED;switch(n){case"0":n=[],i=me.SOLID;break;case"1":n=[2,2,2,2];break;case"2":n=[3,3,3,3];break;case"3":n=[4,4,4,4];break;case"4":n=[4,3,2,3];break;case"5":n=[8,4,4,4];break;case"6":n=[4,3,16,3];break;case"7":n=1,i=me.CLOUDY;break;case"8":n=2,i=me.CLOUDY}e.viewerComponent.setBorderStyle(i,n)})).on("change","#fillcolor-input",(function(t){var n=t.target,i=parseInt(n.value.replace("#",""),16);e.viewerComponent.setFillColor(i)})).on("change","#fillColor-transparent-input",(function(t){t.target.checked?(e.$fillColor.val("#ffffff"),e.$fillColor.attr("disabled",!0),e.viewerComponent.setFillColor(0)):e.$fillColor.removeAttr("disabled")})).on("change","#startstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!0,n)})).on("change","#endstyle-select",(function(t){var n=t.target.value;e.viewerComponent.setEndingStyle(!1,n)})).on("change","#hasCap-input",(function(t){var n=t.target.checked;e.viewerComponent.enableCaption(n)})).on("change","#highlighting-select",(function(t){var n=t.target.value;e.viewerComponent.setHighlightingMode(n)})).on("change","#rotation-select",(function(t){var n=t.target.value;e.viewerComponent.setRotation(90*+n)}));var t=this,n=!1;function i(e,i){if(!n){n=!0;var r=t.$propertiesDialog,o=r.find(e).val();t.viewerComponent.getModel().getBorderWidth()!=o?(t.viewerComponent.setBorderWidth(+o),n=!1,r.find(i).val(o)):n=!1}}}},{key:"close",value:function(){var e=this.$propertiesDialog;e&&(e[0].close(),e.remove(),this.$propertiesDialog=null)}}]),e}(),uc=n(6912),lc=n.n(uc),dc=n(4252),hc=n.n(dc),fc=n(4210),pc=n.n(fc),gc=tc,vc=ic(".fv__pdf-page-annot-handler-rect"),mc="px",yc=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="markup",a.eUi=i,a.$ui.addClass("pdf-page-markup-annot-container"),a.$handler.addClass("pdf-page-markup-annot-handler-container");var A=a.pdfViewer.i18n,s=Lo().i18n=function(e){return A.t(e)};a.addDestroyHook((function(){Lo().i18n===s&&(Lo().i18n=void 0)})),a.currentRenderDefer=(0,U.createDeferred)(),a.currentRenderDefer.isPending=!0,U.Lazy.property((0,k._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,k._)(a),r,a.getContextMenuConfig())}));var c=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(c.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var u=a.pdfViewer.eventEmitter,l=function(){a.isDestroyed||a.annot.isDestroyed||c.getPermission(a.annot).then((function(e){a.updateOnPermissionChange(e)}))};u.on(de.permissionChanged,l),a.addDestroyHook((function(){u.off(de.permissionChanged,l)}));var d=U.Lazy.onInitialized((0,k._)(a),"shapeControl",(function(e){e.ui.addEventListener("click",(function(e){a.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&a.pdfViewer.unActiveElement((0,k._)(a))})),e.ownsTo&&e.ownsTo(a.disposor)}));return a.addDestroyHook(d),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(U.Lazy.hasProperty((0,k._)(a),"shapeControl")&&U.Lazy.isPropertyIntialized((0,k._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;U.Lazy.reset((0,k._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),a}return(0,P._)(n,[{key:"getInnerRect",value:function(){return{left:0,right:0,top:0,bottom:0}}},{key:"getModifiedRect",value:function(e,t){var n={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},i=Ta.on(n).extract(),r=i.left,o=i.top,a=i.right,A=i.bottom,s=this.scale,c=this.rotate;return this.getPDFPage().reverseDeviceRect({left:r,top:o,right:a,bottom:A},s,c)}},{key:"updateCollabOp",value:function(e){}},{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed&&U.Lazy.isPropertyIntialized(this,"shapeControl")){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():this.moveDisabled()||!e.isAdjustable());var n=this.shapeControl;t?n.disable():n.enable()}}},{key:"isHTMLSimulate",value:function(e){return"canvas"===this.pdfViewer.config.annotRenderingMode[e||this.name]}},{key:"getRenderPromise",value:function(){return this.currentRenderDefer.promise}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;return this.getAnnotFlag().checkNoZoom()&&(s=a.right-a.left,c=a.bottom-a.top),[Math.ceil(c/r),Math.ceil(s/r),s+=1,c+=1,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.active()}},{key:"redraw",value:function(e){return this.activeRect(),this.render()}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.$handler.addClass("active")}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){var e=this;if(this.isActive){var t=this.pdfViewer;(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),t.unActiveElement(this),t.eventEmitter.emit(de.unActiveAnnotation,this),!this.delayRemoveActive&&this.$handler.removeClass("active"),this.getGroupRenders().map((function(t){t.component!=e&&t.component.unActive()}))}}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.$handler.remove()}},{key:"showReplyDialog",value:function(){var e=this;this.updateDeleteStatus(!0);var t=this.annot,n={},i=t.getGroupHeader()||t,r=n.content=i.getContent(),o=n.replies=[];this.iterationGetRepliesInfo(i,o);var a=o.length,A=lc()(n),s=N()(A);this.$replyDialog=s;var c=s[0],u=s.find(".fv__btn-reply")[0],l=s.find(".reply-textarea")[0],d=!1;t.hasModifyPermission()?s.find(".content-textarea").prop({disabled:!1}):s.find(".content-textarea").prop({disabled:!0}),this.updateReplyDialog(),s.on("click",".fv__btn-close",(function(){e.hideReplyDialog()})).on("change",".content-textarea",(function(t){var n=t.target,i=n.value;e.setContent(i).then((function(t){if(t)return(0===i.length||s.find(".reply-textarea").prop("disabled"))&&e.updateReplyDialog(),r=i;n.value=r}))})).on("input",".reply-textarea",(function(e){u.disabled=!l.value})).on("click",".fv__btn-reply",(function(t){if(!e.replyDisabled()&&!d){u.disabled=!0,d=!0;var n=l.value;e.addReply(n).then((function(t){var n={content:t.getContent()},i=n.replies=[];e.iterationGetRepliesInfo(t,i),a?s.find(".fv__replies_list").first().append(pc()(n)):s.find(".fv__dialog-replies-block").first().html(hc()([n])),a=!0,l.value="",u.disabled=!1,d=!1}),(function(){u.disabled=!1}))}})),s.appendTo(document.body),ac().registerDialog(c),c.showModal()}},{key:"updateReplyDialog",value:function(){var e=this.$replyDialog;e&&(this.replyDisabled()?(e.find(".fv__btn-reply").addClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!0})):(e.find(".fv__btn-reply").removeClass("fv__btn-replay-disabled"),e.find(".reply-textarea").prop({disabled:!1})))}},{key:"hideReplyDialog",value:function(){var e=this.$replyDialog;e&&(e[0].close(),e.remove(),this.$replyDialog=null),this.updateDeleteStatus(!1)}},{key:"addReply",value:function(e){var t=this;return this.annot.addReply(e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"hideContextMenu",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,U.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new cc(this),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.bindEvent(),this.updateDeleteStatus(!1)}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then((function(e){return e&&t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"setColor",value:function(e){return this.annot.setBorderColor(e)}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.hidePopup(),this.hidePropertiesDialog(),this.unBindEvent(),this.$propertiesControl=null,this.hideReplyDialog(),U.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy(),this.blankHammar&&this.blankHammar.destroy(),this.pdfViewer.deactivateElement(this),this.unActiveMore(),this.eUi&&this.eUi.removeEventListener("mouseenter",this.annotTooltipMouseover),this.eUi=null,this.tooltip=null}},{key:"remove",value:function(){this.destroy()}},{key:"iterationGetRepliesInfo",value:function(e,t){for(var n=e.getReplies(),i=0,r=n.length;i<r;i++){var o=n[i];if(!o.isDeleted()){var a={content:o.getContent(),replies:[]};this.iterationGetRepliesInfo(o,a.replies),t.push(a)}}}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()&&!e.deleteDisabled()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||U.noop)(this)).then((function(t){if(n.emit(de.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return n.emit(de[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(de.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"willRedraw",value:function(){(0,D._)((0,C._)(n.prototype),"willRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="left, top, width, height"}},{key:"afterRedraw",value:function(){(0,D._)((0,C._)(n.prototype),"afterRedraw",this).call(this),(this.$rect=this.$rect||this.rectInit()).get(0).willChange="auto"}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+mc,top:r.top+mc,width:r.right-r.left+mc,height:r.bottom-r.top+mc})}},{key:"_applyShapeChange",value:function(){}},{key:"rectInit",value:function(){var e=this.$handler,t=N()(this.createRectDom());return e.append(t),this.contextMenuIsEnable()&&t.data(gc,this),t}},{key:"rectSingleTap",value:function(){}},{key:"rectDoubleTap",value:function(e){var t=this;this.getAppPermission().then((function(e){e.isEditable()&&t.showReplyDialog("comment")}))}},{key:"createRectDom",value:function(){return N()('<div class="fv__pdf-page-annot-handler-rect">')}},{key:"doubleTapAnnot",value:function(){var e=this;this.getAppPermission().then((function(t){t.isEditable()&&e.showReplyDialog("comment")}))}},{key:"getContextMenuConfig",value:function(){if(rc)return rc;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"getRelevanceRenders",value:function(){var e,t,n,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.parent("annotsRender"),a=this.annot.getGroupHeader()||this.annot,A=[],s=a.getPopup(),c=[],u=[],l=[];!function(e,t){wc(e,"getReplies",t)}(a,c),kc(a,u),xc(a,l),s&&A.push(s.getId()),(e=A).push.apply(e,(0,R._)(c)),(t=A).push.apply(t,(0,R._)(u)),(n=A).push.apply(n,(0,R._)(l));var d=a.isGrouped()?a.getGroupElements():[a];return(i=A).push.apply(i,(0,R._)(d.map((function(e){return e.getId()})))),r?A:A.map((function(e){return o.getAnnotRender(e)})).filter((function(e){return!!e}))}},{key:"getGroupRenders",value:function(){var e=this.parent("annotsRender"),t=this.annot;return((t=t.getGroupHeader()||t).isGrouped()?t.getGroupElements():[t]).map((function(t){return e.getAnnotRender(t.getId())}))}},{key:"getGroupRect",value:function(){var e=this.getGroupRenders();if(e.length>1){var t,n,i,r,o=e.map((function(e){return e.component.getRect()}));return{left:(t=Math).min.apply(t,(0,R._)(o.map((function(e){return e.left})))),right:(n=Math).max.apply(n,(0,R._)(o.map((function(e){return e.right})))),top:(i=Math).min.apply(i,(0,R._)(o.map((function(e){return e.top})))),bottom:(r=Math).max.apply(r,(0,R._)(o.map((function(e){return e.bottom}))))}}if(!e[0])return Object.assign({},{});var a=e[0].component.getRect();return Object.assign({},a)}},{key:"showPopup",value:function(){}},{key:"hidePopup",value:function(){}},{key:"onDoubleTap",value:function(e){}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{opacity:this.annot.getOpacity(),tileConfig:this.getTileConfig(e,t)})}},{key:"processShapeControlPermissionCtrl",value:function(){var e=this;this.isDestroyed||this.annot.isDestroyed||this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then((function(t){e.updateOnPermissionChange(t)}))}}],[{key:"getDefaultContextMenuConfig",value:function(){return vc}},{key:"setContextMenuConfig",value:function(e){rc=e}}]),n}(Mo);const bc=yc;function wc(e,t,n){var i=e[t](),r=i.length;if(!r)return n;for(var o=0;o<r;o++){var a=i[o];wc(a,t,n),kc(a,n),xc(a,n),n.push(a.getId())}return n}function kc(e,t){return wc(e,"getMarkedStates",t)}function xc(e,t){return wc(e,"getReviewStates",t)}var _c="annotComponent";var Pc=n(5322),Dc=n.n(Pc),Cc=n(8012),Sc=n.n(Cc),Ic="north",Ec="south",Rc="east",Tc="west",Mc="north-west",Fc="north-east",Lc="south-west",Nc="south-east",Oc=(n(3279),n(8446)),Bc=n.n(Oc),jc="__auxiliary-line";var Vc=function(){function e(t,n,i,r){(0,_._)(this,e),this.x0=t,this.y0=n,this.x1=i,this.y1=r}return(0,P._)(e,[{key:"slope",value:function(){return this.x1-this.x0!=0?(this.y1-this.y0)/(this.x1-this.x0):1/0}},{key:"isParallel",value:function(e){return Math.abs(this.slope()-e.slope())<1e-9||this.slope()==e.slope()}},{key:"distanceFromPoint",value:function(e,t){var n=this.y1-this.y0,i=this.x0-this.x1,r=this.x1*this.y0-this.x0*this.y1;return Math.abs(n*e+i*t+r)/Math.sqrt(n*n+i*i)}}]),e}();function Uc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=[],o={top:null,left:null,right:null,bottom:null};t.forEach((function(t){if(Math.abs(t.left-e.left)<=n||Math.abs(t.right-e.left)<=n){var i=Math.abs(t.left-e.left)<Math.abs(t.right-e.left)?t.left:t.right;t.top>e.top?r.push(new Vc(i,e.top,i,t.bottom)):r.push(new Vc(i,t.top,i,Math.max(t.bottom,e.bottom))),null===o.left?o.left=i:o.left=Math.abs(o.left-e.left)<Math.abs(i-e.left)?o.left:i}if(Math.abs(t.right-e.right)<=n||Math.abs(t.left-e.right)<=n){var a=Math.abs(t.right-e.right)<Math.abs(t.left-e.right)?t.right:t.left;t.top>e.top?r.push(new Vc(a,e.top,a,t.bottom)):r.push(new Vc(a,t.top,a,Math.max(t.bottom,e.bottom))),null===o.right?o.right=a:o.right=Math.abs(o.right-e.right)<Math.abs(a-e.right)?o.right:a}if(Math.abs(t.top-e.top)<=n||Math.abs(t.bottom-e.top)<=n){var A=Math.abs(t.top-e.top)<Math.abs(t.bottom-e.top)?t.top:t.bottom;t.left>e.left?r.push(new Vc(e.left,A,t.right,A)):r.push(new Vc(t.left,A,Math.max(e.right,t.right),A)),null===o.top?o.top=A:o.top=Math.abs(o.top-e.top)<Math.abs(A-e.top)?o.top:A}if(Math.abs(t.bottom-e.bottom)<=n||Math.abs(t.top-e.bottom)<=n){var s=Math.abs(t.bottom-e.bottom)<Math.abs(t.top-e.bottom)?t.bottom:t.top;t.left>e.left?r.push(new Vc(e.left,s,t.right,s)):r.push(new Vc(t.left,s,Math.max(e.right,t.right),s)),null===o.bottom?o.bottom=s:o.bottom=Math.abs(o.bottom-e.bottom)<Math.abs(s-e.bottom)?o.bottom:s}}));var a=function(e,t,n){var i=new Vc(e.left,e.top,e.right,e.top),r=new Vc(e.left,e.bottom,e.right,e.bottom),o=new Vc(e.left,e.top,e.left,e.bottom),a=new Vc(e.right,e.top,e.right,e.bottom),A=null,s=null,c=null,u=null,l=1/0,d=1/0,h=1/0,f=1/0;return t.forEach((function(t){if(i.isParallel(t)){var p=t.distanceFromPoint(e.left,e.top);p<l&&p<=n&&(l=p,A=t)}if(r.isParallel(t)){var g=t.distanceFromPoint(e.left,e.bottom);g<d&&g<=n&&(d=g,s=t)}if(o.isParallel(t)){var v=t.distanceFromPoint(e.left,e.top);v<h&&v<=n&&(h=v,c=t)}if(a.isParallel(t)){var m=t.distanceFromPoint(e.right,e.top);m<f&&m<=n&&(f=m,u=t)}})),{closestTop:A,closestBottom:s,closestLeft:c,closestRight:u}}(e,r,n),A=[a.closestBottom,a.closestLeft,a.closestRight,a.closestTop].filter((function(e){return e}));return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#777",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.body,r=Array.from(i.getElementsByClassName(jc));if(r.length<e.length)for(var o=e.length-r.length;o-- >0;){var a=document.createElement("div");a.className=jc+" "+n,r.push(a),i.appendChild(a)}for(var A=0;A<r.length;A++){var s=r[A];if(A>=e.length)s.style.display="none";else{s.style.display="";var c=e[A];if(c.y0===c.y1){var u="\n                width: ".concat(Math.abs(c.x1-c.x0),"px;\n                height: 1px;\n                position: absolute;\n                top: ").concat(c.y0-.5,"px;\n                left: ").concat(c.x0,"px;\n                z-index: 10;\n                background: linear-gradient(to right, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");s.style.cssText+=u}else if(c.x0===c.x1){var l="\n                width: 1px;\n                height: ".concat(Math.abs(c.y1-c.y0),"px;\n                position: absolute;\n                top: ").concat(c.y0,"px;\n                left: ").concat(c.x0-.5,"px;\n                z-index: 10;\n                background: linear-gradient(to bottom, transparent 50%, ").concat(t," 50%);\n                background-size: 5px 5px;");s.style.cssText+=l}}}}(A,void 0,"",i),o}function Hc(){!function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).getElementsByClassName(jc),t=e.length-1;t>=0;t--)e[t].remove()}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body)}var zc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=void 0===n?0:n,r=t.right,o=void 0===r?0:r,a=t.bottom,A=void 0===a?0:a,s=t.top,c=void 0===s?0:s,u=t.box,l=t.marginBox,d=void 0===l?{left:0,top:0,right:0,bottom:0}:l,h=t.expansion,f=void 0===h?{left:0,top:0,right:0,bottom:0}:h;(0,_._)(this,e),this.processing=!1,this.boundary={left:i,right:o,bottom:A,top:c},this.freeBoundary=null,this.marginBox=d,this.shape=this.calculateShape(),this.setBoundaryBox(u),this.tasks=[],this.expansion=f,this.drawAuxiliaryLine=Uc,this.clearAuxiliaryLine=Hc}return(0,P._)(e,[{key:"process",value:function(){this.tasks=[],this.processing=!0,this.freeBoundary=Object.assign({},this.boundary)}},{key:"end",value:function(){this.tasks=[],this.processing=!1,this.boundary=this.squareBoundary||this.freeBoundary,this.freeBoundary=null,this.squareBoundary=null,this.shape=this.calculateShape()}},{key:"cancel",value:function(){this.tasks=[],this.processing=!1,this.freeBoundary=null,this.squareBoundary=null}},{key:"setBoundaryBox",value:function(e){var t=this;this.box=e,this.boxStrict=e?function(n,i){return t._adjustBoundaryByBox(e,n,i)}:U.noop}},{key:"undo",value:function(){var e=this.tasks.pop();"function"==typeof e&&e()}},{key:"addTask",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.tasks.push((function(){return e.apply(void 0,(0,R._)(n))}))}},{key:"recordFreeBoundary",value:function(){var e=this,t=this.freeBoundary?Object.assign({},this.freeBoundary):null;this.addTask((function(t){e.freeBoundary=t}),t)}},{key:"recordSquareBoundary",value:function(){var e=this,t=this.squareBoundary?Object.assign({},this.squareBoundary):null;this.addTask((function(t){e.squareBoundary=t}),t)}},{key:"adjustWest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=this.freeBoundary,r=(0,b._)({},i),o=this.freeBoundary.left+t,a=this.freeBoundary.right;switch(i.left=Math.min(o,a),i.right=Math.max(o,a),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,r),a<o?Rc:Tc}},{key:"adjustEast",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,b._)({},this.freeBoundary),r=this.freeBoundary.right+t,o=this.freeBoundary.left;switch(this.freeBoundary.left=Math.min(o,r),this.freeBoundary.right=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareH();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?Tc:Rc}},{key:"_adjustToSquareH",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.top+n/2-t/2,r=i+t;e.top=i,e.bottom=r}},{key:"adjustNorth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,b._)({},this.freeBoundary),r=this.freeBoundary.top+t,o=this.freeBoundary.bottom;switch(this.freeBoundary.top=Math.min(r,o),this.freeBoundary.bottom=Math.max(r,o),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),o<r?Ec:Ic}},{key:"adjustSouth",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ADJUST_MODE_FREE;this.recordFreeBoundary();var i=(0,b._)({},this.freeBoundary),r=this.freeBoundary.bottom+t,o=this.freeBoundary.top;switch(this.freeBoundary.top=Math.min(o,r),this.freeBoundary.bottom=Math.max(o,r),n){case e.ADJUST_MODE_SQUARE:this._adjustToSquareV();case e.ADJUST_MODE_UNIFORM:}return this.boxStrict(this.freeBoundary,i),r<o?Ic:Ec}},{key:"_adjustToSquareV",value:function(){var e=this.freeBoundary,t=e.right-e.left,n=e.bottom-e.top,i=e.left+t/2-n/2,r=i+n;e.left=i,e.right=r}},{key:"_adjustToSquare",value:function(e,t){var n=this.freeBoundary.right-this.freeBoundary.left,i=this.freeBoundary.bottom-this.freeBoundary.top,r=Math.min(n,i);this.squareBoundary=Object.assign({},this.freeBoundary),t==Tc?this.squareBoundary.left=this.freeBoundary.right-r:this.squareBoundary.right=this.freeBoundary.left+r,e==Ec?this.squareBoundary.bottom=this.freeBoundary.top+r:this.squareBoundary.top=this.freeBoundary.bottom-r}},{key:"adjustNorthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var o=(0,b._)({},this.freeBoundary);switch(this.squareBoundary=null,i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthWestUniform(t,n,r),this.boxStrict(this.freeBoundary,o),Mc;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),A=this.adjustWest(t);return i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,A),this.boxStrict(this.squareBoundary,o)),"".concat(a,"-").concat(A)}}},{key:"_adjustNorthWestUniform",value:function(e,t,n){var i=this.freeBoundary,r=i.right,o=i.bottom,a=i.left,A=i.top,s=r-(a+e),c=o-(A+t),u=r-a,l=o-A,d=Math.min(s,c);d>=n&&(d===s?c=d/u*l:s=d/l*u,this.freeBoundary.left=r-s,this.freeBoundary.top=o-c)}},{key:"adjustNorthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var o=(0,b._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustNorthEastUniform(t,n,r),this.boxStrict(this.freeBoundary,o),Fc;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustNorth(n),A=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,A),this.boxStrict(this.squareBoundary,o)),"".concat(a,"-").concat(A)}}},{key:"_adjustNorthEastUniform",value:function(e,t,n){var i=this.freeBoundary,r=i.right,o=i.bottom,a=i.left,A=i.top,s=r+e-a,c=o-(A+t),u=r-a,l=o-A,d=Math.min(s,c);d>=n&&(d===s?c=d/u*l:s=d/l*u,this.freeBoundary.right=a+s,this.freeBoundary.top=o-c)}},{key:"adjustSouthWest",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var o=(0,b._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthWestUniform(t,n,r),this.boxStrict(this.freeBoundary,o),Lc;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),A=this.adjustWest(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,A),this.boxStrict(this.squareBoundary,o)),"".concat(a,"-").concat(A)}}},{key:"_adjustSouthWestUniform",value:function(e,t,n){var i=this.freeBoundary,r=i.right,o=i.bottom,a=i.left,A=i.top,s=r-(a+e),c=o+t-A,u=r-a,l=o-A,d=Math.min(s,c);d>=n&&(d===s?c=d/u*l:s=d/l*u,this.freeBoundary.left=r-s,this.freeBoundary.bottom=A+c)}},{key:"adjustSouthEast",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ADJUST_MODE_FREE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.recordFreeBoundary(),this.recordSquareBoundary();var o=(0,b._)({},this.freeBoundary);switch(i){case e.ADJUST_MODE_UNIFORM:return this._adjustSouthEastUniform(t,n,r),this.boxStrict(this.freeBoundary,o),Nc;case e.ADJUST_MODE_FREE:case e.ADJUST_MODE_SQUARE:var a=this.adjustSouth(n),A=this.adjustEast(t);return this.squareBoundary=null,i==e.ADJUST_MODE_SQUARE&&(this._adjustToSquare(a,A),this.boxStrict(this.squareBoundary,o)),"".concat(a,"-").concat(A)}}},{key:"_adjustSouthEastUniform",value:function(e,t,n){var i=this.freeBoundary,r=i.right,o=i.bottom,a=i.left,A=i.top,s=r+e-a,c=o+t-A,u=r-a,l=o-A,d=Math.min(s,c);d>=n&&(d===s?c=d/u*l:s=d/l*u,this.freeBoundary.right=a+s,this.freeBoundary.bottom=A+c)}},{key:"adjustPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.recordFreeBoundary(),this.freeBoundary){this.freeBoundary.left+=e,this.freeBoundary.right+=e,this.freeBoundary.top+=t,this.freeBoundary.bottom+=t;var n=(0,b._)({},this.freeBoundary);this.boxStrict(this.freeBoundary,n)}}},{key:"adjustPositionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.freeBoundary.left,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.freeBoundary.top;this.adjustPosition(e-this.freeBoundary.left,t-this.freeBoundary.top)}},{key:"_adjustMovingBoundaryByBox",value:function(e,t){var n=t.right-t.left,i=t.bottom-t.top;this.boundary.right>e.right&&(this.boundary.right=e.right,this.boundary.left=e.right-n),this.boundary.bottom>e.bottom&&(this.boundary.bottom=e.bottom,this.boundary.top=e.bottom-i),this.boundary.left<e.left&&(this.boundary.left=e.left,this.boundary.right=e.left+n),this.boundary.top<e.top&&(this.boundary.top=e.top,this.boundary.bottom,e.top)}},{key:"_adjustBoundaryByBox",value:function(e,t,n){var i=this.marginBox;i||(i={}),i.left=i.left||0,i.top=i.top||0,i.bottom=i.bottom||0,i.right=i.right||0;var r=Ta.on(t).expand(i.top,i.left,i.bottom,i.right).extract(),o=r.right-r.left,a=r.bottom-r.top;Bc()(t,n)||(a=Math.min(e.bottom-e.top,n.bottom-n.top),o=Math.min(e.right-e.left,n.right-n.left)),r.right>e.right&&(r.right=e.right,r.left=e.right-o),r.bottom>e.bottom&&(r.bottom=e.bottom,r.top=e.bottom-a),r.left<e.left&&(r.left=e.left,r.right=e.left+o),r.top<e.top&&(r.top=e.top,r.bottom=e.top+a);var A=Ta.on(r).shrink(i.top,i.left,i.bottom,i.right).extract();Ta.copyTo(A,t)}},{key:"setMargin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.marginBox,t=e.left,n=void 0===t?0:t,i=e.top,r=void 0===i?0:i,o=e.right,a=void 0===o?0:o,A=e.bottom,s=void 0===A?0:A;this.marginBox={left:n,top:r,right:a,bottom:s}}},{key:"getAdjustRect",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?Object.assign({},e):null}},{key:"getAdjustShape",value:function(){var e=this.squareBoundary||this.freeBoundary;return e?{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}:null}},{key:"getRect",value:function(){return Object.assign({},this.boundary)}},{key:"getShape",value:function(){return Object.assign({},this.shape)}},{key:"calculateShape",value:function(){var e=this.boundary;return{left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top}}},{key:"applyToDom",value:function(e,t){t=t||this.getShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}},{key:"applyAdjustingToDom",value:function(e,t){t=t||this.getAdjustShape();var n=this.expansion;e.style.cssText+="\n                left: ".concat(t.left-n.left,"px;\n                top: ").concat(t.top-n.top,"px;\n                width: ").concat(t.width+(n.left+n.right),"px;\n                height: ").concat(t.height+(n.top+n.bottom),"px;\n                ")}}],[{key:"ADJUST_MODE_FREE",get:function(){return"free"}},{key:"ADJUST_MODE_UNIFORM",get:function(){return"uniform"}},{key:"ADJUST_MODE_SQUARE",get:function(){return"square"}}]),e}(),Wc=ce,Yc="move",Gc=["square","widget","polygon","line","polyline","circle","stamp","freetext","fileattachment","text"],$c=U.LoggerFactory.getLogger("ShapeControl"),Kc={};var qc=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.emitter,o=i.prestart,a=void 0===o?U.noop:o,A=i.start,s=void 0===A?U.noop:A,c=i.update,u=void 0===c?U.noop:c,l=i.interceptor,d=void 0===l?Wc:l,h=i.moving,f=void 0===h?U.noop:h,p=i.end,g=void 0===p?U.noop:p,v=i.afterEnd,m=void 0===v?U.noop:v,y=i.rotate,b=void 0===y?U.noop:y,w=i.beforeRotateStart,k=void 0===w?U.noop:w,x=i.rotateStart,P=void 0===x?U.noop:x,D=i.rotateEnd,C=void 0===D?U.noop:D,S=i.afterRotateEnd,I=void 0===S?U.noop:S,E=i.enableDiagonally,R=void 0!==E&&E,T=i.enableFrame,M=void 0===T||T,F=i.enableSizeBox,L=void 0!==F&&F,N=i.resizable,O=void 0===N||N,B=i.moveable,j=void 0===B||B,V=i.rotatable,H=void 0!==V&&V,z=i.previewer,W=void 0!==z&&z,Y=i.enableUniform,G=void 0!==Y&&Y,$=i.minUniformSize,K=void 0===$?15:$,q=i.annotRender,J=void 0===q?null:q,X=i.expansion,Q=void 0===X?{left:1,top:1,right:1,bottom:1}:X,Z=i.degreeInitVisibility,ee=void 0===Z||Z,te=i.resizeCompanions,ne=void 0!==te&&te,ie=i.onStatusChange,re=void 0===ie?U.noop:ie,oe=i.degree,ae=void 0===oe?0:oe,Ae=i.auxiliaryLine,se=void 0===Ae?null:Ae;return(0,_._)(this,n),(e=t.call(this)).ui=function(e){var t=Object.keys(e).sort().map((function(t){return e[t]?1:0})).join("");if(t in Kc)return Kc[t].cloneNode(!0);var n=(new DOMParser).parseFromString(Sc()(e),"text/html").body.firstChild;return Kc[t]=n,n.cloneNode(!0)}({enableDiagonally:R,resizable:O,enableFrame:M,rotatable:H,moveable:j,previewer:W,enableSizeBox:L,degreeInitVisibility:ee}),e.emitter=r,e.onPrestart=a,e.onStart=s,e.onUpdate=u,e.onMoving=f,e.interceptor=d,e.onEnd=g,e.onAfterEnd=m,e.onBeforeRotateStart=k,e.onAfterRotateEnd=I,e.rotate=b,e.onRotateStart=P,e.onRotateEnd=C,e.enableUniform=G,e.minUniformSize=K,e.rotatable=H,e.moveable=j,e.enablePreviewer=W,e.isDisabled=!1,e.isMoveDisabled=!1,e.enableDiagonally=R,e.enableFrame=M,e.enableSizeBox=L,e.resizable=O,e.annotRender=J,e.rotateCursorStyle="fv__cursor-rotation",e.rotateDegree=ae,e.isRotateStarted=!1,e.auxiliaryLine=se,e.expansion=Q,e.resizeCompanions=ne,e.companions=[],e.degreeInitVisibility=ee,e.isActive=!1,e.onStatusChange=re,e}return(0,P._)(n,[{key:"init",value:function(){if(!this._isInitted){this._isInitted=!0;var e=this.ui.querySelector(".fv__shape-control-previewer");this.rotatingRod=this.ui.querySelector(".fv__shape-rotate"),this.shapeSizeBox=this.ui.querySelector(".fv__shape-size"),this.context=e.getContext("2d"),this.companionMargin={left:0,right:0,top:0,bottom:0},this.rotateDegreeBox=this.ui.querySelector(".fv-shape-rotate-degree"),this.updateRotateDegreeBox(this.rotateDegree),this.resizableWrap=this.ui.querySelector(".fv__shape-controller-resizable-wrap"),this.bindEvents()}}},{key:"companion",value:function(e){var t=this;if(e===this)return U.noop;var n="function"==typeof e.getCompanionObject?e.getCompanionObject():void 0;return n?-1!==this.companions.indexOf(n)||n.companions.indexOf(this)>-1?U.noop:(this.companions.push(n),this.updateMargin(),function(){var e=t.companions.indexOf(n);e>-1&&t.companions.splice(e,1)}):U.noop}},{key:"getCompanionObject",value:function(){return this}},{key:"updateMargin",value:function(){if(0===this.companions.length)return this.setMargin(this.originMargin),void(this.companionMargin={left:0,right:0,top:0,bottom:0});var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach((function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)}));var o=e.left-t,a=n-e.right,A=e.top-i,s=r-e.bottom;this.companionMargin={left:o,right:a,top:A,bottom:s},this.originMargin=this.shape.marginBox;var c={left:Math.max(this.companionMargin.left,this.originMargin.left),right:Math.max(this.companionMargin.right,this.originMargin.right),top:Math.max(this.companionMargin.top,this.originMargin.top),bottom:Math.max(this.companionMargin.bottom,this.originMargin.bottom)};this.setMargin(c)}},{key:"clearCompanions",value:function(){this.companions.length=0,this.updateMargin()}},{key:"getPreviewerContext",value:function(){return this.context}},{key:"bindEvents",value:function(){var e=this,t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindControllerEvents(t)})),this.moveable&&this._bindMoveAreaEvents(),this.rotatable&&this._bindRotateEvents()}},{key:"_resolveOffset",value:function(e,t,n){var i=this.ui.getBoundingClientRect();return n<0&&e.y>i.bottom&&(n=0),n>0&&e.y<i.top&&(n=0),t>0&&e.x<i.left&&(t=0),t<0&&e.x>i.right&&(t=0),{offsetX:t,offsetY:n}}},{key:"_bindControllerEvents",value:function(e){var t,i,r=this,o=new pr.Manager(e);o.add(new pr.Pan({direction:pr.DIRECTION_ALL})),o.on("panmove",(function(n){var o=n.deltaX,a=n.deltaY,A=n.center;if(!r.isDisabled&&r.isActive){var s=r._resolveOffset(A,o-t,a-i),c=s.offsetX,u=s.offsetY;t=o,i=a,r.resize(e.getAttribute("direction"),c,u),r._resizeSizeBox()}})),o.on("panstart",(function(n){var o=n.deltaX,a=n.deltaY,A=n.center;if(!r.isDisabled&&r.isActive){var s=r._resolveOffset(A,o,a),c=s.offsetX,u=s.offsetY;t=c,i=u,r.start(),r.resizeCompanions||r.setMargin({left:0,right:0,top:0,bottom:0}),r.resize(e.getAttribute("direction"),c,u,!0)}})),o.on("panend",(function(e){!r.isDisabled&&r.isActive&&r.end(n.ACTION_RESIZE)})),o.on("pancancel",(function(e){!r.isDisabled&&r.isActive&&r.cancel(n.ACTION_RESIZE)})),this.addDestroyHook((function(){o.destroy()}))}},{key:"_resizeSizeBox",value:function(){if(this.shapeSizeBox){var e=this.shape.getAdjustShape();e||(e=this.shape.shape);var t=parseInt(e.width),n=parseInt(e.height);this.shapeSizeBox.innerHTML=t<120?t+"px*"+n+"px":t<170?"W: "+t+"px, H: "+n+"px":"Width: "+t+"px, Height: "+n+"px",this.shapeSizeBox.style.top=n>100?"1px":"-22px"}}},{key:"_bindMoveAreaEvents",value:function(){var e,t,i=this,r=this.ui,o=new pr.Manager(r.querySelector(".fv__shape-control-move-area"),{domEvents:!0});o.add(new pr.Pan({direction:pr.DIRECTION_ALL})),o.on("panstart",(function(n){var r=n.deltaX,a=n.deltaY,A=n.center,s=n.srcEvent;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var c=o.element.getBoundingClientRect(),u=c.width,l=c.height;(u||l)&&(e=r,t=a,i.start(),i.trigger("movingstart",{deltaX:A.x+r,deltaY:A.y+a,srcEvent:s}),i.move(e,t,!0))}})),o.on("panend",(function(e){if(i.trigger("movingend",e),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var t=o.element.getBoundingClientRect(),r=t.width,a=t.height;(r||a)&&(i.end(n.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}})),o.on("pancancel",(function(e){if(i.trigger("movingcancel"),!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var t=o.element.getBoundingClientRect(),r=t.width,a=t.height;(r||a)&&(i.cancel(n.ACTION_MOVE),i.auxiliaryLine&&i.shape.clearAuxiliaryLine(i.auxiliaryLine.container))}})),o.on("panmove",(function(n){var r=n.deltaX,a=n.deltaY,A=n.center,s=n.direction;if(!i.isDisabled&&!i.isMoveDisabled&&i.isActive){var c=o.element.getBoundingClientRect(),u=c.width,l=c.height;if(u||l){var d=r-e,h=a-t;e=r,t=a;var f=i.ui.getBoundingClientRect(),p=f.left,g=f.right,v=f.top,m=f.bottom;A.x<p&&s&Hammer.DIRECTION_RIGHT&&(d=0),A.x>g&&s&Hammer.DIRECTION_LEFT&&(d=0),A.y<v&&s&Hammer.DIRECTION_DOWN&&(h=0),A.y>m&&s&Hammer.DIRECTION_UP&&(h=0),i.move(d,h,void 0,!0)}}})),this.addDestroyHook((function(){o.destroy()}))}},{key:"disable",value:function(){this.isDisabled=!0,this.ui.classList.add("disabled"),this.onStatusChange()}},{key:"enable",value:function(){this.isDisabled=!1,this.ui.classList.remove("disabled"),this.onStatusChange()}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.ui.classList.add("move-disabled"),this.onStatusChange()}},{key:"moveEnable",value:function(){this.moveable&&(this.isMoveDisabled=!1,this.ui.classList.remove("move-disabled"),this.onStatusChange())}},{key:"start",value:function(){this.isDisabled||(this.doStart(),this.onPrestart(),this.companions.forEach((function(e){return e.doStart()})))}},{key:"doStart",value:function(){this.ui.style.willChange="left, top, width, height",this.shape.process()}},{key:"move",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled&&!this.isMoveDisabled){var o=this.shape.getAdjustRect();this.shape.adjustPosition(e,t);var a=this.getSnapRect(this.shape.getAdjustRect());if(a){var A=a.left-o.left,s=a.top-o.top;if(this.interceptor(this.shape.getAdjustShape())){if(this.auxiliaryLine&&r){var c=this.auxiliaryLine.getPageAnnots(),u=Object.assign({},a),l=this.auxiliaryLine.gap,d=this.auxiliaryLine.container,h=[this.shape.boundary],f={};f[this.shape.boundary.top+this.shape.boundary.left+this.shape.boundary.right+this.shape.boundary.bottom]=!0,this.companions.length&&this.companions.forEach((function(e){var t=e.getSnapRect(e.shape.getAdjustRect());u.left=Math.min(u.left,t.left),u.top=Math.min(u.top,t.top),u.right=Math.max(u.right,t.right),u.bottom=Math.max(u.bottom,t.bottom),h.push(e.shape.boundary),f[e.shape.boundary.top+e.shape.boundary.left+e.shape.boundary.right+e.shape.boundary.bottom]=!0}));var p=(c=c.filter((function(e){var t=e.rect;if(Gc.indexOf(e.type)<0)return!1;if(!f[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=h[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;if(A.top==t.top&&A.left==t.left&&A.right==t.right&&A.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}))).map((function(e){return e.rect})),g=this.shape.drawAuxiliaryLine(u,p,l,d),v=a.right-a.left,m=a.bottom-a.top;!this.companions.length&&g.top&&(a.top=g.top,a.bottom=a.top+m),!this.companions.length&&g.left&&(a.left=g.left,a.right=a.left+v),!this.companions.length&&g.right&&(a.right=g.right,a.left=a.right-v),!this.companions.length&&g.bottom&&(a.bottom=g.bottom,a.top=a.bottom-m),A=a.left-o.left,s=a.top-o.top}var y=this.getShapeFromRect(a);this.shape.applyAdjustingToDom(this.ui,y),i&&this.onStart(y,this.context,n.ACTION_MOVE),this.onMoving(y,this.context,{offsetLeft:A,offsetTop:s}),this.companions.forEach((function(e){return e.move(A,s,i)}))}else this.shape.undo()}}}},{key:"resize",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.isDisabled){switch(e){case Rc:case Tc:case Ic:case Ec:case Fc:case Mc:case Nc:case Lc:break;default:throw new Error("Incorrect direction: ".concat(e))}if(this._resize(e,t,i),this.interceptor(this.shape.getAdjustShape())){var o=this.getShapeFromRect(this.getDirectionSnapRect(this.shape.getAdjustRect(),e));this.shape.applyAdjustingToDom(this.ui,o),this._updatePreviewer(),r&&this.onStart(o,this.context,n.ACTION_RESIZE),this.onUpdate(o,this.context,{offsetLeft:t,offsetTop:i,direction:e}),this.resizeCompanions&&this.companions.forEach((function(n){return n.resize(e,t,i,r)}))}else this.shape.undo()}}},{key:"end",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(this.isDisabled||e===Yc&&this.isMoveDisabled)){t=t==this.companions.length,this.ui.style.willChange="auto";var i=this.shape.getAdjustRect();if(i){var r=this.getShapeFromRect(e===n.ACTION_MOVE?this.getSnapRect(i):this.getDirectionSnapRect(i));this.onEnd(r,this.context,e,t),this.shape.end(),this.shape.applyToDom(this.ui,r),(e!=n.ACTION_RESIZE||this.resizeCompanions)&&this.companions.forEach((function(t,n){return t.end(e,n)}))}this.onAfterEnd(e)}}},{key:"cancel",value:function(e){this.isDisabled||(this.shape.cancel(),this.shape.applyToDom(this.ui),this.onEnd(this.shape.getShape(),this.context,e),this.companions.forEach((function(t){return t.cancel(e)})),this.onAfterEnd(e))}},{key:"rotateStart",value:function(e,t){var n=this.ui.getBoundingClientRect(),i={x:n.left+.5*n.width,y:n.top+.5*n.height};this.rotateStartPoint={x:e,y:t},this.rotationOffsetCenter=i,this.onRotateStart(this.rotateDegree,this.shape,this.context),this.companions.forEach((function(n){n.isRotateStarted=!0,n.rotateStart(e,t)}))}},{key:"rotating",value:function(e,t){if(this.isRotateStarted){var n=this.rotateStartPoint,i=n.x,r=n.y,o=this.offsetDegree=this.getAngle(i,r,e,t);this.ui.style.transform="rotate(".concat(o,"deg)"),this.updateRotateDegreeBox(o),this.rotate(o,this.rotateDegree),this.companions.forEach((function(e){e.ui.style.transform="rotate(".concat(o,"deg)"),e.updateRotateDegreeBox(o),e.rotate(o,e.rotateDegree)}))}}},{key:"getAngle",value:function(e,t,n,i){var r,o=this.rotationOffsetCenter,a=o.x,A=o.y,s=180*Math.atan2(t-A,e-a)/Math.PI,c=180*Math.atan2(i-A,n-a)/Math.PI;return s=s<=-90?360+s:s,c=c<=-90?360+c:c,r=(r=Math.floor(c-s))<0?r+360:r}},{key:"rotateEnd",value:function(){var e=this;this.isRotateStarted&&(this.isRotateStarted=!1,this.rotateDegree+=this.offsetDegree,this.onRotateEnd(this.rotateDegree,this.offsetDegree,this.shape,this.context).then((function(t){e.rotatingRod.style.transform="rotate(".concat(t,"deg)")})),this.companions.forEach((function(e){e.rotateEnd()})))}},{key:"moveDirectly",value:function(e,t){if(!this.isDisabled){this.start();try{this.move(e,t,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"resizeDirectly",value:function(e,t,n){if(!this.isDisabled){this.start();try{this.resize(e,t,n,!0)}catch(e){throw this.cancel(),e}this.end()}}},{key:"_updatePreviewer",value:function(){if(this.enablePreviewer){var e=this.ui.querySelector(".fv__shape-control-previewer");e.setAttribute("width",this.ui.offsetWidth),e.setAttribute("height",this.ui.offsetHeight)}}},{key:"hidePreviewer",value:function(){}},{key:"showPreviewer",value:function(){}},{key:"hide",value:function(){this.ui.style.display="none"}},{key:"show",value:function(){this.ui.style.display="block"}},{key:"_resize",value:function(e,t,n){var i,r=this.ui;switch(i=this.enableUniform?zc.ADJUST_MODE_UNIFORM:U.keyboardStatus.isShift?zc.ADJUST_MODE_SQUARE:zc.ADJUST_MODE_FREE,e){case Ic:o(e,this.shape.adjustNorth(n,i));break;case Ec:o(e,this.shape.adjustSouth(n,i));break;case Rc:o(e,this.shape.adjustEast(t,i));break;case Tc:o(e,this.shape.adjustWest(t,i));break;case Mc:o(e,this.shape.adjustNorthWest(t,n,i,this.minUniformSize));break;case Fc:o(e,this.shape.adjustNorthEast(t,n,i,this.minUniformSize));break;case Lc:o(e,this.shape.adjustSouthWest(t,n,i,this.minUniformSize));break;case Nc:o(e,this.shape.adjustSouthEast(t,n,i,this.minUniformSize));break;default:throw new Error("Incorrect direction: "+e)}function o(e,t){if(e!==t){var n=r.querySelector("[direction=".concat(t,"]")),i=r.querySelector("[direction=".concat(e,"]"));n.setAttribute("direction",e),i.setAttribute("direction",t)}}}},{key:"active",value:function(e,t,n){if(this.init(),this._applyAnnotBoundary(t),e){var i=(0,I._)(e,Element)?e:e.get(0);this.ui.parentElement!==i&&i.appendChild(this.ui)}var r=!!this.shape&&this.shape.processing;this.shape=new zc({left:t.left,top:t.top,right:t.left+t.width,bottom:t.top+t.height,box:n,expansion:this.expansion}),r&&this.shape.process(),this.originMargin=this.shape.marginBox,this._updatePreviewer(),this._resizeSizeBox(),this.updateRotateDegreeBox(this.rotateDegree),this.rotatingRod&&(this.rotatingRod.style.transform="rotate(".concat(this.rotateDegree,"deg)")),this.isActive=!0}},{key:"updateRotateDegreeBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(e=parseInt(e))>180&&(e-=360),e*=-1,this.rotateDegreeBox&&(this.rotateDegreeBox.innerHTML=e+"°",this.rotateDegreeBox.style.transform="rotate(".concat(e,"deg)"))}},{key:"updateBoundary",value:function(e,t){Object.assign(this.shape.boundary,e),this._applyAnnotBoundary(this.shape.boundary),t&&this.updateBoundaryBox(t),this._updatePreviewer()}},{key:"setMargin",value:function(e){e&&this.shape&&this.shape.setMargin(e)}},{key:"updateBoundaryBox",value:function(e){this.shape.setBoundaryBox(e)}},{key:"getCurrentShape",value:function(){return this.shape.getShape()}},{key:"getAdjustingShape",value:function(){return this.shape.getAdjustShape()}},{key:"getAdjustedOffset",value:function(){var e=this.getAdjustedRectDiff();return{offsetLeft:e.left,offsetTop:e.top}}},{key:"getAdjustedRectDiff",value:function(){return Ta.subtract(this.shape.getAdjustRect(),this.shape.getRect())}},{key:"deactive",value:function(){this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui),this.isActive=!1}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.disable(),this.ui.parentNode&&this.ui.parentNode.removeChild(this.ui)}},{key:"_applyAnnotBoundary",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height,o=this.expansion;this.ui.style.cssText+="\n            width: ".concat(i+(o.left+o.right),"px;\n            height: ").concat(r+(o.top+o.bottom),"px;\n            left: ").concat(t-o.left,"px;\n            top: ").concat(n-o.top,"px;\n            ")}},{key:"_bindRotateEvents",value:function(){var e=this,t=this.ui.querySelector(".fv-shape-rotate-handle"),n=new pr.Manager(t);n.add(new pr.Pan({direction:pr.DIRECTION_ALL}));n.on("panstart",(function(t){var n=t.center;!e.isDisabled&&e.isActive&&(e.onBeforeRotateStart(),e.isRotateStarted=!0,e.companions.forEach((function(e){return e.isRotateStarted=!0})),e.rotateStart(n.x,n.y))})),n.on("panend",(function(t){t.deltaX,t.deltaY;!e.isDisabled&&e.isRotateStarted&&(e.rotateEnd(),e.onAfterRotateEnd())})),n.on("pancancel",(function(e){$c.debug("rotate c")})),n.on("panmove",(function(t){t.deltaX,t.deltaY;var n=t.center;!e.isDisabled&&e.isRotateStarted&&e.rotating(n.x,n.y)}))}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}},{key:"getSnapGrid",value:function(){return this.snapGrid}},{key:"getSnapMaxRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=e.left,i=e.right,r=e.top,o=e.bottom,a=t.offsetLeft,A=t.offsetTop,s=t.subLineWidth,c=t.subLineHeight,u=t.maxWidth,l=t.maxHeight,d=(n-a)%s,h=(r-A)%c;return d<0&&(d+=a),i+=Math.abs((i-a)%s-s)%s,h<0&&(h+=A),o+=Math.abs((o-A)%c-c)%c,{left:n-=d,right:i=Math.min(u,i),top:r-=h,bottom:o=Math.min(l,o)}}},{key:"getSnapRect",value:function(e){if(!e)return e;var t=this.getSnapGrid();if(!t)return e;var n=t.maxWidth,i=t.maxHeight,r=e.left,o=e.right,a=e.top,A=e.bottom;if(r<=0||a<=0||o>=n||A>=i)return e;var s=t.offsetLeft,c=t.offsetTop,u=t.subLineWidth,l=t.subLineHeight,d=(r-s)%u,h=Math.abs(d-u)%u,f=(o-s)%u,p=Math.abs(f-u)%u,g=(a-c)%l,v=Math.abs(g-l)%l,m=(A-c)%l,y=Math.abs(m-l)%l,b=Math.min(d,f),w=Math.min(h,p),k=Math.min(g,m),x=Math.min(v,y);return b<w?(r-=b,o-=b):(r+=w,o+=w),k<x?(a-=k,A-=k):(a+=x,A+=x),{left:r,right:o,top:a,bottom:A}}},{key:"getDirectionSnapRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastDirection;if(this.lastDirection=t,!e)return e;var n=this.getSnapGrid();if(!n)return e;var i=n.offsetLeft,r=n.offsetTop,o=n.subLineWidth,a=n.subLineHeight,A=n.maxWidth,s=n.maxHeight,c=e.left,u=e.right,l=e.top,d=e.bottom;if(c<=0||l<=0||u>=A||d>=s)return e.left=Math.max(0,c),e.right=Math.min(A,u),e.top=Math.max(0,l),e.bottom=Math.min(s,d),e;var h=(c-i)%o,f=Math.abs((u-i)%o-o)%o,p=(l-r)%a,g=Math.abs((d-r)%a-a)%a;switch(t){case Ic:l-=p;break;case Ec:d+=g;break;case Rc:u+=f;break;case Tc:c-=h;break;case Mc:c-=h,l-=p;break;case Fc:u+=f,l-=p;break;case Lc:c-=h,d+=g;break;case Nc:u+=f,d+=g;break;default:throw new Error("Incorrect direction: "+t)}return{left:c,right:u,top:l,bottom:d}}},{key:"getShapeFromRect",value:function(e){if(e){var t=e.left,n=e.top;return{left:t,top:n,width:e.right-t,height:e.bottom-n}}}},{key:"updateResizable",value:function(e){this.resizableWrap.style.visibility=e?"visible":"hidden"}}],[{key:"ACTION_RESIZE",get:function(){return"resize"}},{key:"ACTION_MOVE",get:function(){return Yc}}]),n}(U.Disposable),Jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c;return{selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:".fv__pdf-page-annot-handler-rect",items:{copy:{name:"copy",nameI18nKey:"viewer_:contextmenu.annot.copy",callback:function(t,n,i){this.data(e).copyText()},visible:function(){var t=this.data(e);if(!t.annot.isArea())return!t.annot.isReplace||!t.annot.isReplace()}},reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(e).showReplyDialog("reply")},disabled:function(){return this.data(e).replyDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(t,n,i){this.data(e).showPropertiesDialog(t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(e).removeAnnot()},disabled:function(){return this.data(_c).deleteDisabled()}}},events:{show:function(){return this.data(_c).updateDeleteStatus(!0),!0},hide:function(){return this.data(_c).updateDeleteStatus(!1),!0}}}}(_c,".fv__pdf-page-annot-handler-rect"),Xc=Dc()({direction:"left"}),Qc=Dc()({direction:"right"}),Zc="px",eu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;if((0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="textmarkup",a.$ui.addClass("fv__pdf-page-textmarkup-annot-container"),a.$handler.addClass("fv__pdf-page-textmarkup-annot-handler-container"),a.annot.isArea())a.createShapeControl();else{var A=function(e,t,n){n===tn.flagsUpdated?a.getAppPermission().then((function(e){(e.ignorable()||e.isAdjustable())&&!a.moveDisabled()?a.boundaryEnabled():a.boundaryDisabled()})):n===tn.quadPointsUpdated&&a.activeRect(e[0])};a.pdfViewer.eventEmitter.on(de.annotationUpdated,A),a.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(de.annotationUpdated,A)}))}return a}return(0,P._)(n,[{key:"redraw",value:function(e){var t=this;return this.getAppPermission().then((function(e){(e.ignorable()||e.isAdjustable())&&!t.moveDisabled()?t.boundaryEnabled():t.boundaryDisabled()})),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"createShapeControl",value:function(){var e=this;U.Lazy.property(this,"shapeControl",(function(){var t={moveable:!1,resizable:!0,enableDiagonally:!0},n=e.pdfViewer.customs.getAnnotComponentConfig(e,Object.keys(t)),i={start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n){return e.onShapeMoving(t,n)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)},auxiliaryLine:void 0};e.annot.isReplace()&&(i.moveable=!1),e.annot.isArea()&&(i.emitter=e.pdfViewer.eventEmitter,i=Object.assign(t,n,i));var r=new qc(i);return e.processShapeControlPermissionCtrl(r),e.addDestroyHook((function(){r.destroy()})),r}))}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.annot.isArea()&&!this.shapeControl&&this.createShapeControl(),this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"active",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"active",this).call(this);var t=this.annot.isArea();this.$rect&&(this.$rect.remove(),this.$rect=null),this.getAppPermission().then((function(n){var i=!0;i=(n.ignorable()||n.isAdjustable())&&!e.moveDisabled(),t?(e.activeRect(),e.$rect.addClass("active"),e._applyShapeChange(),e.boundaryRemove(),i?e.shapeControl.enable():e.shapeControl.disable()):(e.activeTextBoundary(),i?e.boundaryEnabled():e.boundaryDisabled())}))}},{key:"unActive",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.annot.isArea()&&this.$rect&&this.$rect.removeClass("active"),this.annot.isGrouped()&&this.annot.groupElements.map((function(t){var n=e.pdfViewer.getAnnotRender(t.getPDFPage().getIndex(),t.getId()),i=n&&n.component;i&&i.isActive&&i.unActive&&i.unActive(),i&&i.deactive&&i.deactive()}))}},{key:"afterRender",value:function(e){var t=e.transformed;(this.$ui.find("canvas").css({width:"",height:""}),t&&this.isActive)&&(this.annot.isArea()?(this.activeRect(),this._applyShapeChange()):this.activeTextBoundary())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.annot.isArea()?(!this.shapeControl&&this.createShapeControl(),this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui):(0,D._)((0,C._)(n.prototype),"createRectDom",this).call(this)}},{key:"copyText",value:function(){var e=this,t=this.annot.getContinuousText();return(0,U.copyText)(t).then((function(n){return n?e.pdfViewer.eventEmitter.emit(de.copyTextSuccess,t):e.pdfViewer.eventEmitter.emit(de.copyTextFailed,t),n}))}},{key:"getBoundaryCss_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.getCharQuadPoints_(e),i=this.getCssTransform_(e),r=(0,H.F2)(this.getQuadPointsHeight_(n))/U.dpr,o=this.getPDFPage(),a=this.scale,A=this.rotate,s=o.getDeviceMatrix(A);s.scale(a,a);var c=[Math.min,Math.max][t](n[0].x,n[1].x,n[2].x,n[3].x),u=[Math.max,Math.min][t](n[0].y,n[1].y,n[2].y,n[3].y),l=s.transformPoint(c,u);return{transform:i,height:r,left:l[0],top:l[1]}}},{key:"getCssTransform_",value:function(e){return"rotate("+(90*(e.rotation+this.annot.getPDFPage().getRotation())+this.rotate)+"deg)"}},{key:"getCharQuadPoints_",value:function(e){return(0,this.annot.engine.getUtils().getQuadPointsFromRect)(e,e.rotation)}},{key:"getQuadPointsHeight_",value:function(e){return Math.sqrt(Math.pow(e[2].x-e[0].x,2)+Math.pow(e[2].y-e[0].y,2))}},{key:"activeTextBoundary",value:function(){var e=this,t=this.annot,n=t.getStartCharInfo(),i=t.getEndCharInfo();if(n&&i){var r=this.$leftTextBoundary=this.$leftTextBoundary||this.leftTextBoundaryInit(),o=this.$rightTextBoundary=this.$rightTextBoundary||this.rightTextBoundaryInit(),a=this.getBoundaryCss_(n),A=0;1!=n.rotation&&3!=n.rotation||(A=a.height),r.css({height:a.height+Zc,transform:a.transform,top:a.top+Zc,left:a.left+A+Zc});var s=this.getBoundaryCss_(i,1);A=0,1!=i.rotation&&3!=i.rotation||(A=s.height),o.css({height:s.height+Zc,transform:s.transform,top:s.top-s.height+Zc,left:s.left-A+Zc})}this.activeRect(t),this.$rect.on("click.unactive",(function(t){e.isActive&&t.originalEvent.isTrusted&&0===t.button&&!t.shiftKey&&t.ctrlKey&&e.unActive()}))}},{key:"leftTextBoundaryInit",value:function(){var e,t,n,i,r,o=this,a=this.$handler,A=N()(Xc),s=A[0],c=new(gr())(s);c.get("pan").set({direction:gr().DIRECTION_ALL});var u=function(){n&&A.css({left:n.left+Zc,top:n.top+Zc,height:n.height+Zc,transform:n.transform})};return c.on("panstart",(function(t){!1!==o.onLeftPanStart(t)&&(i=o.scale,r=o.rotate,e={left:parseFloat(A.css("left")),top:parseFloat(A.css("top")),height:parseFloat(A.css("height")),transform:A.css("transform")},n=e,o.textBoundaryStart())})),c.on("panmove",(function(a){if(!1!==o.onLeftPanMove(a)){var s=a.deltaX,c=a.deltaY;if(o.pdfViewer.config.highPerformance){var l=e.height;c+=l/2;var d=o.getPDFPage().reverseDevicePoint([e.left+s,e.top+c],i,r),h=o.annot,f=o.editDebouncePromise=o.editDebouncePromise||new fe;f.push((function(){return o.getPDFPage().getCharInfoAtPoint(d,l/2/(0,H.F2)(i)).then((function(e){if(!e)return u(),[!1];var n=e.charIndex,i=h.getEndCharIndex();if(n>i)return u(),Promise.resolve([!1]);t=o.getBoundaryCss_(e);var r=0;1!=e.rotation&&3!=e.rotation||(r=t.height);var a={left:t.left+r+Zc,top:t.top+Zc,height:t.height+Zc,transform:t.transform};return Promise.all([h.updateQuadPointsByCharIndex(n,i),e,a])})).then((function(e){var i=(0,E._)(e,3),r=i[0],a=i[1],s=i[2];if(r)return A.css(s),t&&(n=t),o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,o),o.onLeftChangeSuccess(a)}));u()}),(function(){u()}))})),f.exec()}else A.css({left:n.left+s+Zc,top:n.top+c+Zc})}})),c.on("panend",(function(a){if(!1!==o.onLeftPanEnd(a)){var s=a.deltaX,c=a.deltaY,l=e.height;c+=l/2;var d=o.getPDFPage().reverseDevicePoint([e.left+s,e.top+c],i,r),h=o.annot,f=o.editDebouncePromise=o.editDebouncePromise||new fe;f.push((function(){return o.getPDFPage().getCharInfoAtPoint(d,l/2/(0,H.F2)(i)).then((function(e){if(!e)return u(),[!1];var n=e.charIndex,i=h.getEndCharIndex();if(n>i)return Promise.resolve([!1]);t=o.getBoundaryCss_(e);var r=0;return 1!=e.rotation&&3!=e.rotation||(r=t.height),A.css({left:t.left+r+Zc,top:t.top+Zc,height:t.height+Zc,transform:t.transform}),Promise.all([h.updateQuadPointsByCharIndex(n,i),e])})).then((function(e){var i=(0,E._)(e,2),r=i[0],a=i[1];if(r)return t&&(n=t),o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,o),o.textBoundaryEnd(),o.onLeftChangeSuccess(a)}));u()}),(function(){u()}))})),f.exec()}})),this.leftHammer=c,a.append(A),this.addDestroyHook((function(){c.destroy()})),A}},{key:"rightTextBoundaryInit",value:function(){var e,t,n,i,r,o=this,a=this.$handler,A=N()(Qc),s=A[0],c=new(gr())(s);c.get("pan").set({direction:gr().DIRECTION_ALL});var u=function(){n&&A.css({left:n.left+Zc,top:n.top-t.height+Zc,height:n.height+Zc,transform:t.transform})};return c.on("panstart",(function(t){!1!==o.onRightPanStart(t)&&(i=o.scale,r=o.rotate,e={left:parseFloat(A.css("left")),top:parseFloat(A.css("top")),height:parseFloat(A.css("height")),transform:A.css("transform")},n=e,o.textBoundaryStart())})),c.on("panmove",(function(a){if(!1!==o.onRightPanMove(a)){var s=a.deltaX,c=a.deltaY;if(o.pdfViewer.config.highPerformance)A.css({left:n.left+s+Zc,top:n.top+c+Zc});else{var l=e.height;c+=l/2;var d=o.getPDFPage().reverseDevicePoint([e.left+s,e.top+l+c],i,r),h=o.annot,f=o.editDebouncePromise=o.editDebouncePromise||new fe;f.push((function(){return o.getPDFPage().getCharInfoAtPoint(d,l/2/(0,H.F2)(i)).then((function(e){if(!e)return u(),[!1];var n=h.getStartCharIndex(),i=e.charIndex;if(n>i)return u(),Promise.resolve([!1]);t=o.getBoundaryCss_(e,1);var r=0;return 1!=e.rotation&&3!=e.rotation||(r=t.height),A.css({left:t.left-r+Zc,top:t.top-t.height+Zc,height:t.height+Zc,transform:t.transform}),Promise.all([h.updateQuadPointsByCharIndex(n,i),e])})).then((function(e){var i=(0,E._)(e,2),r=i[0],a=i[1];if(r)return t&&(n=t),o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,o),o.onRightChangeSuccess(a)}));u()}),(function(){u()}))})),f.exec()}}})),c.on("panend",(function(a){if(!1!==o.onRightPanEnd(a)){var s=a.deltaX,c=a.deltaY,l=e.height;c-=l/2;var d=o.getPDFPage().reverseDevicePoint([e.left+s,e.top+l+c],i,r),h=o.annot,f=o.editDebouncePromise=o.editDebouncePromise||new fe;f.push((function(){return o.getPDFPage().getCharInfoAtPoint(d,l/2/(0,H.F2)(i)).then((function(e){if(!e)return o.textBoundaryEnd(),u(),[!1];var n=h.getStartCharIndex(),i=e.charIndex;if(n>i)return u(),Promise.resolve([!1]);t=o.getBoundaryCss_(e,1);var r=0;return 1!=e.rotation&&3!=e.rotation||(r=t.height),A.css({left:t.left-r+Zc,top:t.top-t.height+Zc,height:t.height+Zc,transform:t.transform}),Promise.all([h.updateQuadPointsByCharIndex(n,i),e])})).then((function(e){var i=(0,E._)(e,2),r=i[0],a=i[1];if(r)return t&&(n=t),o.updateRender().then((function(){return o.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,o),o.textBoundaryEnd(),o.onRightChangeSuccess(a)}));u()}),(function(){u()}))})),f.exec()}})),this.rightHammer=c,a.append(A),this.addDestroyHook((function(){c.destroy()})),A}},{key:"textBoundaryStart",value:function(){}},{key:"textBoundaryEnd",value:function(){}},{key:"boundaryDisabled",value:function(){this.toggleBoundary(!1)}},{key:"boundaryEnabled",value:function(){this.toggleBoundary(!0)}},{key:"toggleBoundary",value:function(e){this.$leftTextBoundary&&(this.$leftTextBoundary.toggleClass("ban",!e),this.$rightTextBoundary.toggleClass("ban",!e),this.leftHammer.get("pan").set({enable:e}),this.rightHammer.get("pan").set({enable:e}))}},{key:"onStartUpdateShape",value:function(){this.pdfViewer.config.highPerformance&&this.annot.isArea()&&(this.editAreaDebouncePromise=new U.DebounceAsyncTaskExecutor(10))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.annot.isArea()&&this.editAreaDebouncePromise.exec((function(){return n.setRect(e)}))}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editAreaDebouncePromise?this.editAreaDebouncePromise.waitForLastTask().then((function(){return i.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(de.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))})):this.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(de.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))}},{key:"onLeftPanStart",value:function(e){}},{key:"onLeftPanMove",value:function(e){}},{key:"onLeftChangeSuccess",value:function(){this.updateCollabOp()}},{key:"onLeftPanEnd",value:function(e){}},{key:"onRightPanStart",value:function(e){}},{key:"onRightPanMove",value:function(e){}},{key:"updateCollabOp",value:function(e){}},{key:"onRightChangeSuccess",value:function(){return this.updateCollabOp(),Promise.resolve()}},{key:"onRightPanEnd",value:function(e){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{quadPoints:this.annot.getQuadPoints()})}},{key:"boundaryRemove",value:function(){this.$leftTextBoundary&&(this.$leftTextBoundary.remove(),this.$leftTextBoundary=null,this.leftHammer.destroy(),this.leftHammer=null),this.$rightTextBoundary&&(this.$rightTextBoundary.remove(),this.$rightTextBoundary=null,this.rightHammer.destroy(),this.rightHammer=null)}}],[{key:"getDefaultContextMenuConfig",value:function(){return Jc}}]),n}(bc);const tu=eu;var nu=function(){function e(t){(0,_._)(this,e),this.component=t,this.prepared=!1}return(0,P._)(e,[{key:"prepare",value:function(){this.prepared||(this.prepared=!0,this.doPrepare())}},{key:"doPrepare",value:function(){}},{key:"show",value:function(){this.prepared&&this.doShow()}},{key:"doShow",value:function(){}},{key:"hide",value:function(){this.prepared&&this.doHide()}},{key:"doHide",value:function(){}},{key:"destroy",value:function(){this.component=null,this.prepared=!1}},{key:"willRender",value:function(){}},{key:"afterRender",value:function(){}},{key:"render",value:function(e,t,n){return this.prepared||this.prepare(),this.doRender(e,t,n)}},{key:"doRender",value:function(e,t){return Promise.resolve()}},{key:"numberToRGBAString",value:function(e){var t=(0,U.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"invisibleRender",value:function(){}}]),e}(),iu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){return(0,_._)(this,n),t.call(this,e)}return(0,P._)(n,[{key:"prepare",value:function(){this.prepared||(this.canvas=document.createElement("canvas"),this.container=this.component.getContainerElement(),this.container.appendChild(this.canvas),(0,D._)((0,C._)(n.prototype),"prepare",this).call(this))}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.prepared&&this.canvas.remove()}},{key:"doShow",value:function(){this.canvas.classList.remove("fv__ui-hide")}},{key:"doHide",value:function(){this.canvas.classList.add("fv__ui-hide")}},{key:"convertPointToPixel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Pi.convertTo(e,Mi)*t}},{key:"willRender",value:function(){this.canvas.style.willChange="left, top, width, height",this.container.style.willChange="left; top"}},{key:"afterRender",value:function(){this.canvas.style.willChange="auto",this.container.style.willChange="auto"}},{key:"render",value:function(e,t){this.prepared||this.prepare();var n=this.component.getRenderingData(e,t);if(!n)return Promise.resolve();var i=n.annotInfo,r=i.borderInfo||{},o=this.convertPointToPixel(r.width,e),a=n.smartScale;!n.annotFlag.checkNoZoom()||(e=1);var A=n.rect,s=n.outerDeviceRect,c=n.innerDeviceRect;Object.assign(c,{width:c.right-c.left,height:c.bottom-c.top}),Object.assign(s,{width:s.right-s.left,height:s.bottom-s.top}),this.resetCanvasSize(s.width,s.height),this.container.style.cssText+="\n            left: ".concat(A.left,"px;\n            top: ").concat(A.top,"px;\n        ");var u=this.canvas.style;if(0===o&&0===i.borderColor&&!i.fillColor)return u.visibility="hidden",Promise.resolve();if(0===i.opacity)return u.visibility="hidden",Promise.resolve();u.visibility="unset";try{return Promise.resolve(this.doRender({outerRect:s,innerRect:c,deviceRect:A,scale:e,smartScale:a,rotate:t,renderingData:n}))}catch(e){return console.error(e),Promise.resolve()}}},{key:"doRender",value:function(e){e.outerRect,e.innerRect,e.deviceRect,e.scale,e.rotate}},{key:"resetCanvasSize",value:function(e,t){this.canvas.width=Math.ceil(e),this.canvas.height=Math.ceil(t),this.canvas.style.width=null,this.canvas.style.height=null}},{key:"invisibleRender",value:function(){this.canvas&&(this.canvas.width=0)}}]),n}(nu),ru=(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).lastRenderPromise=Promise.resolve(),i.lastX=0,i.lastY=0,i}(0,P._)(n,[{key:"resetCanvasSize",value:function(){}},{key:"closeTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n}},{key:"render",value:function(e,t){var i=this;this.prepared||this.prepare();var r=this.component,o=r.getRenderingData(e,t),a=(o.page,this.canvas.getContext("2d",{willReadFrequently:!0}));if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var A=this.canvas.getContext("2d");return A.clearRect(0,0,this.canvas.width,this.canvas.height),void A.save()}var s=(0,E._)(o.tileConfig,10),c=(s[0],s[1],s[2],s[3],s[4],s[5]),u=(s[6],s[7],s[8]),l=s[9],d=(o.rect,o.engineRenderingRect),h=o.outerDeviceRect,f=h.right-h.left,p=h.bottom-h.top,g=d.right-d.left,v=d.bottom-d.top;if((!this.closeTo(d.left,this.lastX)||!this.closeTo(d.top,this.lastY))&&this.canvas.width){var m=d.left-this.lastX,y=d.top-this.lastY,b=a.getImageData(0,0,this.canvas.width,this.canvas.height);(0,D._)((0,C._)(n.prototype),"resetCanvasSize",this).call(this,g,v),this.canvas.style.cssText+="width: ".concat(f,"px;height: ").concat(p,"px;"),this.container.style.cssText+="\n                left: ".concat(h.left,"px;\n                top: ").concat(h.top,"px;\n            "),a.putImageData(b,-m,-y)}return this.lastX=d.left,this.lastY=d.top,r.getPDFPage().getPageAndHighlightBitmap((0,H.F2)(c),t,{x:Math.ceil(u*c),y:Math.ceil(l*c),width:g,height:v}).then((function(e){var t=e.buffer,r=e.width,o=e.height,A=e.image;if(A){var s=new Image;s.onload=function(){a.drawImage(s,0,0,r,o),URL.revokeObjectURL(s.src)},s.src=URL.createObjectURL(A)}else{var c=new(Uint8ClampedArray||Uint8Array)(t),u=a.createImageData(r,o);u.data.set(c),(0,D._)((0,C._)(n.prototype),"resetCanvasSize",i).call(i,r,o),i.container.style.cssText+="\n                    left: ".concat(h.left,"px;\n                    top: ").concat(h.top,"px;\n                "),i.canvas.style.cssText+="width: ".concat(f,"px;height: ").concat(p,"px;"),a.putImageData(u,0,0)}}))}}])}(iu),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"convertToCanvasBasedPoint",value:function(e,t,n,i,r,o){var a=(0,E._)(r.getDevicePoint([e,t],i,o),2),A=a[0],s=a[1];return{x:A-n.left,y:s-n.top}}},{key:"doRender",value:function(e){var t=this,n=e.scale,i=e.renderingData,r=e.rotate,o=i.page,a=i.annotInfo,A=a.startCharInfo,s=a.endCharInfo,c=i.quadPoints,u=i.outerDeviceRect;if(!A){var l=c[0];A={left:l[0].x,top:l[0].y,right:l[1].x,bottom:l[2].y}}if(!s){var d=c[c.length-1];s={left:d[0].x,top:d[0].y,right:d[1].x,bottom:d[2].y}}var h=c.map((function(e,i){var a,A,s,c,l=e.map((function(e){return t.convertToCanvasBasedPoint(e.x,e.y,u,n,o,r)})),d=l.map((function(e){return e.x})),h=l.map((function(e){return e.y})),f=(a=Math).min.apply(a,(0,R._)(d)),p=(A=Math).max.apply(A,(0,R._)(d)),g=(s=Math).max.apply(s,(0,R._)(h)),v=(c=Math).min.apply(c,(0,R._)(h));return{left:f,right:p,bottom:g,top:v,width:p-f,height:g-v,textBlockHeight:g-v}}));e.quadRects=h}}]),n}(iu)),ou=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).lastX=0,i.lastY=0,i}return(0,P._)(n,[{key:"prepare",value:function(){(0,D._)((0,C._)(n.prototype),"prepare",this).call(this),U.isChrome||U.isFirefox||U.isSafari||U.isChromiumEdge||(this.canvas.style.cssText+='\n            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n            -ms-filter: alpha(opacity=50);\n            filter: alpha(opacity=50);\n            -moz-opacity: 0.5;\n            -khtml-opacity: 0.5;\n            opacity: 0.5;\n        ')}},{key:"doRender",value:function(e){e.smartScale,e.scale,this.component;var t=e.renderingData,i=t.annotInfo;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var r=this.canvas.getContext("2d");return r.clearRect(0,0,this.canvas.width,this.canvas.height),void r.save()}if(0!=i.hasBorderColor){var o=this.canvas.getContext("2d"),a=t.outerDeviceRect,A=a.right-a.left,s=a.bottom-a.top;if(this.container.style.cssText+="\n                left: ".concat(a.left,"px;\n                top: ").concat(a.top,"px;\n            "),this.canvas.style.cssText+="width: ".concat(A,"px;height: ").concat(s,"px;"),o.save(),o.fillStyle=this.numberToRGBAString(i.color),o.globalAlpha=t.opacity,t.isArea)o.fillRect(0,0,this.canvas.width,this.canvas.height);else(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e),e.quadRects.forEach((function(e){o.fillRect(e.left,e.top,e.width,e.textBlockHeight)}));o.restore()}}}]),n}(ru),au=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="highlight",a.$ui.addClass("fv__pdf-page-highlight-annot-container"),a.$handler.addClass("fv__pdf-page-highlight-annot-handler-container"),a}return(0,P._)(n,[{key:"onShapeUpdating",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,D._)((0,C._)(n.prototype),"onShapeUpdating",this).call(this,e)}},{key:"onShapeMoving",value:function(e){if(this.checkRenderingModeIs("canvas"))return(0,D._)((0,C._)(n.prototype),"onShapeMoving",this).call(this,e)}},{key:"updateRender",value:function(){return this.redraw()}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.highlight===e}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{isArea:this.annot.isArea()})}}]),n}(tu);const Au=au;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){var t=this;(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e);var i=e.renderingData,r=i.annotInfo,o=i.rotate,a=e.quadRects,A=this.canvas.getContext("2d");A.clearRect(0,0,this.canvas.width,this.canvas.height),A.save(),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()||(A.globalAlpha=r.opacity,a.forEach((function(e){A.beginPath();var n=90==o||270==o?.12568*e.width:.12568*e.height;0===n||!1===r.hasBorderColor?A.strokeStyle="transparent":A.strokeStyle=t.numberToRGBAString(r.color),A.lineWidth=Math.max(1,n);var i=e.left,a=e.right,s=e.top+e.textBlockHeight/2;switch(o){case 90:A.moveTo(a-e.width/2,0),A.lineTo(a-e.width/2,e.textBlockHeight);break;case 180:A.moveTo(e.right,e.top+e.height/2),A.lineTo(e.left,e.top+e.height/2);break;case 270:A.moveTo(a-e.width/2,e.bottom),A.lineTo(a-e.width/2,e.bottom-e.textBlockHeight);break;default:A.moveTo(i,s),A.lineTo(a,s)}A.stroke()})),A.restore())}}])}(ru);var su=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="strikeout",a.$ui.addClass("fv__pdf-page-strikeout-annot-container"),a.$handler.addClass("fv__pdf-page-strikeout-annot-handler-container"),a}return(0,P._)(n,[{key:"updateRender",value:function(){var e=this.annot,t=[],n=[],i=this.parent("annotsRender");if(e.isGrouped())for(var r=e.getGroupElements(),o=r.length;o--;){var a=r[o];n[o]=i.getAnnotRender(a.getId()).component,t[o]=a.update()}else n=[this],t=[e.update()];return Promise.all(t).then((function(){for(var e=[],t=n.length;t--;)e[t]=n[t].render();return Promise.all(e)}))}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.strikeout===e}}]),n}(tu);const cu=su;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e);var t=e.renderingData,i=t.annotInfo,r=t.rotate,o=e.quadRects,a=this.canvas.getContext("2d");(a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent())||(a.globalAlpha=i.opacity,0===Math.max(1,.12568*o[0].height)||!1===i.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(i.color),o.forEach((function(e){a.beginPath();var t=e.left,n=e.right,i=90==r||270==r?.22568*o[0].width:.12568*o[0].height,A=e.top+e.textBlockHeight-i/2;switch(r){case 90:a.moveTo(t+i/2,e.bottom),a.lineTo(t+i/2,e.top);break;case 180:a.moveTo(e.right,e.top+i/2),a.lineTo(e.left,e.top+i/2);break;case 270:a.moveTo(n,e.bottom),a.lineTo(n,e.bottom-e.textBlockHeight);break;default:a.moveTo(t,A),a.lineTo(n,A)}a.lineWidth=i,a.stroke()})),a.restore())}}])}(ru);var uu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="Underline",a.$ui.addClass("fv__pdf-page-Underline-annot-container"),a.$handler.addClass("fv__pdf-page-Underline-annot-handler-container"),a}return(0,P._)(n,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.underline===e}}]),n}(tu);const lu=uu;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e);var t=this.component.annot.info,i=e.renderingData.page.getRotationAngle(),r=e.renderingData.rotate+i,o=e.quadRects,a=this.canvas.getContext("2d");if(a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){a.globalAlpha=t.opacity;var A=this.numberToRGBAString(t.color);o.forEach((function(e){var n=r;switch(r){case 0:case 180:2*e.width<e.height&&(n+=90);break;case 90:case 270:2*e.height<e.width&&(n+=90)}var i=90==(n%=360)||270==n?o[0].width:o[0].height;0===i||!1===t.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=A,a.lineWidth=Math.max(1,.12568*i),a.beginPath();var s=0,c=0,u=0,l=0;switch(n){case 90:s=.2504*e.width,c=Math.ceil(e.height/s),u=e.right-s,l=e.right,a.moveTo(e.left,e.bottom);for(var d=1;d<=c;d++){var h=d%2==0?0:s;a.lineTo(e.left+h,e.bottom-d*s)}break;case 180:s=.2504*e.height,c=Math.ceil(e.width/s),u=e.bottom-s,l=e.bottom,a.moveTo(e.left,e.top);for(var f=1;f<=c;f++){var p=f%2==0?0:s;a.lineTo(e.left+f*s,e.top+p)}break;case 270:s=.2504*e.width,c=Math.ceil(e.height/s),u=e.right-s,l=e.right,a.moveTo(e.right,e.bottom);for(var g=1;g<=c;g++){var v=g%2==0?0:s,m=e.bottom-g*s;m=m<=0?0:m,a.lineTo(e.right-v,m)}break;default:s=.2504*e.height,c=Math.ceil(e.width/s),u=e.bottom-s,l=e.bottom,a.moveTo(e.left,u);for(var y=1;y<=c;y++)a.lineTo(e.left+y*s,y%2==0?u:l)}a.stroke()})),a.restore()}}}])}(ru);var du=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="strikeout",a.$ui.addClass("fv__pdf-page-squiggly-annot-container"),a.$handler.addClass("fv__pdf-page-squiggly-annot-handler-container"),a}return(0,P._)(n,[{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.squiggly===e}}]),n}(tu);const hu=du;var fu,pu=n(1160),gu=n.n(pu),vu=function(){function e(t,n){(0,_._)(this,e),this.x=t,this.y=n}return(0,P._)(e,[{key:"add",value:function(t,n){return new e(this.x+t,this.y+n)}},{key:"addp",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtractp",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"subtract",value:function(t,n){return new e(this.x-t,this.y-n)}},{key:"move",value:function(t,n){var i=n.x-this.x,r=n.y-this.y,o=t/Math.sqrt(i*i+r*r);return new e(this.x+i*o,this.y+r*o)}},{key:"rotate",value:function(t,n){var i=this.x-n.x,r=this.y-n.y,o=Math.sqrt(i*i+r*r),a=Math.atan2(r,i)-t,A=o*Math.cos(a),s=o*Math.sin(a);return new e(n.x+A,n.y+s)}},{key:"distanceTo",value:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)}},{key:"slope",value:function(e){var t=this._dot(e);return Math.acos(t/(this._disp()*e._disp()))}},{key:"_dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"_disp",value:function(){return Math.sqrt(this._dot(this))}},{key:"equalTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n=Math.abs(n),(0,I._)(t,e)&&Math.abs(this.x-t.x)<=n&&Math.abs(this.y-t.y)<=n}},{key:"clone",value:function(){return new e(this.x,this.y)}}]),e}(),mu=4.396,yu=function(){function e(t){(0,_._)(this,e),this.component=t}return(0,P._)(e,[{key:"numberToRGBAString",value:function(e){if("string"==typeof e)return e;var t=(0,U.convertFromNumberToRGBA)(e);return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}},{key:"renderLineEnd",value:function(e,t,n,i,r,o){if(0!==i){var a=n.renderingData,A=a.fillColor;"line"===a.annotInfo.type&&(A=a.annotInfo.styleFillColor);var s=n.scale,c=Math.atan2(o.y-r.y,o.x-r.x);switch(e.save(),e.lineJoin="miter",e.beginPath(),i){case ke.Square:this.renderSquareEnding(e,o,c,s,t);break;case ke.Circle:this.renderCircleEnding(e,o,c,s,t);break;case ke.Diamond:this.renderDiamondEnding(e,o,c,s,t);break;case ke.OpenArrow:o=o.move(t/2,r),this.renderOpenArrowEnding(e,o,c,s,t);break;case ke.ClosedArrow:o=o.move(t/2,r),this.renderClosedArrowEnding(e,o,c,s,t);break;case ke.Butt:this.renderButtEnding(e,o,c,s,t);break;case ke.ROpenArrow:this.renderROpenArrowEnding(e,o,c,s,t);break;case ke.RClosedArrow:this.renderRClosedArrowEnding(e,o,c,s,t);break;case ke.Slash:this.renderSlashEnding(e,o,c,s,t)}switch(i){case ke.ClosedArrow:case ke.RClosedArrow:case ke.Diamond:case ke.Square:case ke.Circle:A&&(e.fillStyle=this.numberToRGBAString(A),e.fill())}e.stroke(),e.restore()}}},{key:"renderSquareEnding",value:function(e,t,n,i,r){var o=mu*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderCircleEnding",value:function(e,t,n,i,r){var o=1.75862*i+2*r;e.translate(t.x,t.y),e.rotate(n),e.moveTo(o,0),e.arc(0,0,o,0,2*Math.PI)}},{key:"renderDiamondEnding",value:function(e,t,n,i,r){var o=mu*i+3.1*r,a=o/2;e.translate(t.x,t.y),e.rotate(n+Math.PI/4),e.moveTo(-a,-a),e.rect(-a,-a,o,o)}},{key:"renderOpenArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderClosedArrowEnding",value:function(e,t,n,i,r){var o=30/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderButtEnding",value:function(e,t,n,i,r){var o=Math.PI/2,a=mu*i+3.1*r,A=new vu(t.x+a/2,t.y).rotate(Math.PI-n+o,t),s=A.rotate(Math.PI,t);e.moveTo(A.x,A.y),e.lineTo(s.x,s.y)}},{key:"renderROpenArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!1)}},{key:"renderRClosedArrowEnding",value:function(e,t,n,i,r){var o=150/180*Math.PI;this.renderArrow(e,t,n,i,r,o,!0)}},{key:"renderArrow",value:function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],A=mu*i+3.1*r,s=new vu(t.x+A,t.y),c=s.rotate(Math.PI-n+o,t),u=s.rotate(Math.PI-n-o,t);e.moveTo(c.x,c.y),e.lineTo(t.x,t.y),e.lineTo(u.x,u.y),a&&e.closePath()}},{key:"renderSlashEnding",value:function(e,t,n,i,r){var o=60/180*Math.PI,a=mu*i+3.1*r,A=new vu(t.x+a/2,t.y).rotate(Math.PI-n+o,t),s=A.rotate(Math.PI,t);e.moveTo(A.x,A.y),e.lineTo(s.x,s.y)}}]),e}(),bu=function(e){var t=e.getIoC().getInstanceByClass(Ji).getMeasurementInfo();return t.markup&&t.caption?t.caption+"\n":""},wu=function(e,t,n){var i=e.getRenderingData(t,n);!i.annotFlag.checkNoZoom()||(t=1);var r=i.outerDeviceRect,o=i.innerDeviceRect;return Object.assign(o,{width:o.right-o.left,height:o.bottom-o.top}),Object.assign(r,{width:r.right-r.left,height:r.bottom-r.top}),{renderingData:i,innerRect:o,outerRect:r,scale:t,rotate:n}},ku=function(e,t){var n=e.canvas,i=n.width,r=n.height,o=t.x,a=t.y;o-=4,a-=4,(o=Math.max(o,2))+8>i&&(o=i-8-2),(a=Math.max(a,2))+8>r&&(a=r-8-2),e.rotate(0),e.fillStyle="#ffffff",e.rect(o,a,8,8),e.stroke(),e.fill()},xu=Math.log(2),_u=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).helper=new yu(e),i}return(0,P._)(n,[{key:"doRender",value:function(e){var t=this,n=e.renderingData,i=n.page,r=n.annotInfo,o=r.borderInfo||{},a=e.scale,A=e.rotate,s=this.convertPointToPixel(o.width,a);if(0!=s||-1!=r.borderColor||r.fillColor){var c=this.canvas.getContext("2d");if(c.clearRect(0,0,this.canvas.width,this.canvas.height),c.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=s,c.globalAlpha=r.opacity,c.lineWidth=s,0===s||!1===r.hasBorderColor?c.strokeStyle="transparent":c.strokeStyle=this.numberToRGBAString(r.color);var u=e.outerRect,l=this.convertToPathPoint(n.startPoint,a,u,i,A),d=this.convertToPathPoint(n.endPoint,a,u,i,A),h=n.leaderLinePoints,f=this.convertToPathPoint(h.start,a,u,i,A),p=this.convertToPathPoint(h.end,a,u,i,A);if(n.leaderLineOffset>0){var g=n.annotInfo.leaderLineLength>0?1:-1,v=this.convertPointToPixel(n.leaderLineOffset,a),m=l.move(v,d).rotate(g*Math.PI/2,l);d=d.move(v,l).rotate(g*-Math.PI/2,d),l=m,m=f.move(v,p).rotate(g*Math.PI/2,f),p=p.move(v,f).rotate(g*-Math.PI/2,p),f=m}var y=n.captionOffset,b=new vu(this.convertPointToPixel(y.x,a),-this.convertPointToPixel(y.y,a)),w=this.convertPointToPixel(n.leaderLineExtend,a);try{if(o.style===me.DASHED){var k=o.dashes||[],x=o.dashPhase||0;c.setLineDash&&c.setLineDash(k.map((function(e){return t.convertPointToPixel(e,a)}))),c.lineDashOffset=this.convertPointToPixel(x,a)}c.beginPath(),this.renderLine(c,l,d,f,p,w),c.closePath(),c.stroke(),this.helper.renderLineEnd(c,s,e,n.startStyle,p,f),this.helper.renderLineEnd(c,s,e,n.endingStyle,f,p),this.renderLineCaption(c,e,s,f,p,b)}finally{c.restore()}}}}},{key:"convertToPathPoint",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=(0,E._)(i.getDevicePoint([e.x,e.y],t,r),2),a=o[0],A=o[1];return new vu(a-n.left,A-n.top)}},{key:"renderLine",value:function(e,t,n,i,r,o){if(e.moveTo(i.x,i.y),e.lineTo(r.x,r.y),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.moveTo(n.x,n.y),e.lineTo(r.x,r.y),o>0){var a=i.move(-o,t),A=r.move(-o,n);e.moveTo(i.x,i.y),e.lineTo(a.x,a.y),e.moveTo(r.x,r.y),e.lineTo(A.x,A.y),e.moveTo(A.x,A.y)}}},{key:"renderLineCaption",value:function(e,t,n,i,r,o){var a=t.renderingData,A=t.scale,s=a.annotInfo,c=s.content;if("string"==typeof c&&!((c=c.trim()).length<1)){if(r.x<i.x){var u=i;i=r,r=u}var l,d,h=Math.atan2(r.y-i.y,r.x-i.x),f=i.distanceTo(r),p=i.move(.5*f,r),g=16*(l=A+1,Math.log(l)/xu),v=16777215-(16777215&s.borderColor^10855845);e.save(),e.fillStyle=this.numberToRGBAString(v),e.font=g+"px bold Arial",e.textBaseline="middle",e.textAlign="center";var m=e.measureText(c),y=m.actualBoundingBoxAscent+m.actualBoundingBoxDescent,b=p.move(o.y,i).rotate(Math.PI/2,p),w=Math.PI/2;switch(w=o.y>0?-Math.PI/2:Math.PI/2,a.captionPos){case xe.POS_INLINE:if(0!=o.y&&0!=o.x){d=b.move(o.x,p).rotate(w,b);break}d=b;break;case xe.POS_TOP:var k=p.move(.5*(n+y)-o.y,r).rotate(Math.PI/2,p);d=0!=o.x?k.move(o.x,p).rotate(w,b):k}if(a.hasCaption&&(e.translate(d.x,d.y),e.rotate(h),e.fillText(c,0,0),e.restore()),e.beginPath(),!(Math.abs(o.x)<f/2+m.width/2&&Math.abs(o.y)<y)){var x=o.x>0?-1:1,_=o.x+x*m.width/2;if(Math.abs(o.x)<=m.width/2){_=0;var P=y/2+4,D=o.y>0?1:-1,C=0;Math.abs(o.y)>y&&(C=o.y-D*P),b=p.move(C,i).rotate(Math.PI/2,p)}var S=b.move(_,p).rotate(w,b),I=S.move(Math.abs(_)+n/2,b);e.moveTo(p.x,p.y),e.lineTo(b.x,b.y),e.moveTo(I.x,I.y),e.lineTo(S.x,S.y),e.moveTo(S.x,S.y),e.closePath(),e.stroke()}}}},{key:"setMarkUp",value:function(e,t){var n=wu(this.component,e,t),i=n.renderingData,r=n.outerRect;e=n.scale,t=n.rotate;var o=i.page,a=i.annotInfo,A=a.borderInfo||{},s=this.convertPointToPixel(A.width,e),c=this.canvas.getContext("2d");c.clearRect(0,0,this.canvas.width,this.canvas.height),c.save(),c.lineWidth=s,c.strokeStyle=this.numberToRGBAString(a.color);var u=this.convertToPathPoint(i.startPoint,e,r,o,t),l=this.convertToPathPoint(i.endPoint,e,r,o,t),d=i.leaderLinePoints,h=this.convertToPathPoint(d.start,e,r,o,t),f=this.convertToPathPoint(d.end,e,r,o,t);if(i.leaderLineOffset>0){var p=i.annotInfo.leaderLineLength>0?1:-1,g=this.convertPointToPixel(i.leaderLineOffset,e),v=u.move(g,l).rotate(p*Math.PI/2,u);l=l.move(g,u).rotate(p*-Math.PI/2,l),u=v,v=h.move(g,f).rotate(p*Math.PI/2,h),f=f.move(g,h).rotate(p*-Math.PI/2,f),h=v}var m=this.convertPointToPixel(i.leaderLineExtend,e);c.beginPath(),this.renderLine(c,u,l,h,f,m),c.closePath(),ku(c,u),ku(c,l)}}]),n}(iu);n(6115);!function(e){e.EndPoint="end-point",e.MidPoint="mid-point",e.IntersectionPoint="intersection-point",e.NearestPoint="nearest-point"}(fu||(fu={}));var Pu=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.arc(n/2,n/2,2*Math.PI,0,360),e.stroke()}}]),e}(),Du=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(n/2,0),e.lineTo(0,n),e.lineTo(n,n),e.closePath(),e.stroke()}}]),e}(),Cu=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.rect(0,0,n,n),e.stroke()}}]),e}(),Su=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"render",value:function(e){var t=e.canvas,n=t.width;t.height=t.height,e.clearRect(0,0,n,n),e.strokeStyle="red",e.moveTo(0,0),e.lineTo(n,n),e.moveTo(0,n),e.lineTo(n,0),e.stroke()}}]),e}(),Iu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"container",void 0),(0,X._)((0,k._)(i),"canvas",void 0),(0,X._)((0,k._)(i),"size",void 0),(0,X._)((0,k._)(i),"renderer",void 0),i.container=e,i.size=16,i.renderer=new Pu,i.canvas=document.createElement("canvas"),i.canvas.classList.add("fv__viewer-snapped-point"),i.addDestroyHook((function(){i.canvas.parentElement===i.container&&i.container.removeChild(i.canvas)})),i.canvas.width=i.size,i.canvas.height=i.size,i}return(0,P._)(n,[{key:"setRenderer",value:function(e){this.renderer=new e,this.redraw()}},{key:"setSize",value:function(e){this.size=e,this.canvas.width=e,this.canvas.height=e,this.redraw()}},{key:"setPosition",value:function(e,t){(0,U.cssText)(this.canvas,{left:e+"px",top:t+"px",margin:"".concat(.5*-this.size,"px ").concat(.5*-this.size,"px")})}},{key:"show",value:function(e){switch(this.container.appendChild(this.canvas),e){case fu.MidPoint:this.setRenderer(Du);break;case fu.IntersectionPoint:this.setRenderer(Su);break;case fu.NearestPoint:this.setRenderer(Cu);break;default:this.setRenderer(Pu)}}},{key:"hide",value:function(){this.canvas.parentElement===this.container&&this.container.removeChild(this.canvas)}},{key:"redraw",value:function(){if(this.renderer){var e=this.canvas.getContext("2d");e&&this.renderer.render(e)}}}]),n}(U.Disposable),Eu="px",Ru=Math.log(2),Tu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="line",U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new qc({emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating&&a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,onStatusChange:function(){a.updateHandlerPointStatus()},auxiliaryLine:void 0});return a.processShapeControlPermissionCtrl(e),e})),a}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.activeMore();var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}},{key:"movedByOther",value:function(){if(this.isActive){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin(),this.updateHandlerPosition()}}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),U.Lazy.isPropertyIntialized(this,"shapeControl")&&this.shapeControl.deactive()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect(),this.activeMore();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin(),this.updateHandlerPosition()}}},{key:"activeMore",value:function(){this.$handler.addClass("fv__annot-line-container");var e=2;0!==this.annot.getLeaderLineLength()&&(e=4),this.hammerInited=this.hammerInited||this.initHammer(e)}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.moveTo(e.left,e.top,n).then((function(t){return i._setRect(e,!1)})).then((function(e){return i._applyShapeChange()}))})):Promise.resolve()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),hasCap:e.hasCaption(),fillColor:r,isLocked:a,disabled:o,borderStyle:!0}}},{key:"redraw",value:function(e){var t=this;return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e).then((function(){"line"==t.name&&t.annot.calculateLeaderLine(),t.updateHandlerPosition(),t.setMargin()}))}},{key:"updateRender",value:function(){return this.redraw()}},{key:"initHammer",value:function(e){var t=this,n=this.$handler,i=gu()({anchorCount:e,isLineDimension:this.annot.getIntent()==be.LINE_DIMENSION,captionText:this.annot.getContent()}),r=N()(i);n.append(r);var o=this.annot.getType(),a=n.find(".fv__pdf-annot-line-point"),A=function(){return t.moveDisabled()};return this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,(function(e){A=function(){return e.ignorable()?t.moveDisabled():!e.isAdjustable()}}))),a.each((function(e,i){var r,s,c=function(t,n){if("line"!==o||!U.keyboardStatus.isShift)return[t,n];var i=a.eq(1^e),A=parseFloat(i.css("left")),s=parseFloat(i.css("top")),c=r.x+t,u=r.y+n,l=Math.sqrt(Math.pow(c-A,2)+Math.pow(u-s,2)),d=Math.atan2(u-s,c-A),h=.25*Math.PI,f=Math.round(d/h)*h,p=l*Math.cos(f),g=s+l*Math.sin(f);return[A+p-r.x,g-r.y]},u=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});t.addDestroyHook((function(){u.destroy()}));var l,d=!1;u.on("panstart",(function(e){A()?d=!1:(d=!0,"fv__pdf-annot-line-point-item"==(s=N()(e.target)).attr("class")&&(s=s.parent()),r={x:parseFloat(s.css("left")),y:parseFloat(s.css("top"))},t.backupProperty(i),t.boundaryChangeStart(e),t.snappedPointAssistant=new Iu(n.get(0)))})).on("panmove",(function(n){if(d){var i=(0,E._)(c(n.deltaX,n.deltaY),2),o=i[0],a=i[1];if(t.pdfViewer.config.highPerformance)t.updatePoint(o,a,e);else if(s.css({left:r.x+o+Eu,top:r.y+a+Eu}),t.annot.getIntent()!==be.LINE_DIMENSION||![2,3].includes(e)){var A={x:r.x+o,y:r.y+a};t.getSnappedPoint(A).then((function(e){(0,U.isSamePoint)(A,e)?(t.snappedPointAssistant.hide(),l=null):(t.snappedPointAssistant.show(e.type),t.snappedPointAssistant.setPosition(e.x,e.y),l=e)}))}}})).on("panend",(function(n){if(d){t.snappedPointAssistant&&(t.snappedPointAssistant.destroy(),t.snappedPointAssistant=null);var i=(0,E._)(c(n.deltaX,n.deltaY),2),o=i[0],a=i[1];l&&(o=l.x-r.x,a=l.y-r.y,s.css({left:r.x+o+Eu,top:r.y+a+Eu}),l=null),t.updatePoint(o,a,e).then((function(e){t.boundaryChangeEnd(n)}))}}))})),this.captionHammerHandler(),!0}},{key:"updateCollabPoint",value:function(e,t,n){if(!(n>1)&&this.pdfViewer.customs.isCollaborationMode()){var i=(0,E._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.annot.getStartPoint()),A=Object.assign({},this.annot.getEndPoint());0==n?a={x:a.x+r,y:a.y+o}:1==n&&(A={x:A.x+r,y:A.y+o}),this.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,this,{points:[a,A],rect:{left:Math.min(a.x-2,A.x-2),right:Math.max(a.x+2,A.x+2),top:Math.max(a.y+2,A.y+2),bottom:Math.min(a.y-2,A.y-2)}})}}},{key:"captionHammerHandler",value:function(){var e=this,t=function(){return e.moveDisabled()};this.addDestroyHook(this.pdfViewer.getAnnotAuthorityManager().subscribe(this.annot,(function(n){t=function(){return n.ignorable()?e.moveDisabled():!n.isAdjustable()}})));var n=this.$handler.find(".fv__pdf-annot-line-caption");if(n[0]){var i=new Hammer.Manager(n[0],{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});this.addDestroyHook((function(){i.destroy()}));var r,o,a=!1;i.on("panstart",(function(n){t()?a=!1:(a=!0,o=N()(n.target),r={x:parseFloat(o.css("left")),y:parseFloat(o.css("top"))},o.css("border","1px solid #5aa"),e.boundaryChangeStart(n))})).on("panmove",(function(t){a&&(e.pdfViewer.config.highPerformance?e.updatePoint(t.deltaX,t.deltaY,4):o.css({left:r.x+t.deltaX+Eu,top:r.y+t.deltaY+Eu}))})).on("panend",(function(t){a&&(N()(t.target).css("border","none"),e.updatePoint(t.deltaX,t.deltaY,4).then((function(n){e.boundaryChangeEnd(t)})))}))}}},{key:"boundaryChangeStart",value:function(e){}},{key:"boundaryChangeEnd",value:function(e){}},{key:"updateHandlerPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$handler,n=this.scale,i=this.rotate,r=[],o=this.annot.getStartPoint();r.push(this.annot.page.getDevicePoint([o.x,o.y],n,i));var a=this.annot.getEndPoint();if(r.push(this.annot.page.getDevicePoint([a.x,a.y],n,i)),0!=this.annot.getLeaderLineLength()){e&&this.annot.calculateLeaderLine();var A=this.annot.getLeaderLinePoints();r.push(this.annot.page.getDevicePoint([A.start.x,A.start.y],n,i)),r.push(this.annot.page.getDevicePoint([A.end.x,A.end.y],n,i))}for(var s=t.get(0).querySelectorAll("[data-index]"),c=0;c<r.length;c++){var u=s[c];u&&(u.style.cssText+="\n                left: ".concat(r[c][0],"px;\n                top: ").concat(r[c][1],"px;\n            "))}this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){if(this.annot.hasCaption()){var e=this.$handler.find(".fv__pdf-annot-line-caption"),t=this.scale,n=this.rotate,i=e.width(),r=e.height(),o=this.annot.getLeaderLinePoints(),a=o.start,A=o.end,s=this.annot.getCaptionPoint(),c=this.annot.page.getDevicePoint([s.x,s.y],t,n),u=c[0]-i/2,l=c[1]-r/2,d=-Math.atan2(A.y-a.y,A.x-a.x)*(180/Math.PI),h=16*(f=t+1,Math.log(f)/Ru);e.css({left:"".concat(u).concat(Eu),top:"".concat(l).concat(Eu),transform:"rotate(".concat(d,"deg)"),"font-size":"".concat(h).concat(Eu)})}var f}},{key:"updateHandlerPointStatus",value:function(){if(this.$handler){var e=this.$handler.get(0).querySelectorAll("[data-index]");if(e){var t=this.shapeControl.isDisabled;e.forEach((function(e){e.style.display=t?"none":"block"}))}}}},{key:"moved",value:function(){(0,D._)((0,C._)(n.prototype),"moved",this).call(this),this.updateHandlerPosition(),this.setMargin()}},{key:"setContent",value:function(e){return e===this.annot.getContent()?Promise.resolve(!0):this.annot.setContent(e)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.annot.update().then((function(e){return!0})):e})).then((function(e){return e?t.updateRender().then((function(){var n=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,t.getBoundary(),n),t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setFillColor",value:function(e){var t=this,n=this.annot.setStyleFillColor;return n||(n=this.annot.setFillColor),n.call(this.annot,e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setEndingStyle(e,t).then((function(){var e=n._getShapeControllerBoundaryBox();n.shapeControl.active(n.$handler,n.getBoundary(),e),n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)}))}},{key:"setMeasureUnit",value:function(e){var t=this;return(0,I._)(e,mi)&&(e=e.name),this.annot.setMeasureUnit(e).then((function(){return t.updateRender()})).then((function(){t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t)}))}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?ki.name:r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?ki.name:s;return(0,I._)(o,mi)&&(o=o.name),(0,I._)(c,mi)&&(c=c.name),this.annot.setMeasureRatio({userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.updateRender()})).then((function(){e.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,e)}))}},{key:"getMeasureRatio",value:function(){var e=this.annot.info.measureRatio,t=(0,E._)(/(\d+(\.\d+)?)(?:\s+)(\w+)(?:\s+\=\s+)(\d+(\.\d+)?)(?:\s+)(\w+)/.exec(e),7),n=t[1],i=t[3],r=t[4],o=t[6];return{userSpaceValue:Number(n),userSpaceUnit:i,realValue:Number(r),realUnit:o}}},{key:"enableCaption",value:function(e){var t=this;return this.annot.enableCaption(e).then((function(){return t.redraw().then((function(){t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t)}))}))}},{key:"hasCaption",value:function(){return this.annot.hasCaption()}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender()})).then((function(){n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)}))}},{key:"backupProperty",value:function(e){switch(e?N()(e).data("index"):""){default:return this.oldRect=Object.assign({},this.annot.getRect());case 1:return this.oldEndPoint=Object.assign({},this.annot.getEndPoint());case 0:return this.oldStartPoint=Object.assign({},this.annot.getStartPoint());case 3:case 2:return this.oldLeaderEndPoint=Object.assign({},this.annot.leaderEndPoint)}}},{key:"updateLeaderLineLength",value:function(e,t,n){var i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb,A=this.annot.k;n&&(i=this.oldLeaderEndPoint,r=this.annot.getEndPoint(),o=this.annot.getStartPoint(),a=this.annot.Eb);var s,c,u=i.x+e,l=i.y+t,d=!0;if((r.x-o.x)*(l-r.y)-(u-r.x)*(r.y-o.y)>0&&(d=!1),isFinite(A)){var h=(A*(l-a)+u)/(A*A+1),f={x:h,y:A*h+a};s=f.x-r.x,c=f.y-r.y}else s=0,c=l-r.y;var p=Math.sqrt(s*s+c*c);return d&&(p=-p),this.annot.setLeaderLineLength(p)}},{key:"updatePoint",value:function(e,t,n){var i,r=this,o=(0,E._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),a=o[0],A=o[1];switch(n){case 1:i=this.annot.setEndPoint({x:this.oldEndPoint.x+a,y:this.oldEndPoint.y+A});break;case 0:i=this.annot.setStartPoint({x:this.oldStartPoint.x+a,y:this.oldStartPoint.y+A});break;case 2:i=this.updateLeaderLineLength(a,A,!1);break;case 3:i=this.updateLeaderLineLength(a,A,!0);break;case 4:i=this.updateCaptionOffset(a,A)}return i.then((function(){var e=r._getShapeControllerBoundaryBox();r.shapeControl.active(r.$handler,r.getBoundary(),e),r.updateHandlerPosition(),r.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,r)}))}},{key:"updateCaptionOffset",value:function(e,t){var n=this.annot,i=n.getCaptionPoint(),r=n.getLeaderLinePoints(),o=r.start,a=r.end,A=new vu(o.x,o.y),s=new vu(a.x,a.y),c=n.getLeaderLineOffset();if(c>0){var u=A.move(c,s),l=s.move(c,A);A=u.rotate(-Math.PI/2,A),s=l.rotate(Math.PI/2,s)}var d,h,f=A.distanceTo(s),p=A.move(f/2,s),g=i.x+e,v=i.y+t,m=v-p.y,y=g-p.x,b=Math.sqrt(Math.pow(y,2)+Math.pow(m,2)),w=this.annot.k;if(isFinite(w)){var k=v-w*g,x=1,_=1,P=-1/w;if(isFinite(P)){var D=P*g+(A.y-P*A.x)<=v,C=w*g+(p.y-w*p.x)<=v;A.x<=s.x?(_=D?1:-1,x=P>0?C?1:-1:C?-1:1):(_=D?-1:1,x=P>0?C?-1:1:C?1:-1)}else A.y>=s.y?(x=m>0?-1:1,_=y>0?1:-1):(x=m>0?1:-1,_=y>0?-1:1);d=x*Math.abs(w*p.x-p.y+k)/Math.sqrt(Math.pow(w,2)+1),h=_*Math.sqrt(Math.pow(b,2)-Math.pow(d,2))}else{var S=A.x>s.x?-1:1;d=S*y,h=S*m}return n.setCaptionOffset(d,h)}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.annot;return Object.assign(i,{leaderLineExtend:r.getLeaderLineExtend?r.getLeaderLineExtend():void 0,startPoint:r.getStartPoint?r.getStartPoint():void 0,endPoint:r.getEndPoint?r.getEndPoint():void 0,leaderLinePoints:r.getLeaderLinePoints?r.getLeaderLinePoints():void 0,leaderLineOffset:r.getLeaderLineOffset?r.getLeaderLineOffset():void 0,captionOffset:r.getCaptionOffset?r.getCaptionOffset():void 0,startStyle:r.getStartStyle?r.getStartStyle():void 0,endingStyle:r.getEndingStyle?r.getEndingStyle():void 0,hasCaption:r.hasCaption?r.hasCaption():void 0,captionPos:r.getCaptionPos?r.getCaptionPos():void 0,fillColor:r.getFillColor()||(r.getStyleFillColor?r.getStyleFillColor():void 0),content:r.info.content})}},{key:"getSnappedPoint",value:function(e){var t,n=this,i=this.annot.getIntent(),r=(t={},(0,X._)(t,be.LINE_DIMENSION,Rn),(0,X._)(t,be.POLYLINE_DIMENSION,Tn),(0,X._)(t,be.POLYGON_DIMENSION,Mn),(0,X._)(t,be.CIRCLE_DIMENSION,Fn),t)[i],o=this.pdfViewer.getSnapMode(r),a=this.getPDFPage();if(o&&o.length>0){var A=(0,E._)(a.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),s=A[0],c=A[1];return a.getSnappedPoint({x:s,y:c},o).then((function(e){var t=(0,E._)(a.getDevicePoint([e.x,e.y],n.scale,n.rotate),2);return{x:t[0],y:t[1],type:e.type}}))}return Promise.resolve(e)}}]),n}(bc);const Mu=Tu;var Fu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="lineMeasurement",a}return(0,P._)(n,[{key:"getLengthInInchUnit",value:function(){var e=this.getDimension(),t=e.width,n=e.height;return this._getLengthInInchUnit(t,n)}},{key:"_getLengthInInchUnit",value:function(e,t){var n=Mi.convertTo(e,ki),i=Fi.convertTo(t,ki);return Math.round(100*Math.sqrt(n*n+i*i))/100}}]),n}(Mu),Lu=function(){function e(){(0,_._)(this,e),this.segments=[]}return(0,P._)(e,[{key:"addSegment",value:function(e){(0,I._)(e,Nu)&&this.segments.push(e)}},{key:"render",value:function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),e.closePath()}}]),e}(),Nu=function(){function e(t,n){(0,_._)(this,e),this.from=t,this.to=n}return(0,P._)(e,[{key:"render",value:function(e){(0,U.notImplemented)()}},{key:"isJoinedBefore",value:function(e){return this.to.equalTo(e.from)}},{key:"isJoinedAfter",value:function(e){return e.to.equalTo(this.from)}},{key:"isJoinedWith",value:function(e){return this.isJoinedBefore(e)||this.isJoinedAfter(e)}}]),e}(),Ou=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"generate",value:function(){(0,U.notImplemented)()}}]),e}(),Bu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,_._)(this,n),(i=t.call(this)).closing=r,e.length>1&&e.reduce((function(e,t,n){return i.addSegment(new ju(e,t,1===n)),t})),i}return(0,P._)(n,[{key:"render",value:function(e){e.beginPath(),this.segments.forEach((function(t){t.render(e)})),this.closing&&e.closePath()}}]),n}(Lu),ju=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,_._)(this,n),(r=t.call(this,e,i)).atTheStart=o,r}return(0,P._)(n,[{key:"render",value:function(e){this.atTheStart&&e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y)}}]),n}(Nu);function Vu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;e.fillStyle="#fff",t.forEach((function(t){e.beginPath(),e.arc(t.x,t.y,n,0,360),e.stroke(),e.fill()}))}var Uu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).helper=new yu(e),i}return(0,P._)(n,[{key:"doPrepare",value:function(){(0,D._)((0,C._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polyline")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.canvas.getContext("2d"),A=this.convertPointToPixel(0==i.width?.5:i.width,r);if((0!=A||-1!=n.borderColor||n.fillColor)&&(a.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent())){var s=t.page,c=e.innerRect,u=t.vertexes.map((function(e){var t=(0,E._)(s.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new vu(n-c.left,i-c.top)}));e.vertexes=u,a.save(),e.lineWidth=A,a.globalAlpha=n.opacity,a.lineWidth=A,0===A||!1===n.hasBorderColor?a.strokeStyle="transparent":a.strokeStyle=this.numberToRGBAString(n.color);try{switch(i.style){case me.DASHED:case me.SOLID:this.renderSolid(a,n,e);case me.BEVELED:}var l=u[u.length-1],d=u[u.length-2],h=u[0],f=u[1];this.helper.renderLineEnd(a,A,e,t.startStyle,f,h),this.helper.renderLineEnd(a,A,e,t.endingStyle,d,l),this.setContents(a,n.contents,u)}finally{a.restore()}}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],A=o.dashPhase||0;o.style===me.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return i.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(A,r)),new Bu(n.vertexes,!1,5).render(e),e.stroke();try{if(!U.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&Vu(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=wu(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=this.canvas.getContext("2d"),A=i.page;a.strokeStyle=this.numberToRGBAString(o.color),i.vertexes.map((function(n){var i=(0,E._)(A.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new vu(o-r.left,a-r.top)})).forEach((function(e){return ku(a,e)})),a.restore()}},{key:"setContents",value:function(e,t,n){var i,r;if(void 0!==t&&n&&!(n.length<3)){var o=n[n.length-1],a=e;a.beginPath(),a.font="14px Verdana",a.textAlign="left",a.textBaseline="top",a.direction="ltr";var A=a.measureText(t).width;a.fillStyle="#AF6B6B";var s=n.map((function(e){return e.x})),c=(i=Math).min.apply(i,(0,R._)(s));(r=Math).max.apply(r,(0,R._)(s));Math.abs(o.x-c)>=A&&o.x>c?a.fillText(t,o.x-A,o.y,A):a.fillText(t,o.x,o.y,A),a.closePath()}}}]),n}(iu),Hu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="polyline",a}return(0,P._)(n,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polyLine-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=e.getStyleFillColor(),o=this.propertyDisabled(),a=this.isLocked();return{color:t,opacity:n,fillColor:r,borderWidth:i,lineStartStyle:e.getStartStyle(),lineEndStyle:e.getEndingStyle(),disabled:o,borderStyle:!0,isLocked:a}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"updatePoint",value:function(e,t,n){var i=this;return this.movePointAt(n,{offsetX:e,offsetY:t}).then((function(){i.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,i)}))}},{key:"movePointAt",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.offsetX,o=void 0===r?0:r,a=i.offsetY,A=void 0===a?0:a,s=this.annot.getPathVertexes();if(s.length>0){var c=s[e],u=this.resolveMovedPoint(c,o,A);t=this.annot.updatePathVertex(e,u)}else{var l=(this.oldVertex||this.annot.getVertexes())[e],d=this.resolveMovedPoint(l,o,A);t=this.annot.updateVertexes(e,d)}return t.then((function(){n.shapeControl.active(n.$handler,n.getBoundary(),n._getShapeControllerBoundaryBox())}))}},{key:"resolveMovedPoint",value:function(e,t,n){var i=(0,E._)(this.annot.page.reverseDeviceOffset([t,n],this.scale,this.rotate),2),r=i[0],o=i[1],a={x:e.x+r,y:e.y+o},A=this.getPDFPage(),s=A.getWidth(),c=A.getHeight(),u=A.getRotationAngle(),l=0==(u/90&1)?s:c,d=0==(u/90&1)?c:s;return a.x=Math.max(a.x,0),a.y=Math.max(a.y,0),a.x=Math.min(a.x,l),a.y=Math.min(a.y,d),a}},{key:"setLastPoint",value:function(e,t){var n=this.rotate,i=this.scale,r=this.annot.getVertexes().slice(0),o=r[r.length-1],a=(0,E._)(this.annot.page.getDevicePoint([o.x,o.y],i,n),2),A=a[0],s=a[1];e="number"==typeof e?e:A,t="number"==typeof t?t:s;var c=(0,E._)(this.annot.page.reverseDevicePoint([e,t],i,n),2),u=c[0],l=c[1];return o.x=u,o.y=l,this.setVertexes(r)}},{key:"addPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,E._)(this.annot.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1],o=this.annot.getVertexes().concat({x:i,y:r});return this.setVertexes(o)}},{key:"setVertexes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes();return this.annot.setVertexes(t).then((function(){return e.updateRender()})).then((function(){e.shapeControl.active(e.$handler,e.getBoundary(),e._getShapeControllerBoundaryBox())}))}},{key:"getVertexes",value:function(){return this.annot.getVertexes()}},{key:"getPathVertexes",value:function(){return this.annot.getPathVertexes()}},{key:"deleteVertex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getVertexes().length-1,t=this.annot.getVertexes().filter((function(t,n){return n!==e}));return this.setVertexes(t)}},{key:"updateHandlerPosition",value:function(){var e=this.$handler,t=this.scale,n=this.rotate,i=this.annot.getVertexes(),r=this.annot.getPathVertexes();r.length>0&&(i=r);for(var o=0;o<i.length;o++){var a=e.find("[data-index=".concat(o,"]")),A=i[o];A=this.annot.page.getDevicePoint([A.x,A.y],t,n),a.css({left:A[0]+"px",top:A[1]+"px",display:this.shapeControl.isDisabled?"none":"block"})}}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.getVertexes(),o=this.getPathVertexes();return Object.assign(i,{vertexes:o.length>0?o:r})}},{key:"updateCollabPoint",value:function(e,t,n){if(this.pdfViewer.customs.isCollaborationMode()){var i=(0,E._)(this.annot.page.reverseDeviceOffset([e,t],this.scale,this.rotate),2),r=i[0],o=i[1],a=Object.assign({},this.getVertexes());a[n]={x:a[n].x+r,y:a[n].y+o};var A=this.annot.getRect();this.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,this,{points:Object.values(a),rect:{left:Math.min(A.left,a[n].x-2),right:Math.max(A.right,a[n].x+2),top:Math.max(A.top,a[n].y+2),bottom:Math.min(A.bottom,a[n].y+2)}})}}}]),n}(Mu);const zu=Hu;var Wu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"render",value:function(e){try{e.save(),e.beginPath(),this.segments.filter((function(e){return e.isOn})).forEach((function(t){t.render(e)})),e.closePath()}finally{e.restore()}}}]),n}(Lu),Yu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,_._)(this,n),(r=t.call(this,e,i)).isOn=o,r}return(0,P._)(n,[{key:"render",value:function(e){this.isOn&&(e.moveTo(this.from.x,this.from.y),e.lineTo(this.to.x,this.to.y))}}]),n}(Nu),Gu=(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(0,_._)(this,n),(r=t.call(this)).contour=e,r.dashes=i,r.phase=o,r.continuous=a,r.dashSum=i.reduce((function(e,t){return e+t}),0),r}(0,P._)(n,[{key:"generate",value:function(){var e=this,t=new Wu;if(0==this.dashes.length)this.contour.reduce((function(e,n){t.addSegment(new Yu(e,n))}));else{var n=this.phase<this.dashSum?this.phase:this.phase%this.dashSum,i=0,r=0,o=!0;n>0&&this.dashes.reduce((function(e,t,a){var A=e+t;return A>n&&(r=A-n,i=a,o=a%2==0),A}),0);var a=function(){return(i+1)%e.dashes.length};this.contour.reduce((function(A,s){var c=A.distanceTo(s),u=A;for(r>0&&(t.addSegment(new Yu(u,u=u.move(r,s),o)),o=!o,c-=r,i=a());;){var l=e.dashes[i];if(!(c>=l)){t.addSegment(new Yu(u,s,o)),e.continuous?(r=l-c,c=0):(r=n,i=0,o=!0);break}t.addSegment(new Yu(u,u=u.move(l,s),o)),c-=l,i=a(),o=!o}return s}))}return t}}])}(Ou),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this,null,r)).controlPoint1=e,o.controlPoint2=i,o}return(0,P._)(n,[{key:"render",value:function(e){e.bezierCurveTo(this.controlPoint1.x,this.controlPoint1.y,this.controlPoint2.x,this.controlPoint2.y,this.to.x,this.to.y)}}]),n}(Nu)),$u=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){return(0,_._)(this,n),t.call(this,e)}return(0,P._)(n,[{key:"render",value:function(e){e.moveTo(this.from.x,this.from.y)}}]),n}(Nu),Ku=.5522847498308,qu=3.14159265358979,Ju=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this)).points=e,o.innerRect=i,o.outerRect=r,o}return(0,P._)(n,[{key:"generate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>2?arguments[2]:void 0,i=new Lu,r=this.points.map((function(t){var n=e.innerRect.height-t.y;return new vu(t.x,n)})),o=r.length;n||(n=o*t);var a=r.map((function(e,t){return e.distanceTo(r[(t+1)%o])})).reduce((function(e,t){return e+t})),A={left:r[0].x,right:r[0].x,top:r[0].y,bottom:r[0].y},s=a/n;if(0==s)return i;for(var c=[],u=0,l=r[0],d=r[1],h=l.distanceTo(d),f=0,p=1;f<n;f++){for(;u>h;)u-=h,p++,l=d,d=r[p%o],h=l.distanceTo(d);c.push(l.move(u,d)),u+=s}var g=c.length,v=!0,m=5*s/8;return c.forEach((function(t,n){var r=function(e,t,n){var i,r,o=e.subtractp(t),a=n.subtractp(t),A=[],s=Math.atan2(o.y,o.x),c=Math.atan2(a.y,a.x);s+=Math.acos(e.distanceTo(t)/(2*m))-qu/9,c-=Math.acos(n.distanceTo(t)/(2*m)),c<s&&(c+=2*qu);var u={left:t.x-m,right:t.x+m,bottom:t.y-m,top:t.y+m},l=Xu(u,s,c,v);(i=A).push.apply(i,(0,R._)(l.arrAp)),v=!1;var d=t.subtractp(n);return s=Math.atan2(d.y,d.x),s+=Math.acos(n.distanceTo(t)/(2*m)),c=s-qu/9,u={left:n.x-m,right:n.x+m,bottom:n.y-m,top:n.y+m},l=Xu(u,s,c,v),(r=A).push.apply(r,(0,R._)(l.arrAp)),A}(c[0==n?g-1:n-1],t,c[(n+1)%g]);r.forEach((function(t){var n=function(t){if(t)return new vu(t.x+e.innerRect.left-e.outerRect.left,e.innerRect.height-t.y+(e.innerRect.top-e.outerRect.top))};t.from=n(t.from),t.to=n(t.to),t.controlPoint1=n(t.controlPoint1),t.controlPoint2=n(t.controlPoint2),i.addSegment(t)}))})),i.rect=A,i}}]),n}(Ou);function Xu(e,t,n,i){var r,o,a,A,s,c,u,l,d,h,f,p,g,v,m,y,b,w,k,x,_,P,D,C,S={};if(e.left>=e.right||e.bottom>=e.top)return{arrAp:[],pdfRect:S};if(Math.abs(n-t)<=1e-4)return{arrAp:[],pdfRect:S};var I=[];r=(e.right+e.left)/2,o=(e.top+e.bottom)/2,a=Math.abs(e.right-e.left)/2,A=Math.abs(e.top-e.bottom)/2,D=t,_=r+(f=a*Math.cos(D)),P=o+(p=A*Math.sin(D)),S.left=S.right=_,S.bottom=S.top=P,i&&I.push(new $u(new vu(_,P)));var E=1;n<t&&(E=-1);var R=Math.floor(2*t/qu);E>0&&(R+=1),R*=qu/2;for(var T=!1;C=R,E>0?n<=R&&(C=n,T=!0):n>=R&&(C=n,T=!0),f=a*Math.cos(D),p=A*Math.sin(D),b=a*Math.cos(C),d=h=-a*a*A*A,g=f+(_=(k=((u=a*a*p)*h-(l=a*a*(w=A*Math.sin(C)))*d)/((s=A*A*f)*l-(c=A*A*b)*u))-f)*Ku,v=p+(P=(x=(c*d-s*h)/(s*l-c*u))-p)*Ku,m=b+(_=k-b)*Ku,y=w+(P=x-w)*Ku,g=_=r+g,v=P=o+v,S.left>g&&(S.left=g),S.bottom>v&&(S.bottom=v),S.right<g&&(S.right=g),S.top<v&&(S.top=v),m=_=r+m,y=P=o+y,S.left>m&&(S.left=m),S.bottom>y&&(S.bottom=y),S.right<m&&(S.right=m),S.top<y&&(S.top=y),b=_=r+b,w=P=o+w,S.left>b&&(S.left=b),S.bottom>w&&(S.bottom=w),S.right<b&&(S.right=b),S.top<w&&(S.top=w),I.push(new Gu(new vu(g,v),new vu(m,y),new vu(b,w))),!T;)D=C,R+=E*qu/2;return{arrAp:I,pdfRect:S}}var Qu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,_._)(this,n),(i=t.call(this,e)).closing=r,i.showText=!0,i}return(0,P._)(n,[{key:"setFlag",value:function(e,t){this.closing=e,this.showText=t}},{key:"doPrepare",value:function(){(0,D._)((0,C._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-polygon")}},{key:"doRender",value:function(e){var t=e.renderingData,n=t.annotInfo,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.convertPointToPixel(0==i.width?.5:i.width,r);if(0!=a||-1!=n.borderColor||n.fillColor){var A=this.canvas.getContext("2d");if(A.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){var s=t.page,c=e.innerRect,u=e.outerRect,l=t.vertexes.map((function(e){var t=(0,E._)(s.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new vu(n-c.left,i-c.top)})),d=t.vertexes.map((function(e){var t=(0,E._)(s.getDevicePoint([e.x,e.y],r,o),2),n=t[0],i=t[1];return new vu(n-u.left,i-u.top)}));e.vertexes=l,A.save(),e.lineWidth=a,A.globalAlpha=n.opacity,0===a||!1===n.hasBorderColor?A.strokeStyle="transparent":A.strokeStyle=this.numberToRGBAString(n.color),A.lineWidth=a;try{switch(i.style){case me.DASHED:case me.SOLID:case me.UNDERLINE:case me.BEVELED:this.renderSolid(A,n,e),this.setContents(A,n.contents,l);break;case me.CLOUDY:0==a?this.renderSolid(A,n,e):this.renderCloud(A,n,e),this.setContents(A,n.contents,d)}}finally{A.restore()}}}}},{key:"renderCloud",value:function(e,t,n){var i=t.fillColor,r=t.borderInfo.cloudIntensity,o=n.innerRect,a=n.outerRect,A=new Ju(n.vertexes,o,a),s=n.renderingData.vertexes,c=s.length;(c=c*=2==r?8:16,s.length>=2)&&(c=function(e,t){var n=2,i=Math.abs(e.right-e.left),r=Math.abs(e.bottom-e.top);n=1===t?parseInt((i+r)/4):parseInt((i+r)/6);return n<2&&(n=2),n%2!=0&&(n+=1),n}(this.calculateRect(s),r));A.generate(16/r,e,c).render(e),i&&(e.fillStyle=this.numberToRGBAString(i),e.fill()),e.stroke();try{if(!U.isTouchDevice)return;var u=o.left-a.left,l=o.top-a.top,d=n.vertexes.map((function(e){return{x:e.x+u,y:e.y+l}}));void 0===n.renderingData.annotInfo.id&&Vu(e,d)}catch(e){}}},{key:"renderSolid",value:function(e,t,n){var i=this,r=n.scale,o=t.borderInfo,a=o.dashes||[],A=o.dashPhase||0,s=t.fillColor;o.style===me.DASHED&&(e.setLineDash&&e.setLineDash(a.map((function(e){return i.convertPointToPixel(e,r)}))),e.lineDashOffset=this.convertPointToPixel(A,r)),new Bu(n.vertexes,this.closing).render(e),s&&(e.fillStyle=this.numberToRGBAString(s),e.fill()),e.stroke();try{if(!U.isTouchDevice)return;void 0===n.renderingData.annotInfo.id&&Vu(e,n.vertexes)}catch(e){}}},{key:"setMarkUp",value:function(e,t){var n=wu(this.component,e,t),i=n.renderingData,r=n.innerRect;e=n.scale,t=n.rotate;var o=i.annotInfo,a=o.borderInfo||{},A=this.convertPointToPixel(a.width,e),s=this.canvas.getContext("2d");s.clearRect(0,0,this.canvas.width,this.canvas.height);var c=i.page,u=i.vertexes.map((function(n){var i=(0,E._)(c.getDevicePoint([n.x,n.y],e,t),2),o=i[0],a=i[1];return new vu(o-r.left,a-r.top)}));s.save(),s.strokeStyle=this.numberToRGBAString(o.color),s.lineWidth=A;var l=this.closing;this.closing=!0,this.renderSolid(s,o,{vertexes:u}),s.beginPath(),u.forEach((function(e){return ku(s,e)})),this.closing=l}},{key:"setContents",value:function(e,t,n){var i;if(void 0!==t&&n&&!(n.length<3)&&this.showText){var r=n[n.length-1],o=e;o.beginPath(),o.font="14px Verdana",o.textAlign="left",o.textBaseline="top",o.direction="ltr";var a=o.measureText(t).width;o.fillStyle="#AF6B6B";var A=n.map((function(e){return e.x})),s=(i=Math).min.apply(i,(0,R._)(A));Math.abs(r.x-s)>=a&&r.x>s?o.fillText(t,r.x-a,r.y,a):o.fillText(t,r.x,r.y,a),o.closePath()}}},{key:"calculateRect",value:function(e){var t={},n={x:0,y:0};t.left=t.right=e[0].x,t.bottom=t.top=e[0].y;for(var i=e.length,r=1;r<=i;r++)n=e[r%i],t.left>n.x&&(t.left=n.x),t.bottom>n.y&&(t.bottom=n.y),t.right<n.x&&(t.right=n.x),t.top<n.y&&(t.top=n.y);return t}}]),n}(iu),Zu=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="polygon",a}return(0,P._)(n,[{key:"activeMore",value:function(){var e=this.annot.getVertexes(),t=this.annot.getPathVertexes();this.$handler.addClass("fv__pdf-annot-polygon-container");var n=e.length;t.length>0&&(n=t.length),this.hammerInited=this.hammerInited||this.initHammer(n)}},{key:"updateRender",value:function(){var e=this;return this.annot.update().then((function(){var t=e._getShapeControllerBoundaryBox();e.shapeControl.active(e.$handler,e.getBoundary(),t)})).then((function(t){return(0,D._)((0,C._)(n.prototype),"updateRender",e).call(e)}))}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,U.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"updateBorderProperty",value:function(e){switch(this.annot.getCloudIntensity()){case 1:e.find("#borderStyle-select [value=6]").attr("selected",!0);break;case 2:e.find("#borderStyle-select [value=7]").attr("selected",!0)}}},{key:"backupProperty",value:function(e){if(!e)return this.oldRect=Object.assign({},this.annot.getRect());this.oldVertex=Object.assign({},this.annot.getVertexes())}},{key:"setCloudyIntensity",value:function(e){var t=this;this.annot.setBorderStyle(me.CLOUDY,e).then((function(){return t.updateRender().then((function(){t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t)}))}))}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{})}}]),n}(zu);const el=Zu;var tl="annotComponent",nl={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(tl).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(tl).showActionsDialog()},disabled:function(){return this.data(tl).actionsDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(tl).removeAnnot()},disabled:function(){return this.data(tl).deleteDisabled()}}};var il=n(9059),rl=n.n(il),ol=(n(3565),function(){function e(t,n,i){var r=this;(0,_._)(this,e),this.annotRender=t,this.annot=this.annotRender.annot,this.pdfViewer=this.annotRender.pdfViewer;var o={};if(i)switch(o.type=i.getType(),o.type){case"TypeURI":o.uri=i.getURI();break;case"TypeGoto":o.destination=i.getDestination()}var a=rl()(o);n||(a='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(a,"</dialog>"));var A=N()(a);this.$actionsDialog=A;var s=n||document.body;if(A.appendTo(s),this.bindChangeEvent(),this.update(o),!n||n===document.body){var c=A[0];ac().registerDialog(c),c.showModal()}this.$gotoInput=A.find("#goto-input"),this.$gotoLeftValue=A.find(".fv__action-dialog-goto-left-value"),this.$gotoTopValue=A.find(".fv__action-dialog-goto-top-value"),this.$urlInput=A.find("#url-input");var u=this.pdfViewer.getPDFDocRender().getPDFDoc().getPageCount();if(this.$gotoInput.attr({max:u}),o&&o.type)switch(o.type){case"TypeURI":this.$urlInput.val(o.uri);break;case"TypeGoto":this.$gotoInput.val(o.destination.pageIndex+1);var l=this.pdfViewer.getPDFPageRender(o.destination.pageIndex);l&&l.getPDFPage().then((function(e){var t=(0,E._)(e.getDevicePoint([o.destination.left,o.destination.top],l.getScale(),l.getRotation()),2),n=t[0],i=t[1];r.$gotoLeftValue.html(n.toFixed(2)),r.$gotoTopValue.html(i.toFixed(2))}))}}return(0,P._)(e,[{key:"update",value:function(e){var t=this.$actionsDialog;e&&e.type&&(t.find("#select-action [value="+e.type+"]").attr("selected",!0),t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+e.type+"]").css("display","block"))}},{key:"bindChangeEvent",value:function(){var e=this,t=this.$actionsDialog,n=this.pdfViewer.getPDFDocRender(),i=n.viewerRender.scrollWrap;this.pdfViewer.eventEmitter.on(de.zoomToSuccess,(function(e,t){o()})),this._unwatchScrollEvent=i.addScrollEventListener(o);var r=this;function o(){var e=function(e){for(var t=e.$container.find(".fv__pdf-view-mode-item"),n=e.viewerRender.scrollWrap,i=n.getScrollTop(),r=(n.getHeight(),n.getScrollLeft()),o=(n.getWidth(),0),a=0,A=0,s=0;s<t.length;s++){var c=t[s],u=N()(c).width(),l=N()(c).height(),d=c.offsetTop,h=d+l,f=c.offsetLeft;if(h>i&&f+u>r){o=s,A=i-d,a=r-f;break}}return{pageIndex:o,left:a,top:A}}(n);r.$gotoInput.val(e.pageIndex+1),r.$gotoLeftValue.html(e.left.toFixed(2)),r.$gotoTopValue.html(e.top.toFixed(2))}t.on("click",".fv__action-btn-cancel",(function(){e.annotRender.hideActionsDialog()})).on("click",".fv__action-dialog-close-icon",(function(){e.annotRender.hideActionsDialog()})).on("change","#select-action",(function(e){var n=e.target.value;t.find(".fv__action-dialog-box").css("display","none"),t.find("[data-type="+n+"]").css("display","block")})).on("click",".fv__action-btn-ok",(function(n){var i=t.find("#select-action").val();if("TypeURI"===i){var o=t.find("#url-input").val(),a=new Br;e.annot.setAction(-1,a).then((function(){var t=e.annot.getAction();e.annot.setActionData(t,{uri:o}).then((function(){e.annotRender.hideActionsDialog()}))}))}else if("TypeGoto"===i){var A=e.pdfViewer.getPDFDocRender().getScale(),s=new Zr;e.annot.setAction(-1,s).then((function(){var t={};t.pageIndex=e.$gotoInput.val()-1;var n=r.pdfViewer.getPDFPageRender(t.pageIndex),i=n.getScale();n.getPDFPage().then((function(r){var o=(0,E._)(r.reverseDevicePoint([Number(e.$gotoLeftValue.html()),Number(e.$gotoTopValue.html())],i,n.getRotation()),2),a=o[0],s=o[1];t.left=a,t.top=s,"fitWidth"===A?t.type="ZoomFitHorz":"fitHeight"===A?t.type="ZoomFitPage":(t.type="ZoomXYZ",t.zoomFactor=i);var c=e.annot.getAction();e.annot.setActionData(c,t).then((function(){e.annotRender.hideActionsDialog()}))}))}))}})).on("input","#goto-input",(function(t){var n=t.target.value;e.pdfViewer.getPDFDocRender().goToPage(n-1,{x:0,y:0})}))}},{key:"close",value:function(){var e=this.$actionsDialog;this._unwatchScrollEvent&&this._unwatchScrollEvent(),e&&(e[0].close(),e.remove(),this.$actionsDialog=null)}}]),e}());var al,Al=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"doPrepare",value:function(){(0,D._)((0,C._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")}},{key:"doRender",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.renderingData.annotInfo,i=n.borderInfo||{},r=this.convertPointToPixel(i.width||1,e.scale),o=this.canvas.getContext("2d");if(o.clearRect(0,0,this.canvas.width,this.canvas.height),o.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=r,t&&(o.globalAlpha=n.opacity),0===r||!1===n.hasBorderColor?o.strokeStyle="transparent":o.strokeStyle=this.numberToRGBAString(n.color),o.lineWidth=r;try{switch(i.style){case me.BEVELED:case me.UNDERLINE:case me.SOLID:this.renderSolid(o,n,e);break;case me.DASHED:this.renderDashed(o,n,e);break;case me.CLOUDY:this.renderCloud(o,n,e)}var a=n.fillColor;a&&(o.fillStyle=this.numberToRGBAString(a),o.fill()),o.stroke()}finally{o.restore()}}}},{key:"shrinkRect",value:function(e,t){var n=Ta.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"renderCloud",value:function(e,t,n){t.fillColor;var i=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),o=this.shrinkRect(n.outerRect,0),a=r.width,A=r.height;new Ju([new vu(0,A),new vu(a,A),new vu(a,0),new vu(0,0)],r,o).generate(32/3/i).render(e)}},{key:"renderDashed",value:function(e,t,n){var i=this,r=t.borderInfo,o=r.dashes||[],a=r.dashPhase||0,A=n.scale;e.save(),e.setLineDash&&e.setLineDash(o.map((function(e){return i.convertPointToPixel(e,A)}))),e.lineDashOffset=this.convertPointToPixel(a,A),this.renderSolid(e,t,n)}},{key:"renderSolid",value:function(e,t,n){var i=n.lineWidth,r=n.innerRect,o=n.outerRect,a=r.width,A=r.height,s=.5*i,c=r.left-o.left,u=r.top-o.top;e.beginPath(),e.rect(s+c,s+u,a-i,A-i),e.closePath()}}]),n}(iu),sl=(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doPrepare",value:function(){(0,D._)((0,C._)(n.prototype),"doPrepare",this).call(this),this.canvas.style.cssText+="box-sizing: content-box;"}},{key:"doRender",value:function(e){var t=e.renderingData;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var n=this.canvas.getContext("2d");return n.clearRect(0,0,this.canvas.width,this.canvas.height),void n.save()}return t.highlightModeIsActive?this.doRenderHighlightMode(e):(t.highlightingMode===Ee.PUSH&&(this.canvas.style.cssText+="border: none; border-color: none;"),this.doRenderNormal(e))}},{key:"doRenderHighlightMode",value:function(e){switch(e.renderingData.highlightingMode){case Ee.NONE:return this.doRenderNormal(e);case Ee.OUTLINE:return this.renderOutline(e);case Ee.INVERT:return this.renderInvert(e);case Ee.PUSH:return this.renderPush(e);case Ee.TOGGLE:return this.renderToggle(e)}}},{key:"doRenderNormal",value:function(e){this.renderSquare(e)}},{key:"getLineWidth",value:function(e,t){return this.convertPointToPixel(e,t)/2}},{key:"renderSquare",value:function(e){var t=e.renderingData.annotInfo,n=t.borderInfo,i=this.getLineWidth(n.width,e.scale);if(0!=i||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),e.lineWidth=i,r.globalAlpha=t.opacity,0===i||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=i,n.style===me.DASHED)this.renderDashed(r,t,e);else this.renderSolid(r,t,e);r.stroke()}}},{key:"renderInvert",value:function(e){var t=this,n=this.canvas.getContext("2d"),i=e.renderingData,r=i.page,o=i.annotInfo.borderInfo||{},a=(this.getLineWidth(o.width||0,e.scale),e.outerRect),A={x:a.left,y:a.top,width:a.width,height:a.height};r.getPageBitmap(4*e.scale/3,e.rotate,A,["page","annot"]).then((function(e){var i=e.width,r=e.height,o=e.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var a=new(Uint8ClampedArray||Uint8Array)(o),A=n.createImageData(i,r);A.data.set(a),n.save();for(var s=A.data,c=0;c<s.length;c+=4)s[c]^=255,s[c+1]^=255,s[c+2]^=0;n.putImageData(A,0,0),n.restore()}))}},{key:"renderToggle",value:function(e){}},{key:"renderPush",value:function(e){var t=this,n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.style.cssText+="\n            border: 1px solid;\n            border-color: black #aaa #aaa black;\n        ";var i=e.renderingData.page,r=e.outerRect,o={x:r.left,y:r.top,width:r.width,height:r.height};i.getPageBitmap(4*e.scale/3,e.rotate,o,["page","annot"]).then((function(i){var r=i.width,o=i.height,a=i.buffer;n.clearRect(0,0,t.canvas.width,t.canvas.height);var A=new(Uint8ClampedArray||Uint8Array)(a),s=n.createImageData(r,o);s.data.set(A),n.putImageData(s,0,0),t.renderSquare(e)}))}},{key:"renderOutline",value:function(e){var t=this.canvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height);var n=e.renderingData.annotInfo.borderInfo||{};this.renderSquare(e);var i=5*this.getLineWidth(n.width||0,e.scale)/6,r=.5*i,o=e.outerRect;t.save(),t.lineWidth=i,t.strokeStyle="black",t.strokeRect(r,r,o.width-i,o.height-i),t.restore()}}])}(Al),tl),cl=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:nl,events:{show:function(){return this.data(tl).updateDeleteStatus(!0),!0},hide:function(){return this.data(tl).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),ul="px",ll=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),a=t.call(this,e,i,r,o),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(e)),n=new qc(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));a.moveDisabled()&&n.disable(),n.ownsTo(a.disposor);var i=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(i.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var r=a.pdfViewer.eventEmitter,o=function(){a.isDestroyed||a.annot.isDestroyed||i.getPermission(a.annot).then((function(e){a.updateOnPermissionChange(e)}))};return r.on(de.permissionChanged,o),a.addDestroyHook((function(){r.off(de.permissionChanged,o)})),n})),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(U.Lazy.hasProperty((0,k._)(a),"shapeControl")&&U.Lazy.isPropertyIntialized((0,k._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;U.Lazy.reset((0,k._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),a.name="link",a.highlightModeIsActive=!1,a.$ui.addClass("pdf-page-link-annot-container"),a.$handler.addClass("pdf-page-link-annot-handler-container");var A=a.pdfViewer.i18n,s=Lo().i18n=function(e){return A.t(e)};a.addDestroyHook((function(){Lo().i18n===s&&(Lo().i18n=void 0)}));var c=U.isTouchDevice?"touchstart":"mousedown";return a.$ui.on(c,(function(e){a.highlightModeIsActive=!0,a.render();var t=U.isTouchDevice?"touchend":"mouseup";window.addEventListener(t,(function(){a.highlightModeIsActive=!1,a.render()}),{capture:!0,once:!0})})),a.pdfViewer.eventEmitter.on(de.pageRemoved,a.pageRemoved=function(e){var t=a.annot&&"TypeGoto"==a.annot.action.info.type&&a.annot.action.info.destination&&a.annot.action.info.destination.pageIndex;if(a.annot&&"number"==typeof t&&t==e){var n=a.annot;n.hasPA().then((function(e){e&&n.resetAByPA()}))}}),a}return(0,P._)(n,[{key:"actionsDisabled",value:function(){return!(32&this.docRender.getUserPermission().getValue())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e){e.width<1||e.height<1||this.setRect(e)}},{key:"onShapeMoving",value:function(e,t){this.$ui.css({left:e.left,top:e.top})}},{key:"onShapeUpdateEnd",value:function(e,t,n){switch(n){case qc.ACTION_MOVE:return this.moveTo(e.left,e.top,n);case qc.ACTION_RESIZE:return e.width<1||e.height<1?Promise.resolve():this.setRect(e)}}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;return[Math.ceil(c/r),Math.ceil(s/r),s,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()))}},{key:"doAction",value:function(){this.pdfViewer.actionManager.get(this.annot.action,this).active()}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"activeMore",value:function(e,t){}},{key:"activeMoreItem",value:function(){}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.$handler.removeClass("active"),this.shapeControl.deactive()}},{key:"unActiveMore",value:function(){}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.$handler.remove()}},{key:"updateBorderProperty",value:function(){}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,U.colorConvertor)(e.getBorderColor(),"#"),borderWidth:e.getBorderWidth(),highlightingMode:e.getHighlightingMode(),actionType:this.$action&&this.$action.getType(),disabled:this.propertyDisabled(),minBorderWidth:0,borderStyle:!0,isLocked:this.isLocked()}}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new cc(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new ol(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)}))}))}},{key:"setHighlightingMode",value:function(e){var t=this;return this.annot.setHighlightingMode(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"redraw",value:function(){return this.activeRect(),this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"destroy",value:function(){this.$propertiesControl=null,this.contextMenu&&this.contextMenu.destroy(),this.pageRemoved&&this.pdfViewer.eventEmitter.off(de.pageRemoved,this.pageRemoved),this.pageRemoved=null,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this)}},{key:"showContextMenu",value:function(e,t){if(this.contextMenu){if(U.isDesktop&&this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===mn)return;return this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t)}return!1}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||U.noop)(this)).then((function(t){if(n.emit(de.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return n.emit(de[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(de.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+ul,top:r.top+ul,width:r.right-r.left+ul,height:r.bottom-r.top+ul})}},{key:"rectInit",value:function(){var e=this.$handler,t=N()(this.createRectDom());e.append(t);var n=t[0],i=this.rectHammer=new Hammer.Manager(n,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return i.add(new Hammer.Tap({event:"doubletap",taps:2})),i.add(new Hammer.Tap({event:"singletap"})),i.get("doubletap").recognizeWith("singletap"),i.get("singletap").requireFailure("doubletap"),this.contextMenuIsEnable()&&(e.on("contextmenu",(function(e){e.preventDefault()})),e.on("mouseup",(function(e){e.stopPropagation()})),this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,e.get(0),this.getContextMenuConfig()),t.data(sl,this)),this.addDestroyHook((function(){i.destroy()})),t}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getContextMenuConfig",value:function(){if(al)return al;var e=this.constructor.getDefaultContextMenuConfig();for(var t in this.updateContextMenuConfig(e),e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return e}},{key:"doubleTapAnnot",value:function(){}},{key:"updateContextMenuConfig",value:function(e){}},{key:"active",value:function(e){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.$handler.addClass("active"),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"tapAnnot",value:function(e){if(this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==mn)return(0,D._)((0,C._)(n.prototype),"tapAnnot",this).call(this,e);e&&0==e.button&&this.doAction()}},{key:"invisibleRender",value:function(){}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{highlightingMode:this.annot.getHighlightingMode(),highlightModeIsActive:this.highlightModeIsActive})}}],[{key:"getDefaultContextMenuConfig",value:function(){return cl}},{key:"setContextMenuConfig",value:function(e){al=e}}]),n}(Mo);const dl=ll;var hl=2*Math.PI;var fl=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"doRender",value:function(e){var t=e.renderingData.annotInfo,n=t.borderInfo||{},i=this.convertPointToPixel(n.width||1,e.scale);if(0!=i||-1!=t.borderColor||t.fillColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),r.save(),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){e.lineWidth=i,r.globalAlpha=t.opacity,0===i||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color),r.lineWidth=i;try{switch(n.style){case me.SOLID:this.renderSolid(r,t,e);break;case me.BEVELED:break;case me.DASHED:this.renderDashed(r,t,e);break;case me.CLOUDY:0==n.cloudIntensity?this.renderSolid(r,t,e):this.renderCloud(r,t,e)}var o=t.fillColor;o&&(r.fillStyle=this.numberToRGBAString(o),r.fill()),r.stroke(),this.setContents(r,t.contents,e)}finally{r.restore()}}}}},{key:"renderSolid",value:function(e,t,n){this.renderDashed(e,t,n)}},{key:"renderDashed",value:function(e,t,n){var i=t.borderInfo,r=n.lineWidth,o=n.innerRect,a=n.outerRect,A=i.dashes||[],s=i.dashPhase||0,c=.5*r,u=new vu(.5*(o.left+o.right)-a.left,.5*(o.top+o.bottom)-a.top),l=Math.abs(.5*o.height-c),d=Math.abs(.5*o.width-c);e.lineDashOffset=s,e.setLineDash&&e.setLineDash(A),e.beginPath(),function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI,s=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];e.ellipse?e.ellipse(t,n,i,r,o,a,A,s):(e.save(),e.translate(t,n),e.rotate(o),e.scale(i,r),e.arc(0,0,1,a,A,s),e.restore())}(e,u.x,u.y,d,l),e.closePath()}},{key:"renderCloud",value:function(e,t,n){var i=t.borderInfo.cloudIntensity,r=.5*n.lineWidth,o=this.shrinkRect(n.innerRect,r),a=this.shrinkRect(n.outerRect,r),A=new vu(.5*(a.right-a.left)-(o.left-a.left),.5*(a.bottom-a.top)-(o.top-a.top)),s=.5*o.height-r,c=.5*o.width-r,u=16/i,l=Math.PI/u,d=2*Math.PI,h=Array(Math.floor(d/l)-1).fill(0).map((function(e,t){return t*l%d})).map((function(e){var t=c*Math.cos(d-e),n=s*Math.sin(d-e);return A.add(t,n)}));new Ju(h,o,a).generate(1,e).render(e)}},{key:"shrinkRect",value:function(e,t){var n=Ta.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"setContents",value:function(e,t,n){if(void 0!==t){var i=n.innerRect,r=n.outerRect,o=.5*(i.left+i.right)-r.left,a=.5*(i.top+i.bottom)-r.top,A=e;A.beginPath(),A.font="14px Verdana",A.textAlign="left",A.textBaseline="top",A.direction="ltr";var s=A.measureText(t).width;A.fillStyle="#AF6B6B",A.fillText(t,o-s/2,a-7,s),A.closePath()}}}]),n}(iu);var pl=function(){return ic(arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect")}(),gl=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),a=t.call(this,e,i,r,o),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(e)),n=new qc(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),n})),a.$ui.addClass("circle-ui"),a}return(0,P._)(n,[{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t=this.getInnerBoundary();this.shapeControl.active(this.$handler,t,e),this._updateShapeControlMargin()}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o})}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox()),this._updateShapeControlMargin()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Ta.subtract(r,o);return Ta.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&(this._previewUpdatedShape(e,t),this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControllerBoundaryBox()}))})))}},{key:"onShapeMoving",value:function(e,t){var n=this;this.updateCollabOp(e),this.justMoved=!0,this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){var t=n.getRect(),i=n.getInnerRect(),r=t.left-i.left,o=t.top-i.top;return n.moveTo(e.left+r,e.top+o).then((function(e){n._updateShapeControllerBoundaryBox()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;this._previewUpdatedShape(e,t);var r=this.getRect(),o=this.getInnerRect(),a=r.left-o.left,A=r.top-o.top;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){var t=!!i.justMoved;return i.moveTo(e.left+a,e.top+A,n,!0,!1,t).then((function(t){!i.justMoved&&i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0),i.justMoved=!1})).then((function(e){i._updateShapeControllerBoundaryBox()}))})):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Ta.subtract(this.getRect(),this.getInnerRect()),i=Ta.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height);var n=e.width/2,i=e.height/2,r=n,o=i;t.strokeStyle="#759DB8",t.lineWidth=1,function(e,t,n,i,r){var o=Math.max(i,r),a=i/o,A=r/o;e.save(),e.scale(a,A),e.beginPath(),e.arc(t/a,n/A,o,0,hl,!1),e.closePath(),e.restore()}(t,n,i,r,o),t.stroke()}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,U.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))}},{key:"setCloudIntencity",value:function(e){return this.setBorderStyle(me.CLOUDY,e)}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return pl}}]),n}(bc),vl=n(3110),ml=n.n(vl),yl=n(7308),bl=n.n(yl),wl=n(3856),kl=n.n(wl),xl=n(4814),_l=n.n(xl),Pl=n(9797),Dl=n.n(Pl),Cl=n(4739),Sl=n.n(Cl),Il=n(1158),El=n.n(Il),Rl=n(2186),Tl=n.n(Rl),Ml=n(927),Fl=n.n(Ml),Ll=n(5984),Nl=n.n(Ll),Ol=n(1490),Bl=n.n(Ol),jl=n(9856),Vl=n.n(jl),Ul=n(7156),Hl=n.n(Ul),zl=n(9649),Wl=n.n(zl),Yl=n(7283),Gl=n.n(Yl);const $l={Check:ml(),Circle:bl(),Comment:kl(),Cross:_l(),Help:Dl(),Insert:Sl(),Key:El(),NewParagraph:Tl(),Note:Fl(),Paragraph:Nl(),RightArrow:Bl(),RightPointer:Vl(),Star:Hl(),UpArrow:Wl(),UpLeftArrow:Gl()};var Kl=n(1583),ql=n.n(Kl),Jl=n(6283),Xl=n.n(Jl),Ql=n(6852),Zl=n.n(Ql),ed=n(8807),td=n.n(ed);const nd={Graph:ql(),Paperclip:Xl(),PushPin:Zl(),Tag:td()};var id=n(8998),rd=n.n(id),od=n(7697),ad=n.n(od),Ad=n(9291),sd=n.n(Ad);const cd={Ear:rd(),Mic:ad(),Speaker:sd()};var ud={};var ld;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).annot=e.annot,i}(0,P._)(n,[{key:"render",value:function(e,t){var n=this.annot,i=n.getFlags(),r=n.getDeviceRect(e,t);r.width=r.right-r.left,r.height=r.bottom-r.top,8&i&&(r.width/=4*e/3,r.height/=4*e/3);var o=function(e,t,n){if(!e||!t)return"";var i,r=e+t+n;if(r in ud)return ud[r];if("text"===e?i=$l:"fileattachment"===e?i=nd:"sound"===e&&(i=cd),!i)return"";var o=i[t]({fillColor:n});return ud[r]=o}(n.getType(),n.getIconName(),(0,U.colorConvertor)(n.getBorderColor(),"#")),a="unset";return this.component.needToggleView&&this.component.needToggleView()&&(this.component.shouldRenderByMouseEvent()||(a="hidden")),this.component.$ui.css({left:r.left,top:r.top,width:r.width,height:r.height,opacity:n.getOpacity(),visibility:a}).empty().html(o),Promise.resolve()}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.annot=null}}])}(nu);!function(e){e.fully="fully",e.playable="playable",e.adjustable="adjustable",e.deletable="deletable",e.modifiable="modifiable",e.attachmentDownloadable="attachmentDownloadable",e.replyable="replyable",e.editable="editable"}(ld||(ld={}));var dd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="note",a.$ui.addClass("fv__pdf-page-note-annot-container"),a.$handler.addClass("fv__pdf-page-note-annot-handler-container"),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new qc({emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,rotatable:!1,auxiliaryLine:void 0});return e.ui.classList.add("fv__pdf-page-annot-handler-rect"),a.processShapeControlPermissionCtrl(e),e})),a}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"activeRect",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,i=this.$rect=this.$rect||this.rectInit(),r=this.scale,o=this.rotate,a=n.getDeviceRect(r,o);if(8&this.annot.getFlags()){var A=this.annot.getRect();e=A.right-A.left,t=A.top-A.bottom}else{var s=this.annot.getDeviceRect(1,o);e=s.right-s.left,t=s.bottom-s.top}i.css({left:a.left,top:a.top,width:e,height:t})}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this._applyShapeChange())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){return this.annot.setIconName(e).then((function(e){return e}))}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromiseQueue||(this.editDebouncePromiseQueue=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;if(this.updateCollabOp(e,!0),this.pdfViewer.config.highPerformance)this.editDebouncePromiseQueue.exec((function(){return i.moveTo(e.left,e.top).then((function(e){i.setMargin(),i._applyShapeChange()}))}));else{var r=this._moveOffset||{},o=r.offsetLeft||0,a=r.offsetTop||0;this._moveOffset={offsetLeft:o+n.offsetLeft,offsetTop:a+n.offsetTop}}}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromiseQueue.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))}))}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.annot.info;if("R"==i.RT&&(0!=i.IRT||null!=i.RT))return Promise.resolve();if((0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t),1!=U.dpr&&this.tileCanvas){var r=this.getTileConfig(e,t),o=Math.max(.5,e*U.dpr/r[5]);this.tileCanvas.$container.css({transform:"scale("+o+")"})}}}]),n}(bc);const hd=dd;var fd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"prepare",value:function(){var e=this,t=this.component,n=t.annot;this.tileCanvas=this.tileCanvas||new fr((function(i,r,o,a,A,s,c,u,l){return t.isDestroyed?Promise.resolve():t.getPDFPage().getAnnotBitmap(n.getId(),(0,H.F2)(s),l,{x:c*s+r*A,y:u*s+i*A,width:o,height:a},!0,t.renderAppearanceType,e.component.getAnnotFlag().flag)}),t.$ui)}},{key:"doHide",value:function(){this.tileCanvas.hideContainer()}},{key:"doShow",value:function(){this.tileCanvas.showContainer()}},{key:"doRender",value:function(e,t,n){var i=this;this.tileCanvas.setVisibleRect(n);var r=!0;if(n){var o=this.component.getRect(),a={left:Math.max(o.left,n.left),top:Math.max(o.top,n.top),right:Math.min(o.right,n.right),bottom:Math.min(o.bottom,n.bottom)};r=a.right>=a.left&&a.bottom>=a.top}var A,s,c=this.component.getTileConfig(e,t);return r?(A=this.tileCanvas).redraw.apply(A,(0,R._)(c)).then((function(e){if(!i.component.isDestroyed)return i.component.needToggleView&&i.component.needToggleView()&&!i.component.shouldRenderByMouseEvent()?(i.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve()})):((s=this.tileCanvas).updateDom.apply(s,(0,R._)(c)),this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()?(this.tileCanvas.clearCanvasContent(),Promise.resolve()):Promise.resolve())}},{key:"willRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="left, top, width, height"}},{key:"afterRender",value:function(){this.tileCanvas.$container.get(0).style.willChange="auto"}},{key:"destroy",value:function(){this.prepared&&((0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.tileCanvas.destroy(),this.tileCanvas=null)}},{key:"clearCache",value:function(){this.tileCanvas.clearCache()}},{key:"invisibleRender",value:function(){try{this.tileCanvas.invisibleRender()}catch(e){}}}]),n}(nu),pd=(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e,t,i){var r=this;return(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e,t,i).then((function(){r.tileCanvas.$container.get(0).style.cssText+="\n                transform-origin: center;\n                transform: rotate(-".concat(t,"deg);\n            ")}))}}])}(fd),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="file",a.$ui.addClass("fv__pdf-page-file-annot-container"),a.$handler.addClass("fv__pdf-page-file-annot-handler-container"),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new qc({emitter:a.pdfViewer.eventEmitter,start:function(){return a.onStartUpdateShape()},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,auxiliaryLine:void 0});return e.ui.classList.add("fv__pdf-page-annot-handler-rect"),(a.groupMoveDisabled()||a.moveDisabled())&&e.disable(),a.getAppPermission().then((function(t){t.isAdjustable()||t.isEditable()||e.disable()})),e})),a}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"activeRect",value:function(){arguments.length>0&&void 0!==arguments[0]||this.annot;var e=this.$rect=this.$rect||this.rectInit(),t=this.scale,n=this.rotate,i=this.getRect(t,n);e.css({left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top})}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"setIconName",value:function(e){var t=this;return this.annot.setIconName(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"createRectDom",value:function(){return this.shapeControl.ui}},{key:"onStartUpdateShape",value:function(e,t){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top).then((function(e){i.setMargin(),i._applyShapeChange()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t){var n=this;return this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return n.moveTo(e.left,e.top,"move").then((function(e){n.setMargin(),n._applyShapeChange()}))})):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"onDoubleTap",value:function(){return!1}},{key:"doubleTapAnnot",value:function(e){var t=this;if("comment"===e)return this.getAppPermission().then((function(e){e.isEditable()&&t.showReplyDialog("comment")}));this.rectDoubleTap()}},{key:"rectDoubleTap",value:function(){this.download()}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){t.isAttachmentDownloadable()&&e.doDownload()}))}},{key:"doDownload",value:function(){var e=this,t=this.pdfViewer;if(!this.annot.getFileSpec())return t.viewerUI.alert({message:"sidebar.attachment.emptyFile",level:"warning"});var n=Promise.resolve();t.getSafeReadingMode()&&(n=t.viewerUI.confirm({message:"sidebar.attachment.safeModeDownload",level:"warning"})),n.then((function(){e.annot.getFileattachmentStream().then((function(t){Fa(t,e.annot.getFileSpec().getFileName(),"application/octet-stream")}))}),Gi)}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"getRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getRect(),r=n.getDeviceRect(i,e,t),o=n.getDeviceRect(i,e,0),a=o.right-o.left,A=o.bottom-o.top;return 8&this.annot.getFlags()&&(a=i.right-i.left,A=i.top-i.bottom),{left:r.left,top:r.top,right:r.left+a,bottom:r.top+A}}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate),t=this.annot.getDeviceRect(this.scale,0),n=this.annot.getRect(),i=t.right-t.left,r=t.bottom-t.top;return 8&this.annot.getFlags()&&(i=n.right-n.left,r=n.top-n.bottom),{left:e.left,top:e.top,width:i,height:r}}}]),n}(bc));const gd=pd;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){var t=this.component.annot.info,n=e.outerRect,i=(e.rotate%360+360)%360;if(-1!=t.borderColor){var r=this.canvas.getContext("2d");if(r.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){r.save(),r.globalAlpha=t.opacity;var o=.2*n.width;0===o||!1===t.hasBorderColor?r.strokeStyle="transparent":r.strokeStyle=this.numberToRGBAString(t.color);var a=.5*o,A=a,s=n.width-a,c=n.height-2*a/3,u=Math.atan2(c,n.width/2),l=o/Math.sin(u)+.3*a,d=new Bu([new vu(A,c),new vu(n.width/2,l),new vu(s,c)],!1);r.lineWidth=o;var h=i/180*Math.PI,f=0,p=0;switch(i){case 90:f=-A,p=-(c+l);break;case 270:f=-s;break;case 180:f=-(A+s),p=-c}r.rotate(h),r.translate(f,p),d.render(r),r.stroke(),r.restore()}}}}])}(iu);var vd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="caret",a.$ui.addClass("fv__pdf-page-caret-annot-container"),a.$handler.addClass("fv__pdf-page-caret-annot-handler-container"),a}return(0,P._)(n,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){!!this.readOnlyDisabled()||!e.ignorable()&&!e.isModifiable()?this.$handler.addClass("disabled"):this.$handler.removeClass("disabled")}}},{key:"checkRenderingModeIs",value:function(e){return this.pdfViewer.config.annotRenderingMode.caret===e}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.$rect.addClass("active")}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.activeRect()}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this);var e=this.$rect;e&&e.removeClass("active")}},{key:"isReplace",value:function(){return this.annot.isGrouped()&&"replace"===(this.annot.getIntent()||"").toLowerCase()}},{key:"showUI",value:function(){var e=this;if(this.isReplace()){var t=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0];if(t&&t.isDeleted())return(0,D._)((0,C._)(n.prototype),"showUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(t.getId());return(0,D._)((0,C._)(n.prototype),"showUI",this).call(this).then((function(){return i.component.showUI()}))}return(0,D._)((0,C._)(n.prototype),"showUI",this).call(this)}},{key:"hideUI",value:function(){var e=this;if(this.isReplace()){var t=this.annot.getGroupElements().filter((function(t){return t!==e.annot}))[0];if(t&&t.isDeleted())return(0,D._)((0,C._)(n.prototype),"hideUI",this).call(this);var i=this.parent("annotsRender").getAnnotRender(t.getId());return(0,D._)((0,C._)(n.prototype),"hideUI",this).call(this).then((function(){return i.component.hideUI()}))}return(0,D._)((0,C._)(n.prototype),"hideUI",this).call(this)}}]),n}(bc);const md=vd;var yd=ic(),bd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),a=t.call(this,e,i,r,o),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(e)),n=new qc(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},moving:function(e,t){return a.onShapeMoving(e,t)},update:function(e,t){return a.onShapeUpdating(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),n})),a}return(0,P._)(n,[{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeMoving",value:function(e,t){this.updateCollabOp(e),this.pdfViewer.config.highPerformance}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(n._transformShapeOfInnerRectToOuterRect(e)).then((function(e){n._updateShapeControlMargin(),n._updateShapeControllerBoundaryBox()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){var t=i.getRect(),r=i.getInnerRect(),o=t.left-r.left,a=t.top-r.top;return i.moveTo(e.left+o,e.top+a,n,!0,!1,!1).then((function(t){return i._setRect(i._transformShapeOfInnerRectToOuterRect(e),!0)})).then((function(e){i._updateShapeControlMargin(),i._updateShapeControllerBoundaryBox()}))})):Promise.resolve()}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Ta.subtract(this.getRect(),this.getInnerRect()),i=Ta.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(this.annot),this._applyShapeChange();var e=this.shapeControl.getPreviewerContext();this._previewUpdatedShape(this.shapeControl.getCurrentShape(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this.getInnerBoundary(),t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,e,t),this._updateShapeControlMargin()}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o})}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1],r=this.getInnerRect(),o=this.getRect(),a=Ta.subtract(r,o);return Ta.on({left:0,top:0,right:n,bottom:i}).add(a).extract()}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"getPropertyOptions",value:function(){var e=this.annot;return{color:(0,U.colorConvertor)(e.getBorderColor(),"#"),opacity:e.getOpacity(),borderWidth:e.getBorderWidth(),cloudy:!0,fillColor:e.getFillColor(),disabled:this.propertyDisabled(),borderStyle:!0,isLocked:this.isLocked()}}},{key:"_previewUpdatedShape",value:function(e,t){t.clearRect(0,0,e.width,e.height),t.strokeStyle="#759DB8",t.lineWidth=1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.save(),e.beginPath(),e.rect(t,n,i,r),e.closePath(),e.restore()}(t,0,0,e.width,e.height),t.stroke()}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t._handlerRerender(e)}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n._handlerRerender(e)}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t._handlerRerender(e)}))}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect(),r=n.getDeviceRect(i,e,t);return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}},{key:"getInnerBoundary",value:function(){var e=this.getPDFPage(),t=this.annot.getInnerRect(),n=e.getDeviceRect(t,this.scale,this.rotate);return{left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top}}},{key:"_handlerRerender",value:function(e){var t=this;return e?this.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}}],[{key:"getDefaultContextMenuConfig",value:function(){return yd}}]),n}(bc),wd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),a=t.call(this,e,i,r,o),U.Lazy.release((0,k._)(a),"shapeControl",!0),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var t={moveable:!0,resizable:!0,rotatable:!0,enableFrame:!1},n=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(t)),i=new qc(Object.assign(t,n,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},moving:function(e,t){return a.onShapeMoving(e,t)},update:function(e,t){return a.onShapeUpdating(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotateEnd:function(e,t,n,i){return a.onRotateEnd(t)},afterRotateEnd:function(){return a.onAfterRotateEnd()},rotateStart:function(){return a.onRotateStart()},degree:e.info.rotation,enableDiagonally:!0,previewer:!1,enableUniform:!0,degreeInitVisibility:!1,auxiliaryLine:void 0}));a.processShapeControlPermissionCtrl(i);var r=function(t,n,r){if(i&&r===tn.rotationUpdated){var o=a.getInnerBoundary(),A=a._getShapeControllerBoundaryBox();a.shapeControl.rotateDegree=e.getRotation(),i.active(a.$handler,o,A)}};return i.addDestroyHook((function(){a.pdfViewer.eventEmitter.off(de.annotationUpdated,r)})),a.pdfViewer.eventEmitter.on(de.annotationUpdated,r),i})),a}return(0,P._)(n,[{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.getRect(e,t)}},{key:"getPropertyOptions",value:function(){var e=this.annot;(0,U.colorConvertor)(e.getBorderColor(),"#");return{opacity:e.getOpacity(),borderStyle:!1,disabled:this.propertyDisabled(),rotationFree:(this.annot.getRotation()+360)%360,isLocked:this.isLocked()}}},{key:"setBitmap",value:function(e,t){var n=this;return this.annot.setBitmap(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n),n.render(n.scale,n.rotate)}))}},{key:"updateRender",value:function(){return this.render()}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"onRotateStart",value:function(){this.shapeControl.rotateDegreeBox.style.visibility="visible"}},{key:"onRotateEnd",value:function(e){var t=this;e=this.getStandardizedRotation(e);var n=this.annot.getRotation();return n=this.getStandardizedRotation(n),e+=Math.abs(n),e=this.getStandardizedRotation(e),this.setRotation(e).then((function(n){return t.updateShapeControl(e),e}))}},{key:"onAfterRotateEnd",value:function(){this.shapeControl.clearCompanions(),this.shapeControl.rotateDegreeBox.style.visibility="hidden"}},{key:"setRotation",value:function(e){var t=this;return this.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){var n=t.getInnerBoundary(),i=t._getShapeControllerBoundaryBox();return t.shapeControl.active(t.$handler,n,i),t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"updateShapeControl",value:function(e){this.shapeControl.ui.style.transform=""}},{key:"getStandardizedRotation",value:function(e){return(e=parseInt(e))<0?e=360-Math.abs(e):e>360&&(e-=360),e}},{key:"onShapeUpdateEnd",value:function(e,t,i){var r=this,o=this;return(0,x._)((function(){var a,A,s,c,u,l,d,h,f,p,g,v,m,y;return(0,F.Jh)(this,(function(b){switch(b.label){case 0:return(0,D._)((0,C._)(n.prototype),"onShapeUpdateEnd",r).call(o,e,t,i),[3,14];case 1:return c<s?[4,A.getPageByIndex(c)]:[3,14];case 2:return[4,b.sent().getAnnots()];case 3:u=b.sent(),l=!0,d=!1,h=void 0,b.label=4;case 4:b.trys.push([4,11,12,13]),f=u[Symbol.iterator](),b.label=5;case 5:return(l=(p=f.next()).done)?[3,10]:(g=p.value,v=g.getId(),a.includes(v)&&v!==o.annot.getId()?(m=o.pdfViewer.getAnnotRender(c,v))&&m.component?[3,7]:[4,o.pdfViewer.getPDFPageRender(c).getAnnotRenderSafely(v)]:[3,9]);case 6:m=b.sent(),b.label=7;case 7:return[4,m.component._esignCnMultiMove(e,i)];case 8:b.sent(),b.label=9;case 9:return l=!0,[3,5];case 10:return[3,13];case 11:return y=b.sent(),d=!0,h=y,[3,13];case 12:try{l||null==f.return||f.return()}finally{if(d)throw h}return[7];case 13:return c++,[3,1];case 14:return[2]}}))}))()}},{key:"_esignCnMultiMove",value:function(e,t){}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.shapeControl&&this.shapeControl.destroy()}},{key:"showContextMenu",value:function(e,t){var i=this,r=this;return(0,x._)((function(){var o,a,A,s,c,u;return(0,F.Jh)(this,(function(l){switch(l.label){case 0:return[3,2];case 1:if(u=l.sent(),r.annot.info.iconName&&"sign-china-stamp"===r.annot.info.iconName.split("_")[0]){if(r.annot.info.iconName.includes("_date"))return[2];setTimeout((function(){c.forEach((function(e,t){return 0!==t&&3!==t&&e.hide()})),s.doHidden();var e=o.getComponentByName("fv--contextmenu-item-group");u&&u.length>1?e.doShown():e.doHidden()}),100),a.doHidden(),A.doHidden()}else a.doShown(),A.doShown(),s.doShown();l.label=2;case 2:return[2,(0,D._)((0,C._)(n.prototype),"showContextMenu",i).call(r,e,t)]}}))}))()}},{key:"doubleTapAnnot",value:function(){this.annot.info.iconName&&"sign-china-stamp"===this.annot.info.iconName.split("_")[0]||(0,D._)((0,C._)(n.prototype),"doubleTapAnnot",this).call(this)}}]),n}(bd);const kd=wd;var xd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="ink",a.$ui.addClass("pdf-page-ink-annot-container"),a.$handler.addClass("pdf-page-ink-annot-handler-container"),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(e)),n=new qc(Object.assign(e,t,{emitter:a.pdfViewer.eventEmitter,interceptor:function(e){return a.checkSize(e)},start:function(){return a.onStartUpdateShape()},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(n),a.addDestroyHook((function(){n.destroy()})),n})),a}return(0,P._)(n,[{key:"checkSize",value:function(e){return!(e.width<10||e.height<10)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e),this.setMargin()}},{key:"movedByOther",value:function(){this.isActive&&(this.activeRect(),this.shapeControl.updateBoundary(this.getBoundary()),this.setMargin())}},{key:"afterRender",value:function(e){if(e.transformed&&this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t),this.setMargin()}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2),n=t[0],i=t[1];return Ta.on({left:0,top:0,right:n,bottom:i}).extract()}},{key:"onStartUpdateShape",value:function(){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this.pdfViewer.config.highPerformance&&(e.width<10&&(e.width=10),this.setRect(e),this.setMargin())}},{key:"onShapeMoving",value:function(e,t,n){var i=this;this.updateCollabOp(e),this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top).then((function(){i.setMargin()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return e.width<10&&(e.width=10),"resize"!==n||this.pdfViewer.config.highPerformance?this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.moveTo(e.left,e.top,n).then((function(e){i.setMargin()}))})):Promise.resolve():this.editDebouncePromise?this.editDebouncePromise.waitForLastTask().then((function(){return i.setRect(e)})).then((function(e){i.setMargin()})):Promise.resolve()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),n=e.getOpacity(),i=e.getBorderWidth(),r=this.propertyDisabled();return{color:t,opacity:n,borderWidth:i,borderStyle:!1,isLocked:this.isLocked(),disabled:r}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"getInkList",value:function(){return this.annot.getInkList()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e)),this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"redraw",value:function(e){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t),r=this.getInkList();return Object.assign(i,{inkList:r})}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),U.Lazy.get(this,"shapeControl",(function(e){e.deactive()}))}}]),n}(bc);const _d=xd;var Pd=n(875),Dd=n.n(Pd),Cd=(n(1044),function(){function e(t,n,i){(0,_._)(this,e),this.viewerComponent=t,this.docPageCount=i;var r="max page: "+i,o=Dd()(r);n||(o='<dialog class="fv__dialog fv__annot-properties-dialog">'.concat(o,"</dialog>"));var a=this.$dialog=N()(o);this.bindChangeEvent();var A=n||document.body;if(a.appendTo(A),!n){var s=a[0];ac().registerDialog(s),s.showModal()}}return(0,P._)(e,[{key:"bindChangeEvent",value:function(){var e=this,t=this.$dialog;t.on("click",".fv__redaction-cancel",(function(){e.close()})).on("click",".fv__place-redaction-dialog-close-icon",(function(){e.close()})).on("click",".fv__redaction-btn",(function(t){e.submit()})).on("change",".redaction-page-radio",(function(n){n.target.checked&&(e.hideError(),"1"==n.target.value?t.find(".fv__redaction-page-range").attr("disabled",""):t.find(".fv__redaction-page-range").removeAttr("disabled"))})).on("keydown",".fv__redaction-page-range",(function(t){e.hideError()}))}},{key:"submit",value:function(){var e=this,t=this.docPageCount,n=[];if("1"==this.$dialog.find(".redaction-page-radio:checked").val())for(var i=0;i<t;i++)n.push(i);else{var r=this.$dialog.find(".fv__redaction-page-range").val();if(new RegExp(/[^\d\-,]/).test(r))return void this.showError();for(var o=r.split(","),a=0;a<o.length;a++){var A=o[a];if(A.indexOf("-")>-1){var s=A.split("-");if(s.length>2)return void this.showError();if(s[0]<1||s[0]>t||s[1]<1||s[1]>t)return void this.showError();for(var c=Math.min(s[0],s[1]),u=Math.max(s[0],s[1]),l=c;l<=u;l++)-1===n.indexOf(l)&&n.push(l-1)}else{if(A<1||A>t)return void this.showError();-1===n.indexOf(n)&&n.push(A-1)}}}this.viewerComponent.placeRedact(n).then((function(t){e.close()}))}},{key:"reset",value:function(){this.hideError(),this.element.querySelector(".redaction-page-radio").checked=!0,this.element.querySelector(".fv__redaction-page-range").value=""}},{key:"showError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.add("fv__redaction-error")}},{key:"hideError",value:function(){this.$dialog[0].querySelector(".fv__redaction-page-range").classList.remove("fv__redaction-error")}},{key:"close",value:function(){var e=this.$dialog;e&&(e[0].close(),e.remove(),this.$dialog=null)}}]),e}()),Sd="annotComponent",Id={reply:{name:"reply",nameI18nKey:"viewer_:contextmenu.annot.reply",callback:function(){this.data(Sd).showReplyDialog("reply")},disabled:function(){return this.data(Sd).replyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Sd).removeAnnot()},disabled:function(){return this.data(Sd).deleteDisabled()}},apply:{name:"apply",nameI18nKey:"viewer_:contextmenu.annot.apply",callback:function(){return this.data(Sd).apply()},disabled:function(){return this.data(Sd).assembleDocDisabled()}},applyAll:{name:"applyAll",nameI18nKey:"viewer_:contextmenu.annot.applyAll",callback:function(){return this.data(Sd).applyAll()},disabled:function(){return this.data(Sd).assembleDocDisabled()}},place:{name:"place",nameI18nKey:"viewer_:contextmenu.annot.place",callback:function(e,t,n){this.data(Sd).showPlaceMarkDialog(e,t,n)},disabled:function(){return this.data(Sd).moveDisabled()}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(Sd).showPropertiesDialog(e,t,n)}}};!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.component.renderAppearanceType;if(this.component.needToggleView&&this.component.needToggleView()&&!this.component.shouldRenderByMouseEvent()){var r=this.canvas.getContext("2d");return r.clearRect(0,0,this.canvas.width,this.canvas.height),void r.save()}if("rollover"!==i)return(0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e,t);var o=this.canvas.getContext("2d");o.save(),o.fillStyle="black",o.fillRect(0,0,this.canvas.width,this.canvas.height),o.restore()}}])}(Al);var Ed=[{name:"U.S. FOIA",children:["(b) (1) (A)","(b) (1) (B)","(b) (2)","(b) (3) (A)","(b) (3) (B)","(b) (4)","(b) (5)","(b) (6)","(b) (7)(A)","(b) (7)(B)","(b) (7)(C)","(b) (7)(D)","(b) (7)(E)","(b) (7)(F)","(b) (8)","(b) (9)"]},{name:"U.S. Privacy Act",children:["(b)","(d)(5)","(j)(1)","(j)(2)","(k)(1)","(k)(2)","(k)(3)","(k)(4)","(k)(5)","(k)(6)","(k)(7)"]}];var Rd=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Id,events:{show:function(){return this.data(Sd).updateDeleteStatus(!0),!0},hide:function(){return this.data(Sd).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),Td=function(){},Md=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a,A;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="redact",a.$ui.addClass("fv__pdf-page-redact-annot-container"),a.$handler.addClass("fv__pdf-page-redact-annot-handler-container"),a.$ui.css("z-index",99),a.$handler.css("z-index",99),a._isEditting=!1,A=!!e.isArea(),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var t={moveable:!0,resizable:A,enableDiagonally:!0},n=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(t)),i=new qc(Object.assign(t,n,{emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t){return a.onShapeMoving(e,t)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1}));return e.isArea()?a.processShapeControlPermissionCtrl(i):i.disable(),i})),a}return(0,P._)(n,[{key:"assembleDocDisabled",value:function(){return 40!=(40&this.docRender.getUserPermission().getValue())}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"onShapeMoving",value:function(e,t){this._edittingRect=this.transformToPDFRect(e),this._isEditting=!0;try{this._updateShapeControlMargin(),this._updateShapeControllerBoundaryBox()}finally{this._isEditting=!1}}},{key:"getRect",value:function(){return this._isEditting?this._edittingRect:(0,D._)((0,C._)(n.prototype),"getRect",this).call(this)}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return i.setRect(e)})):Promise.resolve()}},{key:"transformToPDFRect",value:function(e){var t=e.left,n=e.top,i=e.width,r=e.height;i=Math.max(.001,i),r=Math.max(.001,r);var o=this.scale,a=this.rotate;return this.getPDFPage().reverseDeviceRect({left:t,top:n,right:t+i,bottom:n+r},o,a)}},{key:"_updateShapeControllerBoundaryBox",value:function(){this.shapeControl.updateBoundaryBox(this._getShapeControllerBoundaryBox())}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"_updateShapeControlMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"_transformShapeOfInnerRectToOuterRect",value:function(e){var t={left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},n=Ta.subtract(this.getRect(),this.getInnerRect()),i=Ta.on(t).add(n).extract();return{left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top}}},{key:"active",value:function(){var e,t=this.annot,i=t.info.overlayCode;if(i.length){var r,o=(e=localStorage.getItem("modifiedUSCodes"))?JSON.parse(e):(0,R._)(Ed),a="";i.forEach((function(e,t){t%2?a+=1!=t?","+r[e]:r[e]:r=o[e].children})),a!=t.info.overlayText&&t.setRedactAppearance({overlayText:t.info.overlayText,redactionCode:[]})}(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox(),t={left:e.left,top:e.top,width:e.width+2,height:e.height+2};this.shapeControl.active(this.$handler,this.getBoundary(),t)}},{key:"redraw",value:function(e){return this.render()}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"showPlaceMarkDialog",value:function(){if(this.$placeRedactionControl&&this.$placeRedactionControl.$dialog);else{var e=this.pdfViewer.currentPDFDoc.info.pageCount;this.$placeRedactionControl=new Cd(this,document.body,e)}}},{key:"hidePlaceMarkDialog",value:function(){this.$actionsControl.close()}},{key:"placeRedact",value:function(e){var t=this,n=function(n){var i=n.getRects(),r=e.map((function(e){return t.pdfViewer.currentPDFDoc.getPageByIndex(e).then((function(e){if(!e.isVirtual()){var t=Object.assign({color:n.getBorderColor()},n.getRedactAppearance());return e.markRedactAnnot(i,t).then((function(e){var t=[];return n.replies.map((function(n){t.push(e[0].addReply(n.info))})),Promise.all(t).then((function(){return e}))}))}}))}));return Promise.all(r).then((function(e){return e.filter(Boolean)}))},i=this.pdfViewer.getAllActiveElements();return i.every((function(e){return"redact"===e.annot.getType()}))?Promise.all(i.map((function(e){return n(e.annot)}))):n(this.annot)}},{key:"apply",value:function(){var e=this,t=this.pdfViewer;if(t)return t.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then((function(){return e.annot.apply()}),Td)}},{key:"applyAll",value:function(){var e=this.pdfViewer;if(e)return e.viewerUI.confirm({message:"viewer_:contextmenu.annot.applyConfirm",level:"warning"}).then((function(){var t=e.getCurrentPDFDoc();return t.redacted=!0,t.applyRedaction()}),Td)}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),n=e.getApplyFillColor()||4278190080,i=this.propertyDisabled(),r=this.isLocked(),o=e.info,a=o.overlayText,A=o.fontName,s=o.isAutoFontSize,c=o.justification,u=o.isRepeat,l=o.isOverlayCode,d=o.defaultAppearance;return{color:t,applyFillColor:n,borderStyle:!1,disabled:i,isLocked:r,overlayText:a,fontName:A,isAutoFontSize:s,justification:c,isRepeat:u,isOverlayCode:l,textSize:d.textSize,textColor:d.textColor,overlayCode:o.overlayCode}}},{key:"setApplyFillColor",value:function(e){return this.annot.setRedactApplyFillColor(e)}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;this.getAnnotFlag().checkNoZoom()&&(s=a.right-a.left,c=a.bottom-a.top);var u=Math.ceil(c/r),l=Math.ceil(s/r),d=(0,H.F2)(1)*e*2;return[u,l,s+=d,c+=d,r,i,e,t,a.left,a.top]}},{key:"mouseEnter",value:function(){this.renderAppearanceType=He.ROLLOVER,this.redraw(!0)}},{key:"mouseLeave",value:function(){this.renderAppearanceType=He.NORMAL,this.redraw(!0)}}],[{key:"getDefaultContextMenuConfig",value:function(){return Rd}}]),n}(bc);const Fd=Md;var Ld=ic(),Nd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="polygonCloud",a}return(0,P._)(n,null,[{key:"getDefaultContextMenuConfig",value:function(){return Ld}}]),n}(el),Od={};"function"==typeof FontFace?function(e,t){return Od[e]?Od[e]:Od[e]=new Promise((function(n,i){t().then((function(t){if(!t)return i(),void Od[e];var r=new FontFace(e,t.buffer||t.url);r.load().then((function(){document.fonts.add(r),n(r)}),(function(){i(),delete Od[e]}))}),(function(){i(),delete Od[e]}))}))}:function(e,t){return Od[e]?Od[e]:Od[e]=new Promise((function(n,i){t().then((function(t){return t?t.buffer?URL.createObjectURL(new Blob([t.buffer],"application/x-font-woff")):t.url:(i("woff is invalid"),void delete Od[e])})).then((function(t){if(!t)return i();var r=document.createElement("style");r.innerHTML='@font-face{font-family:"'+e+'"; src:url("'+t+'");}',document.head.appendChild(r),n(r)}))}))};var Bd="annotComponent",jd={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(Bd).showPropertiesDialog(e,t,n)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Bd).removeAnnot()},disabled:function(){return this.data(Bd).deleteDisabled()}}};var Vd="editDiv",Ud=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"formatHtmlStr",value:function(e){var t=e,n={split:"split",remove:"remove",removeSelf:"removeTag"};[{startStr:"\x3c!--StartFragment--\x3e",endStr:"\x3c!--EndFragment--\x3e",operate:n.split},{startStr:"\x3c!--[if",endStr:"<![endif]--\x3e",operate:n.remove},{startStr:"<![if",endStr:"<![endif]>",operate:n.remove},{startStr:"<o:p>",endStr:"</o:p>",operate:n.remove},{startStr:"<w:Sdt",endStr:"</w:Sdt>",operate:n.removeTag},{startStr:"<w:sdtPr>",endStr:"</w:sdtPr>",operate:n.remove}].forEach((function(e){for(var i=t.indexOf(e.startStr);i>-1;){switch(e.operate){case n.split:var r=t.indexOf(e.endStr);t=t.slice(i+e.startStr.length,r>-1?r:t.length);break;case n.remove:var o=t.indexOf(e.endStr),a=t.substring(0,i),A=t.substring(o+e.endStr.length);t=a+A;break;case n.removeTag:var s=t.substring(i),c=s.indexOf(">");t=(t=t.substring(0,i)+s.substring(c+1)).split(e.endStr).join("")}i=t.indexOf(e.startStr)}}));var i=document.createElement("div");return i.contentEditable=!0,i.id=Vd,i.style.display="none",document.body.appendChild(i),i.innerHTML=t.replaceAll("\n","").replaceAll("\r",""),this.addTagClassName(i)}},{key:"getFont",value:function(e){var t=e[0],n=new RegExp("^\\s*".concat(t,"\\b")),i=["-apple-system","system-ui"," BlinkMacSystemFont"," Segoe UI"," Roboto"," Oxygen"," Ubuntu"," Fira Sans"," Droid Sans"," Helvetica Neue"," sans-serif"].some((function(e){return n.test(e)}));return i?(U.DeviceInfo.isWindows?t="DengXian Light":U.DeviceInfo.isMacOS||U.DeviceInfo.isIOS?t="PingFangSC":U.DeviceInfo.isAndroid?t="Roboto":U.DeviceInfo.isLinux&&(t="Noto Sans"),t):t}},{key:"formatRichText",value:function(e){var t=this,n=this.formatHtmlStr(e),i=document.getElementById("".concat(Vd)),r=n.map((function(e){var n,r,o,a,A=i.getElementsByClassName("".concat(e))[0],s=getComputedStyle(A),c=s.fontFamily.replaceAll('"',"").split(","),u=t.getFont(c);return{content:A.textContent,richTextStyle:{font:{name:u},textSize:parseInt(s.fontSize),textAlignment:rt[s.textAlign],textColor:(0,U.colorConvertor)(s.color,"int"),isBold:(o=s.fontWeight,a=parseFloat(o),isNaN(a)?o.includes("bold"):a>400),isItalic:(r=s.fontStyle,r.includes("italic")||r.includes("oblique")),isUnderline:s.textDecoration.includes("underline"),isStrikethrough:s.textDecoration.includes("line-through"),cornerMarkStyle:(n=s.verticalAlign,{sub:Vt.subscript,super:Vt.superscript}[n]||Vt.none)}}}));return i.remove(),r}},{key:"addTagClassName",value:function(e){var t=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.childNodes.length;(["block","flex"].includes(getComputedStyle(e).display)&&e.nextElementSibling&&(e.innerHTML+="\n"),r>0)&&Array.from(e.childNodes).forEach((function(r){if("#text"===r.nodeName){var o=document.createElement("span");o.innerHTML="".concat(r.textContent),o.style.textDecoration="".concat(n.underline?"underline":""," ").concat(n.lineThrough?"line-through":""),o.style.verticalAlign=n.verticalAlign;var a="foxitwebsdk-".concat(Date.now(),"-").concat(parseInt(1e3*Math.random()));i.push(a),o.classList.add(a),e.replaceChild(o,r)}else{var A=getComputedStyle(r).textDecoration,s={};A.includes("underline")&&(s.underline=!0),A.includes("line-through")&&(s.lineThrough=!0);var c=getComputedStyle(r).verticalAlign;["sub","super"].includes(c)&&(s.verticalAlign=c),t.addTagClassName(r,i,Object.assign({},n,s))}}));return i}}]),e}(),Hd=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:jd,events:{show:function(){return this.data(Bd).updateDeleteStatus(!0),!0},hide:function(){return this.data(Bd).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),zd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a,A;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="freetext",a.removeAllEventsUsedByEditingMode=U.noop,a.$ui.addClass("fv__pdf-page-freetext-annot-container"),a.$handler.addClass("fv__pdf-page-freetext-annot-handler-container"),a.$textInput=N()("<textarea class='fv__ui-freetext-editor ".concat(a.annot.getIntent(),"'></textarea>")),A=a.$textInput,a.$handler.append(A),a.bindTextInputEvent(A),a.resizeTaskExecutor=new U.QueuedAsyncTaskExecutor,a.addDestroyHook((function(){a.removeAllEventsUsedByEditingMode()}),a.pdfViewer.addEventListener("before-clear-pageCache",(function(e){e===a.annot.page.getIndex()&&"editing"===a.status&&a.$textInput.trigger("blur")}))),a}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.$rect&&this.$rect.show()}},{key:"setContent",value:function(e){var t=this;return this.annot.setContent(e).then((function(e){return t.collaborate(),e}))}},{key:"getInnerBoundary",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=this.getPDFPage(),r=this.annot.getInnerRect(),o=this.annot.getRect(),a=r.right-r.left,A=o.right-o.left,s=this.annot.getBorderWidth();this.annot.getIntent()===be.FREETEXT_CALLOUT?(e=r,t&&(e={left:r.left+s,right:r.right-s,top:r.top-s,bottom:r.bottom+s})):this.annot.getIntent()===be.FREETEXT_TYPEWRITER?e=o:A-a>=s?e=r:t&&(e={left:o.left+s,right:o.right-s,top:o.top-s,bottom:o.bottom+s});var c=i.getDeviceRect(e,this.scale,n);return{left:c.left,top:c.top,width:c.right-c.left,height:c.bottom-c.top}}},{key:"setInnerRect",value:function(e){return this.annot.setInnerRectNoAction(e)}},{key:"setCalloutLinePoints",value:function(e){return this.annot.setCalloutLinePoints(e)}},{key:"showReplyDialog",value:function(){var e=this.getAnnotFlag();try{return this.annot.checkModidyPerm(),!(e.checkLockedContents()||e.checkReadOnly()||e.checkLocked())&&(this.backup(),this.enableEditMode(),!0)}catch(e){return!1}}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"computeFontSizePx",value:function(){var e=this.annot.getDefaultAppearance();return Math.max(4*e.textSize/3*this.scale,9.5)}},{key:"computeFontSizeScale",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx())/12;return Math.min(e,1)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.1*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"computeCurrentMinMaxHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputRect,n=void 0===t?this.$textInput[0].getBoundingClientRect():t,i=e.pageRect,r=void 0===i?this.parent("pdfPageRender").$ui[0].getBoundingClientRect():i,o=e.rotate,a=void 0===o?this.getFinalRotateAngle():o,A=e.padding,s=void 0===A?this.getPadding():A,c=this.pdfViewer.getSmartScale(this.scale),u=n.height;return{minHeight:Math.min(20*c*2/3*2,u),maxHeight:function(){switch(a){case 90:return n.right-r.left;case 180:return n.bottom-r.top;case 270:return r.right-n.left;default:return r.bottom-n.top}}()-s}}},{key:"getStyle",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.annot.getRotation(),i=this.annot.page.getRotationAngle(),r=this.getRect(),o=this.getRect(this.scale,n+i),a=o.right-o.left,A=o.bottom-o.top,s=this.annot,c=s.getFillColor(),u=s.getDefaultAppearance(),l=u.textColor,d=this.computeFontSizePx(),h=this.fontSizeScale=d/12;h>1&&(h=this.fontSizeScale=1);var f=this.computeLineHeight(d,h),p=(0,U.colorConvertor)(16777215&c,"#");0==c&&(p=t?"white":"transparent");var g=(0,U.colorConvertor)(16777215&l,"#");0==l&&(g="black");var v=u.font||{},m=this.annot.getAlignment();switch(m){case 0:m="left";break;case 1:m="center";break;case 2:m="right"}var y="center";switch((this.rotate+n+i)%360){case 0:case 180:y="center";break;case 90:y="".concat(A/2,"px center");break;case 270:y="".concat(a/2,"px ").concat(a/2,"px")}return f+="px",Object.assign({"text-align":m,color:g,background:p,display:"block","font-size":d,fontFamily:'"'+[v.baseName,v.familyName,v.nameKey,v.name,"FoxitPDFSDKForWeb"].join('","')+'"',lineHeight:f},e?{left:r.left,top:r.top,width:a,height:A,"transform-origin":y,transform:"rotate(".concat(n+this.rotate+i,"deg)")}:{})}},{key:"setDomRect",value:function(e){var t=this.annot.getRotation()+this.annot.page.getRotationAngle()+this.rotate,n=!0;(this.isCallout()||this.isTextBox())&&(this.annot.getBorderStyle()===me.CLOUDY&&(n=!1));var i=this.getInnerBoundary(n),r=i.left,o=i.top,a=i.width,A=i.height,s=new rn.Z,c=a,u=A,l=r,d=o;switch(t%360){case 90:c=-a,l=r+a;break;case 180:c=-a,l=r+a,u=-A,d=o+A;break;case 270:u=-A,d=o+A}s.rotate((360-t)*Math.PI/180);var h=s.transformRect(0,0,c,u);e.left=h[0]+l,e.top=h[1]+d,e.width=h[2]-h[0],e.height=h[3]-h[1],e["max-height"]="initial",e["max-width"]="initial",e["min-width"]="initial",e["min-height"]="initial",e["transform-origin"]="0 0",e.transform="rotate(".concat(t,"deg)")}},{key:"showContextMenu",value:function(e,t){return"editing"!==this.status&&(0,D._)((0,C._)(n.prototype),"showContextMenu",this).call(this,e,t)}},{key:"enableEditMode",value:function(){var e=this;if("editing"!==this.status){this.shapeControl&&this.shapeControl.deactive();var t=(0,E._)(this.docRender.pdfViewer.getGroupCount(),3),n=(t[0],t[1],t[2]);if(this.annot.isGrouped()){var i=this.annot.getGroupHeader().getId(),r=n[i];for(var o in delete n[i],n[-1].forEach((function(t){return e.docRender.pdfViewer.unActiveElement(t)})),n)n[o].forEach((function(t){return e.docRender.pdfViewer.unActiveElement(t)}));r.forEach((function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)}))}else for(var a in n)n[a].forEach((function(t){t.getId()!=e.getId()&&e.docRender.pdfViewer.unActiveElement(t)}));this.status="editing";var A=this.annot;this.$handler.addClass("active"),this.updateTextInputStyle();var s=A.getContent();this.$textInput.val(s);var c=this.$textInput.get(0);if(A.getIntent()===be.FREETEXT_TYPEWRITER)this.setHeight(this.$textInput);(0,U.moveCursorToEnd)(c,{preventScroll:!0}),this.pdfViewer.eventEmitter.emit("editingFreeText",this);var u=function(t){e.annotsRender&&t===e.annotsRender.pageRender&&"editing"===e.status&&e.updateTextInputStyle()};this.pdfViewer.eventEmitter.on(de.renderPageSuccess,u),this.removeAllEventsUsedByEditingMode=function(){e.pdfViewer.eventEmitter.off(de.renderPageSuccess,u)}}}},{key:"updateTextInputStyle",value:function(){var e=this.getStyle(!1,!0);this.setDomRect(e);var t=e.transform||"";this.fontSizeScale>=1?t+=" scale(1)":(t+="scale(".concat(this.fontSizeScale,")"),e.width/=this.fontSizeScale,e.height/=this.fontSizeScale,e.lineHeight="12px"),e.transform=t,this.$textInput.css(e)}},{key:"bindEvent",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"bindEvent",this).call(this);var t=function(t){(0,U.match)(t).when(U.matchers.Escape,(function(){t.preventDefault(),e.$textInput.blur()}))};this.$textInput.on("keyup",t).on("keydown",t),this.$textInput.on("mousemove",(function(e){e.stopPropagation()}))}},{key:"unActive",value:function(){this.$textInput.trigger("blur"),(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl&&this.shapeControl.deactive(),this.$rect&&this.$rect.hide(),clearInterval(this.pressInterval)}},{key:"getInnerRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.getPDFPage(),i=this.annot.getInnerRect();return n.getDeviceRect(i,e,t)}},{key:"bindTextInputEvent",value:function(e){var t,n,i=this,r=!1;e.on("focus",(function(e){i.oldInnerRect=i.annot.getInnerRect(),i.oldRect=i.annot.getRect(),i.oldCalloutLinePoints=i.annot.getCalloutLinePoints&&i.annot.getCalloutLinePoints(),i.annot.setIsEditting(!0)})).on("paste",(function(e){n=null;var t=e.originalEvent.clipboardData.getData("text/html");if(0!==t.length){var i=Ud.formatRichText(t);0!==i.length&&(n=i[0].richTextStyle.font)}})).on("input",(function(e){r=!0,i.handleInputEvent(e)})).on("keydown",(function(e){t=i.$textInput.val(),27!==e.keyCode&&e.ctrlKey&&65===e.keyCode&&i.$textInput.trigger("select")})).on("keyup",(function(e){t!==i.$textInput.val()&&(r=!0)})).on("blur",(function(e){var t=r;if(r=!1,"editing"!=i.status)return i.updateTextInputScale(1),void i.annot.setIsEditting(!1);var o=i.parent("pdfPageRender");i.removeAllEventsUsedByEditingMode();var a=i.$textInput;i.delayRemoveActive=!0;var A=function(){var e=a[0].getBoundingClientRect();return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}(),s=!1;switch(i.annot.getIntent()){case be.FREETEXT_TEXTBOX:case be.FREETEXT_TYPEWRITER:var c=i.getRect(),u=i.getInnerRect(),l=(c.bottom-c.top-(u.bottom-u.top))/2,d=i.getFinalRotateAngle(),h=a[0].scrollHeight,f=i.computeLineHeight(),p=o.$ui[0].getBoundingClientRect();if(h-A.height>=f){s=!0;var g=p.height-2*l,v=p.width-2*l;switch(d){case 0:A.height=Math.min(h,g),A.top=A.bottom-A.height;break;case 90:A.width=Math.min(h,v),A.right=A.left+A.height;break;case 180:A.height=Math.min(h,g),A.bottom=A.top+A.height;break;case 270:A.width=Math.min(h,v),A.left=A.right-A.height}}case be.FREETEXT_CALLOUT:}i.status="viewing";var m=i.parent("pdfPageRender").getPDFRectFromClientRect(A);if(!i.beforeBlur(e,m)){var y=Promise.resolve();if(t)switch(i.annot.getIntent()){case be.FREETEXT_TYPEWRITER:s&&(y=i.setRectInPDF(m,!1));break;case be.FREETEXT_TEXTBOX:s&&(y=i.setInnerRectHeight(m));break;default:y=i.setInnerRectHeight(m)}y.then((function(t){var r=i.annot.getContent();if(e.target.value!==r)return n?i.setDefaultAppearance("font",n).then((function(t){return i.setContent(e.target.value)})):i.setContent(e.target.value)})).then((function(t){i.pdfViewer.activeElement(),N()(e.target).css({display:"none"}).removeAttr("contenteditable")})).then((function(e){return i.$textInput.css("display","none"),i.oldInnerRect=null,i.oldRect=null,i.oldCalloutLinePoints=null,i.updateTextInputScale(1),i.$handler&&i.$handler.removeClass("active"),i.postBlur()})).then((function(e){return i.redraw()})).finally((function(){i.annot.setIsEditting(!1),i.delayRemoveActive=!1}))}}))}},{key:"isTypeWriter",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===be.FREETEXT_TYPEWRITER}},{key:"isCallout",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===be.FREETEXT_CALLOUT}},{key:"isTextBox",value:function(){var e;return(null===(e=this.annot)||void 0===e?void 0:e.getIntent())===be.FREETEXT_TEXTBOX}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((function(){var t=e.$textInput[0],n=t.scrollHeight,i=t.scrollWidth,r=t.clientHeight,o=t.clientWidth;if(n>r||i>o)return e.setHeight(e.$textInput)}))}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;return this.annot.updateCalloutFigure(e,t,n).then((function(){return i.updateRender().then((function(){i.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,i)}))}))}},{key:"updateTextInputScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.$textInput[0].style.transform||"";this.$textInput[0].style.transform=t.replace(/scale\(\d+(\.\d+)?\)/,"scale(".concat(e,")"))}},{key:"beforeBlur",value:function(){return!1}},{key:"postBlur",value:function(){0}},{key:"setHeight",value:function(e,t,n){}},{key:"getPadding",value:function(){var e=this.annot,t=e.getRect(),n=e.getBorderInfo(),i=0;if(5!=n.style){var r=n.width||1;i=1.5*r,this.isHTMLSimulate("freetext")?i=2*r:t.top-t.bottom<2*i&&(i=r)}else i=e.getInnerRect().left-t.left;return i}},{key:"setDefaultAppearance",value:function(e,t){var n=this;"textColor"==e&&(t=(0,U.colorConvertor)(t,"int",1));var i=this.annot.getDefaultAppearance();return Object.assign(i,(0,X._)({},e,t)),(["textSize","textColor"].includes(e)?this.annot.setAppearanceWithoutFontFamily(i):this.annot.setDefaultAppearance(i)).then((function(e){n.activeRect(),n.shapeControl.adjustPointControl&&n.shapeControl.adjustPointControl(),n._applyShapeChange&&n._applyShapeChange(),n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)}))}},{key:"getFinalRotateAngle",value:function(){var e=this.annot.page.getRotationAngle();return((this.annot.getRotation()+e+this.rotate)%360+360)%360}},{key:"getMaxSize",value:function(e){this.getPDFPage();var t=this.getFinalRotateAngle(),n=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),i=e.getBoundingClientRect(),r=n.bottom-i.top,o=n.right-i.left,a=this.annot.getInnerRect(),A=this.annot.getRect(),s=(A.top-A.bottom-(a.top-a.bottom))/2,c=(A.right-A.left-(a.right-a.left))/2,u=this.pdfViewer.getSmartScale(this.scale),l=4*s/3*u,d=4*c/3*u;switch(t){case 0:return{width:o-d,height:r-l};case 180:return{width:o-d,height:i.bottom-n.top-l};case 90:return{width:r-d,height:i.right-n.left-l};case 270:return{width:r-d,height:n.right-i.left-l}}}}],[{key:"getDefaultContextMenuConfig",value:function(){return Hd}}]),n}(bc);const Wd=zd;function Yd(e,t){var n=getComputedStyle(e),i=n.overflow,r=n.whiteSpace,o=e.clientWidth;e.style.cssText+="\n        min-width: ".concat(t.minWidth,"px;\n        min-height: ").concat(t.minHeight,"px;\n        max-width: ").concat(t.maxWidth,"px;\n        max-height: ").concat(t.maxHeight,"px;\n        overflow: hidden;\n        white-space: ").concat(o>=t.maxWidth?"pre-line":"nowrap",";\n        word-break: break-word;\n    ");var a=e.scrollWidth,A=Math.max(Math.min(a,t.maxWidth),t.minWidth);e.style.cssText+="\n        width: ".concat(A,"px;\n    ");var s=e.scrollHeight,c=Math.max(Math.min(s,t.maxHeight),t.minHeight);e.style.cssText+="\n        overflow: ".concat(i,";\n        width: ").concat(A,"px;\n        height: ").concat(c,"px;\n        white-space: ").concat(r,";\n    "),delete e.style.whiteSpace}var Gd=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="typewritter",U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new qc((0,w._)((0,b._)({},a.getShapeOptions()),{auxiliaryLine:void 0}));return a.processShapeControlPermissionCtrl(e),e})),a.$ui.addClass("fv__pdf-page-typewritter-annot-container"),a.$handler.addClass("fv__pdf-page-typewritter-annot-handler-container");var A=N()("<div class='fv__ftui-container'><pre class='fv__typewriter_ui'></pre></div>");return a.$pre=A.find("pre"),a.$ui.append(A),a}return(0,P._)(n,[{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.158*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((0,x._)((function(){var t,n,i,r,o,a,A,s,c,u,l,d,h,f;return(0,F.Jh)(this,(function(p){return t=e.getFinalRotateAngle(),n=e.$textInput[0],i=n.getBoundingClientRect(),r=e.parent("pdfPageRender"),o=r.$ui[0].getBoundingClientRect(),a=e.getPadding(),A=e.getMaxSize(n),s=A.width,c=e.computeCurrentMinMaxHeight({inputRect:i,padding:a,rotate:t,pageRect:o}),u=c.minHeight,l=c.maxHeight,d=n.clientHeight,Yd(n,{maxWidth:s,maxHeight:l,minHeight:u,minWidth:1}),h=n.getBoundingClientRect(),h.height>l?(n.style.height=l+"px",f=!0):f=n.clientHeight!==d,f?[2,e.setHeight(e.$textInput)]:[2]}))})))}},{key:"getShapeOptions",value:function(){var e=this;return{emitter:this.pdfViewer.eventEmitter,resizable:!1,start:function(){return e.onStartUpdateShape()},update:function(t,n){return e.onShapeUpdating(t,n)},moving:function(t,n,i){return e.onShapeMoving(t,n,i)},end:function(t,n,i){return e.onShapeUpdateEnd(t,n,i)},enableDiagonally:!0}}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&(this.activeRect(),this.$rect&&this.$rect.show())}},{key:"onStartUpdateShape",value:function(e,t,n){}},{key:"onShapeUpdating",value:function(e,t){this.updateCollabOp(e)}},{key:"onShapeMoving",value:function(e,t,n){this.updateCollabOp(e),this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMoving")}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":r=this.setRect(e),this.render()}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r.then((function(){return i.updateToobarPostion()}))}},{key:"updateToobarPostion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.$toolbar){var t=this.$toolbar,n=this.annot.getRect(),i=this.annotsRender.pageRender,r=i.page,o=r.getDeviceRect(n,i.getScale(),i.getRotation());if(t.css({top:o.top+"px",left:o.left-5+"px"}),o.top<30){var a=o.bottom-o.top;t.css({transform:"translatey(".concat(a+5,"px)")})}var A=i.getScale(),s=r.getPxWidth()*A,c=N()(".fv__ui-sidebar")[0].getBoundingClientRect(),u=t[0].getBoundingClientRect();if(u.right-c.right>s){var l=u.right-c.right-s;e?t.css({left:-5-l-5+"px"}):t.css({left:o.left-l-5+"px"})}}}},{key:"showToolbar",value:function(e){var t=this;this.$toolbar&&this.$toolbar.remove();var n=N()('<div class="fv__text-fill-sign-toolbar">\n                                            <div class="fv__text-fill-sign-toolbar-base">\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-decrease"></div>\n                                                <div class="fv__text-fill-sign-toolbar-icon fv__text-fill-sign-toolbar-increase"></div>\n                                            </div>\n                                        </div>');e.after(n),this.$toolbar=n,this.updateToobarPostion(),this.$toolbar.find(".fv__text-fill-sign-toolbar-decrease").on("click",(function(e){var n=t.annot.getDefaultAppearance().textSize;n<7||t.annot.setDefaultAppearance({textSize:n-1})})),this.$toolbar.find(".fv__text-fill-sign-toolbar-increase").on("click",(function(e){var n=t.annot.getDefaultAppearance().textSize;n>20||t.annot.setDefaultAppearance({textSize:n+1})}))}},{key:"hideToolbar",value:function(){this.$toolbar&&this.$toolbar.remove()}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this._applyShapeChange()}},{key:"_applyShapeChange",value:function(){var e,t=this,n=this._getShapeControllerBoundaryBox();e=this.getBoundary(),this.getAppPermission().then((function(i){if(!t.isDestroyed){!!t.groupMoveDisabled()||(i.ignorable()?t.moveDisabled():!i.isAdjustable()||t.moveDisabled())?t.shapeControl.disable():t.shapeControl.enable(),t.shapeControl.active(t.$handler,e,n),t.setMargin()}}))}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getPropertyOptions",value:function(){(0,D._)((0,C._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=e.getOpacity(),i=this.propertyDisabled(),r=this.isLocked();return{opacity:t,borderStyle:!1,disabled:i,fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,font:e.getDefaultAppearance().font,isLocked:r}}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive(),this.hideToolbar()}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()||this.groupMoveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,t){var i,r=this.annot.page.getRotationAngle(),o=((this.annot.getRotation()+r+this.rotate)%360+360)%360,a=this.parent("pdfPageRender").$ui[0].getBoundingClientRect(),A=e[0],s=A.getBoundingClientRect(),c=s.left,u=s.top,l=s.bottom,d=s.right,h=s.width,f=s.height;switch((U.isMobile||U.isMiPad||U.isIPAD||U.isTablet)&&(h=e.width(),f=e.height()),o){case 0:c+(i=1.2*h)>a.right&&(i=a.right-c);break;case 90:u+(i=1.2*f)>a.bottom&&(i=a.bottom-u);break;case 270:l-(i=1.2*f)<a.top&&(i=l-a.top);break;case 180:d-(i=1.2*h)<a.left&&(i=d-a.left)}this.isTypeWriter()&&(e.width(i),e.height(A.scrollHeight)),s=A.getBoundingClientRect();var p=this.annotsRender.pageRender,g=p.rotate,v=p.scale,m={left:s.left-a.left,right:s.right-a.left,top:s.top-a.top,bottom:s.bottom-a.top};m=this.annot.page.reverseDeviceRect(m,v,g),(0,D._)((0,C._)(n.prototype),"setHeight",this).call(this,e,m,m)}},{key:"beforeBlur",value:function(e,t){if(this.$textInput.val().length<1)return this.$ui.hide(),this.removeAnnot(),!0;var n=this.annot,i=this.annot.getContent();if(!this.isHTMLSimulate("freetext"))return this.$ui.show(),!1;if(i==e.target.value)return this.$pre.html(i).show(),!0;i=e.target.value,n.info.content=i,n.info.RC="",n.info.rect=t;var r=this.getInnerBoundary(!1);this.$ui.css(r),this.$pre.html(i).show();var o=this.$ui.get(0).style,a=parseFloat(o.left)*this.fontSizeScale,A=parseFloat(o.top)*this.fontSizeScale,s=this.$ui.get(0).getBoundingClientRect(),c={left:a,top:A,right:a+s.width*this.fontSizeScale,bottom:A+s.height*this.fontSizeScale};return t=this.annot.page.reverseDeviceRect(c,this.scale,this.rotate),n._setRect(t),n._setContent(i),!0}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.scale=e,this.rotate=t,!this.isHTMLSimulate("freetext")||"typewritter"!=this.name)return this.isHTMLSimulate("freetext")&&"textbox"==this.name?(this.$ui.css({overflow:"hidden"}),(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)):(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t);var i=this.getStyle();i["word-break"]="keep-all",i["white-space"]="nowrap",i.opacity=this.annot.getOpacity();var r=this.$ui.find(".fv__ftui-container"),o=this.fontSizeScale;r.css({transform:"scale(".concat(o,")"),width:100/o+"%"}),this.$ui.css(i),this.$pre.text(this.annot.getContent())}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.isHTMLSimulate("freetext")?this.render(e,t):(0,D._)((0,C._)(n.prototype),"updateSize",this).call(this,e,t)}},{key:"enableEditMode",value:function(){"editing"!==this.status&&(this.isHTMLSimulate("freetext")?this.$pre.hide():"typewritter"==this.name&&this.$ui.hide(),(0,D._)((0,C._)(n.prototype),"enableEditMode",this).call(this))}}]),n}(Wd);const $d=Gd;var Kd=n(1885),qd=n.n(Kd),Jd=function(){function e(){(0,_._)(this,e),this.drawAuxiliaryLine=Uc,this.clearAuxiliaryLine=Hc}return(0,P._)(e,[{key:"init",value:function(e,t){this.calloutRender=e,this.$ui=N()(t),this.$ui.hide()}},{key:"draw",value:function(e,t,n){var i=this.$ui[0];i.width=t.right-t.left,i.height=t.bottom-t.top;var r=i.getContext("2d");r.save(),r.clearRect(0,0,this.$ui.width(),this.$ui.height()),r.beginPath(),e.length>1&&(r.moveTo(e[0][0]-t.left,e[0][1]-t.top),r.lineTo(e[1][0]-t.left,e[1][1]-t.top)),e.length>2&&r.lineTo(e[2][0]-t.left,e[2][1]-t.top),r.strokeStyle="#5aa",r.lineWidth=2,r.stroke(),r.save();var o=n.width||n.right-n.left,a=n.height||Math.abs(n.top-n.bottom);r.rect(n.left-t.left,n.top-t.top,o,a),r.fillStyle="rgba(88, 176, 176, 0.5)",r.stroke(),r.fillRect(n.left-t.left,n.top-t.top,o,a),r.restore()}},{key:"show",value:function(e,t,n){e&&this.draw(e,t,n),this.$ui.show()}},{key:"hide",value:function(){this.$ui&&this.$ui.hide()}}]),e}();const Xd=Jd;var Qd="resize",Zd="area",eh="text";var th=function(){function e(t){var n=this;(0,_._)(this,e),this.control=t,this.annot=t.annot,this.companions=[],this.shape={getRect:function(){return n.annot.getRect()}},this.deltaX=0,this.deltaY=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}return(0,P._)(e,[{key:"companion",value:function(e){this!==e&&(this.companions.indexOf(e)>-1||(this.companions.push(e),this.updateMargin()))}},{key:"updateMargin",value:function(){if(0!==this.companions.length){var e=this.shape.getRect(),t=e.left,n=e.right,i=e.top,r=e.bottom;this.companions.forEach((function(e){var o=e.shape.getRect();t=Math.min(o.left,t),i=Math.min(o.top,i),n=Math.max(o.right,n),r=Math.max(o.bottom,r)}));var o=e.left-t,a=n-e.right,A=e.top-i,s=r-e.bottom;this.companionMargin={left:o,right:a,top:A,bottom:s}}else this.companionMargin={left:0,top:0,bottom:0,right:0}}},{key:"doStart",value:function(){this.deltaX=0,this.deltaY=0,this.control.showShape(),this.control.start(Zd)}},{key:"move",value:function(e,t,n){var i=this;this.deltaX+=e,this.deltaY+=t,this.control.move(Zd,-1,this.deltaX,this.deltaY).then((function(e){if(e){var t=e.rect,n=e.innerRect,r=e.points;N()(i.control.calloutController).css(i.annot.getBoundary()),i.control.showShape(r,t,n)}}))}},{key:"resize",value:function(e,t,n,i){}},{key:"end",value:function(e,t){this.control.calloutShape.hide(),"move"===e&&this.control.end(Zd)}},{key:"cancel",value:function(e){}},{key:"rotateStart",value:function(){}},{key:"updateRotateDegreeBox",value:function(e){}},{key:"rotate",value:function(e,t){}},{key:"rotateEnd",value:function(){}},{key:"clearCompanions",value:function(){this.companions.length=0,this.companionMargin={left:0,top:0,bottom:0,right:0}}}]),e}(),nh=ce,ih=function(){function e(t){(0,_._)(this,e);var n=new DOMParser;this.whole=n.parseFromString(qd()({}),"text/html").body.firstChild,this.calloutController=this.ui=this.whole.querySelector(".fv__shape-control"),this.moveable=!0,this.isMoveDisabled=!1,this.bindMovingEvent(),this.calloutShape=new Xd,this.emitter=t}return(0,P._)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?U.noop:t,i=e.update,r=void 0===i?U.noop:i,o=e.interceptor,a=void 0===o?nh:o,A=e.moving,s=void 0===A?U.noop:A,c=e.end,u=void 0===c?U.noop:c,l=e.cancel,d=void 0===l?U.noop:l,h=e.auxiliaryLine,f=void 0===h?null:h,p=arguments.length>1?arguments[1]:void 0;this.start=n,this.update=r,this.move=s,this.interceptor=a,this.end=u,this.cancel=d,this.annot=p,this.isActive=!1,this.calloutShape.init(p,this.calloutController.querySelector(".fv__shape-control-previewer")),this.companionObject=new th(this),this.isActive=!1,this.auxiliaryLine=f}},{key:"getCompanionObject",value:function(){return this.companionObject}},{key:"companion",value:function(e){"function"==typeof e.getCompanionObject&&this.companionObject.companion(e.getCompanionObject())}},{key:"clearCompanions",value:function(){this.companionObject.clearCompanions()}},{key:"getMargin",value:function(){return this.companionObject.companionMargin}},{key:"active",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getBoundary(),n=arguments.length>2?arguments[2]:void 0;this.isActive=!0,e.append(this.calloutController),N()(this.calloutController).css(t),this.box=n,this.adjustPointControl(),this.calloutController.style.display="block"}},{key:"show",value:function(){N()(this.calloutController).show()}},{key:"hide",value:function(){N()(this.calloutController).hide()}},{key:"disable",value:function(){this.isDisabled=!0,this.calloutController.classList.add("disabled")}},{key:"enable",value:function(){this.isDisabled=!1,this.calloutController.classList.remove("disabled")}},{key:"moveDisable",value:function(){this.isMoveDisabled=!0,this.calloutController.classList.add("move-disabled")}},{key:"moveEnable",value:function(){this.isMoveDisabled=!1,this.calloutController.classList.remove("move-disabled")}},{key:"deactive",value:function(){this.calloutController.style.display="none",this.isActive=!1}},{key:"destroy",value:function(){this.calloutController.parentNode&&this.calloutController.parentNode.removeChild(this.calloutController)}},{key:"bindMovingEvent",value:function(){var e=this;this._bindMoveAreaEvents(Zd),this._bindMoveAreaEvents(eh);var t=this.ui.querySelectorAll(".fv__shape-controller");Array.prototype.slice.call(t).forEach((function(t){return e._bindMovePointEvents(t)})),(0,U.attachContextMenuEvent)(this.calloutController,(function(t){e.annot.showContextMenu(t.clientX,t.clientY),t.preventDefault()}));this.ui}},{key:"isEditHandle",value:function(e){var t=N()(e.element).parent().prev().find("textarea");t.length||(t=N()(e.element).parent().prev());var n=!1;return t&&(n=t.is(":visible")),N()(".fv__groupAnnotBorder").is(":visible")&&(n=!1),n}},{key:"_bindMoveAreaEvents",value:function(e){var t=this,n=this.ui,i=".fv__shape-control-move-area";e==eh&&(i=".fv__shape-control-text-area");var r,o,a=new pr.Manager(n.querySelector(i));a.add(new pr.Pan({direction:pr.DIRECTION_ALL}));var A=!1;a.on("panstart",(function(n){var i=n.deltaX,s=n.deltaY,c=n.srcEvent,u=n.center;A=t.isEditHandle(a),t.isDisabled||!t.isActive||e==Zd&&t.isMoveDisabled||A||(r=i,o=s,e===Zd&&(t.onPrestart&&t.onPrestart(),t.companionObject.companions.forEach((function(e){e.doStart(),e.move(i,s,!0)}))),t.showShape(),t.start(e),e==Zd&&t.trigger("movingstart",{deltaX:u.x+i,deltaY:u.y+s,srcEvent:c}))})),a.on("panend",(function(n){e==Zd&&t.trigger("movingend"),t.isDisabled||!t.isActive||e==Zd&&t.isMoveDisabled||A?A=!1:(e===Zd&&t.companionObject.companions.forEach((function(e){e.end("move")})),t.calloutShape.hide(),t.end(e),e===Zd&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))})),a.on("pancancel",(function(n){e==Zd&&t.trigger("movingcancel"),t.isDisabled||!t.isActive||e==Zd&&t.isMoveDisabled||A?A=!1:(t.cancel(e),e===Zd&&t.onAfterEnd&&t.onAfterEnd("move"),t.auxiliaryLine&&t.calloutShape.clearAuxiliaryLine(t.auxiliaryLine.container))})),a.on("panmove",(function(n){var i=n.deltaX,a=n.deltaY,s=(n.center,n.direction,t);if(!(t.isDisabled||!t.isActive||e==Zd&&t.isMoveDisabled||A)){var c=i-r,u=a-o,l=t.annot.getRect();t.move(e,-1,c,u).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t){var n=s.annot.getRect();if(e===Zd){var i=n.left-l.left,r=n.top-l.top;s.companionObject.companions.forEach((function(e){e.move(i,r)}))}N()(s.calloutController).css(s.annot.getBoundary());var o=t.rect,a=t.innerRect,A=t.points;if(e==eh&&s.adjustPointControl(A,o,a),s.showShape(A,o,a),e===Zd&&s.auxiliaryLine){var c=s.auxiliaryLine.getPageAnnots(),u=n,d=s.auxiliaryLine.gap,h=s.auxiliaryLine.container,f=s.annot.getBoundary(),p=[f],g={};f.right=f.left+f.width,f.bottom=f.top+f.height,g[f.top+f.left+f.right+f.bottom]=!0,s.companionObject.companions.length&&s.companionObject.companions.forEach((function(e){var t=e.shape.getRect();u.left=Math.min(u.left,t.left),u.top=Math.min(u.top,t.top),u.right=Math.max(u.right,t.right),u.bottom=Math.max(u.bottom,t.bottom),p.push(t),g[t.top+t.left+t.right+t.bottom]=!0})),c=c.filter((function(e){var t=e.rect;if(Gc.indexOf(e.type)<0)return!1;if(!g[t.top+t.left+t.right+t.bottom])return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=p[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;if(A.top==t.top&&A.left==t.left&&A.right==t.right&&A.bottom==t.bottom)return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}));var v=c.map((function(e){return e.rect}));s.calloutShape.drawAuxiliaryLine(u,v,d,h)}}}))}}))}},{key:"_bindMovePointEvents",value:function(e){var t,n,i=this,r=new pr.Manager(e);r.add(new pr.Pan({direction:pr.DIRECTION_ALL})),r.on("panmove",(function(r){var o=r.deltaX,a=r.deltaY;r.center,r.direction,r.target;if(!i.isDisabled&&i.isActive){var A=o-t,s=a-n;return i.move(Qd,e.classList[2],A,s).then((function(e){if(e){N()(i.calloutController).css(i.annot.getBoundary());var t=e.rect,n=e.innerRect,r=e.points;i.adjustPointControl(r,t,n),i.showShape(r,t,n)}})),!1}})),r.on("panstart",(function(e){var r=e.deltaX,o=e.deltaY;e.center;if(!i.isDisabled&&i.isActive)return t=r,n=o,i.showShape(),i.start(Qd),!1})),r.on("pancancel",(function(e){if(!i.isDisabled&&i.isActive)return i.cancel(Qd),!1})),r.on("panend",(function(e){if(!i.isDisabled&&i.isActive)return i.calloutShape.hide(),i.end(Qd),!1}))}},{key:"showShape",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary();this.calloutShape.show(e,t,n)}},{key:"adjustPointControl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutPointers(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.annot.getRect(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.annot.getInnerBoundary(),i=this.ui,r={left:n.left-t.left,top:n.top-t.top,width:n.width,height:n.height},o=i.querySelector(".fv__shape-control-text-area");N()(o).css(r);var a=i.querySelector(".fv__shape-control-inner-area");if(N()(a).css(r),e.length>1){var A=i.querySelector(".fv__shape-controller.calloutStart");N()(A).css({display:"block",left:e[0][0]-t.left-4,top:e[0][1]-t.top-4}),A=i.querySelector(".fv__shape-controller.calloutKnee"),N()(A).css({display:"block",left:e[1][0]-t.left-4,top:e[1][1]-t.top-4})}else{var s=i.querySelector(".fv__shape-controller.calloutStart");N()(s).css({display:"none"}),s=i.querySelector(".fv__shape-controller.calloutKnee"),N()(s).css({display:"none"})}}},{key:"trigger",value:function(e,t){var n=this.emitter;n&&n.emit(e,t)}},{key:"setSnapGrid",value:function(e){this.snapGrid=e}}]),e}(),rh=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"calcCalloutPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.start,i=t.end,r=t.page,o=t.width,a=void 0===o?i[0]+110:o,A=t.height,s=void 0===A?i[1]+30:A,c=t.borderStyle,u=t.endingStyle,l=t.scale,d=t.rotate;i[0]=Math.max(i[0],2),i[1]=Math.max(i[1],12);var h=100*l*4/3,f=20*l*2/3,p=r.getOriginX(),g=r.getOriginY(),v=r.reverseDeviceRect({left:i[0],right:i[0]+h,top:i[1]-f,bottom:i[1]+f},l,d);n=r.reverseDevicePoint(n,l,d),i=r.reverseDevicePoint(i,l,d),v.left<p&&(v.left=p),v.bottom<g&&(v.bottom=g);var m=[{x:n[0],y:n[1]},{x:v.left-15,y:v.top+10},{x:v.left-.1,y:v.top+10}];if(!(m=e.checkKneePoint(0,m,v))||oh(m[0],m[1])<15||oh(m[2],m[1])<15)return{invalid:!0};var y=e.recalculateRect({points:m,innerRect:v,width:a,height:s,borderStyle:c,endingStyle:u});return y.left<p+5||y.right>a||y.bottom<g+5||y.top>s?{invalid:!0}:{calloutLinePoints:m,rect:y,innerRect:v}}},{key:"calcKneeLength",value:function(e){var t=e[1],n=e[2];return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}},{key:"checkKneePoint",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.kneeLength;if(t>3||n.length<2)return null;var o=JSON.parse(JSON.stringify(n));switch(t){case 0:o[2]={x:i.left-.1,y:(i.top+i.bottom)/2-.1},o[1]={x:o[2].x-r,y:o[2].y};break;case 1:o[1]={x:(i.left+i.right)/2,y:i.bottom-r},o[2]={x:o[1].x-.1,y:i.bottom-.1};break;case 2:o[1]={x:i.right+r,y:(i.top+i.bottom)/2},o[2]={x:i.right-.1,y:o[1].y};break;case 3:o[1]={x:(i.left+i.right)/2,y:i.top+r},o[2]={x:o[1].x-.1,y:i.top-.1}}var a=oh(o[2],o[0]);if(a<20)return o;var A=oh(o[2],o[1]),s=oh(o[1],o[0]),c=Math.acos((a-A-s)/(2*Math.sqrt(A)*Math.sqrt(s)));return Math.PI>c&&c>Math.PI/2?e.checkKneePoint(t+1,n,i,r):o}},{key:"recalculateRect",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.points,n=e.innerRect,i=e.width,r=void 0===i?1e4:i,o=e.height,a=void 0===o?1e4:o,A=e.rotate,s=e.borderInfo,c=e.endingStyle,u=1/0,l=u,d=-1/0,h=-1/0,f=u,p=0;p<3;p++)t[p].x<l&&(l=t[p].x),t[p].x>d&&(d=t[p].x),t[p].y>h&&(h=t[p].y),t[p].y<f&&(f=t[p].y);A%2&&(r^=a,r^=a^=r);var g=0;s&&5==s.style&&(g=1==s.cloudIntensity?6:9);var v={left:Math.max(Math.min(l,n.left)-1,0),top:Math.max(h,n.top)+1,right:Math.min(Math.max(d,n.right)+1,r),bottom:Math.min(f,n.bottom)-1};0!==g&&(Math.abs(v.left-n.left)<2&&(v.left-=g),Math.abs(v.right-n.right)<2&&(v.right+=g),Math.abs(v.top-n.top)<2&&(v.top+=g),Math.abs(v.bottom-n.bottom)<2&&(v.bottom-=g));var m=0;switch(c){case 7:case 8:m=8;break;case 2:case 1:case 3:case 6:case 9:m=6}return 0!=m&&(v.left-=m,v.right+=m,v.top+=m,v.bottom-=m),n.left<v.left&&(n.left=v.left+1),n.right>v.right&&(n.right=v.right-1),n.top>v.top&&(n.top=v.top-1),n.bottom<v.bottom&&(n.bottom=v.bottom+1),v}}]),e}();rh.kneeLength=15;var oh=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)};const ah=rh;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).helper=new yu(e),i}(0,P._)(n,[{key:"doPrepare",value:function(){(0,D._)((0,C._)(n.prototype),"doPrepare",this).call(this),this.canvas.classList.add("fv__viewer-render-square-canvas")}},{key:"doRender",value:function(e){e.renderingData;var t=this.component.annot,n=t.info,i=n.borderInfo||{},r=e.scale,o=e.rotate,a=this.convertPointToPixel(i.width||1,r),A=t.page,s=e.outerRect,c=t.getCalloutLinePoints().map((function(e){var t=A.getDevicePoint([e.x,e.y],r,o);return[t[0]-s.left,t[1]-s.top]})),u=this.canvas.getContext("2d");if(u.clearRect(0,0,this.canvas.width,this.canvas.height),!this.component.needToggleView||!this.component.needToggleView()||this.component.shouldRenderByMouseEvent()){u.save(),e.lineWidth=a,0===a||!1===n.hasBorderColor?u.strokeStyle="transparent":u.strokeStyle=this.numberToRGBAString(n.color),u.lineWidth=a;try{switch(i.style){case me.BEVELED:case me.UNDERLINE:case me.SOLID:this.renderSolid(u,n,e);break;case me.DASHED:this.renderDashed(u,n,e);break;case me.CLOUDY:this.renderCloud(u,n,e)}var l=n.fillColor;l?(l=this.numberToRGBAString(l),u.fillStyle=l,u.fill()):l="transparent",e.renderingData.fillColor=l,this.renderCallout(u,e,n.borderColor,t.getCalloutLineEndingStyle(),c,a),this.component.$pre.css({height:e.innerRect.height,overflow:"hidden"}),u.stroke()}finally{u.restore()}this.afterRender(e)}}},{key:"convertToPathPoint",value:function(e,t,n,i){var r=(0,E._)(i.getDevicePoint([e.x,e.y],t),2),o=r[0],a=r[1];return new vu(o-n.left,a-n.top)}},{key:"shrinkRect",value:function(e,t){var n=Ta.on(e).shrink(t).extract();return Object.assign(n,{width:n.right-n.left,height:n.bottom-n.top})}},{key:"renderCloud",value:function(e,t,n){t.fillColor;var i=t.borderInfo.cloudIntensity,r=this.shrinkRect(n.innerRect,0),o=this.shrinkRect(n.outerRect,0),a=r.width,A=r.height;new Ju([new vu(0,A),new vu(a,A),new vu(a,0),new vu(0,0)],r,o).generate(32/3/i).render(e)}},{key:"renderDashed",value:function(e,t,n){var i=this,r=t.borderInfo,o=r.dashes||[],a=r.dashPhase||0,A=n.scale;e.save(),e.setLineDash&&e.setLineDash(o.map((function(e){return i.convertPointToPixel(e,A)}))),e.lineDashOffset=this.convertPointToPixel(a,A),this.renderSolid(e,t,n)}},{key:"renderSolid",value:function(e,t,n){var i=n.outerRect,r=n.innerRect,o=n.lineWidth,a=r.width,A=r.height,s=r.left-i.left,c=r.top-i.top,u=.5*o;e.beginPath(),e.rect(s+u,c+u,a-o,A-o),e.closePath()}},{key:"renderCallout",value:function(e,t,n,i,r,o){e.save();e.lineWidth=o,e.strokeStyle=this.numberToRGBAString(n),e.moveTo(r[0][0],r[0][1]),r.map((function(t){e.lineTo(t[0],t[1])})),e.stroke();var a=new vu(r[1][0],r[1][1]),A=new vu(r[0][0],r[0][1]);this.helper.renderLineEnd(e,o,t,i,a,A),e.restore()}},{key:"afterRender",value:function(e){var t=e.outerRect,i=e.innerRect;(0,D._)((0,C._)(n.prototype),"afterRender",this).call(this);var r=this.component,o=r.annot,a=r.$pre;a.html(o.getContent());var A=r.getStyle(!1);delete A.background;var s=4*o.getBorderWidth()/3*r.scale;5===o.getBorderInfo().style&&(s=0);var c=r.fontSizeScale;A.margin=[(i.top-t.top+s)/c,(t.right-i.right+s)/c,(t.bottom-i.bottom+s)/c,(i.left-t.left+s)/c].join("px ")+"px",r.$ui.find(".fv__ftui-container").css({transform:"scale(".concat(c,")"),width:100/c+"%"}),a.css(A),r.$ui.css("opacity",o.getOpacity())}}])}(iu);var Ah=["left","bottom","right","top"],sh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).annot=e,a.name="callout",a.$ui.removeClass("fv__pdf-page-textbox-annot-container"),a.$handler.removeClass("fv__pdf-page-textbox-annot-handler-container"),a.$ui.addClass("fv__pdf-page-callout-annot-container"),a.$handler.addClass("fv__pdf-page-callout-annot-handler-container"),U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new ih(a.pdfViewer.eventEmitter);return a.processShapeControlPermissionCtrl(e),e})),a.editDebouncePromiseQueue=new fe;var A=N()("<div class='fv__ftui-container'><pre class='fv__textbox_ui'></pre></div>");return a.$pre=A.find("pre"),a.$ui.append(A),a}return(0,P._)(n,[{key:"getPadding",value:function(){return this.annot.getBorderWidth()*this.pdfViewer.getSmartScale(this.scale)}},{key:"computeLineHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.computeFontSizePx();return 1.18*e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computeFontSizeScale(e))}},{key:"handleInputEvent",value:function(){var e=this;this.resizeTaskExecutor.exec((0,x._)((function(){var t,n,i,r,o,a,A,s,c,u,l,d,h;return(0,F.Jh)(this,(function(f){switch(t=e.getFinalRotateAngle(),n=e.$textInput[0],i=n.getBoundingClientRect(),r=e.parent("pdfPageRender"),o=r.$ui[0].getBoundingClientRect(),a=e.getPadding(),A=e.computeCurrentMinMaxHeight({inputRect:i,padding:a,rotate:t,pageRect:o}),s=A.minHeight,c=A.maxHeight,u=n.clientHeight,t){case 0:case 180:Yd(n,{maxWidth:n.clientWidth,minWidth:n.clientWidth,maxHeight:o.height-2*a,minHeight:s});break;case 90:case 270:Yd(n,{maxWidth:n.clientWidth,minWidth:n.clientWidth,maxHeight:o.width-2*a,minHeight:s})}if((d=n.clientHeight)>c){switch(h=function(){switch(t){case 0:return o.bottom-d-o.top-2*a;case 90:case 180:return d+2*a;case 270:return o.right-d-o.left-2*a}}(),t){case 90:case 270:n.style.left=h+"px";break;default:n.style.top=h+"px"}l=!0}else l=n.clientHeight!==u;return l?[2,e.setHeight(e.$textInput)]:[2]}))})))}},{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed&&(U.Lazy.isPropertyIntialized(this,"shapeControl")&&!this.isDestroyed)){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable()||this.moveDisabled());var n=this.shapeControl;t?n.disable():n.enable()}}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.shapeControl.deactive()}},{key:"active",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.shapeControl.init({start:function(t){return e.onStartUpdateShape(t)},moving:function(t,n,i,r){return e.onShapeMoving(t,n,i,r)},end:function(t){return e.onShapeUpdateEnd(null,null,t)},auxiliaryLine:void 0},this),this.rerenderShapeControl()}},{key:"rerenderShapeControl",value:function(){var e=this,t=this._getShapeControllerBoundaryBox(),n=this.getBoundary();this.getAppPermission().then((function(i){!!e.groupMoveDisabled()||(i.ignorable()?e.moveDisabled():!i.isAdjustable()||e.moveDisabled())?e.shapeControl.disable():e.shapeControl.enable(),e.shapeControl.active(e.$handler,n,t)}))}},{key:"movedByOther",value:function(){if(this.isActive){this.activeRect();var e=this._getShapeControllerBoundaryBox(),t=this.getBoundary();this.shapeControl.active(this.$handler,t,e),this.shapeControl.adjustPointControl()}}},{key:"afterRender",value:function(e){e.transformed&&this.isActive&&this.movedByOther()}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"backup",value:function(){var e=this,t=this.annot.getCalloutLinePoints();if(this.backupProperty={points:JSON.parse(JSON.stringify(t)),rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())},t.length<3){var n=this.annot.getBorderStyle(),i=ah.calcCalloutPosition({start:[0,0],end:[this.backupProperty.innerRect.left,(this.backupProperty.innerRect.top+this.backupProperty.innerRect.bottom)/2],width:this.getPDFPage().getWidth(),height:this.getPDFPage().getHeight(),rotate:this.getPDFPage().getRotation()-this.rotate,borderStyle:n,endingStyle:this.annot.getCalloutLineEndingStyle()});this.setCalloutLinePoints(i.calloutLinePoints).then((function(t){var n,i=e._getShapeControllerBoundaryBox();n=e.getBoundary(),e.shapeControl.active(e.$rect,n,i)}))}}},{key:"onStartUpdateShape",value:function(e){this.backup()}},{key:"onShapeMoving",value:function(e,t,n,i){var r=this,o=(0,E._)(this.annot.page.reverseDeviceOffset([n,i],this.scale,this.rotate),2),a=o[0],A=o[1];return this.updatePromise=this.updatePromise||Promise.resolve(),this.updatePromise=this.updatePromise.then((function(){switch(e){case eh:return r.updateTextRect(a,A);case Zd:return r.updateRect(a,A);case Qd:return r.updatePoint(t,a,A)}})).then((function(e){return r.annot.isGrouped(),e}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=this.annot.info.rect,o=this.annot.info.innerRect,a=this.annot.info.calloutLinePoints;return this._flushEdit(r,o,a).then((function(e){i.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,i),n==Zd&&i.pdfViewer.eventEmitter.emit(de.annotationMovedPosition,[i.annot],i.annot.page,i.annot)})).then((function(e){return i.rerenderShapeControl(),e}))}},{key:"_flushEdit",value:function(e,t,n){var i=this,r=Promise.resolve();return this.annot.isGrouped()&&(r=this.annot.moveTo({left:e.left,top:e.top})),r.then((function(){return i.updateCalloutFigure(e,t,n)})).then((function(){return i.annot.oldRect=i.backupProperty.rect,i.redraw()})).then((function(){i.isActive&&i.rerenderShapeControl()}))}},{key:"updateRect",value:function(e,t){var n=Object.assign({},this.backupProperty.rect);if(n.left+=e,n.right+=e,n.bottom+=t,n.top+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(e=n.left-this.backupProperty.rect.left,t=n.top-this.backupProperty.rect.top,0==e&&0==t)return Promise.resolve();var i=Object.assign({},this.backupProperty.innerRect);i.left+=e,i.right+=e,i.top+=t,i.bottom+=t;var r=JSON.parse(JSON.stringify(this.backupProperty.points));return r[0].x+=e,r[0].y+=t,r[1].x+=e,r[1].y+=t,r[2].x+=e,r[2].y+=t,this.annot.info.rect=n,this.annot.info.innerRect=i,this.annot.info.calloutLinePoints=r,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updateTextRect",value:function(e,t){var n=Object.assign({},this.backupProperty.innerRect),i=this.annot.getCalloutLinePoints();if(n.left+=e,n.right+=e,n.top+=t,n.bottom+=t,!this.checkRect(n,!0))return Promise.resolve(!1);if(!(i=ah.checkKneePoint(0,i,n)))return Promise.resolve(!1);var r=this.getPDFPage(),o=ah.recalculateRect({points:i,innerRect:n,width:r.getWidth(),height:r.getHeight(),rotate:r.getRotation(),borderInfo:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.annot.info.rect=o,this.annot.info.innerRect=n,this.annot.info.calloutLinePoints=i,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})}},{key:"updatePoint",value:function(e,t,n){var i=this.annot.page,r=this.annot.page.getRotation(),o=i.getWidth(),a=i.getHeight(),A=(0,E._)(1==r||3==r?[a,o]:[o,a],2),s=A[0],c=A[1],u=this.annot.getBorderWidth(),l=this.backupProperty.points,d=JSON.parse(JSON.stringify(this.annot.getCalloutLinePoints())),h=!0,f=Object.assign({},this.backupProperty.innerRect);switch(e){case"calloutStart":d[0].x=l[0].x+t,d[0].y=l[0].y+n;if(f.left-20<d[0].x&&d[0].x<f.right+20&&f.bottom-20<d[0].y&&d[0].y<f.top+20)return Promise.resolve();break;case"calloutKnee":if(d[1].x==d[2].x){if(t=0,l[1].y<l[2].y&&l[1].y+n>=l[2].y)return Promise.resolve();if(l[1].y>l[2].y&&l[1].y+n<=l[2].y)return Promise.resolve()}else if(d[1].y==d[2].y){if(n=0,l[1].x<l[2].x&&l[1].x+t>=l[2].x)return Promise.resolve();if(l[1].x>l[2].x&&l[1].x+t<=l[2].x)return Promise.resolve()}if(l[1].x+t<0||l[1].y+n<0)return Promise.resolve();h=!1,d[1].x=l[1].x+t,d[1].y=l[1].y+n;break;default:for(var p=[].concat(Ah),g=0;g<this.rotate/90+this.annot.page.getRotation();g++){var v=p.shift();p.push(v)}switch(e){case"left":f[p[0]]+=ch(p[0],t,n);break;case"bottom":f[p[1]]+=ch(p[1],t,n);break;case"right":f[p[2]]+=ch(p[2],t,n);break;case"top":f[p[3]]+=ch(p[3],t,n)}}if(f.bottom<u&&(f.bottom=u),f.left<u&&(f.left=u),f.top>c-u&&(f.top=c-u),f.right>s-u&&(f.right=s-u),h&&!(d=ah.checkKneePoint(0,d,f)))return Promise.resolve(!1);var m=ah.recalculateRect({points:d,innerRect:f,width:i.getWidth(),height:i.getHeight(),rotate:i.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});return this.checkRect(m)?(this.annot.info.rect=m,this.annot.info.innerRect=f,this.annot.info.calloutLinePoints=d,Promise.resolve({rect:this.getRect(),innerRect:this.getInnerBoundary(),points:this.getCalloutPointers()})):Promise.resolve()}},{key:"setEndingStyle",value:function(e,t){var n=this;return this.annot.setCalloutLineEndingStyle(+t).then((function(){return n.annot.update()})).then((function(){n.activeRect(),n.redraw(),n.rerenderShapeControl()}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.rerenderShapeControl(),t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(){return n.updateRender().then((function(){n.rerenderShapeControl(),n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)}))}))}},{key:"getPropertyOptions",value:function(){(0,D._)((0,C._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=this.annot.getFillColor(),o=e.getBorderWidth(),a=this.propertyDisabled(),A=e.getFontColor(),s=e.getDefaultAppearance().textSize,c=e.getDefaultAppearance().font,u=this.isLocked();return{color:t,opacity:i,fillColor:r,lineStartStyle:e.getCalloutLineEndingStyle(),borderWidth:o,cloudy:!0,disabled:a,fontColor:A,fontSize:s,borderStyle:!0,font:c,isLocked:u}}},{key:"getCalloutPointers",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot.getCalloutLinePoints(),t=[],n=0;n<e.length;n++){var i=this.annot.page.getDevicePoint([e[n].x,e[n].y],this.scale,this.rotate);t.push(i)}return t}},{key:"setInnerRectHeight",value:function(e){var t=Object.assign({},this.backupProperty.innerRect),n=this.annot.getBorderWidth();5===this.annot.getBorderInfo().style&&(n=0);var i={left:e.left-t.left-n,right:e.right-t.right+n,top:e.top-t.top+n,bottom:e.bottom-t.bottom-n},r=0;if(Math.abs(i.left)<3&&(r++,i.left=0),Math.abs(i.right)<3&&(r++,i.right=0),Math.abs(i.top)<3&&(r++,i.top=0),Math.abs(i.bottom)<3&&(r++,i.bottom=0),4==r)return Promise.resolve(!1);var o=t.left+i.left,a=t.bottom+i.bottom,A=t.top+i.top,s=t.right+i.right;if(o>=s||A<=a)return Promise.resolve(!1);var c=this.annot.getBorderWidth(),u=this.annot.page.getHeight(),l=this.annot.page.getWidth();return o=Math.max(c,o),a=Math.max(c,a),A=Math.min(A,u-c),s=Math.min(s,l-c),this.setInnerRectProperty({left:o,bottom:a,top:A,right:s})}},{key:"enableSyncTextScaling",value:function(){return this.pdfViewer.customs.syncTextScaling}},{key:"setInnerRectProperty",value:function(e){var t=JSON.parse(JSON.stringify(this.backupProperty.points)),n=this.backupProperty.innerRect,i=this.annot.page.getHeight();if(this.enableSyncTextScaling()&&t[2].y<=n.bottom+this.annot.getBorderWidth()){var r=t[2];if(e.bottom<r.y){var o=r.y-e.bottom+1;e.bottom+=o,e.top=Math.min(i,e.top+o)}}var a=ah.calcKneeLength(this.backupProperty.points,n);e:if(!(t=ah.checkKneePoint(0,t,e,a))){if(this.enableSyncTextScaling()){var A=this.backupProperty.points;if(U.isAllSimilar.apply(void 0,[1].concat((0,R._)(A.map((function(e){return e.y})))))){var s=A[0].x<e.left,c=s?{x:e.left-.1,y:.5*(e.top+e.bottom)-.1}:{x:e.right+.1,y:.5*(e.top+e.bottom)-.1},u=s?{x:c.x-ah.kneeLength,y:c.y}:{x:c.x+ah.kneeLength,y:c.y};t=[A[0],u,c];break e}}return Promise.resolve(!1)}var l=this.annot.page,d=ah.recalculateRect({points:t,innerRect:e,width:l.getWidth(),height:l.getHeight(),rotate:l.getRotation(),borderStyle:this.annot.getBorderInfo(),endingStyle:this.annot.getCalloutLineEndingStyle()});Promise.resolve(),this.annot.getRect();return this.updateCalloutFigure(d,e,t)}},{key:"checkRect",value:function(e,t){var n=this.annot.page,i=this.shapeControl.getMargin(),r=(0,E._)(n.reverseDeviceOffset([i.left,i.top],this.scale,this.rotate),2),o=r[0],a=r[1],A=(0,E._)(n.reverseDeviceOffset([i.right,i.bottom],this.scale,this.rotate),2),s=A[0],c=A[1],u=Math.abs(o),l=Math.abs(c),d=Math.abs(s),h=Math.abs(a),f=n.getOriginX()+u,p=n.getOriginX()+n.getMediaWidth()-d,g=n.getOriginY()+l,v=n.getOriginY()+n.getMediaHeight()-h;if(t){if(e.left<f+2){var m=u+2-e.left;e.left+=m,e.right+=m}else if(e.right>p-1){var y=p-1-e.right;e.left+=y,e.right+=y}if(e.bottom<g+2){var b=l+2-e.bottom;e.bottom+=b,e.top+=b}else if(e.top>v-2){var w=v-2-e.top;e.bottom+=w,e.top+=w}return!0}return!(e.left<f||e.bottom<g||e.top>v||e.right>p)}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"redraw",value:function(e){if(!this.isDestroyed)return this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),(0,D._)((0,C._)(n.prototype),"redraw",this).call(this,e)}},{key:"setHeight",value:function(e,t){var i=this,r=(this.annot.page.getRotationAngle(),this.annot.getRotation(),this.getStyle(!1,!0));this.setDomRect(r);var o=e[0].getBoundingClientRect(),a=this.parent("pdfPageRender").getPDFRectFromClientRect(o),A=this.annotsRender,s=A.getRerenderMode();return A.setRerenderMode(Wi.debounce),this.setInnerRectHeight(a).then((function(t){return(0,D._)((0,C._)(n.prototype),"setHeight",i).call(i,e)})).finally((function(){i.setDomRect(r),e.css(r),A.setRerenderMode(s)}))}}]),n}(Wd),ch=function(e,t,n){return"left"===e||"right"==e?t:n};const uh=sh;!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}(0,P._)(n,[{key:"doRender",value:function(e){isNaN(e.innerRect.left)||((0,D._)((0,C._)(n.prototype),"doRender",this).call(this,e,!1),this.afterRender())}},{key:"afterRender",value:function(){(0,D._)((0,C._)(n.prototype),"afterRender",this).call(this);var e=this.component,t=e.annot,i=e.$pre;i.html(t.getContent());var r=e.getStyle(!0);delete r.background,delete r.left,delete r.top,r.padding=4*e.getPadding()/3*e.scale,i.css(r);var o=e.$ui.find(".fv__ftui-container"),a=e.fontSizeScale;o.css({transform:"scale(".concat(a,")"),width:100/a+"%"}),e.$ui.css("opacity",t.getOpacity())}}])}(Al);var lh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="textbox",a.$ui.removeClass("fv__pdf-page-typewritter-annot-container"),a.$handler.removeClass("fv__pdf-page-typewritter-annot-handler-container"),a.$ui.addClass("fv__pdf-page-textbox-annot-container"),a.$handler.addClass("fv__pdf-page-textbox-annot-handler-container"),a.$pre.addClass("fv__textbox_ui"),a}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.fontSizeScale<1&&this.$handler.css("transform","scale(1)")}},{key:"getShapeOptions",value:function(){var e=(0,D._)((0,C._)(n.prototype),"getShapeOptions",this).call(this);return e.resizable=!0,e}},{key:"getPropertyOptions",value:function(){(0,D._)((0,C._)(n.prototype),"getPropertyOptions",this).call(this);var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#"),i=e.getOpacity(),r=e.getBorderWidth();return{color:t,opacity:i,fillColor:e.getFillColor(),borderWidth:r,cloudy:!0,disabled:this.propertyDisabled(),fontColor:e.getFontColor(),fontSize:e.getDefaultAppearance().textSize,borderStyle:!0,font:e.getDefaultAppearance().font,isLocked:this.isLocked()}}},{key:"setHeight",value:function(e,t){var n=this.parent("pdfPageRender");if(!n.isDestroyed&&n.$ui){var i=this.getMaxSize(e[0]).height;e[0].style.cssText+="\n            max-height: ".concat(i,"px;\n            height: ").concat(Math.min(e[0].scrollTop+e[0].scrollHeight,i),"px;\n        ");var r=e[0].getBoundingClientRect(),o=this.parent("pdfPageRender").getPDFRectFromClientRect(r);return this.setInnerRectHeight(o)}}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"setFillColor",value:function(e){var t=this;return this.annot.setFillColor(e).then((function(e){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n),e}))}},{key:"setInnerRectHeight",value:function(e){var t,n=this,i=this.annot.getBorderInfo(),r=Object.assign({},this.backupProperty.rect);t=i.style===me.CLOUDY?Object.assign({},this.backupProperty.innerRect):Object.assign({},r);var o={left:e.left-t.left,right:e.right-t.right,top:e.top-t.top,bottom:e.bottom-t.bottom},a=0;return Math.abs(o.left)<3&&(a++,o.left=0),Math.abs(o.right)<3&&(a++,o.right=0),Math.abs(o.top)<3&&(a++,o.top=0),Math.abs(o.bottom)<3&&(a++,o.bottom=0),4===a?Promise.resolve():(r={left:r.left+o.left,right:r.right+o.right,top:r.top+o.top,bottom:r.bottom+o.bottom},this.updateRectFigure(r,e).then((function(){n.backup()})))}},{key:"setInnerRect",value:function(e){var t=this;return(0,D._)((0,C._)(n.prototype),"setInnerRect",this).call(this,e).then((function(){return t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),!0}))}))}},{key:"updateRectFigure",value:function(e,t){var n=this;return this.annot.updateRectFigure(e,t).then((function(e){return e?n.updateRender().then((function(){return n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n),e})):e}))}},{key:"backup",value:function(){this.backupProperty={rect:Object.assign({},this.annot.getRect()),innerRect:Object.assign({},this.annot.getInnerRect())}}},{key:"onStartUpdateShape",value:function(e,t,n){this.backup()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this,r=Promise.resolve();switch(n){case"move":r=this.moveTo(e.left,e.top,n);break;case"resize":var o=this.backupProperty.rect,a=this.backupProperty.innerRect,A={left:a.left-o.left,right:o.right-a.right,bottom:a.bottom-o.bottom,top:o.top-a.top},s=this.getPDFPage(),c=s.reverseDeviceRect({left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height},this.scale,this.rotate),u={left:c.left-A.left,right:c.right+A.right,bottom:c.bottom-A.bottom,top:c.top+A.top};r=this.setRectInPDF(u,!1).then((function(e){return i.setInnerRect(c)})).then((function(){i.activeRect()})).finally((function(){i.pdfViewer.eventEmitter.emit(de.annotationUpdated,[i.annot],s)}))}return this.annot.isGrouped()&&this.pdfViewer.eventEmitter.emit("freetextGroupMovingEnd"),r}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceInnerRect(n,i),o="px";t.css({left:r.left+o,top:r.top+o,width:r.right-r.left+o,height:r.bottom-r.top+o}),"editing"===this.status&&this.updateTextInputStyle()}},{key:"getBoundary",value:function(){var e=this.annot.getDeviceInnerRect(this.scale,this.rotate),t=this.annot.getInnerRect(),n=e.right-e.left,i=e.bottom-e.top;return 8&this.annot.getFlags()&&(n=t.right-t.left,i=t.top-t.bottom),{left:e.left,top:e.top,width:n,height:i}}},{key:"beforeBlur",value:function(){return!1}},{key:"handleInputEvent",value:function(){Wd.prototype.handleInputEvent.call(this)}}]),n}($d);const dh=lh;var hh=n(9194),fh=n.n(hh),ph="object"==typeof window?window:"function"==typeof importScripts?self:{},gh=ph.indexedDB||ph.mozIndexedDB||ph.webkitIndexedDB||ph.msIndexedDB,vh=ph.IDBTransaction||ph.webkitIDBTransaction||ph.msIDBTransaction,mh={},yh=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];(0,_._)(this,e),this.dbName=n,this.storeName=t,this.keyPath="id",this.version=i,this.indexArr=r}return(0,P._)(e,[{key:"_getDB",value:function(){var e=this,t=this.dbName,n=mh[t];if(n)return n;var i=(0,U.createDeferred)(),r=mh[t]=i.promise,o=gh.open(t,this.version),a=this.keyPath;return o.onerror=function(e){i.reject(e)},o.onupgradeneeded=function(t){var n=t.target.result;if(!n.objectStoreNames.contains(e.storeName)){var i=n.createObjectStore(e.storeName,{keyPath:a});e.indexArr.length&&e.indexArr.forEach((function(e){var t=e.indexKey,n=e.unique,r=void 0!==n&&n;i.createIndex(t,t,{unique:r})}))}},o.onsuccess=function(e){i.resolve(e.target.result)},r}},{key:"set",value:function(e,t){var n=this;return gh?this._getDB().then((function(i){var r=n.storeName,o=n.keyPath,a=i.transaction([r],vh.READ_WRITE||"readwrite").objectStore(r),A={value:t};A[o]=e.toString();var s=a.put(A),c=(0,U.createDeferred)();return s.onsuccess=function(e){c.resolve()},s.onerror=function(e){c.reject(e)},c.promise})):Promise.resolve()}},{key:"get",value:function(e){var t=this;return gh?this._getDB().then((function(n){var i=(0,U.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t.value)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise})):Promise.resolve(null)}},{key:"getByIndex",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gh&&this.indexArr.some((function(t){return t.indexKey===e}))?this._getDB().then((function(r){var o=(0,U.createDeferred)(),a=n.storeName;if(!r.objectStoreNames.contains(a))return o.resolve();var A=r.transaction([a]).objectStore(a).index(e).openCursor(null,"next"),s=[];return A.onsuccess=function(n){var r=n.target.result;if(r){var a=r.value[e];return i?a.toLowerCase().indexOf(t.toLowerCase())>-1&&s.push(r.value):a===t&&s.push(r.value),void r.continue()}o.resolve(s)},A.onerror=function(e){o.reject(e)},A.oncomplete=function(e){},o.promise})):Promise.resolve(null)}},{key:"remove",value:function(e){var t=this;return gh?this._getDB().then((function(n){var i=t.storeName;if(n.objectStoreNames.contains(i)){var r=n.transaction([i],vh.READ_WRITE||"readwrite").objectStore(i).delete(e),o=(0,U.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject()},o.promise}})):Promise.resolve()}},{key:"clear",value:function(){var e=this;return gh?this._getDB().then((function(t){var n=e.storeName;if(t.objectStoreNames.contains(n)){var i=t.transaction([n],vh.READ_WRITE||"readwrite").objectStore(n).clear(),r=(0,U.createDeferred)();return i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject()},r.promise}})):Promise.resolve()}},{key:"destroy",value:function(){var e=this.dbName;delete mh[e],gh&&gh.deleteDatabase(e)}}]),e}(),bh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,_._)(this,n),(r=t.call(this,e,i,o,A)).keyPath=a,r}return(0,P._)(n,[{key:"set",value:function(){throw new Error('This method is duplicated, please use "add" instead.')}},{key:"add",value:function(e){var t=this;return gh?this._getDB().then((function(n){var i=t.storeName,r=(t.keyPath,n.transaction([i],vh.READ_WRITE||"readwrite").objectStore(i).put(e)),o=(0,U.createDeferred)();return r.onsuccess=function(e){o.resolve()},r.onerror=function(e){o.reject(e)},o.promise})):Promise.resolve()}},{key:"addItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)&&t.length&&gh?this._getDB().then((function(n){for(var i=function(e){var n=t[e],i=o.put(n),r=(0,U.createDeferred)();i.onsuccess=function(e){r.resolve()},i.onerror=function(e){r.reject(e)},A.push(r.promise)},r=e.storeName,o=(e.keyPath,n.transaction([r],vh.READ_WRITE||"readwrite").objectStore(r)),a=t.length,A=[],s=0;s<a;s++)i(s);return Promise.all(A)})):Promise.resolve()}},{key:"update",value:function(e,t,n){var i=this;return gh?this.get(e).then((function(e){return e[t]=n,i.add(e)})):Promise.resolve()}},{key:"get",value:function(e){var t=this;return gh?this._getDB().then((function(n){var i=(0,U.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r).get(e);return o.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},o.onerror=function(e){i.reject(e)},o.oncomplete=function(e){},i.promise})):Promise.resolve(null)}},{key:"getAll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return gh?this._getDB().then((function(i){var r=(0,U.createDeferred)(),o=e.storeName;if(!i.objectStoreNames.contains(o))return r.resolve();var a=i.transaction([o]).objectStore(o);if(IDBObjectStore.prototype.getAll){var A=a.getAll(t,n);return A.onsuccess=function(e){var t=e.target.result;if(!t)return r.resolve();r.resolve(t)},A.onerror=function(e){r.reject(e)},r.promise}var s=a.openCursor(t),c=[];return s.onsuccess=function(e){var t=e.target.result;t&&(c.push(t.value),void 0===n||c.length<n)?t.continue():r.resolve(c)},s.onerror=function(e){r.reject(e)},r.promise})):Promise.resolve(null)}},{key:"getAllKeys",value:function(e){var t=this;return gh?this._getDB().then((function(n){var i=(0,U.createDeferred)(),r=t.storeName;if(!n.objectStoreNames.contains(r))return i.resolve();var o=n.transaction([r]).objectStore(r);if(IDBObjectStore.prototype.getAllKeys){var a=o.getAllKeys(null,e);return a.onsuccess=function(e){var t=e.target.result;if(!t)return i.resolve();i.resolve(t)},a.onerror=function(e){i.reject(e)},i.promise}var A=o.openCursor(key),s=[];return A.onsuccess=function(t){var n=t.target.result;n&&(s.push(n.key),void 0===e||s.length<e)?n.continue():i.resolve(s)},A.onerror=function(e){i.reject(e)},i.promise})):Promise.resolve(null)}}]),n}(yh);function wh(e){return/^[\d\(\)\.\-\s]*\d+[\d\(\)\.\-\s]*$/.test(e)}function kh(e){var t=e.getFlags();return e.getType()===pn.Text&&!gn.isPassword(t)&&!gn.isHidden(t)&&!gn.isReadOnly(t)}function xh(e){return{text:e}}var _h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,_._)(this,e);var n=this.dbName="autocomplete",i=this.primaryName="text";this.db=new bh(n,Le+n,1,i),this.pdfViewer=t}return(0,P._)(e,[{key:"getFormEntries",value:function(){var e=this;return this.pdfViewer?this.pdfViewer.getCurrentPDFDoc().loadPDFForm().then((function(t){var n=[],i=t.fields,r=e.pdfViewer.getAutoCompleteSetting().rememberNumericalData,o=!0,a=!1,A=void 0;try{for(var s,c=i[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(kh(u)){var l=u.getValue();if(!r&&wh(l))continue;n.push(xh(u.getValue()))}}}catch(e){a=!0,A=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw A}}return n})):Promise.resolve([])}},{key:"getDbEntries",value:function(){return this.db.getAll()}},{key:"getAllEntries",value:function(){var e=this;return Promise.all([this.getFormEntries(),this.getDbEntries()]).then((function(t){var n=(0,E._)(t,2),i=n[0],r=n[1];i=i||[],r=r||[];var o={},a=!0,A=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;o[l[e.primaryName]]=l}}catch(e){A=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(A)throw s}}var d=!0,h=!1,f=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value;o[v[e.primaryName]]=v}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}return Object.values(o)}))}},{key:"saveDbEntry",value:function(e){!this.pdfViewer.getAutoCompleteSetting().rememberNumericalData&&wh(e)||this.db.add(xh(e))}},{key:"clearDbEntries",value:function(){return this.db.clear()}},{key:"deleteEntry",value:function(e){return this.db.remove(e)}}]),e}(),Ph="fv__autocomp-li",Dh="fv__autocomp-open",Ch="fv__autocomp-close";var Sh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=i.bindInputEvent,a=void 0===o||o,A=i.entryGetter,s=i.entryMatcher,c=void 0===s?n.defaultMatcher:s,u=i.entrySorter,l=void 0===u?n.defaultSorter:u,d=i.parent,h=void 0===d?"body":d;return(0,_._)(this,n),(r=t.call(this)).bindInputEvent=a,r.entryGetter=A,r.entryMatcher=c,r.entrySorter=l,r.isOpen=!1,r.focusIndex=0,r.$input="string"==typeof e?N()(e):e,r.parent="string"==typeof h?N()(h):h,r._initData(),r._initUI(),r._initEvent(),r}return(0,P._)(n,[{key:"_initData",value:function(){this.entries=this.entryGetter()}},{key:"_initUI",value:function(){var e=this.$input.offset(),t=e.top,n=e.left,i=this.parent.offset(),r=i.top,o=i.left,a=this.$input.outerHeight(),A="top: ".concat(t-r+a,"px; left: ").concat(n-o,"px");this.$ul=N()('\n            <ul class="'.concat("fv__autocomp-ul"," ").concat(Ch,'" style="').concat(A,'"></ul>\n        ')),this.parent.append(this.$ul)}},{key:"_initEvent",value:function(){this.bindInputEvent&&(this._unbindInputEvent=this._bindInputEvent()),this._unbindUlEvent=this._bindUlEvent()}},{key:"_bindInputEvent",value:function(){}},{key:"_bindUlEvent",value:function(){var e=this,t=function(t){e.$input.val(N()(t.target).data("text")),e.emit("select"),e.close()};return this.$ul.on("click","li",t),function(){return e.$ul.off("click","li",t)}}},{key:"evaluate",value:function(){var e=this;this.$ul.empty(),this.focusIndex=0;var t=this.entries;(0,I._)(t,Promise)?t.then((function(t){e.entries=t,e._displayEntries(t)})):this._displayEntries(t)}},{key:"_displayEntries",value:function(e){if((e=this.entrySorter(this.entryMatcher(e,this.$input.val()))).length>0){var t=[];for(var n in e){var i=e[n],r=this.focusIndex==n?"active":"";t.push(N()('<li class="'.concat(Ph," ").concat(r,'" data-text="').concat(i.text,'">').concat(i.text,"</li>")))}this.$ul.append(t),this.open()}else this.close()}},{key:"open",value:function(){this.$ul.removeClass(Ch),this.$ul.addClass(Dh),this.isOpen=!0}},{key:"close",value:function(){this.$ul.removeClass(Dh),this.$ul.addClass(Ch),this.focusIndex=0,this.isOpen=!1}},{key:"goto",value:function(e){if(this.isOpen){this.$ul.children().eq(this.focusIndex).removeClass("active");var t=this.$ul.children().eq(e);t.addClass("active"),this.focusIndex=e;var n=this.$ul,i=n.height(),r=n.scrollTop(),o=t.outerHeight(),a=t.position().top-n.children().first().position().top;a+o>i+r&&n.scrollTop(a+o-i),a<r&&n.scrollTop(a)}}},{key:"next",value:function(){var e=this.$ul.find("li.".concat(Ph)).length;if(this.isOpen&&this.entries&&0!==e){var t=(this.focusIndex+1)%e;this.goto(t)}}},{key:"previous",value:function(){var e=this.$ul.find("li.".concat(Ph)).length;if(this.isOpen&&this.entries&&0!==e){var t=(this.focusIndex-1)%e;t<0&&(t=e-1),this.goto(t)}}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.focusIndex;this.$input.val(this.$ul.children().eq(e).data("text"))}},{key:"destroy",value:function(){this._unbindInputEvent&&this._unbindInputEvent(),this._unbindUlEvent&&this._unbindUlEvent(),this.$ul.remove()}},{key:"setMatcher",value:function(e){this.entryMatcher=e}}],[{key:"defaultMatcher",value:function(e,t){return e.filter((function(e){return e.text.startsWith(t)&&t!==e.text}))}},{key:"defaultSorter",value:function(e){return e}}]),n}(Us()),Ih=n(5143),Eh=n.n(Ih),Rh=(n(7187),"100%"),Th="transparent",Mh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_text_field"),e.setRenderNotifier((function(e){return a.updateUI(e)})),a.defaultEvnet=!1,a.mousewheel(),a.generateHandler(1)&&a.bindInputEvent(),a.isOnFocus=!1,a}return(0,P._)(n,[{key:"genLabelUI",value:function(){arguments.length>1&&void 0!==arguments[1]||this.rotate;if(!this.annot.getField())return!1;var e=Eh()();return this.$foreground.after(N()(e)),!0}},{key:"mousewheel",value:function(){var e=this,t=this.parent("pdfViewerRender");this.disposor.addDestroyHook(t.scrollWrap.addScrollEventListener((function(){var t=e.formRender.dt;t&&t._positionCalendar&&e.isActive&&t.isOpen&&t._positionCalendar(e.$handler.get(0))})))}},{key:"updateOnPermissionChange",value:function(){if(this.$textInput){(0,D._)((0,C._)(n.prototype),"updateOnPermissionChange",this).call(this);var e=this.checkReadOnly();this.$textInput[0].readOnly=e}}},{key:"destroy",value:function(){this.$textInput.off("change keydown keyup blur dblclick input"),this.$input.remove(),this.$input=null,this.$textInput=null,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.engineForm=null,this.destroyAutocomplete()}},{key:"generateHandler",value:function(e){var t=this.annot,n=t.getField();if(!n)return!1;var i=90*(4-this.annot.getRotation()+t.getPage().getRotation()),r=Rh,o=Rh,a=this.checkReadOnly(),A=4*t.getBorderWidth()/3*e,s=(0,U.getTransparentOrColor)(t.getMKProperty("borderColor"));U.isSafari&&"transparent"===s&&(s="rgba(255,255,255,0.01)");var c=(0,U.getTransparentOrColor)(t.getMKProperty("fillColor"));this.$handler.css("background-color",c);var u=t.getAlignment(),l=gn.isMultiline(n.getFlags()),d=gn.isPassword(n.getFlags()),h=gn.isNoScroll(n.getFlags()),f=gn.isNoSpellCheck(n.getFlags()),p=gn.isComb(n.getFlags())&&n.getMaxLength()>0,g=!this.checkInvisible(),v=(0,U.colorConvertor)(16777215&t.getDAFontColor(),"#"),m=this.getFontSize(n,t);m?m+="px":m=l?"16px":"xx-large";var y=n.getValue(),b=fh()({borderWidth:A,borderColor:s,background:Th,isSafari:U.isSafari,isMultiline:l,isPassword:d,isNoScroll:h,isNoSpellCheck:f,comb:p,readonly:a,align:u,value:y,maxLength:n.getMaxLength(),visible:g,color:v,fontSize:m,rotation:i+this.rotate,left:"0",top:"0",width:r,height:o}),w=this.$input=N()(b),k=this.$textInput=w.find("input");if(this.isTextarea=0==k.length,this.isTextarea&&(k=this.$textInput=w.find("textarea")),this.$foreground.before(w),p&&k.hide(),this.formRender.usingHTML(6)){this.$input.hide();var x=this.annotsRender.pageRender;this.render(x.getScale(),x.getRotation())}else this.$input.css("visibility","hidden");return!0}},{key:"getFontSize",value:function(e,t){var n=t.getDefaultAppearance(),i=e.getDAFontSize();return n&&n.textSize&&(i=n.textSize),4*i/3}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.render(e,t,n)}},{key:"updateForgroundAndHandler",value:function(e,t){(0,D._)((0,C._)(n.prototype),"updateForgroundAndHandler",this).call(this,e,t),this.$textInput.css(this.$handler.css(["width","height"]))}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.annot)return Promise.resolve();var r=this.annot,o=r.getField();this.scale=e,this.rotate=t;var a=this.updateForgroundAndHandler(e,t);if(o&&this.formRender.usingHTML(6)){var A=this.getFontSize(o,r)*e;if(A)A+="px";else if(gn.isMultiline(o.getFlags()))A=16*e+"px";else{clearTimeout(this.autoFontSizeTimeout);var s=this;this.autoFontSizeTimeout=setTimeout((function(){s.annot&&s.formRender&&(s.autoFontSize(),s.formRender.usingHTML(6)&&s.$input.show())}),20)}var c,u,l=((this.getPDFPage().getRotationAngle()+t-90*r.getRotation())%360+360)%360,d="center";switch(l){case 90:case 270:c=a.height,u=a.width,d=270===l?"".concat(c/2,"px ").concat(c/2,"px"):"".concat(u/2,"px");break;default:c=a.width,u=a.height}gn.isComb(o.getFlags())&&o.getMaxLength()>0&&this.$input.find(".textComb").css({width:a.width/o.getMaxLength(),height:a.height,"line-height":a.height+"px",fontSize:A});var h=4*r.getBorderWidth()/3*e,f={"font-size":A,"border-width":h+"px",transform:"rotate(".concat(l,"deg)"),"transform-origin":d,width:c+"px",height:u+"px","line-height":gn.isMultiline(o.getFlags())?"1":u-2*h+"px"};this.$input.show(),this.$textInput.css(f)}return this.formRender.usingHTML(6)?Promise.resolve():(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t,i)}},{key:"focus",value:function(e){var t=this;this.autoFontSize(),this.hasFocus=!0,this.$handler.find("canvas").hide(),this.$input.css("visibility","visible");var n=this.annot.getDefaultAppearance();this.$input.find("input").css("fontFamily",n.fontName||n.fullName);var i=this.annot.getField(),r=this.$textInput;e||(this.lastAvailableValue=i.getValue()),this.isOnFocus=!0,setTimeout((function(){t.$foreground.hide(),t.isOnFocus=!1;var e=!!t.getDateTimeFormat();U.isIOS&&e||document.activeElement!=r[0]&&r[0].focus()}),50),this.$input.find(".textCombContainer").hide(),r.show();var o,a=i.getAction(go.FieldWillFormat),A=this.getDateTimeFormat();if(A){if(0==(A=va.switchFormat(A,"toLib")).length&&(A="m-d-y"),this.isTextarea&&Object.defineProperty(r[0],"type",{value:"text",writable:!0}),0!==this.formRender.getEditType())return;this.formRender.showDateTimePicker(r.val(),A,r[0],(function(e,n,i){r.val(n),t.valueChanged=!0}))}if("basic"===this.pdfViewer.getAutoCompleteSetting().level&&kh(i)&&!this.isDate){var s=new _h(this.pdfViewer),c=i.getMaxLength(),u=this.$autocomplete=new Sh(this.$textInput,{entryGetter:s.getAllEntries.bind(s),parent:this.parent("pdfPageRender").$annotsContainer});c&&u.setMatcher((o=c,function(e,t){return e.filter((function(e){var n=e.text;return n.startsWith(t)&&n!==t&&n.length<=o}))})),u.on("select",(function(){t.valueChanged=!0,t.formRender.blurControl()}))}i&&r.val(i.getValue()||""),a=this.annot.getAdditionalAction(go.AnnotReceiveInputFocus);try{return a&&this.formRender.execAction("Field",a,null,i)}finally{this.isActive=!0,this.pdfViewer.eventEmitter.emit(de.focusOnControl,this)}}},{key:"handleEvent",value:function(e,t){if(!this.$ui.hasClass("selected")&&!this.$ui.hasClass("editing")){0;var n=this.formRender;if(this.checkReadOnly()||this.checkInvisible())e!=go.AnnotMouseButtonReleased&&e!=go.AnnotReceiveInputFocus||n.blurControl();else{switch(e){case go.AnnotMouseButtonPressed:if(n.control==this)return this.performAction(e),2;n.focusControl(this);break;case go.AnnotMouseButtonReleased:if(!n.isSameTarget(this))return;var i=this.annot.action;i&&n.execAction("Field",i,null,this.annot.getField());var r=this.$textInput;U.isIOS||(setTimeout((function(){document.activeElement!=r[0]&&r.focus()}),50),this.$input.find(".textCombContainer").hide(),r.show()),this.getDateTimeFormat()&&this.formRender.reshowDTPicker(r[0])}this.performAction(e)}}}},{key:"bindInputEvent",value:function(){var e=this;this.$textInput.on("keydown",(function(t){27==t.keyCode&&t.preventDefault();var n=e.$autocomplete;n&&(38===t.keyCode&&n.isOpen&&(n.previous(),t.preventDefault()),40===t.keyCode&&(n.isOpen?n.next():n.evaluate(),t.preventDefault()),13===t.keyCode&&n.isOpen&&(n.select(),t.preventDefault(),t.stopPropagation()))})).on("keyup",(function(t){if((0,U.isMatch)(t,U.matchers.Escape)&&t.preventDefault(),!e.checkReadOnly())if(setTimeout((function(){e.autoFontSize(e.$textInput.val())}),0),(0,U.isMatch)(t,U.matchers.Enter)){var n=e.annot.getField();!gn.isMultiline(n.getFlags())&&e.blur()}else if(!(0,U.isMatch)(t,U.matchers.Tab)){var i=e.formRender.dt;i&&(i._inputTemp||(i._inputTemp=i._input),i._input=i._input.cloneNode(),i.close())}})).on("dblclick",(function(t){e.$autocomplete&&e.$autocomplete.evaluate()})).on("paste",(function(t){e.pasteFont=null;var n=t.originalEvent.clipboardData.getData("text/html");if(0!==n.length){var i=Ud.formatRichText(n);0!==i.length&&(e.pasteFont=i[0].richTextStyle.font)}})).on("input",(function(t){t.target.value=(0,U.replaceInvalidXMLCharacters)(t.target.value," "),e.valueChanged=!0,e.$autocomplete&&(t.target.value.length>0?e.$autocomplete.evaluate():e.$autocomplete.close())})).on("blur",(function(t){e.getDateTimeFormat()||e.$autocomplete||e.formRender.blurControl()}))}},{key:"updateUIMore",value:function(e){var t=this,i=e.type,r=e.value,o=this.annot,a=this.$input,A=this.$textInput,s=o.getField();if(s){var c=Promise.resolve();switch(i){case"value":var u=s.getAction(go.FieldWillFormat),l=s.getAction(go.FieldValueChanged);if(s.NeedExecuteValidateAction&&0!=s.getValue().length&&l)if(!this.formRender.execAction("Field",l,null,s,go.FieldValueChanged).rc){s.setValue(this.lastAvailableValue,this.annot),this.valueChange(!1,s);break}c.then((function(e){if(0!=s.getValue().length&&u&&t.formRender){var n=t.formRender.execAction("Field",u,null,s,go.FieldWillFormat);n&&-1!==n&&!n.rc&&(s.setValue(t.lastAvailableValue,t.annot),t.valueChange(!1,s))}0===s.getValue().length&&s.setDisplayValue(r)}));break;case"displayValue":if(gn.isComb(s.getFlags())&&s.getMaxLength()>0){var d=s.getMaxLength();if(2===s.getAlignment()){var h=a.find(".textComb").length,f=r.length,p=h-r.length-1,g=0;p<-1&&(p=-1),r.length>h&&(g=r.length-h);for(var v=h-1;v>p;v--)a.find(".textComb[data-index=".concat(v,"]")).html(r[v-h+f-g]);for(var m=p;m>-1;m--)a.find(".textComb[data-index=".concat(m,"]")).html("")}else{for(var y=0;y<r.length;y++)a.find(".textComb[data-index=".concat(y,"]")).html(r[y]);for(var b=r.length;b<d;b++)a.find(".textComb[data-index=".concat(b,"]")).html("")}}c=s.setDisplayValue(r),A.val(r);break;case"align":A.css("text-align",r);break;case"borderStyle":A.css("border-style",r);break;case"borderColor":r=(0,U.getTransparentOrColor)(r),a.find(".textComb").css("border-color",r),A.css("border-color",r);break;case"maxLength":void 0===r?A.removeAttr("maxlength"):(A.attr("maxlength",r),A.val(A.val().substr(0,r)));break;case"noSpellCheck":A.prop("spellcheck",!r);break;case"noScroll":case"comb":case"multiline":case"lineSpace":a.remove(),this.generateHandler(this.scale),this.bindInputEvent(),this.isActive&&this.focus(),this.render(this.scale,this.rotate,!0);break;case"fillColor":this.$handler.css("background-color",(0,U.getTransparentOrColor)(r));break;case"password":A.attr("type",r?"password":"text");break;case"readonly":r?(this.$foreground.addClass("form-field-readonly").css("visibility","hidden"),A.attr("readonly",!0)):(this.checkReadOnly()||this.checkInvisible()||this.$foreground.removeClass("form-field-readonly").css("visibility","visible"),A.removeAttr("readonly"));var w=(0,U.getTransparentOrColor)(o.getMKProperty("fillColor"));r&&(w=Th),A.css("background-color",w);break;case"hidden":var k=this.$handler;r?k.hide():k.show();break;case"textColor":A.css("color",r)}this.formRender.usingHTML(6)||c.then((function(e){return t.annot&&(0,D._)((0,C._)(n.prototype),"render",t).call(t,t.scale,t.rotate,!0)}))}}},{key:"blur",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hasFocus=!1;var n=this.$textInput;setTimeout((function(){e.destroyAutocomplete()}),0),this.isActive=!1,this.$handler.find("canvas").show();try{var i=[];if(this.pasteFont)this.annot.getField().controls.forEach((function(t){i.push(t.setDefaultAppearance({fontName:e.pasteFont.name}))})),this.pasteFont=null;return Promise.all(i).then((function(i){return e.setValue(n.val(),t)})).finally((function(t){e.formRender.usingHTML(6)||e.$input.css("visibility","hidden")}))}finally{this.pdfViewer.eventEmitter.emit(de.blurFromObject,this,t)}}},{key:"setValue",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.annot.getField();i.setValueWithoutAction(e),e===this.lastAvailableValue&&(this.valueChanged=!1);var r=!1,o=i.getAction(go.FieldKeyStroke);return this.valueChanged&&o&&-1!==(t=this.formRender.execAction("Field",o,null,i,go.FieldKeyStroke,{change:e,willCommit:!0}))&&(t.rc?(void 0!==t.change&&null!==t.change||(t.change=e),i.setValueWithoutAction(t.change)):(r=!0,e=this.lastAvailableValue)),r?(i.setValue(this.lastAvailableValue,this.annot),this.valueChange(r,i,n)):(o=i.getAction(go.FieldValueChanged),this.valueChanged&&o&&-1!==(t=this.formRender.execAction("Field",o,null,i,go.FieldValueChanged))&&(t.rc?(void 0===t.value&&(t.value=e),i.setValueWithoutAction(t.value)):r=!0),r?i.setValue(this.lastAvailableValue,this.annot):this.valueChanged?i.syncValue(i.getValue()):(o=i.getAction(go.FieldWillFormat),(t=i.getValue()&&o&&this.formRender.execAction("Field",o,null,i,go.FieldWillFormat))&&!t.rc?(i.setValue(this.lastAvailableValue,this.annot),this.valueChange(!1,i,n)):this.valueChanged&&i.syncValue(i.getValue())),this.valueChange(r,i,n))}},{key:"valueChange",value:function(e,t,i){return this.valueChanged&&!e&&this.formRender.calculate(t),this.valueChanged=!1,!e&&"basic"===this.pdfViewer.getAutoCompleteSetting().level&&kh(t)&&new _h(this.pdfViewer).saveDbEntry(t.getValue()),t&&gn.isComb(t.getFlags())&&t.getMaxLength()>0&&(this.$textInput.hide(),this.$input.find(".textCombContainer").show()),(0,D._)((0,C._)(n.prototype),"blur",this).call(this,i),e}},{key:"isComb",value:function(){var e=this.annot.getField();return gn.isComb(e.getFlags())&&e.getMaxLength()>0}},{key:"destroyAutocomplete",value:function(){this.$autocomplete&&this.$autocomplete.destroy(),this.$autocomplete=null}},{key:"getDateTimeFormat",value:function(){var e=this.annot.getField().getAction(go.FieldWillFormat);if(e&&e.getScript){var t,n=e.getScript();if(-1!==n.indexOf("AFDate_Format")){t=/AFDate_Format(?:Ex)?\("([\s\S]*?)"\)/;var i=n.match(t);if(i&&2==i.length)return i[1].trim()}else if(-1!==n.indexOf("AFTime_Format")){t=/AFTime_Format(?:Ex)?\(([\s\S]*?)\)/;var r=n.match(t);if(r&&2==r.length)return Fh[r[1]]||r[1].replace(/"/g,"")}}}}]),n}(zo),Fh=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"];const Lh=Mh;var Nh=n(6892),Oh=n.n(Nh),Bh=function(e){return String(e).replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))},jh=function(e){return String(e).replace(/[<>&"\s]/g,(function(e){return{" ":"&nbsp;","<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))},Vh=function(e){return String(e).replace(/([!\"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")},Uh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$ui.addClass("form_listbox_field"),e.setRenderNotifier((function(e){return a.updateUI(e)})),a.generateHandler(1),a}return(0,P._)(n,[{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.$input.remove(),this.engineForm=null}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t,this.updateForgroundAndHandler(e,t);this.annot.getField();var n=this.getDAFontSize(),i=this.getDAFontName(),r=this.getFontStyle(i),o=this.getFontWeight(i),a=this.getFontFamily(i),A=4*this.annot.getBorderWidth()/3*e;"underline"=={0:"solid",1:"dashed",2:"underline",3:"beveled",4:"inset"}[this.annot.getBorderStyle()||0]?this.$input.css({"border-style":"solid","border-width":"0","border-bottom-width":A+"px"}):this.$input.css({"border-width":A+"px"}),this.$input.css({"font-size":n,"font-weight":o,"font-style":r,"font-family":a}),this.$input.find(".form-field-option").css({"font-size":n,"font-weight":o,"font-style":r,"font-family":a+", sans-serif"});var s,c,u=this.getRect(e,t),l=u.right-u.left,d=u.bottom-u.top,h=((this.getPDFPage().getRotationAngle()+t-90*this.annot.getRotation())%360+360)%360,f="center";switch(h){case 90:case 270:s=d,c=l,f=270===h?"".concat(s/2,"px ").concat(s/2,"px"):"".concat(c/2,"px");break;default:s=l,c=d}this.$input.css({width:s-1,height:c,transform:"rotate(".concat(h,"deg)"),"transform-origin":f});var p=this.$input.find(".selected");!this.scrollSet&&p.length>0&&(this.scrollSet=!0,this.$input[0].scrollTop=p[0].offsetTop)}},{key:"generateHandler",value:function(e){var t=this.annot.getField();if(t){var n=this.checkReadOnly(),i=4*this.annot.getBorderWidth()/3*e,r=this.annot.getMKProperty("borderColor"),o=(0,U.getTransparentOrColor)(r),a=this.annot.getMKProperty("fillColor"),A=(0,U.getTransparentOrColor)(a),s=t.getAlignment(),c=t.getOptions(),u=t.getOptions(),l=t.getValue();u.map((function(e){"object"==typeof e&&l===e.value&&(l=e.label)}));var d=this.annot.getDefaultAppearance()||{},h=(0,U.colorConvertor)(16777215&d.textColor,"#"),f=this.getDAFontSize(),p={0:"solid",1:"dashed",2:"underline",3:"beveled",4:"inset"}[this.annot.getBorderStyle()||0];"beveled"==p&&(p="outset");var g=Oh()({borderWidth:i,borderColor:o,background:A,options:c,align:s,readonly:n,value:l,color:h,fontSize:f,borderStyle:p});this.checkInvisible()&&this.$handler.hide();var v=this.$input=N()(g);this.$handler.append(v)}}},{key:"focus",value:function(){(0,D._)((0,C._)(n.prototype),"focus",this).call(this),this.lastAvailableValue=this.annot.getField().getValue()}},{key:"handleEvent",value:function(e,t){var n=this,i=this.formRender,r=this.annot;if(this.checkReadOnly())e!=go.AnnotMouseButtonReleased&&e!=go.AnnotReceiveInputFocus||i.blurControl();else{var o=r.getField();if(o){var a=Promise.resolve();switch(e){case go.AnnotMouseButtonPressed:if(i.focusControl(this),N()(t.target).hasClass("form-field-option"))this._pressedTarget=t.target;else if(N()(t.target).hasClass("fv__ui-form-foreground")){var A=t.clientX,s=t.clientY;N()(t.target).next(".form-field-options").find(".form-field-option").each((function(e,t){var i=t.getBoundingClientRect();if(A>=i.left&&A<=i.right&&s>=i.top&&s<=i.bottom)return n._pressedTarget=t,!1}))}break;case go.AnnotMouseButtonReleased:var c=t.target,u=!1;if(N()(t.target).hasClass("form-field-option")?u=!0:this._pressedTarget&&N()(this._pressedTarget).hasClass("form-field-option")&&(u=!0,c=this._pressedTarget),delete this._pressedTarget,u){var l=N()(c).index(),d=gn.isChoiceMultiSelect(o.getFlags())&&(U.isMac?U.keyboardStatus.isWinDown:U.keyboardStatus.isCtrlDown),h=o.getOptions(),f=h[l];d?f.selected?f.selected=!1:f.selected=!0:(h.forEach((function(e){return e.selected=!1})),f.selected=!0);var p=h.reduce((function(e,t){return t.selected&&e.push(t.value),e}),[]);d||(p=p[0]),o.setValueWithoutAction(""),a=i.setValue(r,p).then((function(e){o.setOptions(h,!0),n.lastAvailableValue=p}))}setTimeout((function(){var e=r.action;i.execAction("Field",e,null,r.getField())}),0)}a.then((function(t){n.performAction(e)}))}}}},{key:"updateUIMore",value:function(e){var t=this,n=e.type,i=e.value,r=this.$input,o=this.annot.getField(),a=Promise.resolve(),A=!1;switch(n){case"value":o.setValueEx(i,null,!1);var s=r.find(".form-field-option");if(!s.length)return;var c=r[0],u=c.getBoundingClientRect();o.getOptions().forEach((function(e,t){if(s.get(t)&&(N()(s.get(t)).toggleClass("selected",e.selected),e.selected)){var n=s.get(t).getBoundingClientRect();c.scrollTop=c.scrollTop+n.top-u.top}}));break;case"align":r.css("text-align",i);break;case"borderStyle":var l=4*this.annot.getBorderWidth()/3*this.scale;if(r.css("border-width",l),"underline"==i){r.css({"border-style":"solid","border-width":"0","border-bottom-width":l+"px"});break}"beveled"==i&&(i="outset"),r.css("border-style",i);break;case"clearItems":this.updateUIMore({type:"value",value:o.getValue()}),r.find(".form-field-option").remove(),A=!0;break;case"deleteItems":this.updateUIMore({type:"value",value:o.getValue()}),r.find(".form-field-option:nth-child("+(i+1)+")").remove(),this.updateUIMore({type:"value",value:o.getValue()}),A=!0;break;case"insertItemAt":var d=this.annot.getField().getOptions()[i],h='<div class="form-field-option" data-val="'.concat(d.value,'" data-index="').concat(i,'" style="white-space: nowrap; overflow-x: hidden;">').concat(Bh(d.label||""),"</div>");r.children().length<=i?r.append(h):r.find(".form-field-option:nth-child("+(i+1)+")").before(h),this.updateUIMore({type:"value",value:o.getValue()}),A=!0;break;case"borderColor":r.css("border-color",(0,U.getTransparentOrColor)(i));break;case"fillColor":r.css("background-color",(0,U.getTransparentOrColor)(i));break;case"setItems":var f=this.getDAFontSize(),p=this.annot.getField().getOptions().map((function(e){return'<div class="form-field-option '.concat(e.selected?"selected":"",'" data-val="').concat(e.value,'" data-index="').concat(i,'" style="white-space: nowrap; overflow-x: hidden; font-size: ').concat(f,'; ">').concat(Bh(e.label||""),"</div>")}));r.find(".form-field-option").remove(),r.append(p.join("")),A=!0;break;case"textColor":r.find(".form-field-option").css("color",(0,U.getTransparentOrColor)(i));break;case"choiceMultiSelect":break;case"DA":var g=i.fontName.toLowerCase()||"",v=this.getFontStyle(g),m=this.getFontWeight(g),y=this.getFontFamily(g),b=this.getDAFontSize();this.$input.find(".form-field-option").css({"font-size":b,"font-weight":m,"font-style":v,"font-family":y+", sans-serif"})}if(A){var w=this.$input.find(".selected");w.length>0&&(this.scrollSet=!0,this.$input[0].scrollTop=w[0].offsetTop)}this.formRender.usingHTML(pn.ListBox)||a.then((function(e){return t.annot&&t.render(t.scale,t.rotate,!0)}))}},{key:"getDAFontSize",value:function(){var e=this.scale,t=this.annot.getControl().getDefaultAppearance().textSize*e*4/3;return t||(t=12*e),t+="px"}},{key:"getDAFontName",value:function(){return this.annot.getControl().getDefaultAppearance().fontName||""}},{key:"getFontWeight",value:function(e){return e.includes("bold")?"bold":"normal"}},{key:"getFontStyle",value:function(e){return e.includes("italic")||e.includes("oblique")?"italic":"normal"}},{key:"getFontFamily",value:function(e){var t=e,n=e.indexOf("-");return n>0&&(t="times-roman"===e.toLowerCase()?"Times Roman":e.substring(0,n)),t}}]),n}(zo);const Hh=Uh;var zh,Wh=n(1771),Yh=n.n(Wh),Gh=n(7416),$h=n.n(Gh),Kh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).engineForm=a.parent("pdfDocRender").doc.getPDFForm(),a.$handler.addClass("fv_combobox_field"),a.available=!0,a.genDropDownUI(1),a.genLabelUI(),a.bindDropDownUIEvent(),a}return(0,P._)(n,[{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.$optionsList&&(this.$optionsList.off("click"),this.$optionsList.remove()),this.engineForm=null,this.$optionsList=null}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(this.annot&&(this.scale=t,this.rotate=i,this.available)){var r=this.updateForgroundAndHandler(t,i),o=(r.width,r.height);r.left<1&&(r.left=1);var a=this.annotsRender.pageRender.getShowHeight(),A=this.annotsRender.pageRender.getShowWidth(),s=1===this.annot.getDirectionRTL()?"right":"left";this.$optionsList.css({"text-align":s,"font-size":"16px","overflow-y":"auto"});var c=4*this.annot.getBorderWidth()/3*t,u=this.annot.getField();if(!u)return!1;var l,d,h,f,p,g,v=this.getRect(t,i),m=v.right-v.left,y=v.bottom-v.top,b=200,w=((this.getPDFPage().getRotationAngle()+i-90*this.annot.getRotation())%360+360)%360;switch(w){case 270:l=m,f=h="".concat((d=y)/2,"px ").concat(d/2,"px"),g=v.left+l,p=v.top,b+g>=A&&(b=A-g-1);break;case 90:d=y,h="".concat((l=m)/2,"px"),f="".concat(l/2,"px -").concat(l/2,"px"),g=v.left,p=v.top+l,g-b<=0&&(b=g-1);break;case 180:d=m,l=y,h="center",f="center top",g=v.left,(p=v.top)-b<=0&&(b=p-1);break;default:d=m,l=y,h="center",f="center",p=v.top+l,g=v.left,b+p>=a&&(b=a-p)}var k=4*u.getDAFontSize()/3,x={"text-align":s,"font-size":k=(k?2*k:.7*l)+"px","border-width":c+"px",padding:c+"px",height:l+"px",width:d+"px",transform:"rotate(".concat(w,"deg)"),"transform-origin":h},_=.3*o>20?20:.3*o;r.width<_+10?x.opacity=0:x.opacity=1,this.$textInput.css(x),this.formRender.usingHTML(pn.ComboBox)&&this.$handler.css({left:v.left,top:v.top,width:d,height:l,transform:"rotate(".concat(w,"deg)"),"transform-origin":h}),this.$optionsList.css({top:p,left:g,width:d,maxHeight:b,transform:"rotate(".concat(w,"deg)"),"transform-origin":f}),this.$handler.find(".fwr__ui-combo-dropdown").css({"border-width":"".concat(_,"px ").concat(.6*_,"px 0"),top:"".concat((l-_)/2,"px")}),this.arrowRender(c,d,l,w),!k&&this.formRender.usingHTML(pn.ComboBox)?(clearTimeout(this.autoFontSizeTimeout),this.autoFontSizeTimeout=setTimeout((function(){e.autoFontSize(e.$textInput.val(),2*_)}),200)):k+="px",this.formRender.usingHTML(pn.ComboBox)||(0,D._)((0,C._)(n.prototype),"render",this).call(this,t,i)}}},{key:"arrowRender",value:function(e,t,n,i){var r,o,a,A,s=this.annot.getDirectionRTL();switch(i){case 90:a=n-3*e,r=1===s?-(20-e):a+e,o=t-n+e,A="100% 100%";break;case 180:a=n-2*e,r=1===s?e:t-e-20,o=e,A="50% 50%";break;case 270:a=n-2*e,r=1===s?a+e:-(20-e),o=-(n+2*e-30),A="0 100%";break;default:a=n-2*e,r=1===s?t-e-20:e,o=e,A="0 0"}this.$arrow.css({right:r,top:o,height:a,width:20*this.scale,"max-width":20,transform:"rotate(".concat(i,"deg)"),"transform-origin":A}),this.$arrow.find(">span").css({transform:"scale(".concat(Math.min(this.scale,1),")"),"transform-origin":"-36% 0"})}},{key:"handleEvent",value:function(e,t){if(this.checkReadOnly())e!=go.AnnotMouseButtonReleased&&e!=go.AnnotReceiveInputFocus||this.formRender.blurControl();else{switch(e){case go.AnnotMouseButtonPressed:this.optionsMounted=this.optionsMounted||this.$handler.after(this.$optionsList),this.$optionsList.show(),this.formRender.focusControl(this);break;case go.AnnotMouseButtonReleased:N()(t.target).hasClass("form-field-option")&&(t.stopPropagation(),this.$optionsList.hide())}this.performAction(e)}}},{key:"genDropDownUI",value:function(e){var t=this.annot,n=this.annot.getField();if(n){var i=4*t.getBorderWidth()/3*e,r=t.getMKProperty("borderColor"),o=(0,U.colorConvertor)(r,"#");0===r&&(o="gray");var a=t.getMKProperty("fillColor"),A=(0,U.colorConvertor)(a,"#");0===a&&(A="white");var s=n.getOptions(),c=n.getValue(),u=Yh()({borderWidth:i,borderColorHex:o,fillColorHex:A,background:"white",options:s,value:c});this.$optionsList=N()(u),this.$optionsList.hide()}else this.available=!1}},{key:"bindDropDownUIEvent",value:function(){var e=this;if(this.available){var t=this.formRender,n=this.annot;this.$optionsList.on("click",(function(i){var r=n.getField(),o=r.getOptions();if(N()(i.target).hasClass("form-field-option")){var a=N()(i.target).data("val")+"";if(i.stopPropagation(),e.$optionsList.hide(),e.$optionsList.find(".selected").removeClass("selected"),N()(i.target).addClass("selected"),!r)return;o.forEach((function(e){e.selected=!1}));var A=N()(i.target).index();if(o[A].selected=!0,r.getFlags()&gn.CommitOnSelChange){if(r.getValue()===a)return;t.setValue(n,a,!1)}else e.$textInput.css("visibility","visible"),e.$handler.find("#pdfcanvas").hide(),A<o.length&&(a=o[A].label),e.$textInput.val(a),e.$textInput.focus()}setTimeout((function(){var e=n.action;t.execAction("Field",e,null,n.getField())}),150)}))}}},{key:"blur",value:function(){var e=this;this.hasFocus=!1;var t=function(){e.formRender.usingHTML(pn.ComboBox)||e.$input.css("visibility","hidden"),e.$arrow.css("visibility","visible")},i=this.formRender,r=this.annot;this.$optionsList.hide();var o=(0,U.createDeferred)();if(this.$textInput.length>0){var a=this.$textInput.val(),A=r.getField();if(!A)return void o.resolve();var s=a,c=A.getFlags();if(!(gn.ComboEdit&c))A.getOptions().forEach((function(e){e.label==a&&(s=e.value)}));i.setValue(r,s).then((function(){t(),e.$handler.find("#pdfcanvas").show(),o.resolve(!1)}),o.reject)}else t(),o.resolve();return o.promise.finally((function(){(0,D._)((0,C._)(n.prototype),"blur",e).call(e)}))}},{key:"focus",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"focus",this).call(this);var t=this.annot.getField();if(t){var i=t.getValue(),r=i;t.getOptions().forEach((function(e){i==e.value+""&&(r=e.label)})),this.$textInput.val(r),setTimeout((function(){gn.isComboEdit(t.getFlags())?(e.$textInput.css("visibility","visible").prop("readonly",!1),e.$handler.find("#pdfcanvas").hide(),e.$textInput.focus()):(e.$textInput.css("visibility","hidden").prop("readonly",!0),e.$handler.find("#pdfcanvas").show())}),10)}}},{key:"genLabelUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;if(!this.annot.getField())return!1;var n=$h()(this.getStyle(e,t)),i=this.$input=N()(n);return this.$foreground.after(i),this.$textInput=this.$handler.find("input"),this.formRender.usingHTML(pn.ComboBox)||this.$input.css("visibility","hidden"),this.$arrow=this.$handler.find(".fwr__ui-combo-arrow"),this.$arrow.css("visibility","visible"),!0}},{key:"updateUIMore",value:function(e){var t=this,i=e.type,r=e.value,o=this.$textInput,a=this.$optionsList,A=this.annot.getField();if(A&&2!=(2&this.annot.info.flag)){var s=1===this.annot.getDirectionRTL()?"right":"left",c=Promise.resolve();switch(i){case"value":c.then((function(e){var n=A.getAction(go.FieldWillFormat);if(0!=A.getValue().length&&n)t.formRender.execAction("Field",n,null,A,go.FieldWillFormat);0===A.getValue().length&&A.setDisplayValue(r)})),o.val(r),a.find(".selected").removeClass("selected"),a.find(".form-field-option").each((function(e,t){N()(t).css("text-align",s),N()(t).attr("data-val")===r&&N()(t).addClass("selected")}));break;case"displayValue":c=A.setDisplayValue(r),o.val(r);break;case"align":o.css("text-align",r),a.css("text-align",r),this.render(this.scale,this.rotate,!0);break;case"borderStyle":o.css("border-style",r);break;case"borderColor":o.css("border-color",(0,U.getTransparentOrColor)(r));break;case"borderWidth":case"orientation":case"rect":this.render(this.scale,this.rotate,!0);break;case"fillColor":this.$input.find(".textCombContainer").css("background-color",(0,U.getTransparentOrColor)(r)),o.css("background-color",(0,U.getTransparentOrColor)(r));break;case"readonly":r?(this.$foreground.hide().addClass("form-field-readonly").css("visibility","hidden"),o.attr("readonly",!0)):(this.$foreground.show().removeClass("form-field-readonly").css("visibility","visible"),o.removeAttr("readonly"));break;case"clearItems":a.find(".form-field-option").remove(),this.updateUIMore({type:"value",value:A.getValue()});break;case"deleteItems":a.find(".form-field-option:nth-child("+(r+1)+")").remove(),this.updateUIMore({type:"value",value:A.getValue()});break;case"insertItemAt":var u=this.annot.getField().getOptions(),l="";u.forEach((function(e,t){l+='<div class="form-field-option '.concat(e.selected?"selected":"",'" data-val="').concat(e.value,'" data-index="').concat(t,'" style="white-space: nowrap; overflow-x: hidden;">').concat(Bh(e.label||""),"</div>")})),a.empty().append(l),this.updateUIMore({type:"value",value:A.getValue()});break;case"setItems":var d=this.annot.getField().getOptions().map((function(e){return'<div class="form-field-option '.concat(e.selected?"selected":"",'" data-val="').concat(e.value,'" data-index="').concat(r,'" style="white-space: nowrap; overflow-x: hidden;">').concat(Bh(e.label||""),"</div>")}));a.find(".form-field-option").remove(),a.append(d.join(""));break;case"comboEdit":break;case"textColor":o.css("color",r)}this.formRender.usingHTML(pn.ComboBox)||c.then((function(e){return(0,D._)((0,C._)(n.prototype),"render",t).call(t,t.scale,t.rotate,!0)}))}}},{key:"getStyle",value:function(e,t){var n=this.annot,i=n.getField();if(!i)return!1;var r=this.checkReadOnly(),o=4*n.getBorderWidth()/3*e,a=n.getMKProperty("borderColor"),A=(0,U.getTransparentOrColor)(a),s=n.getMKProperty("fillColor"),c=(0,U.getTransparentOrColor)(s),u=i.getAlignment(),l=!this.checkInvisible(),d=(0,U.colorConvertor)(16777215&i.getDAFontColor(),"#"),h=4*i.getDAFontSize()/3;h=(h?2*h:16)+"px";var f=gn.isComboEdit(i.getFlags()),p=i.getOptions(),g=i.getValue();return p.map((function(e){"object"==typeof e&&g===e.value&&(g=e.label)})),{comboEditable:f,borderWidth:o,borderColor:A,background:c,readonly:r,align:u,value:g,maxLength:i.getMaxLength(),visible:l,color:d,fontSize:h,width:"100%",height:"100%"}}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return this.render(e,t)}}]),n}(zo),qh="annotComponent",Jh={sign:{name:"Sign",nameI18nKey:"viewer_:contextmenu.annot.sign",callback:function(e,t,n,i){this.data(qh).sign(e,t,n,i)},show:function(){return this.data(qh).updateDeleteStatus(!0),!0},hide:function(){return this.data(qh).updateDeleteStatus(!1),!0}},properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(qh).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(qh).removeAnnot()},disabled:function(){return this.data(qh).deleteDisabled()}}};var Xh,Qh=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Jh,events:{show:function(){return this.data(qh).updateDeleteStatus(!0),!0},hide:function(){return this.data(qh).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),Zh=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).$esignChinaContainer=null,a.genLabelUI(),a}return(0,P._)(n,[{key:"genLabelUI",value:function(){arguments.length>1&&void 0!==arguments[1]||this.rotate;if(!this.annot.getField())return!1;var e=Eh()();return this.$foreground.after(N()(e)),!0}},{key:"getControlContext",value:function(){return this.contextMenu?this.contextMenu:this.contextMenu=this.pdfViewer.viewerUI.createContextMenu(this,this.$ui.get(0),this.getContextMenuConfig())}},{key:"getContextMenuConfig",value:function(){var e=this.constructor,t=e.getContextMenuConfig();if(t)return t;var n=e.getDefaultContextMenuConfig();for(var i in n)if("items"===i){var r=n[i],o=this.pdfViewer.i18n;for(var a in r){var A=r[a];A.nameI18nKey&&(A.name=o.t(A.nameI18nKey))}}return e.setContextMenuConfig(n),n}},{key:"showContextMenu",value:function(e,t){var n;(n=this.contextMenu)&&(n.setCurrentTarget(this),n.showAt(e,t))}},{key:"getContextMenuComponentName",value:function(){return"fv--field-signature-contextmenu"}},{key:"handleEvent",value:function(e,t){var i=this,r=this;return(0,x._)((function(){var o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return[4,(0,D._)((0,C._)(n.prototype),"handleEvent",i).call(r,e,t)];case 1:if(o=A.sent())return[2,o];switch(e){case"contextmenu":return t.preventDefault(),r.checkReadOnly()?[2]:(r.contextMenu||(r.contextMenu=r.getControlContext(r)),(a=r.contextMenu)&&(a.setCurrentTarget(r),r.handleContextMenu(a),a.showAt(t.clientX,t.clientY)),[2,!1]);case go.AnnotMouseButtonPressed:0==t.button&&r.pdfViewer.eventEmitter.emit(de.signatureFieldMouseLButtonDown,r.annot);break;case go.AnnotMouseButtonReleased:0==t.button&&r.pdfViewer.eventEmitter.emit(de.signatureFieldMouseLButtonUp,r.annot,!1,r.$esignChinaContainer,r,t);break;case go.AnnotCursorEnter:r.pdfViewer.eventEmitter.emit(de.signatureFieldMouseEnter,r.annot);break;case go.AnnotCursorExit:r.pdfViewer.eventEmitter.emit(de.signatureFieldMouseExit,r.annot)}return[2]}}))}))()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t,i)}},{key:"blur",value:function(){var e=this;return setTimeout((function(){e.$esignChinaContainer&&(e.$esignChinaContainer.parent().css({zIndex:""}),e.$esignChinaContainer.hide())}),50),(0,D._)((0,C._)(n.prototype),"blur",this).call(this)}},{key:"focus",value:function(){var e=this;this.hasFocus=!0,setTimeout((function(){e.$handler.addClass("fv__control_focus")}),50);var t=this.annot.getField(),n=this.annot.getAdditionalAction(go.AnnotReceiveInputFocus);try{n&&this.formRender.execAction("Field",n,null,t)}finally{this.pdfViewer.eventEmitter.emit(de.focusOnControl,this)}}},{key:"handleContextMenu",value:function(e){if(e&&e.contextMenuComponent){var t=this.annot.getField().isSigned(),n=e.contextMenuComponent.$container.$children;t?n.forEach((function(e){return N()(e.element).show()})):n.forEach((function(e){var t=N()(e.element);"fv--contextmenu-item-form-sign"==t.attr("name")?t.show():t.hide()}))}}}],[{key:"getDefaultContextMenuConfig",value:function(){return Qh}},{key:"setContextMenuConfig",value:function(e){zh=e}},{key:"getContextMenuConfig",value:function(){return zh}}]),n}(zo),ef="normalCaption",tf="rolloverCaption",nf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){return(0,_._)(this,n),t.call(this,e,i,r,o)}return(0,P._)(n,[{key:"generateUI",value:function(){var e=this.$input=N()("<div></div>"),t=this.annot,n=t.getDefaultAppearance(),i=(0,U.colorConvertor)(n.textColor||4278190080,"#"),r=t.getMKProperty(ef),o=(0,U.getTransparentOrColor)(t.getMKProperty("fillColor")),a=(0,U.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),A=0===this.annot.getBorderStyle()?"solid":"dashed";e.css({color:i,fontSize:5,"background-color":o,borderWidth:1,borderColor:a,textAlign:"center",borderStyle:A}).html(r),this.$foreground.before(e),e.hide()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)}},{key:"updateUIMore",value:function(e){var t=e.type,i=e.value,r=this.$input;if(!r)return(0,D._)((0,C._)(n.prototype),"updateUIMore",this).call(this,{type:t,value:i});switch(t){case"borderStyle":r.css("border-style",i);break;case"borderColor":i=(0,U.getTransparentOrColor)(i),r.css("border-color",i);break;case"fillColor":r.css("background-color",(0,U.getTransparentOrColor)(i));break;case ef:r.html(i);break;case"rect":var o=this.updateForgroundAndHandler(this.scale||this.parent("annotsRender").scale,this.rotate);r.css(o)}}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&t==this.scale&&i==this.rotate)return Promise.resolve();if(this.scale=t,this.rotate=i,!this.formRender.usingHTML(pn.PushButton))return(0,D._)((0,C._)(n.prototype),"render",this).call(this,t,i,r);this.$input||this.generateUI();var o=this.annot,a=this.updateForgroundAndHandler(t,i);a.borderWidth=4*o.getBorderWidth()/3*t,a.width="100%",a.height="100%",a.lineHeight="100%";var A=o.getDefaultAppearance();return A.textSize?(a.fontSize=4*A.textSize/3*t,this.$input.css(a).show()):setTimeout((function(){e.annot&&e.autoFontSize(e.annot.getMKProperty(ef)+"pend"),e.$input&&e.$input.css(a).show()}),0),Promise.resolve()}},{key:"handleEvent",value:function(e,t){if(!this.checkReadOnly()){var i;switch(e){case go.AnnotCursorEnter:0==(i=this.annot.getMKProperty(tf)).length&&(i=this.annot.getMKProperty(ef));break;case go.AnnotMouseButtonPressed:0==(i=this.annot.getMKProperty("downCaption")).length&&(i=this.annot.getMKProperty(tf)),0==i.length&&(i=this.annot.getMKProperty(ef));break;case go.AnnotMouseButtonReleased:0==(i=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty(tf):this.annot.getMKProperty(ef)).length&&(i=this.annot.getMKProperty(ef));break;case go.AnnotCursorExit:i=this.annot.getMKProperty(ef)}this.$input&&this.$input.html(i)}return(0,D._)((0,C._)(n.prototype),"handleEvent",this).call(this,e,t)}}]),n}(zo),rf="annotComponent",of={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n,i){this.data(rf).showPropertiesDialog(e,t,n,i)}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(rf).removeAnnot()},disabled:function(){return this.data(rf).deleteDisabled()}}};function af(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:of,events:{show:function(){return this.data(rf).updateDeleteStatus(!0),!0},hide:function(){return this.data(rf).updateDeleteStatus(!1),!0}}}}var Af,sf=af(".fv__pdf-page-annot-handler-rect"),cf="normalCaption",uf="rolloverCaption",lf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).generateUI(),a}return(0,P._)(n,[{key:"generateUI",value:function(){var e=this.$input=N()("<div></div>"),t=this.annot,n=t.getDefaultAppearance();if(""==t.getMKProperty("normalCaption").trim()){var i=t.getField();2==i.getType()?i.setMKProperty("normalCaption","4"):i.setMKProperty("normalCaption","l")}var r=(0,U.colorConvertor)(n.textColor||4278190080,"#"),o=t.getMKProperty(cf),a=(0,U.getTransparentOrColor)(t.getMKProperty("fillColor")),A=(0,U.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),s=0===this.annot.getBorderStyle()?"solid":"dashed";e.css({color:r,fontSize:5,"background-color":a,borderWidth:1,borderColor:A,textAlign:"center",borderStyle:s}).html(o),this.$foreground.before(e),e.hide()}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)}},{key:"updateUIMore",value:function(e){e.type,e.value;(0,D._)((0,C._)(n.prototype),"render",this).call(this,this.scale,this.rotate,!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.annot;return this.scale=e,this.rotate=t,this.formRender.usingHTML(pn.PushButton)?Promise.resolve():(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"handleEvent",value:function(e,t){var i;if(!this.checkReadOnly())switch(e){case go.AnnotCursorEnter:0==(i=this.annot.getMKProperty(uf)).length&&(i=this.annot.getMKProperty(cf));break;case go.AnnotMouseButtonPressed:0==(i=this.annot.getMKProperty("downCaption")).length&&(i=this.annot.getMKProperty(uf)),0==i.length&&(i=this.annot.getMKProperty(cf));break;case go.AnnotMouseButtonReleased:0==(i=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty(uf):this.annot.getMKProperty(cf)).length&&(i=this.annot.getMKProperty(cf));break;case go.AnnotCursorExit:i=this.annot.getMKProperty(cf)}return(0,D._)((0,C._)(n.prototype),"handleEvent",this).call(this,e,t)}}],[{key:"getDefaultContextMenuConfig",value:function(){return sf}},{key:"setContextMenuConfig",value:function(e){Xh=e}},{key:"getContextMenuConfig",value:function(){return Xh}}]),n}(zo),df=af(".fv__pdf-page-annot-handler-rect"),hf="normalCaption",ff="rolloverCaption",pf=document.createElement("div"),gf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).generateUI(),a}return(0,P._)(n,[{key:"generateUI",value:function(){var e=this.$input=N()(pf.cloneNode()),t=this.annot,n=t.getDefaultAppearance();if(""==t.getMKProperty("normalCaption").trim()){var i=t.getField();2==i.getType()?i.setMKProperty("normalCaption","4"):i.setMKProperty("normalCaption","l")}var r=(0,U.colorConvertor)(n&&n.textColor||4278190080,"#"),o=t.getMKProperty(hf),a=(0,U.getTransparentOrColor)(t.getMKProperty("fillColor")),A=(0,U.getTransparentOrColor)(this.annot.getMKProperty("borderColor")),s=0===this.annot.getBorderStyle()?"solid":"dashed";return e.css({color:r,fontSize:5,"background-color":a,borderWidth:1,borderColor:A,textAlign:"center",borderStyle:s}).html(o),e.hide(),this.$foreground.before(e),!0}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)}},{key:"updateUIMore",value:function(e){e.type,e.value;(0,D._)((0,C._)(n.prototype),"render",this).call(this,this.scale,this.rotate,!0)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.annot;return this.scale=e,this.rotate=t,this.formRender.usingHTML(pn.PushButton)?Promise.resolve():(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"handleEvent",value:function(e,t){var i;if(!this.checkReadOnly())switch(e){case go.AnnotCursorEnter:0==(i=this.annot.getMKProperty(ff)).length&&(i=this.annot.getMKProperty(hf));break;case go.AnnotMouseButtonPressed:0==(i=this.annot.getMKProperty("downCaption")).length&&(i=this.annot.getMKProperty(ff)),0==i.length&&(i=this.annot.getMKProperty(hf));break;case go.AnnotMouseButtonReleased:0==(i=this.pdfViewer.getCurrentActivatable()==this?this.annot.getMKProperty(ff):this.annot.getMKProperty(hf)).length&&(i=this.annot.getMKProperty(hf));break;case go.AnnotCursorExit:i=this.annot.getMKProperty(hf)}return(0,D._)((0,C._)(n.prototype),"handleEvent",this).call(this,e,t)}}],[{key:"getDefaultContextMenuConfig",value:function(){return df}},{key:"setContextMenuConfig",value:function(e){Af=e}},{key:"getContextMenuConfig",value:function(){return Af}}]),n}(zo),vf=n(2565),mf=n.n(vf),yf=n(2911),bf=n.n(yf),wf=n(5617),kf=n.n(wf),xf=n(781),_f=n.n(xf),Pf=n(5115),Df=n.n(Pf),Cf=n(5133),Sf=n.n(Cf),If=n(342);function Ef(e,t,n){var i=Tf("8",t,n);e.attr("src",i)}var Rf={};function Tf(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e+t+i;if(r in Rf)return Rf[r];switch(e){default:case"4":n=mf()({fillColor:t});break;case"8":n=bf()({fillColor:t,small:i});break;case"u":n=kf()({fillColor:t});break;case"n":n=_f()({fillColor:t});break;case"l":n=Df()({fillColor:t});break;case"H":n=Sf()({fillColor:t})}return n=URL.createObjectURL(new Blob([n],{type:"image/svg+xml"})),Rf[r]=n}!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),"canvas"==o.pdfViewer.config.annotRenderingMode.choiceButton?(a=t.call(this,e,i,r,o),(0,X._)((0,k._)(a),"$ui",void 0),(0,X._)((0,k._)(a),"$input",void 0),(0,X._)((0,k._)(a),"$border",void 0),a.generateUI()):(a=t.call(this,e,i,r,o),(0,X._)((0,k._)(a),"$ui",void 0),(0,X._)((0,k._)(a),"$input",void 0),(0,X._)((0,k._)(a),"$border",void 0)),(0,Or._)(a)}(0,P._)(n,[{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.$input.attr("src",""),this.$input.remove()}},{key:"generateUI",value:function(){var e,t=this.$handler;this.$input?e=this.$input:(e=L("<div class='fv_choice_border'></div><img  class='fv_choice_icon'/>"),this.$foreground.before(e),this.$border=t.find(".fv_choice_border"),this.$input=t.find("img"),(e=this.$input).hide());var n=this.annot.getDefaultAppearance(),i=(0,If.$j)(n.textColor||4278190080),r=this.annot.getMKProperty("normalCaption");r&&""!=r||(2==this.annot.getField().getType()?(this.annot.setMKProperty("normalCaption","4"),r="4"):(this.annot.setMKProperty("normalCaption","l"),r="l"));var o=Tf(r,i,0);e.attr("src",o);var a,A=this.annot.getMKProperty("fillColor"),s=this.annot.getMKProperty("borderColor");switch(s=0===s?"transparent":(0,If.$j)(16777215&s,"#"),this.annot.getBorderInfo().style){default:case 0:a="solid";break;case 1:a="dashed"}this.$border.css({"border-color":s,"border-style":a,background:0==A?"transparent":(0,If.$j)(A,"#")}),this.render(this.annotsRender.pageRender.scale,0)}},{key:"updateUIMore",value:function(e){var t=e.type,n=e.value,i=this.$border,r=this.$input;switch(t){case"value":"Off"==this.annot.getAS()?r.hide():r.show();break;case"borderStyle":i.css("border-style",n);break;case"borderColor":n=0===n?"transparent":(0,If.$j)(16777215&n,"#"),i.css("border-color",n);break;case"fillColor":i.css("background-color",0===n?"transparent":(0,If.$j)(16777215&n,"#"));break;case"display":this.render(this.scale,this.rotate,!0);break;case"hidden":n?this.$input.hide():this.$input.show()}}},{key:"updateSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.render(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;this.scale=e,this.rotate=t;var n=this.annot;if(this.checkInvisible()||n.isEmpty()||n.isDeleted()||n.rectIsEmpty())return this.$handler.hide(),this.$input.hide(),Promise.resolve();var i=this.$input,r=this.updateForgroundAndHandler(e,t);"8"==n.getMKProperty("normalCaption")&&(r.width<20?Ef(this.$input,(0,If.$j)(this.annot.info.DA.textColor||4278190080),1):Ef(this.$input,(0,If.$j)(this.annot.info.DA.textColor||4278190080),0));var o=r.width-r.height;n.getField().getType()==pn.RadioButton&&"l"==this.annot.info.normalCaption?(r["border-radius"]="50%",o<0?(r.top+=o/-2,r.height=r.width,r["margin-top"]=o/-2,r["margin-left"]=0):(r.left+=o/2,r.width=r.height,r["margin-top"]=0,r["margin-left"]=o/2),o=0):(r["border-radius"]=0,r["margin-top"]=0,r["margin-left"]=0),r.borderWidth=4*this.annot.getBorderWidth()/3*e,this.$border.css(r),"Off"==this.annot.getAS()?i.hide():i.show();var a=((this.getPDFPage().getRotationAngle()+t-90*this.annot.getRotation())%360+360)%360;return i.css({transform:"rotate(".concat(a,"deg)")}),Promise.resolve()}}])}(zo);const Mf=function(e,t){var n,i=t.page.doc.getPDFForm();if(!i||i.isEmpty()||!(n=t.getField()))return zo;switch(n.getType()){case pn.Text:case pn.File:return Lh;case pn.ListBox:return Hh;case pn.ComboBox:return Kh;case pn.Sign:return e.config.enableSignature?Zh:Mo;case pn.PushButton:return"canvas"==e.config.annotRenderingMode.pushButton?nf:zo;case pn.CheckBox:return gf;case pn.RadioButton:return lf;default:return zo}};var Ff="annotComponent",Lf={properties:{name:"properties",nameI18nKey:"viewer_:contextmenu.annot.properties",callback:function(e,t,n){this.data(Ff).showPropertiesDialog(e,t,n)}},actions:{name:"actions",nameI18nKey:"viewer_:contextmenu.annot.actions",callback:function(){this.data(Ff).showActionsDialog()},disabled:function(){return this.data(Ff).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Ff).removeAnnot()},disabled:function(){return this.data(Ff).deleteDisabled()}}},Nf={properties:Lf.properties,download:{name:"download",nameI18nKey:"viewer_:contextmenu.annot.download",callback:function(){this.data(Ff).download()},disabled:function(){return this.data(Ff).readOnlyDisabled()}},remove:Lf.remove};const Of={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"};const Bf={OBJECT_URL:"object-url-creation"};n(7539),n(4637);var jf,Vf,Uf,Hf="px",zf=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Lf,events:{show:function(){return this.data(Ff).updateDeleteStatus(!0),!0},hide:function(){return this.data(Ff).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),Wf=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:Nf,events:{show:function(){return this.data(Ff).updateDeleteStatus(!0),!0},hide:function(){return this.data(Ff).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),Yf="play",Gf="pause",$f="ended",Kf="error",qf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"_resize",value:function(e,t,i){this.enableUniform=e!=Ic&&e!=Ec&&e!=Rc&&e!=Tc,(0,D._)((0,C._)(n.prototype),"_resize",this).call(this,e,t,i)}}]),n}(qc),Jf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="screen",a.$ui.addClass("fv__pdf-page-screen-annot-container"),a.$handler.addClass("fv__pdf-page-screen-annot-handler-container"),a.isVideoAudio=e.info.isAudioVideo,a.$Dialog=null,U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e={moveable:!0,resizable:!0,enableDiagonally:!0},t=a.pdfViewer.customs.getAnnotComponentConfig((0,k._)(a),Object.keys(e)),n=new qf(Object.assign(e,t,{start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},rotatable:!1,annotRender:o}));return a.processShapeControlPermissionCtrl(n),n.ownsTo(a.disposor),n}));var A=U.Lazy.onInitialized((0,k._)(a),"shapeControl",(function(e){e.ui.addEventListener("click",(function(e){a.isActive&&e.isTrusted&&0===e.button&&!e.shiftKey&&e.ctrlKey&&a.pdfViewer.unActiveElement((0,k._)(a))})),e.ownsTo&&e.ownsTo(a.disposor)}));a.addDestroyHook(A),a.addDestroyHook(a.pdfViewer.getCustomOptionsUpdater().onGetAnnotComponentConfigUpdated((function(){if(U.Lazy.hasProperty((0,k._)(a),"shapeControl")&&U.Lazy.isPropertyIntialized((0,k._)(a),"shapeControl")){var e=a.shapeControl.isActive,t=a.shapeControl;U.Lazy.reset((0,k._)(a),"shapeControl"),e&&a._applyShapeChange(),t.destroy()}}))),U.Lazy.property((0,k._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,k._)(a),r,a.getContextMenuConfig())}));var s=a.pdfViewer.i18n,c=Lo().i18n=function(e){return s.t(e)};a.addDestroyHook((function(){Lo().i18n===c&&(Lo().i18n=void 0)}));var u=a.pdfViewer.getAnnotAuthorityManager();a.addDestroyHook(u.subscribe(a.annot,(function(e){a.updateOnPermissionChange(e)})));var l=a.pdfViewer.eventEmitter,d=function(){a.isDestroyed||e.isDestroyed||u.getPermission(e).then((function(e){a.updateOnPermissionChange(e)}))},h=function(e){var t=(0,E._)(e,1)[0];if(t&&t.getId){var n="fv__screen-decorator-".concat(t.getId()),i=a.annotsRender.$ui.find("."+n);i&&i.remove()}};l.on(de.permissionChanged,d),l.on(de.annotationRemoved,h),a.addDestroyHook((function(){l.off(de.permissionChanged,d),l.off(de.annotationRemoved,h)}));var f="fv__screen-decorator-".concat(a.getId());return!(a.iconContainer=a.annotsRender.$ui.find("."+f)).length&&a.isVideoAudio&&(a.annotsRender.genScreenIcon(a.annotsRender.pageRender,a.annot.info),a.iconContainer=a.annotsRender.$ui.find("."+f)),a.render(),a}return(0,P._)(n,[{key:"updateOnPermissionChange",value:function(e){if(!this.isDestroyed){if(this.isMultiMedia()&&this.iconContainer)this.pdfViewer.getPDFDocRender().noInteraction?this.iconContainer.hide():this.iconContainer.show();if(U.Lazy.isPropertyIntialized(this,"shapeControl")){var t=!1;t=!!this.groupMoveDisabled()||(e.ignorable()?this.moveDisabled():!e.isAdjustable());var n=this.shapeControl;t?n.disable():n.enable()}}}},{key:"processShapeControlPermissionCtrl",value:function(e){var t=this;this.pdfViewer.getAnnotAuthorityManager().getPermission(this.annot).then((function(e){t.updateOnPermissionChange(e)}))}},{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(e){return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()!==mn&&this.activeRect(),this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),e&&this.tileCanvas&&this.tileCanvas.clearCache(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;return[Math.ceil(c/r),Math.ceil(s/r),s,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale;arguments.length>1&&void 0!==arguments[1]||this.rotate;if(this.isMultiMedia()){var t=4*this.annot.getBorderWidth()/3*U.dpr*e;this.iconContainer.css({padding:t})}}},{key:"afterRender",value:function(e){if(e.transformed&&(this.isActive&&(this.activeRect(),this._applyShapeChange()),this.isMultiMedia()&&this.$player&&this.$player.is(":visible"))){var t=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:t.left+Hf,top:t.top+Hf,width:t.right-t.left+Hf,height:t.bottom-t.top+Hf})}}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.setRect(e)})):Promise.resolve()}},{key:"onShapeMoving",value:function(e,t){var n=this;if(this.pdfViewer.config.highPerformance)return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top)})):Promise.resolve()}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise.exec((function(){return i.setRect(e).then((function(e){"move"==n&&i.pdfViewer.eventEmitter.emit(de.annotationMovedPosition,[i.annot],i.getPDFPage(),i.annot)}))}))}},{key:"activeHandleFuc",value:function(e){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active"),this._applyShapeChange(),e&&this.play(),this.closeConfirmDia()}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(e){var t=this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName(),n=this.annot.info.annotScreenDetailType;["create-multi-media-state","select-annotation","createImage"].includes(t)||n&&"screen_img"===n?this.activeHandleFuc(!1):this.activeHandleFuc(!(e&&"doubletap"===e.type))}},{key:"_applyShapeChange",value:function(){var e=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),e)}},{key:"movedByOther",value:function(){this.isActive&&this._applyShapeChange()}},{key:"getRelevantPlayer",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A,s,c,u;return(0,F.Jh)(this,(function(l){switch(l.label){case 0:i=n.pdfViewer.multimediaPlayers,r=!0,o=!1,a=void 0,l.label=1;case 1:l.trys.push([1,6,7,8]),A=i[Symbol.iterator](),l.label=2;case 2:return(r=(s=A.next()).done)?[3,5]:(c=s.value,[4,(new c).isSupport({buffer:t,fileName:e})]);case 3:if(l.sent())return[2,c];l.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return u=l.sent(),o=!0,a=u,[3,8];case 7:try{r||null==A.return||A.return()}finally{if(o)throw a}return[7];case 8:return[2,null]}}))}))()}},{key:"play",value:function(){var e=this,t=this.pdfViewer.getPDFDocRender();t&&!t.noInteraction&&this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))}},{key:"pause",value:function(){this.customPlayer&&this.customPlayer.pause()}},{key:"isPaused",value:function(){return!this.customPlayer||this.customPlayer.isPaused}},{key:"updatePayerRect",value:function(){var e=this.annot.getDeviceRect(this.scale,this.rotate);return this.$player?(this.$player.css({left:e.left+Hf,top:e.top+Hf,width:e.right-e.left+Hf,height:e.bottom-e.top+Hf}),e):e}},{key:"getRendition",value:function(){var e=this;return this.annot.getActionPromise().then((function(t){var n=t.info;if(e.rendition)return e.rendition;if(n&&"TypeRendition"==n.type)for(var i=0;i<n.renditions.length;i++){var r=n.renditions[i];if(r.fileName)return e.rendition=r,r}}))}},{key:"doAction",value:function(){var e=this;this.isMultiMedia()?this.getRendition().then((function(t){if(t){if(!e.$playerContainer){var n=document.createElement("div");n.className="fv__pdf-player",e.$handler.append(n),e.$playerContainer=e.$handler.find(".fv__pdf-player")}return e.$handler.addClass("active"),e.$playerContainer&&e.$playerContainer.show(),e.customPlayer?e.customPlayer.isSupport({buffer:t.buffer,fileName:t.fileName})?void e.customPlayer.play():e.alertUnsupportMsg():e.createCustomPlayer().then((function(t){t&&(e.$rect&&e.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),e.customPlayer.play())}))}e.alertUnsupportMsg()})):this.pdfViewer.actionManager.get(this.annot.action,this).active()}},{key:"createCustomPlayer",value:function(){var e=this;return(0,x._)((function(){var t,n,i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return t=e.rendition,n=t.fileName,i=t.buffer,r=t.contentType,[4,e.getRelevantPlayer(n,i)];case 1:return(o=a.sent())?(e.customPlayer=new o(e.$playerContainer[0],e.annot,e.pdfViewer),[4,e.customPlayer.init({fileName:n,buffer:i,contentType:r})]):(e.alertUnsupportMsg(),[2,!1]);case 2:return a.sent(),e.addDestroyHook(e.customPlayer.on(Yf,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!1))})),e.customPlayer.on(Gf,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)})),e.customPlayer.on($f,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("play"),e.customPlayer.isPaused=!0)})),e.customPlayer.on(Kf,(function(t){var n=e.getAnnotComponent(t);n&&(n.parent().parent().$ui.find(".fv__screen-decorator-".concat(t.getId())).find(".icon").removeClass("play pause").addClass("pause"),n.customPlayer&&(n.customPlayer.isPaused=!0))}))),[2,!0]}}))}))()}},{key:"getAnnotComponent",value:function(e){var t=e.getPage().getIndex(),n=e.getObjectNumber(),i=this.pdfViewer.getAnnotRender(t,n);return i?i.getComponent():null}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"getDataFormBlob",value:function(){var e=this.rendition,t=e.buffer,n=e.fileName,i=e.contentType;if(!t.length)return{fileName:n};var r=this.pdfViewer.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL).expose().URL,o=new Blob([t.buffer],{type:i});return{url:r.createObjectURL(o),blob:o}}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){if(t.isAttachmentDownloadable())return e.isMultiMedia()?e.getRendition().then((function(t){if(t){if(e.customPlayer&&e.customPlayer.download)return e.customPlayer.download();var n=e.getDataFormBlob();if("blob"in n)return Fa(n.blob,t.fileName,n.blob.type)}e.alertUnsupportMsg()})):void 0}))}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+Hf,top:r.top+Hf,width:r.right-r.left+Hf,height:r.bottom-r.top+Hf})}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=N()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("singletap",(function(t){e.rectSingleTap(t)})),t.on("contextmenu",(function(e){e.preventDefault()})),t.on("mouseup",(function(e){e.stopPropagation()})),n.data(Ff,this),this.addDestroyHook((function(){r.destroy()})),n}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"getContextMenuConfig",value:function(){var e;if(this.isMultiMedia()){if(Vf)return Vf;e=this.constructor.getMultiMediaContextMenuConfig()}else{if(jf)return jf;e=this.constructor.getDefaultContextMenuConfig()}for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.isMultiMedia()?this.constructor.setMultiMediaContextMenuConfig(e):this.constructor.setContextMenuConfig(e),e}},{key:"updateRender",value:function(){return this.updateSize(),Promise.resolve()}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.$handler&&this.$handler.removeClass("active")}},{key:"unActiveMore",value:function(){}},{key:"rectSingleTap",value:function(e){}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&e.deleteDisabled()?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||U.noop)(this)).then((function(t){if(n.emit(de.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){return e.isMultiMedia()&&e.iconContainer&&e.iconContainer.remove(),n.emit(de[t?"removeActionAnnotationSuccess":"removeActionAnnotationFailed"],e,i),t}),(function(){n.emit(de.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=360-e.getRotation();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:!0,disabled:this.propertyDisabled(),rotation:i,isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.isPaused()?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new cc(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new ol(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)})):e}))}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var A=(o-a)/2;r.left+=A,r.right-=A,r.top+=A,r.bottom-=A}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e})):n}))}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===mn?this.play():(0,D._)((0,C._)(n.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),U.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return zf}},{key:"getMultiMediaContextMenuConfig",value:function(){return Wf}},{key:"setContextMenuConfig",value:function(e){jf=e}},{key:"setMultiMediaContextMenuConfig",value:function(e){Vf=e}}]),n}(Mo),Xf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),a=t.call(this,e,i,r,o);var A=e.getGroupHeader();return A&&"Replace"===A.getIntent()&&(a.isReplace=!0,a.caretAnnot=A),a}return(0,P._)(n,[{key:"onRightChangeSuccess",value:function(e){if(this.isReplace)return this.caretAnnot.moveRectByCharIndex(e.charIndex)}}]),n}(cu),Qf=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).$ui.addClass("fv__pdf-page-watermark-annot-container"),a}return(0,P._)(n,[{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;return[Math.ceil(c/r),Math.ceil(s/r),s,c,r,i,e,t,a.left,a.top]}},{key:"render",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,r=arguments.length>2?arguments[2]:void 0,o=this.annot;if(this.scale=n,this.rotate=i,o.isEmpty()||o.isDeleted()||o.rectIsEmpty())return this.renderDestroy(),Promise.resolve();var a=this.tileCanvas;if(!o.getBorderWidth())return a&&a.hideContainer(),Promise.resolve();var A=this.getTileConfig(n,i);return a||(a=this.tileCanvas=new fr((function(e,n,i,r,a,A,s,c){return t.getPDFPage().getAnnotBitmap(o.getId(),(0,H.F2)(A),t.rotate,{x:s*A+n*a,y:c*A+e*a,width:i,height:r},!0)}),this.$ui)),a.setVisibleRect(r),a.showContainer(),(e=a).redraw.apply(e,(0,R._)(A))}}]),n}(Mo),Zf="annotComponent",ep={play:{name:"play",nameI18nKey:"viewer_:contextmenu.annot.play",callback:function(){this.data(Zf)},disabled:function(){return this.data(Zf).readOnlyDisabled()}},pause:{name:"pause",nameI18nKey:"viewer_:contextmenu.annot.pause",callback:function(){this.data(Zf)},disabled:function(){return this.data(Zf).readOnlyDisabled()}},remove:{name:"delete",nameI18nKey:"viewer_:contextmenu.annot.delete",callback:function(){this.data(Zf).removeAnnot()},disabled:function(){return this.data(Zf).deleteDisabled()}}};function tp(e,t,n){for(var i=0;i<n.length;i++)e.setUint8(t+i,n.charCodeAt(i))}var np="px",ip=function(){return{selector:arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv__pdf-page-annot-handler-rect",items:ep,events:{show:function(){return this.data(Zf).updateDeleteStatus(!0),!0},hide:function(){return this.data(Zf).updateDeleteStatus(!1),!0}}}}(".fv__pdf-page-annot-handler-rect"),rp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"_resize",value:function(e,t,i){this.enableUniform=e!=Ic&&e!=Ec&&e!=Rc&&e!=Tc,(0,D._)((0,C._)(n.prototype),"_resize",this).call(this,e,t,i)}}]),n}(qc),op=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;(0,_._)(this,n),(a=t.call(this,e,i,r,o)).name="sound",a.$ui.addClass("fv__pdf-page-sound-annot-container"),a.$handler.addClass("fv__pdf-page-sound-annot-handler-container"),e.action&&(a.actionViewer=a.pdfViewer.actionManager.get(e.action,(0,k._)(a))),a.isVideoAudio=e.info.isAudioVideo,a.audioUrl="",a.audioBlobData=null,a.multiMediaFilename="",U.Lazy.property((0,k._)(a),"shapeControl",(function(){var e=new rp({emitter:a.pdfViewer.eventEmitter,start:function(e,t,n){return a.onStartUpdateShape(e,t,n)},update:function(e,t){return a.onShapeUpdating(e,t)},moving:function(e,t,n){return a.onShapeMoving(e,t,n)},end:function(e,t,n){return a.onShapeUpdateEnd(e,t,n)},resizable:!1,enableDiagonally:!0,moveable:!1,rotatable:!1,annotRender:o,enableSizeBox:!a.isMultiMedia()});return a.processShapeControlPermissionCtrl(e),e})),U.Lazy.property((0,k._)(a),"contextMenu",(function(){if(a.contextMenuIsEnable())return a.pdfViewer.viewerUI.createContextMenu((0,k._)(a),r,a.getContextMenuConfig())}));var A=a.pdfViewer.i18n;Lo().i18n=function(e){return A.t(e)};var s=Lo().i18n=function(e){return A.t(e)};return a.addDestroyHook((function(){Lo().i18n===s&&(Lo().i18n=void 0)})),a}return(0,P._)(n,[{key:"isMultiMedia",value:function(){return this.isVideoAudio}},{key:"redraw",value:function(){return this.groupMoveDisabled()||this.moveDisabled()?this.shapeControl&&this.shapeControl.disable():this.shapeControl&&this.shapeControl.enable(),this.render()}},{key:"getTileConfig",value:function(e,t){var n=this.pdfViewer,i=n.getSmartScale(e),r=n.config.tileSize,o=this.annot,a=o.getDeviceRect(1,t),A=o.getDeviceRect(i,t),s=A.right-A.left,c=A.bottom-A.top;return[Math.ceil(c/r),Math.ceil(s/r),s,c,r,i,e,t,a.left,a.top]}},{key:"swapLowHighBit",value:function(e){for(var t=new Int8Array(e).length,n=new DataView(e),i=new Int8Array(t),r=0;r<t;r+=2)i[r]=r+1==t?0:n.getInt8(r+1),i[r+1]=n.getInt8(r);return i}},{key:"getMultiMediaUrl",value:function(){var e=this.annot;if(!this.audioBlobData){var t=e.info.soundObj,n=t.data;this.multiMediaFilename=e.info.title;var i=t.sampleRate,r=t.sampleBits,o=t.channel,a=this.swapLowHighBit(n),A=(a.length,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=new ArrayBuffer(44+e.length),o=new DataView(r);return tp(o,0,"RIFF"),o.setUint32(4,36+e.length,!0),tp(o,8,"WAVE"),tp(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,t,!0),o.setUint32(24,n,!0),o.setUint32(28,n*t,!0),o.setUint16(32,t,!0),o.setUint16(34,i,!0),tp(o,36,"data"),o.setUint32(40,e.length,!0),function(e,t,n){for(var i=0;i<n.length;i++,t++){var r=n[i];e.setInt8(t,r)}}(o,44,e),o}(a,o,i,r)),s=new Blob([new Int8Array(A.buffer)],{type:"audio/wav"});this.audioBlobData=s}var c=this.pdfViewer.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL).expose().URL;return this.audioUrl=c.createObjectURL(this.audioBlobData,{type:"audio/wav"}),this.audioUrl}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate;return(0,D._)((0,C._)(n.prototype),"render",this).call(this,e,t)}},{key:"afterRender",value:function(e){if(e.transformed){if(this.isActive){this.activeRect();var t=this._getShapeControllerBoundaryBox();this.shapeControl.active(this.$handler,this.getBoundary(),t)}if(this.isMultiMedia()&&this.$player&&this.$player.is(":visible")){var n=this.annot.getDeviceRect(this.scale,this.rotate);this.$player.css({left:n.left+np,top:n.top+np,width:n.right-n.left+np,height:n.bottom-n.top+np})}}}},{key:"activeRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.annot,t=this.$rect=this.$rect||this.rectInit(),n=this.scale,i=this.rotate,r=e.getDeviceRect(n,i);t.css({left:r.left+np,top:r.top+np,width:r.right-r.left+np,height:r.bottom-r.top+np})}},{key:"rectInit",value:function(){var e=this,t=this.$handler,n=N()(this.createRectDom());t.append(n);var i=n[0],r=this.rectHammer=new Hammer.Manager(i,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}]]});return r.add(new Hammer.Tap({event:"doubletap",taps:2})),r.add(new Hammer.Tap({event:"singletap"})),r.get("doubletap").recognizeWith("singletap"),r.get("singletap").requireFailure("doubletap"),r.on("doubletap",(function(t){!1!==e.onDoubleTap(t)&&e.rectDoubleTap()})),this.contextMenuIsEnable()&&n.data(Zf,this),this.addDestroyHook((function(){r.destroy()})),n}},{key:"getContextMenuConfig",value:function(){if(Uf)return Uf;var e=this.constructor.getDefaultContextMenuConfig();for(var t in e)if("items"===t){var n=e[t],i=this.pdfViewer.i18n;for(var r in n){var o=n[r];o.nameI18nKey&&(o.name=i.t(o.nameI18nKey))}}return this.constructor.setContextMenuConfig(e),e}},{key:"onShapeRotated",value:function(e){e<0&&(e+=360),e<=45||e>315?e=0:e>45&&e<=135?e=270:e>135&&e<=225?e=180:e>225&&e<=315||e>-135&&e<=-45?e=90:console.warn("degree error: "+e);var t=this.annot.getRotation();return(t+=e)>=360&&(t-=360),this.setRotation(t)}},{key:"onStartUpdateShape",value:function(e,t,n){this.editDebouncePromise||(this.editDebouncePromise=new U.DebounceAsyncTaskExecutor(0))}},{key:"onShapeUpdating",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.setRect(e)}))}},{key:"onShapeMoving",value:function(e,t){var n=this;this.pdfViewer.config.highPerformance&&this.editDebouncePromise&&this.editDebouncePromise.exec((function(){return n.moveTo(e.left,e.top).then((function(e){n.setMargin()}))}))}},{key:"onShapeUpdateEnd",value:function(e,t,n){var i=this;return this.editDebouncePromise?this.editDebouncePromise.exec((function(){return i.moveTo(e.left,e.top,n,!1).then((function(t){return i.setRect(e)})).then((function(e){i.setMargin()}))})):Promise.resolve()}},{key:"setMargin",value:function(){var e=this.getGroupRect(),t=this.getRect();this.shapeControl.setMargin(Ta.expandOffset(t,e))}},{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.activeRect(),this.$handler.addClass("active")}},{key:"play",value:function(){var e=this;this.getAppPermission().then((function(t){e.isPaused()?t.isPlayable()&&e.doAction():e.pause()}))}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"isPaused",value:function(){return!this.player||this.player.paused}},{key:"doAction",value:function(){var e=this;if(this.isMultiMedia()){var t=this.getMultiMediaUrl();if(!t)return;if(this.$handler.addClass("active"),this.$player)this.$player.show();else{if(U.isIE&&!U.isEdge){return this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0}),!1}this.$handler.append('<div class="fv__pdf-player fv__hide" style="position:absolute;" ><audio style="width: 200px" src="'+t+'" poster="#" width="100px" height="100%" controls="controls" controlsList="nodownload">Your browser does not support the video tag.</audio><button><i class="fv__close-video"></i></button></div>'),this.$player=this.$handler.find(".fv__pdf-player"),this.player=this.$handler[0].querySelector(".fv__pdf-player audio"),(U.isIE||U.isEdge)&&this.player.addClass("IE-player"),(U.isMobile||U.isTablet)&&this.player.removeAttribute("controls"),this.$handler[0].querySelector(".fv__close-video").addEventListener("click",(function(t){URL.revokeObjectURL(e.audioUrl),e.player&&e.player.pause&&e.player.pause(),e.$player.hide()}))}var n=this.annot.getDeviceRect(this.scale,this.rotate);if(this.$player.css({left:n.left+np,top:n.top+np,width:n.right-n.left+np,height:n.bottom-n.top+np}),this.$rect&&this.$rect.css({left:"-100px",top:"-100px",width:0,height:0}),!this.player)return;this.player.paused?this.player.play&&this.player.play():this.player.pause&&this.player.pause()}else this.actionViewer&&this.actionViewer.active()}},{key:"download",value:function(){var e=this;this.getAppPermission().then((function(t){if(t.isAttachmentDownloadable()){var n=e.audioBlobData;U.isIE&&!U.isEdge&&(e.multiMediaFilename=e.multiMediaFilename+".wav"),Fa(n,e.multiMediaFilename,{type:"audio/wav"})}}))}},{key:"addAction",value:function(e){this.actionViewer=this.pdfViewer.actionManager.get(e,this)}},{key:"showContextMenu",value:function(e,t){return!!this.contextMenu&&(this.contextMenu.setCurrentTarget(this),this.contextMenu.showAt(e,t))}},{key:"createRectDom",value:function(){return this.shapeControl.ui.classList.add("fv__pdf-page-annot-handler-rect"),this.shapeControl.ui}},{key:"_getShapeControllerBoundaryBox",value:function(){var e=this.getPDFPage(),t=(0,E._)((0,H.ke)(e.getPxWidth(),e.getPxHeight(),this.scale,this.rotate),2);return{left:0,top:0,right:t[0],bottom:t[1]}}},{key:"updateRender",value:function(){return Promise.resolve()}},{key:"unActive",value:function(){(0,D._)((0,C._)(n.prototype),"unActive",this).call(this),this.$handler.removeClass("active")}},{key:"removeAnnot",value:function(){var e=this;return this.getAppPermission().then((function(t){return t.ignorable()&&("function"==typeof e.deleteDisabled&&e.deleteDisabled()||!e.deleteDisabled)?Promise.resolve():t.isDeletable()?e.doRemoveAnnot():void 0})).then((function(t){var n=e.pdfViewer.getCurrentActivatable();return n&&n.remove&&n.remove(e),t}))}},{key:"doRemoveAnnot",value:function(){var e=this,t=this.pdfViewer,n=t.eventEmitter,i=this.annot;return Promise.resolve((t.customs.removeAnnotBefore||U.noop)(this)).then((function(t){if(n.emit(de.removeActionAnnotationBefore,e),!1!==t)return i.getPDFPage().removeAnnot(i).then((function(t){if(t)return n.emit(de.removeActionAnnotationSuccess,e,i);n.emit(de.removeActionAnnotationFailed,e)}),(function(){n.emit(de.removeActionAnnotationFailed,e)}))}))}},{key:"removeAnnotRender",value:function(){this.renderDestroy(),this.parent().remove()}},{key:"removeAction",value:function(){this.actionViewer=null}},{key:"getPropertyOptions",value:function(){var e=this.annot,t=(0,U.colorConvertor)(e.getBorderColor(),"#");-1==t&&(t=0);var n=e.getBorderWidth(),i=e.getBorderStyle();return{color:t,opacity:e.getOpacity(),borderWidth:n,borderStyle:i,disabled:this.propertyDisabled(),isLocked:this.isLocked()}}},{key:"updateContextMenu",value:function(){var e=this.getContextMenuConfig();this.isMultiMedia()&&(this.player.paused?delete e.items.pause:delete e.items.play),this.$handler.contextMenu(e)}},{key:"showPropertiesDialog",value:function(){this.$propertiesControl=new cc(this,document.body),this.updateDeleteStatus(!0)}},{key:"hidePropertiesDialog",value:function(){this.$propertiesControl&&this.$propertiesControl.close(),this.updateDeleteStatus(!1)}},{key:"showActionsDialog",value:function(){this.$actionsControl=new ol(this,document.body,this.annot.action),this.updateDeleteStatus(!0)}},{key:"hideActionsDialog",value:function(){this.$actionsControl.close(),this.updateDeleteStatus(!1)}},{key:"setBorderWidth",value:function(e){var t=this;return this.annot.setBorderWidth(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setColor",value:function(e){var t=this;return this.annot.setBorderColor(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setBorderStyle",value:function(e,t){var n=this;return this.annot.setBorderStyle(e,t).then((function(e){return e?n.updateRender().then((function(){n.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,n)})):e}))}},{key:"setOpacity",value:function(e){var t=this;return e==this.annot.getOpacity()?Promise.resolve(!0):this.annot.setOpacity(e).then((function(e){return e?t.updateRender().then((function(){return t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e}))}},{key:"setRotation",value:function(e){var t=this,n=this.annot.getRotation(),i=Math.abs(e-n);if(0==i)return!0;var r=this.annot.getRect(),o=r.right-r.left,a=r.top-r.bottom;if(90==i||270==i){var A=(o-a)/2;r.left+=A,r.right-=A,r.top+=A,r.bottom-=A}return this.annot.setRect(r).then((function(n){return n?t.annot.setRotation(e).then((function(e){return e?t.updateRender().then((function(){return t.active(),t.pdfViewer.eventEmitter.emit(de.updateActionAnnotation,t),e})):e})):n}))}},{key:"renderDestroy",value:function(){this.tileCanvas&&this.tileCanvas.destroy(),this.tileCanvas&&this.$handler.remove()}},{key:"doubleTapAnnot",value:function(){return!1}},{key:"tapAnnot",value:function(e){if(!this.shapeControl.isActive)return this.pdfViewer.getStateHandlerManager().getCurrentStates().getStateName()===mn?this.play():(0,D._)((0,C._)(n.prototype),"tapAnnot",this).call(this,e)}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),U.Lazy.isPropertyIntialized(this,"contextMenu")&&this.contextMenu&&this.contextMenu.destroy()}}],[{key:"getDefaultContextMenuConfig",value:function(){return ip}},{key:"setContextMenuConfig",value:function(e){Uf=e}}]),n}(bc),ap=function(){function e(){(0,_._)(this,e),this._queue=[]}return(0,P._)(e,[{key:"start",value:function(e){return this._queue.push(e),this._execIng&&this._execIng.end(),this._exec(),e.promise}},{key:"_exec",value:function(){var e=this;if(!this._execIng){var t=this._queue,n=t.pop();n?(this._execIng=n,t.forEach((function(e){e.end()})),this._queue=[],n.start().finally((function(){e._execIng=!1,e._exec()}))):this._execIng=!1}}},{key:"end",value:function(){var e=this._queue;return this._queue=[],Promise.all(e.map((function(e){return e.end()})).concat(this._execIng?[this._execIng.end()]:[]))}}]),e}();const Ap=ap;n(6537);var sp=function(){},cp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,e,i,r,o)).$ui.addClass("fv__pdf-page-3d-annot-container"),a.$handler.addClass("fv__pdf-page-3d-annot-handler-container"),a.render3DPopSerialPromises=new Ap,a.provider=a.pdfViewer.getIoC().getInstanceByClass(lp),a.provider.registerWorkflow(),a}return(0,P._)(n,[{key:"agreeActive3D",value:function(){return up("agreeActive3D",this)}},{key:"active3DHandle",value:function(e){if(this.pdfViewer.isLoad3DModuleEnabled()){var t=this.loading();return up("active3DHandle",this,e).finally(t)}}},{key:"render3D",value:function(e){return up("render3D",this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.disable3DHandle()}},{key:"disable3DHandle",value:function(){return this.render3DPopSerialPromises&&this.render3DPopSerialPromises.end().catch(sp),this.isActived3DHandleLoaded&&up("destroy3DInteraction",this)}},{key:"doubleTapAnnot",value:function(e){}},{key:"showToolbar",value:function(){}},{key:"hideToolbar",value:function(){}},{key:"setAnnot3DTool",value:function(e){return this.setAnnot3DToolApi(e)}},{key:"setAnnot3DToolApi",value:function(e){return up("setAnnot3DTool",this,e)}},{key:"loading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$handler.get(0);return this.pdfViewer.viewerUI.loading(e)}},{key:"setDefaultView",value:function(){return up("setDefaultView",this)}}]),n}(Mo);function up(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return Promise.resolve().then(n.bind(n,6537)).then((function(t){return t[e]}))}(e).then((function(e){return e.apply(void 0,(0,R._)(i))}))}var lp=function(){function e(){var t=this;(0,_._)(this,e),this.pdfDocArray=[],this.workflow=function(e){t[e.type]&&t[e.type](e.msg)}}return(0,P._)(e,[{key:"allInjected",value:function(){var e=this;this.pdfViewer.addEventListener(de.willCloseDocument,(function(){e.unregisterWorkflow()}))}},{key:"registerWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1===this.pdfDocArray.indexOf(e)&&(this.pdfDocArray.push(e),e.api.registerWorkflow("3D",this.workflow))}},{key:"unregisterWorkflow",value:function(){var e=this.pdfViewer.getCurrentPDFDoc();-1!==this.pdfDocArray.indexOf(e)&&(this.pdfDocArray=this.pdfDocArray.filter((function(t){return t!==e})),e.api.unregisterWorkflow("3D",this.workflow))}},{key:"notifyModelImportFailure",value:function(e){0===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.otherUnspecifiedError"):1===e.failReason?this.pdfViewer.viewerUI.alert("3d.failReason.complexityLimitExceeded"):2===e.failReason&&this.pdfViewer.viewerUI.alert("3d.failReason.modelNotSupported")}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),e}();const dp=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.matchRules=[]}return(0,P._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t,n=this.matchRules,i=this.getDefault(e),r=0,o=n.length;r<o;r++){var a=n[r];if("function"==typeof a){var A=a(e,i);A&&(t=A,i=A)}}return t||i}},{key:"getDefault",value:function(e){switch(e.getType()){case"highlight":return Au;case"squiggly":return hu;case"strikeout":return e.getIntent()===be.STRIKEOUT_TEXTEDIT?Xf:cu;case"underline":return lu;case"line":return e.getIntent()===be.LINE_DIMENSION?Fu:Mu;case"polyline":return zu;case"fileattachment":return gd;case"text":return hd;case"circle":return gl;case"caret":return md;case"freetext":switch(e.getIntent()){case be.FREETEXT_TYPEWRITER:return $d;case be.FREETEXT_CALLOUT:return uh;default:return dh}case"ink":return _d;case"polygon":switch(e.getIntent()){case be.POLYGON_CLOUD:return Nd;case be.POLYGON_DIMENSION:default:return el}case"square":return bd;case"sound":return op;case"stamp":return kd;case"link":return dl;case"widget":return Mf(this.pdfViewer,e);case"screen":return Jf;case"redact":return Fd;case"watermark":return Qf;case"3d":return cp;default:return Mo}}},{key:"getAnnotFlag",value:function(e){var t=new mo(e.getFlags());return this.getAnnotFlag_&&t.or(this.getAnnotFlag_(e)),t}},{key:"setViewerAnnotFlag",value:function(e){this.getAnnotFlag_=e,this.pdfViewer.eventEmitter.emit(de.globalAnnotFlagChanged)}}]),e}();var hp,fp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).action=e,r.annot=i,r.pdfViewer=i.pdfViewer,r.initSubAction(),r}return(0,P._)(n,[{key:"active",value:function(){this.subAction.forEach((function(e){e.active()}))}},{key:"setSourceTarget",value:function(e,t){var n=this;this.source=e,this.target=t,this.action&&this.subAction.forEach((function(e){e.setSourceTarget(n.source,n.target)}))}},{key:"initSubAction",value:function(){var e=this;this.subAction=[],this.action&&this.action.subAction.forEach((function(t){e.subAction.push(e.pdfViewer.actionManager.get(t,e.annot))}))}},{key:"updateAction",value:function(e){this.action=e,this.initSubAction()}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.action=null,this.subAction.length=0,this.source=null,this.target=null}}]),n}(U.Disposable),pp=2147483647,gp=36,vp=/^xn--/,mp=/[^\0-\x7F]/,yp=/[\x2E\u3002\uFF0E\uFF61]/g,bp={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},wp=Math.floor,kp=String.fromCharCode;function xp(e){throw new RangeError(bp[e])}function _p(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var r=function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(yp,".")).split("."),t).join(".");return i+r}function Pp(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var Dp=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},Cp=function(e,t,n){var i=0;for(e=n?wp(e/700):e>>1,e+=wp(e/t);e>455;i+=gp)e=wp(e/35);return wp(i+36*e/(e+38))},Sp=function(e){var t,n,i=[],r=e.length,o=0,a=128,A=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var c=0;c<s;++c)e.charCodeAt(c)>=128&&xp("not-basic"),i.push(e.charCodeAt(c));for(var u=s>0?s+1:0;u<r;){for(var l=o,d=1,h=gp;;h+=gp){u>=r&&xp("invalid-input");var f=(n=e.charCodeAt(u++))>=48&&n<58?n-48+26:n>=65&&n<91?n-65:n>=97&&n<123?n-97:gp;f>=gp&&xp("invalid-input"),f>wp((pp-o)/d)&&xp("overflow"),o+=f*d;var p=h<=A?1:h>=A+26?26:h-A;if(f<p)break;var g=gp-p;d>wp(pp/g)&&xp("overflow"),d*=g}var v=i.length+1;A=Cp(o-l,v,0==l),wp(o/v)>pp-a&&xp("overflow"),a+=wp(o/v),o%=v,i.splice(o++,0,a)}return(t=String).fromCodePoint.apply(t,(0,R._)(i))},Ip=function(e){var t=[],n=(e=Pp(e)).length,i=128,r=0,o=72,a=!0,A=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;l<128&&t.push(kp(l))}}catch(e){A=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(A)throw s}}var d=t.length,h=d;for(d&&t.push("-");h<n;){var f=pp,p=!0,g=!1,v=void 0;try{for(var m,y=e[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;b>=i&&b<f&&(f=b)}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}var w=h+1;f-i>wp((pp-r)/w)&&xp("overflow"),r+=(f-i)*w,i=f;var k=!0,x=!1,_=void 0;try{for(var P,D=e[Symbol.iterator]();!(k=(P=D.next()).done);k=!0){var C=P.value;if(C<i&&++r>pp&&xp("overflow"),C===i){for(var S=r,I=gp;;I+=gp){var E=I<=o?1:I>=o+26?26:I-o;if(S<E)break;var R=S-E,T=gp-E;t.push(kp(Dp(E+R%T,0))),S=wp(R/T)}t.push(kp(Dp(S,0))),o=Cp(r,w,h===d),r=0,++h}}}catch(e){x=!0,_=e}finally{try{k||null==D.return||D.return()}finally{if(x)throw _}}++r,++i}return t.join("")};const Ep={version:"2.3.1",ucs2:{decode:Pp,encode:function(e){return(hp=String).fromCodePoint.apply(hp,(0,R._)(e))}},decode:Sp,encode:Ip,toASCII:function(e){return _p(e,(function(e){return mp.test(e)?"xn--"+Ip(e):e}))},toUnicode:function(e){return _p(e,(function(e){return vp.test(e)?Sp(e.slice(4).toLowerCase()):e}))}};var Rp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gi,i=this.annot.pdfViewer,r=i.customs;Promise.resolve((r.URIActionCallback||Gi)(this.getURI())).then((function(n){if(!1!==n){var r=e.getURI(),o=!1;if(/\w*:\/\/[\s\S]*/.test(r)){if("file"===r.match(/(\w*):\/+[\s\S]*/)[0])return}else(o=r.toLowerCase().startsWith("mailto:"))||(r="http://"+r);if(i.getSafeReadingMode()){var a=r.lastIndexOf("@"),A=r;if(-1!=a&&!o){A=r.substr(a+1);var s=r.indexOf("//");-1!=s&&(A=r.substr(0,s+2)+A)}var c=i.i18n.t("viewer_:pdfjs.launchURLHint");return i.viewerUI.confirm(c+"\n"+Ep.toASCII(A)).then((function(){window.open(r),t(!0)}),(function(){return t(!1)}))}window.open(r)}})),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"getURI",value:function(){return this.action.getURI()}},{key:"setURI",value:function(e){return this.action.setURI(e)}}]),n}(fp),Tp=function(){function e(t){(0,_._)(this,e),this.fileSpec=t}return(0,P._)(e,[{key:"getChecksum",value:function(){return this.fileSpec.getChecksum()}},{key:"getCreationDateTime",value:function(){return this.fileSpec.getCreationDateTime()}},{key:"getDescription",value:function(){return this.fileSpec.getDescription()}},{key:"getDict",value:function(){return this.fileSpec.dict}},{key:"getFileData",value:function(){return this.fileSpec.fileData}},{key:"getFileName",value:function(){return this.fileSpec.getFileName()}},{key:"getFileSize",value:function(){return this.fileSpec.fileSize}},{key:"getModifiedDateTime",value:function(){return this.fileSpec.modifiedDateTime}},{key:"getSubtype",value:function(){return this.fileSpec.subtype}},{key:"isEmbedded",value:function(){return this.fileSpec.isEmbedded}}]),e}(),Mp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).fileSpec=r.getFileSpec()&&new Tp(r.getFileSpec())||null,r}return(0,P._)(n,[{key:"active",value:function(){this.annot.pdfViewer.customs;var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.file"),t=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(t),level:"warning"}),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),n}(fp),Fp={HandMenuItem:"[icon-class=fv__icon-toolbar-hand]",FirstPage:"[icon-class=fv__icon-float-bar-first-page]",PrevPage:"[icon-class=fv__icon-float-bar-previous-page]",NextPage:"[icon-class=fv__icon-float-bar-next-page]",LastPage:"[icon-class=fv__icon-float-bar-last-page]",PrevView:"[icon-class=fv__icon-float-bar-previous-view]",NextView:"[icon-class=fv__icon-float-bar-next-view]",ZoomViewIn:"[icon-class=fv__icon-float-bar-zoom-in]",ZoomViewOut:"[icon-class=fv__icon-float-bar-zoom-out]",ActualSize:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(7)",FitPage:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(1)",FitVisible:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(3)",FitWidth:".float-bar .fv__ui-editable_zoom_dropdown .fv__ui-dropdown-list li:nth-child(2)",SinglePage:"[icon-class=fv__icon-toolbar-single-page]",OneColumn:"[icon-class=fv__icon-toolbar-continuous-page]",TwoPages:"[icon-class=fv__icon-toolbar-double-page]",TwoColumns:"[icon-class=fv__icon-toolbar-facing-continuous-page]",GeneralInfo:"[icon-class=fv__icon-properties]",GeneralPrefs:"[icon-class=fv__icon-toolbar-preferences]",AddFileAttachment:"[icon-class=fv__icon-toolbar-doc-attachment]",ExtractPages:"[icon-class=fv__icon-toolbar-extract-pages]",ReplacePages:"[icon-class=fv__icon-toolbar-replace-pages]",DeletePages:"[icon-class=fv__icon-toolbar-delete-pages]",CropPages:"[icon-class=fv__icon-toolbar-crop-pages]",RotatePages:"[icon-class=fv__icon-toolbar-rotate-multiple]","Annots:Tool:InkMenuItem":"[icon-class=fv__icon-toolbar-pencil]",SaveAs:"[icon-class=fv__icon-toolbar-download]",FullScreen:"[icon-class=fv__icon-float-bar-full-screen]"},Lp={ShowHideBookmarks:1,ShowHideThumbnailss:2,ShowHideAnnotManager:3,ShowHideOptCont:4,ShowHideFileAttachment:5},Np={GoToPage:".fv__ui-grouplist-item [name=gotopage-input]",ZoomViewTo:'[name="editable-zoom-dropdown"] .fv__ui-dropdown-editor'},Op={Find:function(){var e=N()("[name=fv--search-choose-type-advanced]"),t=N()("[name=fv--search-bar-type-list-button]");if(e.length)e[0].click();else{var n=document.createElement("style");n.innerHTML='[component-name="fv--search-choose-search-type"] { opacity: 0; }',document.head.appendChild(n),t.length&&t[0].click(),setTimeout((function(){document.head.removeChild(n),(e=N()("[name=fv--search-choose-type-advanced]")).length&&e[0].click()}),0)}},Print:function(){var e=this,t=setInterval((function(){N()(".custom-bar-box .W_PRINT").length&&(clearInterval(t),e.pdfViewer.viewerUI.rootComponent.pdfUI.getComponentByName("print-button").then((function(e){e.controller.handle()})))}),100)}};function Bp(e){if(Fp[e]){var t=N()(Fp[e]);if(t.hasClass("active")||t.hasClass("disabled"))return;var n=t[0];setTimeout((function(){n&&n.click()}),200)}Np[e]&&N()(Np[e]).each((function(){N()(this).hasClass("disabled")||N()(this)[0].focus()}));if(Lp[e]){var i=N()(".fv__ui-sidebar-nav a").eq(Lp[e]-1);if(i.hasClass("active"))return;var r=i[0];r&&r.click()}Op[e]&&(0,I._)(Op[e],Function)&&Op[e].apply(this,[])}var jp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.namedActionCallback||Gi)(this.getName())).then((function(t){!1!==t&&Bp.apply(e,[e.getName()])})),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getName",value:function(){return this.action.getName()}}]),n}(fp);const Vp=["exportToXFDF","exportAsFDF","activeDocs","persistentData","curDoc","execMenuItem","mailMsg","browseForDoc","newDoc","newConnection","csFuntionName","importAnFDF","importAnXFDF","removeDataObject","removeTemplate","importDataObject","importTextData","mailForm","print","saveAs","mailDoc","createDataObject","createIcon","createTemplate","getPageNthWord","extractPages","exportDataObject","newPage","insertPages","replacePages","addWatermarkFromFile","fileSelect","setLock","signatureSetSeedValue","signatureSign","query","addIndex","removeIndex","appearances","digitalIDs","isLoggedIn","loginName","loginPath","name","uiName","signAuthor","signVisible","signInvisible","signValidate","login","logout","newUser","getHandler","importFromFile"];var Up=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).$Dialog=null,r.JsMap=Vp,r}return(0,P._)(n,[{key:"activeHandleFuc",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||Gi)(this.getScript())).then((function(n){if(!1!==n){r.initEvent(t.getType(),t.source,t.target,t.name);var i=t.getScript();e=r.exec(i)}})):!1!==(e=(o.javascriptActionCallback||Gi)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||Gi)(),e={rc:!0}),(0,D._)((0,C._)(n.prototype),"active",this).call(this),this.closeConfirmDia(),e}},{key:"closeConfirmDia",value:function(){this.$Dialog&&(this.$Dialog[0].close(),this.$Dialog.remove())}},{key:"active",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.annot.pdfViewer.JSEngine,o=this.annot.pdfViewer.customs;return r.getEnableJS()?i?Promise.resolve((o.javascriptActionCallback||Gi)(this.getScript())).then((function(n){if(!1!==n){r.initEvent(t.getType(),t.source,t.target,t.name);var i=t.getScript();e=r.exec(i)}})):!1!==(e=(o.javascriptActionCallback||Gi)(this.getScript()))&&(r.initEvent(this.getType(),this.source,this.target,this.name,this.param),e=r.exec(this.getScript())):((o.javascriptDisabledActionCallback||Gi)(),e={rc:!0}),(0,D._)((0,C._)(n.prototype),"active",this).call(this),e}},{key:"setTypeName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.type=e,this.name=t}},{key:"getType",value:function(){return this.type}},{key:"executeScript",value:function(){var e=this.annot.pdfViewer.JSEngine,t=this.getScript();if("string"==typeof t&&t.trim().length>0)return e.exec(t)}},{key:"getScript",value:function(){return this.action.getScript()}},{key:"setScript",value:function(e){return this.action.setScript(e)}},{key:"setParam",value:function(e){this.param=e}}]),n}(fp),Hp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=function(){var t=e.getURL();if(!!t&&["mailto:","ftp","file://"].some((function(e){return t.startsWith(e)}))){var n=e.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.submit"),i=e.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");return e.annot.pdfViewer.viewerUI.alert({message:'"'.concat(n,'" ').concat(i),level:"warning"}),Promise.resolve()}if(e.annot.pdfViewer.getSafeReadingMode()){var r=e.pdfViewer.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e.getURL(),interpolation:{escapeValue:!1}});if(!confirm(r))return Promise.resolve()}return e.pdfViewer.getCurrentPDFDoc().getPDFForm().submitForm(e.getURL(),e.getFieldNames(),e.getFlags())},i=this.annot.pdfViewer.getActionCallbackManager();(i.getCallback(at.submitForm)?i.getCallback(at.submitForm)(this.action,t):t()).then((function(t){(0,D._)((0,C._)(n.prototype),"active",e).call(e)}))}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getURL",value:function(){return this.action.getURL()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),n}(fp),zp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.resetFormActionCallback||Gi)(this.getFlags(),this.getFieldNames())).then((function(t){!1!==t&&e.annot.pdfViewer.pdfViewerRender.pdfDocRender.doc.getPDFForm().resetForm(e.getFieldNames(),e.getFlags(),e.source)})),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}},{key:"getFlags",value:function(){return this.action.getFlags()}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}}]),n}(fp),Wp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this.annot.pdfViewer.i18n.t("ui_:dialog.actionDialog.selectAction.import"),t=this.annot.pdfViewer.i18n.t("alert.browserRestriction-actionTriggered-websdk");this.annot.pdfViewer.viewerUI.alert({message:'"'.concat(e,'" ').concat(t),level:"warning"}),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"getFileSpec",value:function(){return this.action.getFileSpec()}}]),n}(fp),Yp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.customs;Promise.resolve((t.gotoActionCallback||Gi)(this.getDestination())).then((function(t){if(!1!==t)return function(e,t){var n=t.getPDFDocRender();if(!e||e.pageIndex<0)return;return n.getPDFDoc().getPageByIndex(e.pageIndex).then((function(i){var r=e.zoomFactor,o=i.getWidth(),a=i.getHeight(),A=e.left>o?o:e.left,s=e.top>a?a:e.top;switch(e.zoomMode){case"ZoomFitHorz":return t.zoomTo("fitWidth",{x:A,y:s,pageIndex:e.pageIndex});case"ZoomFitPage":return t.zoomTo("fitHeight",{x:0,y:0,pageIndex:e.pageIndex,type:"device"});case"ZoomFitRect":var c=t.getPDFViewerRender().scrollWrap.getScrollHost(),u=c.clientWidth,l=c.clientHeight,d=t.getPDFPageRender(e.pageIndex);return d.getPDFPage().then((function(i){var r=i.getDeviceRect({left:e.left,top:e.top,bottom:e.bottom,right:e.right},1,d.getRotation()),o=r.right-r.left,a=r.bottom-r.top,c=Math.min(u/o,l/a);return isFinite(c)||(c=n.scale),t.zoomTo(c,{x:A,y:s,pageIndex:e.pageIndex})}));case"ZoomFitBHorz":return t.zoomTo("fitVisible",{x:A,y:s,pageIndex:e.pageIndex});default:return 0===r?t.getPDFDocRender().goToPage(e.pageIndex,{x:A,y:s},0!==s):t.zoomTo(r,{x:A,y:s,pageIndex:e.pageIndex})}}))}(e.getDestination(),e.pdfViewer)})).then((function(){(0,D._)((0,C._)(n.prototype),"active",e).call(e)}))}},{key:"getDestination",value:function(){return this.action.getDestination()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}}]),n}(fp);var Gp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer.getPDFDocRender().getPDFDoc();this.getFieldNames().forEach((function(n){var i=t.getPDFForm().getField(n);i&&i.setHidden(e.getHideState())})),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"getFieldNames",value:function(){return this.action.getFieldNames()}},{key:"getHideState",value:function(){return this.action.getHideState()}},{key:"setActionData",value:function(e){return this.action.setActionData(e)}}]),n}(fp),$p=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=this.annot.pdfViewer,i=t.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL).expose().URL,r=this.annot.pdfViewer.customs,o=this;Promise.resolve((r.remoteGotoActionCallback||Gi)(this.getDestination())).then((function(n){if(!1!==n){var r=e.action.getFileSpec();if(r.isEmbedded()){var a=e.getDestination();e.action.getFileSpecStream().then((function(t){var n=function(e){e.source!==window&&e.data.isReady&&e.source.postMessage(Object.assign({foxitSdkActionType:o.action.getType(),foxitSdkActionUrl:A,foxitSdkActionFileName:o.action.getFileSpec().getFileName()},a),window.location.origin)},r=new Blob(t,{type:"application/pdf"}),A=i.createObjectURL(r);window.open(ue("href",location)+"#FOXITPDFREMOTE");window.addEventListener("message",n,!1),e.addDestroyHook((function(){window.removeEventListener("message",n,!1)}))}))}else{var A=t.i18n.t("viewer_:dialog.action.remoteGoto.message");t.viewerUI.alert({message:A+"("+r.getFileName()+")",level:"warning"})}}})),(0,D._)((0,C._)(n.prototype),"active",this).call(this)}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),n}(fp),Kp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){(0,D._)((0,C._)(n.prototype),"active",this).call(this),this._doAction()}},{key:"_doAction",value:function(){var e=this;return(0,x._)((function(){var t,n,i,r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return t=e.annot.pdfViewer.currentPDFDoc,n=e.action.info,i=n.hideLayerIds,r=n.visibleLayerIds,[4,t.getLayerNodesJson()];case 1:return o=A.sent(),a=e._objNumsToIds(o.children,{hideLayerObjNums:i,visibleLayerObjNums:r}),Object.keys(a).forEach((function(n){var i="visibleLayerIds"===n;a[n].map((function(n){n&&(t.setLayerNodeVisible(n,i),e.annot.pdfViewer.eventEmitter.emit("layer-action-actived",{id:n,visible:i}))}))})),[2]}}))}))()}},{key:"_objNumsToIds",value:function(e,t){var n=t.hideLayerObjNums,i=t.visibleLayerObjNums,r={};return function e(t){for(var n=0;n<t.length;n++){var i=t[n];i.children.length>0&&e(i.children);var o=i.objNum,a=i.id;o&&(r[o]=a)}}(e),{hideLayerIds:n?n.map((function(e){return r[e]})):[],visibleLayerIds:i?i.map((function(e){return r[e]})):[]}}}]),n}(fp),qp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"active",value:function(){var e=this;return(0,x._)((function(){var t,n,i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return t=e.action.info.dest_thread_index,[4,e.getArticleThread(t)];case 1:return(n=r.sent())?(i=e.pdfViewer,i.getPDFDocRender().startReadMode(n),[2]):[2]}}))}))()}},{key:"collapseSidebar",value:function(){this.pdfViewer.viewerUI.rootComponent.getComponentByName("sidebar").collapse()}},{key:"getArTicleByIndex",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return n=t.pdfViewer.currentPDFDoc,[4,n.getPdfArticle().getArticleList()];case 1:return[2,i.sent()[e].children[0]]}}))}))()}},{key:"getArticleThread",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return n=t.pdfViewer.currentPDFDoc,[4,n.getPdfArticle().getArticleList()];case 1:return[2,i.sent()[e]]}}))}))()}}]),n}(fp),Jp=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"active",value:function(){var e=this,t=(this.annot.pdfViewer.customs,this.annot.pdfViewer.getActionCallbackManager()),i=Promise.resolve();t.getCallback(at.gotoE)&&(i=t.getCallback(at.gotoE)(this.action)),i.then((function(t){(0,D._)((0,C._)(n.prototype),"active",e).call(e)}))}},{key:"getDestination",value:function(){return this.action.getDestination()}}]),n}(fp),Xp=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.actionOptions=t.actionOptions;var n=this.actionOptions.remoteGotoActionInit;n&&n()}return(0,P._)(e,[{key:"get",value:function(e,t){switch(e&&e.getType()||null){case"TypeURI":return new Rp(e,t);case"TypeLaunch":return new Mp(e,t);case"TypeNamed":return new jp(e,t);case"TypeJavaScript":return new Up(e,t);case"TypeSubmitForm":return new Hp(e,t);case"TypeResetForm":return new zp(e,t);case"TypeImportData":return new Wp(e,t);case"TypeHide":return new Gp(e,t);case"TypeGoto":return new Yp(e,t);case"TypeGoToR":return new $p(e,t);case"TypeGoToE":return new Jp(e,t);case"TypeSetOCGState":return new Kp(e,t);case"TypeThread":return new qp(e,t);default:return new fp(e,t)}}}]),e}();const Qp={error:"data:audio/mp3;base64,SUQzBAAAAAAAJ1RTU0UAAAATAAADVVBZVU4gVHJhbnNjb2RpbmcAAAAAAAAAAAAAAP/zwMAAAAAAAAAAAABJbmZvAAAADwAAAA4AABh8ACIiIiIiIiIzMzMzMzMzRERERERERFVVVVVVVVVmZmZmZmZmd3d3d3d3d4iIiIiIiIiZmZmZmZmZmaqqqqqqqqq7u7u7u7u7zMzMzMzMzN3d3d3d3d3u7u7u7u7u/////////wAAAABMYXZjNTguMzUAAAAAAAAAAAAAAAAkAuAAAAAAAAAYfNJCphkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zwMQAUHwOTAdawAEmXGgLFAkxKU3Mk6dc6s04bESZmMQHJlnHdmnKhwOmpVby2ZccsgYQUY4kZIcAiDNS3ZhQoGDlrEAiRDEIpdfdh6p0AhdwtgWULIFmEADTKFYQv4WUMAAEBAAwSldtdiwipExEVEVFNISw8tgAAGARkIZiGQRdhkJjWfvH7RyUGAfUuuWTL5w0X/RTdeu6aX6Adf6NhrWaRo5y5yHcsV7fPwqRh2HcnJW1hYRQBIRIhYjXJ1212MQZZLOZ/hSRu/KIxYm3bh+1Dcbt/Xlcbn5Q1tr8Py/uGGG6TD+6lEYsStyHIhyWYfnTxt/IcpOf/1425DuP5GJZSWMMKent9lD+OQ7ksl+eqljn1H8Ym1+H6enjb/w/L+aqUlJYwqRhy4fn9UljCpSP+/7tuW5blv/fiDO2vw/flEMP5GLHf/CpSUgGAAZMWhiMZldMDSOMgUPABaGRbgnPqSmaoJnuYgms5DHh4SmrooGFwTFAImIADAYPDBQCRgIjRRg1g+OGRjM2gyxCOUKzJVA2lEMrQwgqMuAjAf/zwsRSbOQWeUGd2AAJMnIjSA8AAQUCBKCCqMa+YhcUHkwyMHNJBzBSk18QNKLTdAAwwtMDCACTmCghpQwr8UFCZEMoFTgx0FHAgLx0QMTHTC0ImUzDyUILSJOAwgYIJmjppiZ6JHQ8RG6EgWK14GzFxhDUY+BGKiBoIqAAEyozNFWzA1My0oLhg0XBIYBTQORC38lfZZbpmCCxjpwAScwYmIids6uyANMRATCyMwUqNcBjBykmBn+0MgVKYSEtqt1PRCgSD42iorG7bwS6XiqKWAuDUxwYAhAEGCcsZXSohN1xAgAJETkFUJJQkaDC4sPKTa2ls6z/xuKNYguWSGXxFnb9vxJZfAk9Xv0jxvbFlJS+H3NiEXjtDHIy9Lk3HYbu3yg8XiTuO5F4xBU3XiNSV2oHr34foJZar5Z4apO7vd4zClmH2fqSN1f2TWX8lcPPz8/R5Uk9pxJC9blTVO772xjCVReVU7y0NmtnScoAAFxgMgBGya0Gigx3CwsODHM9AoiMj105eUjQYmNvloyuEjVLUMagIBCIwGOjJoLMNir/88LEM2YsEpInnNAAHjOEBdACGejmgjKAzRgTfiDDHzBIQwalCRbkAaJpEVEC8LAQN4QACxwUCApqAhw9WCo4aJGQJBi8RhQ41NAUkZoOq0CA1jAwQRapoLiSySUpnBSUapGsGYKBQO4xpgxiCwcCLyGBGpymEFmZImFLgkE0kEjAQPSjNYGMsGCBwcER9hgwAxMF0tQwwpIhS5R0cIl9luRWlZ6+wwDAgcDBC4aZsmqrAl4xESWVVWysHIV5yuN33SpfMCIKAicW2dpcW1Y3vkawVPIgShUNlyTiSzNVaI/FI0vqG5uQOsxZyUe2JOomIw1O1AIwaGmJyqJNHymyUA3N2H0pWVtfo4+1l53YZRFXmVNJ5svDKm4sqZk48teliGLxXVKEPUQGGK2Kna8y1kTIl8yBEZ/WCzrKJe2lxrLLVZUTGPtYYm4sQhl9ZI56jL3uPm5fJmRI9tbeFdD2syVlhDYIMa4xZerFnOgqMSal7QAACYAQoNjKPfMFhwzHyTCQUMu6MwqvAULDVDOM2B85YrjKRDEiWYBBaCcYE5hQ//PCxC9fZA6J45zQAUxiQkmOMnWCgvgASR0kAS5MmcMEYMOdQBEQkcRGJJGjGoEysMBmQqbHugANgqiaUyEVBQQgBAx0InCM4a8EPIUhzaGxYaWYNWWEA8jbu8YUgGETAnTHEkmwoUDgRjEI4JL6mdbmPXmDELtK35gAoQPN0kM8WByIWWGYFiMCp8GnRCVRAV6FxRgDJpQ4AFPzCm5NUXGIxIIEiEaAiTK4feZVYKAhEISFMyiMABVroIBeNiKkUWlwNiT0QvWM2N1IKeJj8vCiRJaDVg21X8n9FHYmo889pAcPAFnLJUPgGCWgPZHJc06/Q15tu1IzidoZulppRUqTcTuT0alz8P7Vzk0hlGolK5uU3ex+OUUO0fY5QcmZu3SV6CmoKstksrr1LHfp4VP3Mr9/+xDKPR37duP1KWclMpl9/f2//T+ZvVdkEKkteWU0rwi9TDOtYtCFIABMP0Bs1BIVQCAghGTAngoBE4Dl4zD5HCXgzIwKQETA7AlMMkRUxuh90Uk3QcAmycxxT45FxY8/yJgLZlzL8TnXuYlEGf/zwsRGaTwOLAue6ACTSBmwTstKi9gFA2KAAHAAZbKmaFDeY2HaZ2tBVrQDSgYGBUAQ4AwcDYKkYx+Hsw6IUw2HQzPMatAMM0kdBgGBAKGEQGJSojmW6pAqCzS50wuKpnknZn0MJiUOcZj0fiMCuk4S/03wgCxIE2gJhhgBmEwtGeq3GSRwmGhDGPoRGFgkmFALmDgSiAN5e9UNV4Khq3U0lohQHAI7dSpVi+jJ40zLAgTAkDiULzJ5BzDUZjE0MDD8WjAUHjB0BBgAzA4NzDgI6aIwzSR2U83vn75Vl7lw04i1I/P09axIL4KBlHlghgiFw6BhheHBhaDBf0Kg4YZhoDQKDAeMFBFBIDGAoBA4AssvrZd//xx+rjzdJLP/+/3WFjPD8PMAwYDgaUWAAKmCgJmCgImAANmEgOlmFSp7MHLmkABAoEkvnmWBUyk8R/mv+tl3LXf/8cf3jz8cqSc7hf5nP8zv7zn+W7agYDSZHEcDgcDgZGJNsx9TDzafmvkAXAvhoKgUn8a7ybFSKBgBAEIWmA4AAJAEmGwMGYt4OKL/88LENmiD9sJfnvIDISAMmAsACAADzO8UMNxqCY3JDmC8RgCABAYBlKpRZSRlIh3mB6F+Yyoms2py3OlgaCTtUi6Nzpxo28kEDVzKXj8SvuQ0+G3zrGWWsebmaQ5kQBEmBkR0ZwhIUmcaeppDWW58M0Zx6ugmm+TOYYguBoelUmSiPaYLIVhlYiOQRk7TawmVW3Vhqdaky65TGWcTUYGAe5wVJRGEcL2YcoCphyA3GCuG+YWIGJmGmiy+OwXHL36uZy2GYpP4/3KoZAo9Zi0hEmHsGYYKAKZhnhJmDQEWYfYdphAgEmEaB+BQGzBVA3MNAHIwHABU5XfhEAO5D/ZHbr7orDMLm78k7LMedrY+WvSgScBwCBgXgShwD8ohpxIm5Lvv2AgBFLIEuY6r5y/9bu4freOf7s8ztawyyt/97vFTuO/6VjKGmLvZfU44cjQBsvtILqb0c01h+Kmdi3e7T5/jVynrNT9/v+0GpqJ53ebzv5Y2ZgUCAVAgMFIICEzHBkwUC0xYXU+0NYCBKYiGqa0D2AidIhBMbASSMRSL0uyF//PCxClfZAZ0Ad3YAUEDA4RDAkJK5lGBQXApHkyJJIZCgaA0EkLDBwBNMCwcTFBqm6kKloBogWgzJQIqh5ADgZQMMVyJjYgBDwWOjBilYUISjExswlsN6BwYCiEACCxlYhDBUPMaIzAREBBBWCMVOFCRgqfAwgMAJoHBhmomQlCIZyg474OCwdumFlCV5c4VIC8gVDWdP8ASYaDBI4QSI2jVkYmQAJhS4BAuEIwGL3ZkTSqaRuQz2wpg2NLgGiq2FmrjCpIMDrXYaDhtPSHqezChoRgJewJE2fKEOIm8lgrVDjQWmwLBzPMYQ0iflRICVZVAeFqkuyqgotTMYd7ll08FP3HhZ1I4FsbpatiWP9DMVci3Aj1XbV2HMoo/sc3Zcegn6fuo1K4s9N2vM5Uz72rzgcn8e7huTTkQqwfGY3KsJbDFyjrzNHepqSVRmMVKK9KaSWT2r1i7Lbuu16aeuLwKC04vkIzkPMk4zQrA9KDUw6CUwVNE/d8w5YGKDRDRwFKkY2xKbmkOtyFhJ/hyRDBD+ZyEcVggoMUyKBxn4BewiP/zwsRAVgQWfALfdCBLutIbiBeiQIQ0UsTSMUHMMCJpTzkMBq5mQyihEnGDxYmDYiGCoAIiDYGfFDMdYLQIogULFg+BUSYyCgyDTiBxUwBYVIA4Md9Wl8W+OqGLBomDJujo4eOFrIsx8KoU9FeqLCAYMDBlaVgk5S4AsbLUSi0/M18bbHJnHdNQguwvpoa5VZg7u97+rmaVGMnglQ0LhqbJAz9LMkaqTQFiw1ZVWi3wuWXoalmC0mhyaW26LVSilWNDjZgG/jCZVLqePt49N/PVNT09iEx/GV5RWVx2mrflM7k03N0tNS7lMbhOdqGt0VnOXw5U+L3a9PO5yimkUNcwuXZVvVDLsKty3G6T3hlb8VJe/Ev5Ny2SZVqSXzOfK+Wt473aEKGy6IVGEHHEYBgmYaPMcCEaYPBYBBLNVwDAwFkIIGKYBsHcVRZsEMiw9ICxIADF8P13IkmPYsCoKIklm3WRLJBRUcka+l9JrGEYRiQcA4ISAApgmnlSQGDlxjLQiGGeArAEQ4VUlioRXXbIAmTU1tjxoxYkGAhABR/V0Jz/88LEfVS0FnwE7pk8ERD2IlrguZKBphjr4Bhc4EJGwoRHAIkAgmVFUIsooirDR1iwYJTOFk7/vYHbQY7L5oREBoMBEgWHLzTrkHwxBsIhL4MdLPPwRC0piUSYMM3bSoXfbNSvRTlvIAlw6HgBTiGWMSFZUGU605VC2w9nobnLDlreder2XZUVNcpal6BXQlVd0oAZpGYahl2YftuZuD8XamESATLuLdcbgdctF3IulfVGVZn25V4uJOuHh9x080kdOVx0zqq3I4nF7+GpNJw2KZahYMC02nNzo8SMtNTmJJYhfkxBTUUzLjEwMKqqqqqqqqqqqqoluQ+g0VSaDiUIguK3g0KXwwRGDCkaHEymoJAYGIS27a3YAZAYUACSqqphIYS1iBlISjAEU8gpDaURkQL6Tji77xoAdrOFk22UxQSCsiAyqKiDyhNOsExccIJOChSUJtNCrqJusBCXaJmxUEgOC4qHF30gBxFfYOmWuXiM+dRJk4HWR2KClzthKyFVXjnB0x6UsnrHQQgNERC9khKc+SSUu3AtS1L5uQxZ8J1J//PCxKxQTBaIBuZe/NaPA0DNHIsJNBj/tju7Yj8E/SS+Fqbi0choMQ73i0arWtJy7tEy0Db1JSNT6cYGobVEV+HJPw0DiRBpBycFfN4bsrC62UauWEG1vXF+4zrhpcG5mT7ZGXTCulQpynZ/M3zk1gxUwwYzd+0vpCrQyO3Ipl20oTBc19/cuS8eJxHswahubA/mMNDmGDRzrHcJIMNitBs5VUxP0qAIiIQEwHQHDAaADMIUpw01Q3zAnBVBgnx2pUGJAEAR+Z6EA8DBYDAYDwGMg0CEskFIXAhiRaumGBw4OaiEbCwNBR2QgYcDGwm40GkS+pik6nSZ1MA5fMtBhCOs4NGCRYXNaAlLwSFkVAaINCAkKCsgVQDQDTioyKhQ0pgICEAmBkQKMyCcBKwAEkmSl2EYkEERCJgQZBy+bAECAtHisA1hgQ8Y6BnDDoVEg6LBAQSCossig5HB4MMFNQAImNAy2IbNtCjAXQqAgEBQKECzIRJj6Tia8NV2sQCjCX9TKfEGES2y7AwEpLGoCKtsNiw0pqrXcj7aGBhS8H5MIP/zwsT+ZMwWbAD3NlBVrhEIMRHQJHMcBKRbxe5ddAzp8oYaJF6dHkaAGCwFSx+7UkUAXIhEoFa4/cLchrb1y+IqxMyfiK9tRa9p22ZwtwNPZUm5yPbkER058pxh61C4egLNyYap3Esyycymm+g+jbDTbiee3RgqzEX7jkPWKO7WrNvWiE3Nv5ledl9oGf6kzq2KDCNQ7AM1I5RbnrNzeFnt/qoOkozAdDZAQXCoTAvA7NMcEwwhQKTBlAcMfAF9cZgZAMGDMBOOgGF8wCAIxwDAMGCqBkKANmBOBKYPITRgGALGBsBAYdAPIGA2L1gIpMJDUGjUkcx8dAwUOACPCKhm8cBlg0QEAQaTA5pIeYyugaQMIAjDzcDRhjYeABoSLzBkwwaUMrGRYDTLIlJAGyAygLCDoSPTOAQwIuBpGa4kGHFzQzBRAIABJvNHIQCVgYCC1KlWZWImxsgCGCh6Gh4VFzGQkiIwwAeUwYrQqMWCUcmeGsBAwpDRADgZSZEykREyCCVq1nOfOGEmVFFsCwUYCDBgIHDq7U+ha/c9h40AOIr/88LE/2b0FnADXtgATf+LKaAAR62UQjjxI0vtkRDaA5tY0hPaFArptpFWiW6j8kQK154L8Qnp2I/AvYYkbCs5Io5WV12KJmwO3sxSdkv5vw7cQpIAlboU83TxyRy/CET8teSYkV6YlbKs67XpZYq3Y6tnKYeGG6PdHYlL2UEhe+NRhtb0RiNufo7MnpXifqD5x06CbiF2LT85fnr0a07NeNz+Nmlpbcut6gEYQ43poHJHggGIw9wwIarm/+UcZKgPZhVDPiEFRmStxh4g5mCoHsYNoFhgRgsPfSGNxunCipAtMzCIKTCkbgwj8u6MLSiNWwMMfSWBIIDQJmAwF5d4aFI+YsDSaIDgabFGYDgwkOYChgYSid/47NHR8NgSeMXSiMNT1MQhdMLwDMQhRfwdAUwyF/lbK1VMZjnEkEMHBHMm26MymJMWTJBIlmBYVGF4XGHIjAUMDGMYDA8O3dx5r/35g2exlOLZiQbpkYboYUgYI4FA4wCGoIGwGgQCgKQZMFAlMKApZinyYAgwMgR+v////DjkMsQ9MOQUMBBaMWSH//PCxPhnw7ZQA57oATDMGy8piQGZgYFYVBwLBkTDKUAuYShQBgPUxSOFARQZMBgFSRoXVCoEJpL+///f////+FwCYACgTJAEGQIAIKlyQCBRVB0Kgk5ZYAQtegssoLgfDMNSuHXShTAX2kTAd7fWU0r6//////////+IQBL8l0QcDrzFQCCYEEvkx1yhQAVFIuRACs9SoCAWtjj+RtwXlYE0plymS8kimXTVO7OMqnppypFFTEFNRTMuMTAwqqqqqqqqqqqqqqqqAlZVvVpAgyZUZmWDoYCGKlBmZgZKJItAQdNXgjnaQ5lyMhAzQGc3h1NcMxAPGhrxoyaaEcmXD4QCGUohqKcZ6OEoqZcgmbMGPDA4E1sCBTEBwgC3AGggAFMIFBQFtC3RgwRfJ4y6pd5AMmFC1yoqrpljSlMUxVNYwgmLTIpOMxkCijJljJiE6zCEzMFzHA1WAUsZxmb6GbpSEFDOtDgvjYmC65lFpqWxu3Rs0QYPMwxN05NURHAxnVRnD5mCJiga6DBjjJkAUSSdMMNAQJ+qbcZf2W3I1GaWl//zwsTZW6P9CZXb0AEfyy3jVjMtwlT/S67GY1TU1reONa1NO0/1uGXJh25DUZjMts1qamy3Ko1Ls5S/strRqzrLL8asMxVuKQqYMUUyQeWtBqmK7nejVeGXdis0/0t53//VNaiTWmvUcMuTDtA/0trU3caWlpb0Ray12ifZyn6vxF2mdONTuCzl+Zp2pbzLv/ulszLku7YdpyoeoXZjVr4ooKpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",warning:"data:audio/mp3;base64,SUQzBAAAAAADBVRDT04AAAAHAAADT3RoZXIAVElUMgAAACEAAAPDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRYWFgAAAApAAADY29tbWVudADDlcK+wrPCpMOLw5jCssOEKHNjLmNoaW5hei5jb20pAFRBTEIAAAAhAAADw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAAJgAAA1RZRVIAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUWFhYAAAALAAAA2x5cmljcy1jaGkAw5XCvsKzwqTDi8OYwrLDhChzYy5jaGluYXouY29tKQBUUEUxAAAAIQAAA8OVwr7Cs8Kkw4vDmMKyw4Qoc2MuY2hpbmF6LmNvbSkAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAB7DAAAUFJJVgAAAA4AAFBlYWtWYWx1ZQAhewAAVFNTRQAAABMAAANVUFlVTiBUcmFuc2NvZGluZwAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAARAAAdYgAcHBwcHCoqKioqKjg4ODg4OEdHR0dHR1VVVVVVVWNjY2NjY3FxcXFxcX9/f39/f46Ojo6OnJycnJycqqqqqqqquLi4uLi4x8fHx8fH1dXV1dXV4+Pj4+Pj8fHx8fHx//////8AAAAATGF2YzU4LjM1AAAAAAAAAAAAAAAAJAJAAAAAAAAAHWJUiMoVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAI81BSOKmGTTAAAA0gAAABD/09FhTGAAAAADSCgAAEAJAVbVtVpKZFAPBHOIWq2r/9/TOMqjc8XwGpRbVm9nOIhwsIPKmlLVlTqk4uIts2C6zjCOE6TWIRcTihGldXJzE6/9Xu5ue5Re2xf91F72NzYLpMubYnC/8zc3JRacSI1Llm5v+5ubjbcKr218Dh21VYSCYlBMD5PfzU4Cw/o2wXxLBoTIvqSxHecmxIdX/S7B+dk+BkzXnZPilOZiWjcbucKDs/YZEMRyeeVX4weOQ2P70c6862s67FJ9juO4zisY4Fi9X0kV5zfXktX0ziwwP2N9gSCYeV5iI7fmWKHZPfYcxYspkJmSy2/Hz3Do0EgdDgjCIRAQTrYEsCm0aRgGMVvUeViS3EjDGkRylySjhmxgdxXG/fuMiSRxdNidBmjkuuwE9DCzgACh524Etu/qKQKGCGWCgu/cTj0zSTkIrLFQBQplk465sKGgVI5TIeySkfyWUsDwmlS4MgQxBERJGtCvGsqtyilD8zEtp6LO+rhOtx77bvBFKSekMd//uSZEmABw1hTG5nIAAAAA0gwAAAGIVhVfmcAAAAADSDAAAA7XlGrFB9i3Us8zl0sYApoXbfNphjil83vpu6jd7tLe7Uln2Kt3VJR7uWtloyy6a7E0v2TwI4brq4pf//////////5+HP//////tssjF2wzkyiYAQAQBRngYBAUAwGkHUoYnESIx7LX2ulnAECj5bFhUPhACWAlaFlstL1KXQU6SkQcdGWRRZdkAR9lTeO+XrcJbwQJgEu3FJFYpZ5dKpUJKwxfHH+x+KQPKKK/J00XwjrVWYSScfnt6iksUpLkowuyuT3KatfiMQy53/ktNUm7+GqXCT09qNWsKaNSXnLef4Ycp62X0EooOXr04+1FJqCdlupmzbsW6etup+dr62W7n4b+r/43c8f//////+1ij6yyI8AAAAAJmuneg/VEzFQEeKTqBQDEqDqVrgJqhUMARsYFhmLYpnAWLGKKRhIUQhxiIgYaNmhG5sAjByWEPJjRJ+nKW2NBa73HpZTP7lqMwoBF7GGN2et/KRhqsIkOlz0vlFmLwxDDwoBQEGlv/7kmQ1hvYzStNPb2ACAAANIOAAARVdOU3OYZVAAAA0gAAABO1xrBLPgiPRNMVlLS4Bp2TTWD/OnA09RQLbtcvRvLnMr9itTUkZkeql7dqpL4blj+UWGu00WlU5Kae5LK9PKrmFPT50dWlraxzq4U9vDD8+6u5Uk0iMZdj/2/+E8qAAGnjg/chdiKQM8RZcw2jU4pDbiDnQ4lWIBmYJpAVA5MAJibUeYe3JgJgkhGbxXF37ncu4y1hICCLbyv7q1pdOonAprrWIdoLMaXkhKOPAlFPHtyO+zqRMoCNyu/Fo3yasOCiByW52t8vRJVNpEm/9bxxjMFQdK8Zl2+uror6tqfPFMRN33LLmoDYDiy9v8xQiUHcc1eZd7vZv/w12uTMp2gVO4C4AFgaqLJMAYAACAAADkWKMvaXbdpCe8CW4YABk5It4snXkYGALxqoDwuJIsAj3G2mt9SQ+2r8rHMQBRZ8st6q1Y02BNQOB1atjr/rtLMGgJ87tacwyyX2ikWta64N+9N+9aEtUi3Gfuo1qn+MJykxGnjYVhoCGrN9Rb1//+5JkO4D1UFfTe49HEgAADSAAAAEVIT9HjeF1QAAANIAAAAQrutoSjEIkUB0TFXLFi4hiFbMtiyi4YepW4MQQgUqan1KE+pMTc39CCIj/enAs73/qMfMfIAAAAAASrePMwSwuxw0bBYXOSQR4MgeO3mxMDUgZaVmVnQEGEV1gViMoeGqmOF00MYYMjbu35XjNI7AqTfYT2Vj5XEW4SudrWq9FA0uR9UFdWb+3WjyYggKzVtbvZzGcgtB8WTKZjG/nT226M/X7Oa1lW+5N1LPP2fYeBIMS2nq1uG8fScfW10RvTDEhTJLcXSwxLzptZxhyp1WVzLUuPuuO1En4qc4lSmQAEAAAAAAmIwa6Cy3jhuUPiSESbmmbOQNdjLxRsyR03Ng0ClSxY0jguUL2MIXMKeMEDmrTdS/+zmbYFY2cVkg2lit0kHTKvryy5awsq0fQ4jNgB/FubTQuLpNQySrrgSsVvn831ONlVVn6wrcn+7++K8JIg02W6GCsYNTis+LnSDvhMlikI33fwWMvR9gbE87DK10pXL9l8Nvw+7I0njDi//uSZFED9FRD0nNPTTIAAA0gAAABEUEvPgykdcgAADSAAAAEPKkUAVdLk62bufGkvmDLmgaGRfzJVW2rmclNrREBRdk1iA6kWsmPxFCwhD6ECASPoCoqZVILApphps+nLEBV9IVftNybfGJk2qik2cVDyN0KqPGJB/Wj5nZTUeirQ99kilXPilC1JvX1MkFgW9M9uS9WijVIAAAoTqNmBhM+noBoC7lwS9A2kfNpCfDqtqDvjzYS0lhTTr6bRZJ4MBDWpfKSRW+tNZ0JdR9FoESoS5ZNBUoEEItQojmGniTQQ+UEl2jbC0q0rXXh3y3h6ddciVZ2TBckcziirgehSNAZ//BC9VFvbbD+cdzXwGIUtXJkggAJRl0QUGadflbKnPS9fCGpVFokuZp8OkA4nWgEGTxCKh4gEIZMo3QPQuQZSclrRBOhIVkwfNVbmVlRMyqowXWXZRY487H3C4MAjCh934SVB4MMiU7pzLTUxkJIdkTZZNuLmDTXU1EBKdsxfyYRNaZebMNoNoF76p5CoAAAADFBRYyxmsMXkErZDFXWev/7kmSFg/PjStBDDDSQAAANIAAAAQ81GT0MJNFAAAA0gAAABKHn1dKYo6WMhkGwZlZh+IjEkaFIhx1RImTWSm5pemaqa0tganV45rygnCp5BOcqu2JrRqSubsN6cJM0rOC87KpQIunHIKrtIUqe+ElJtKu9xtIi9MqHIehJgdJn8l/+1v/oACwIIGAAC0nnp44a4wsCsLQO5BxkypGIg9lMw3htzpmzrSXtgSuahaJc2lQ1AdiWU4OOHFZgRtBD7SNht6kx0CmgsKMsGLlujJo1SXYYoZ+kj4ACGCAmbBlqBADoNWqt2My+extwucHgQXCIapaFvhkDAFBGozLIaq137qX5flgnokmY0KhISPHi4OERN5WdSK7EpZA8Ay3CM0taWO5PwwkwOAlWp4GAKFwRZi3QLgZa+jty1wW4QVA7k8yfi3J5Rbmrkss0/QSJac6NE0FDdnSqq11Nl0TP1qb///////7n////////8YZP2mdWhoiFhWdkRrvNrbI2gADIQYqAaiJaD0cpgMDy+YABJhMIigBQFGAwUYQF5UIZlSP/+5JkyYADtUFP5WEgAgAADSCgAAEdXYEbGa0AAAAANIMAAADhAiMHDsws9M7Ozt3A0sHkb1Gok5sRwBA00x3MxRjVR5f0NNeBwuRAjS1vNCYe87oz8qcJQZWUu3GlrwwmVRgQAFgkvbEZxpTYlBntSbhxpj0PA6q5SIMWQ+S5XK1T9Xkps7DQ4Ga5AjXWT4NxdiBlV5BFrUq07NyNP85MBuBDTbvi6kMZwbDM1DbrZulp6u1ZTr62NWq4rfNbcedrUMzF5dduXcKWcs6q1Q0HcjKf3EhxONwOCQ2GMJAkAgAE8beG31SsmvGwQ+6YODjQhowECDB2nZaYkZCILMeNzBAd+XVP9kxb1FIPf9y6wFINAgAXKxLveliiYEArHAB5csYlMUovzDCwyLwGPJQAYAZASaaeZisGQWuUHSq4gRTGLNPVqRTZgrSLAMLRmR4KBkeR0FWiXtJjluWw1Rw/DExFJu+4S2H6aarbDK3oddqEtu0d/KK3UwvZ9tZVXCtQdBeDrvhH5ZFm3jzWmCv+0yIOhz//n7//905JG4KpalLT//uSZNeABwdJUP5zYAAAAA0gwAAAHFU/M7m8gBAAADSDAAAAZ0e4W/dE883Uikows2v6hifgqH76IEAAAD8FUBYq/bwTjiukyyMx19JK6anbhOyygIye4gBRn4QQuJLlWaQ9Tef5TWgn6n3BVPXZxqZXKlgWHiPY1avFwWE8ag9nZQHyfrCXJDDMsb4sK2rH1mKp2TotdFGfbaquiJ1sqjnmkcZsMZ0p85k64rCAqfieZXNYcF0ha4MhUSsU1G1WlmkzGaCamUYch9phFLgv6BPYvk6TRxmKM+TXSa4VzabsiPUDcwttUQ8guLdElhv82vSPOS0CQ5oiAIAGFjEQKjURYEqbyJjN6jkUDS3wF2sOiUs2Ss0SwIIChzo5Dxql4JQp2qT9qMmoq+mZoGGkNtrh31CCKDCVP1aMTRUlOYZL7EMgdtLhR0tVvWnmYx6xlBrLMkyxsDF0laVDE00KNMUg9G5M71O8LjkL5XTVO6ABEQAAAAMEoxh4VBpHvglBugQB4LtD0PUQtitHcL8I4Ogv51nGJIdI/znW106HyDiAg//7kmS0gvXhVEzHZeACAAANIOAAAQ8BNUXHpM/AAAA0gAAABBBml4QPYmd4wHOZpTjUBRbgOosqTjBpkqeYy3aT3p3aO0Z3b/2zd2aHxHTKxHi3cvEgM9OxTkSzdc2bgwhDpvSRQQKg9bFSKuhe4pUAQRhlVdUkCp7GKB8YWahkQLpyiQNMCAFW4woNBATQ1vnpngbnOJqsJJoATUcPDoi5A6RtPjpiGoUKTHWeZhg6GpgklOgYNAO/bXHbgB3l6M0bG762mku0tEuuGDsPa2/S4Ef33X0vFW9myPaDSChbB7V0WH7ijW1lo5y+XOxSx5+AKGMY5vQCeW1pYb1vVk5+Oo1hMQlNqLFjeMPOwXfbYpNkKpy5SzeWZWa26savjyd5O4kGhOFAA0IW8tYqS0NAAgAAAAMWBFdRF9YKWWMk43AHTEgQBQAZPAbpF7jHdJNumUw8CJIw9iA0DzCxWBIRBAEQrljV0nkGjLQDX40F7qGVU6TJEfZnN8lCuhaRm8Yk0GRmXHMchgny5D6v4tkEVKqK4Ze9LyVwagPoF2Ii7z7/+5Jk2QHz6EnS8e8xcAAADSAAAAEYBSVJbmWPwAAANIAAAATx9eZuJLkb1rcdc7QXPT4axL5hucuYCkHDcgo79PVXvhf8/XHIMwaOEMte0ZlQsOYsfgtE2v/IBWJaljkbR6fq2FTLDJ2vpt61bX5T8v1/cnOlgd1gxLvyZSwCAAAA2bjLHDrrLU6MYgYmCjcHApq60jAhNONlEDCNqDtMfiAJDBlUxGVAdDMjwtvgZZHeqsfzOMrfYudBtbnMZ2XIIlLKLd+kT2QvCKOvTaxbkXeJDtkhNNOwIpkqMoAweXY4u0xJEFRxmlm/H2VOu0Fl8j+/DMJay+j8WMasM2FnwkShUMiA+QPihyElG/7gzKEHLkTXlresUDToQRfMdybFBZF/u/8OVWtQAgAAAAAAAUiGr5l2UCDAVDFZwslw4Bw/m6k67AUGJ0iSDwEg2o3idKd4MARq4VsOma16bwFCR66rvleZgoQmSmz3CUWoALhzmtyuFXhGEaQF3tqzUgsxEziKX9DsxlecICiNfyqRu9thooO396pjQYTitzyZ1rkz//uSZPkD9mNRU3OZZVAAAA0gAAABFVkPVc5hM4gAADSAAAAE9M7tH+vdQfSUdiFnF4ZFnCh5hUIMde5K3DcLSOfTt1Gwe7uXUpZqt9bbufq3rt/+WO//LjtPv4TPAhP85rPyVoABEwExWNuxI3ySvMTBHAyBhcDUGV9w6pUYCAecXreYBAKqZT5cYwPARyTAQQhKFmfQ6+rrUccHGwMQ7saxg+346lM0/34rTVAo2wfHN+J+y+4umyyVXH/qx0YMNjuFwzBjrzUpTQH04HlDpy3T/Er6/71aG7tLOA1VUMeudnpVgX+tYfn8xcIgYpGtXu8iVz692lxwjbQs6ZmJgOgQRSPixW0rAyqtt4Nx2xFOerBdEV7SFu/b0Qv/+frV8tTyykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqfQCAAAAAABqtFdpCy482NFwwspgMLodYa1SDWqAwIHdFQBgvzBeiCrgA0IhE4NBbnc76h4s2z2zf7ivKtf+bsbmE9IVV3J9Q+/gsmM45xq7BQP/7kmT8BvXLWlR7mVzgAAANIAAAARgBW0ku5XPAAAA0gAAABMUA9RWTxCesLAGIiFWeUZ+gUoKEyfH6mUslBMHP8bXx932S0VrDsCGDbeJthQPjronGBwEo8fEPCALB8qQ9JDVC2/VVd1Uul89s8/+9f/lSjNvsABKA5FGIsndVq6QoCwYsYE0BUGK7Y0IQeYaoxoOKmBhAWrVjKAIRApXZVtBzsE24lKaebMRNXuNPTWvxQpnO/qVVET0odVbExWQbMlBpuqSVZx4wlD3CXteh6H50ZBA2yENarf3gXsLttpFn9fa88K3jMDajZlGdRrAiBdWU/PcwCgVY3Fl0ZSZ+p2qcCcK6TUXAGNarvZUK5BOLmZpTuWfHbaCCYVI1I49MQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpJUAEAAB9AABeJgJp1kTHLWAUPMiFsOCbponvxAzeGGSQc1Co0H2WQA+r4x8QJX5znb9WmRyT5VUcOCIrI3oTNo6O/y22J2a/f/83ZREn/+5Jk6Ab1HVbT65hEcAAADSAAAAEVbSdHbmUxwAAANIAAAAR/MKnI4FWUmdSU7vLAjxb28a3aiqzN93M7X0KQsD/ju9uAmn26mvz0b3iKg7KjTbZWDwkMV1qKmJqMHmQ2FAXDxBTJcBNl0fmjAAAwAAAAQJTsGQHHl9jgaMA4oRgZrhEGYkIwCKAoxnNzoswMPhEIAiJi8xYMlzTApvDAu5Fi7SZ3DEPSraRk28ZfFsUX+M25VYm2GK+7fxkdVsZwqtChiT1JywIIkI2hxrOHo2wsCjMSpppypVEY2GLX4znuUQY+Is1LLFJH6FYAaEfOGKs5RXc8refb05XaPB0/rCtnYvfvLHCRABnF4K05G76zZG/ba2/nXjuuSKuFT+pFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUpAAAAACoAAF4oEZWsKxqZboxkzdtVDEljSiKppGDKZ8AghC/z9xpyHZBQaRBdNnzW5tPpjzeTL301Z//uSZOYA9LREVHuYLHAAAA0gAAABFoUtQ05lM8AAADSAAAAEmE9/3tVppxtfz8tI7qmleGGV2UEgNEI/3uGZ+I11WucZPdLdqxukMkUe2fhyMBH7gw83oBV/1fd/rtUXMyx8XEzViqX7w+381u81qg64FJqx3D47AGAAEgSnHKLk32YpvGdRUIxvGBgBc9pjxGCgkHDwYlACOs/LJk0k7iAUAwFovPSm1SEqR4ER1MyibvNSpfvXLOmqKEUm5dWjESMUWAyuxPyGNjhBg7THehcXkbcQaRmt14cJiVpppDN/HZdTzDZQLMiDKc4ei/IZYNIreNDK62IAETmxRhITMecU9KFVG2Wji0C7PwgQio8VG8BEkM6qnEy1vOfuM3/mVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVSmAYAAACAAABUoAKqun9yWLLzjUtoalKg0plLuGGhx+wG51SihxmEKQ/j2OO98IQurKIjWmZDUg7HX//twluVnerLxojSfCYxp6q//7kmTchPRvTVR7b0cQAAANIAAAARUtNUWO4ROAAAA0gAAABAT3WMqeesugLNnJmkqZ6T13c7dsyhfbmZa7q/K1g7W7V7LUTfliZsgYlHJCwqkaXpFeHPIjjCxKLh4+ULDDt7nDq/UmAAJCGITwoAmsAgAFgcm9nYnDAwOFqhphkTmPzSbR8Z7QdGSBcDAOYLHZAMEakgb7KoOjedE4RgWX7n8bnv+1hrNq5Z3Mu2kE887B0tvsHKhSizsx5riuIRNDhWDSqal7GmWp1DeKCRPtDkpec8mgx9Yu69I6gp+OuBIofuwtP8u9Tuo5HJmWihZqKagy9MZ/fr27FSxFf1fy1OUE/nf/l3Kkzsdyps7NvOraxoLdb7/eVdVcbrERthVMQU1FMy4xMDBVVVWUgAAABJpLQABGcoWEIyBAUMB0BmDgYYmJRmNamJggZOXBicFiqzGjYYNsoZNQriTGgBMJV0wgFHBB5nDRDOM1Q5iRIAPLPuMEIEwc2ALBQCG1vP0i++jsXFO3sTTXfmsR0wEo8bNGoRItzWLADNJQjUx9rzv/+5Jk5IT0cUPTe3gccAAADSAAAAEXJS9AlcwACAAANIKAAARYltbRATG41Cih6eXKx9tW6oAHMZ8s9nCimlH2KS9kTWhYGq4Fm21FgduULyc6NR9472U7ParU3c9WcblWvLKsYgSYf+V08CTFLQV5+H6TWM3b7qtZqS+vSYz93H3HgvF5HUkz/wHNu5GP/////////+5c7///////4S+X25ZSWJfT26SksU9P////4EDGraAAABARclN0elZN4txOjSUTeT4gw9RClUiRbQcoGUAIRj5cuXLjIyWrQUFBQYKCgoKN/wUG/+BQKCisjgoKfF+KCgov//IFFfFBv/4X//Tf/gUK//v/+FX/+kv/8gUV0FBgr4QUCiugoMFPCgoFTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSZPmACBVmUmZzIAAAAA0gwAAADew7Vbz2AAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ=="};n(9744);function Zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=document.createElement(e);if(t)for(var r in t)null!==t[r]&&i.setAttribute(r,t[r]);return n&&n.forEach((function(e){if(e)if("string"==typeof e){var t=document.createElement("span");t.innerText=e,i.appendChild(t)}else"string"==typeof e.html?i.innerHTML+=e.html:i.appendChild(e)})),i}var eg=function(){function e(){(0,_._)(this,e),this.storeMap={},this.itemMap={}}return(0,P._)(e,[{key:"setStore",value:function(e,t){this.storeMap=e,this.itemMap=t}},{key:"updateStoreByElements",value:function(e,t){var n=this;e.map((function(e){if(e.type&&"gap"!==e.type&&"ok"!==e.type&&"ok_cancel"!==e.type&&"ok_cancel_other"!==e.type)if("cluster"!==e.type&&"view"!==e.type){if(e.item_id)switch(e.type){case"check_box":case"radio":var i=t.find("#"+e.item_id).is(":checked");n.storeMap[e.item_id].value=i;break;case"static_text":case"button":var r=t.find("#"+e.item_id).text();n.storeMap[e.item_id].value=r;break;case"edit_text":var o=t.find("#"+e.item_id).val();n.storeMap[e.item_id].value=o}}else n.updateStoreByElements(e.elements,t)}))}},{key:"getAlignStyle",value:function(e){var t="";switch(e){case"align_left":t+="text-align:left;";break;case"align_center":t+="text-align:center;";break;case"align_right":t+="text-align:right;"}return t}},{key:"getElementStyle",value:function(e){var t,n="";if(e.width&&!U.isMobile&&(n+="width:"+e.width+"px;"),e.height&&(U.isMobile?n+="min-height:200px;":n+="height:"+e.height+"px;"),e.char_width&&!U.isMobile&&(n+="width:"+10*e.char_width+"px;"),e.char_height&&(n+="height:"+10*e.char_height+"px;"),"edit_text"===e.type){var i="resize:none;";e.width||e.char_width||(i+="width:100%;"),n+=i}else"check_box"===e.type||e.type;return e.align_children&&(n+=this.getAlignStyle(e.align_children)),e.alignment&&(n+=this.getAlignStyle(e.alignment)),e.multiline||"static_text"!==e.type&&"edit_text"!==e.type||(n+="white-space: nowrap;"),(t=e.whiteSpace)&&(n+="white-space: ".concat(t,";")),e.bold&&(n+="font-weight:600;"),e.italic&&(n+="font-style:italic;"),e.border&&(n+="border:"+e.border),n}},{key:"buildWithWrapper",value:function(e,t){var n="js-item-wrapper";return t&&"button"===t.type&&(n+=" btn-wrapper"),Zp("div",{class:n},[e])}},{key:"buildCheckBox",value:function(e,t){var n=e.name,i=this.storeMap[e.item_id],r=document.createDocumentFragment();return r.appendChild(Zp("input",{type:"checkbox",checked:i&&!0===i.value?i.value:null,id:e.item_id,style:t})),r.appendChild(Zp("span",{},[n])),this.buildWithWrapper()}},{key:"buildRadio",value:function(e,t){var n=e.name,i=e.group_id,r=this.storeMap[e.item_id],o=document.createDocumentFragment();return o.appendChild(Zp("input",{type:"radio",checked:r&&!0===r.value?r.value:null,name:i,id:e.item_id,style:t})),o.appendChild(Zp("span",{},[n])),this.buildWithWrapper(o)}},{key:"buildStaticText",value:function(e,t){var n=e.name?e.name:"";if(n=unescape(n.replace(/\\/g,"%")),e.item_id){var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return this.buildWithWrapper(Zp("div",{id:e.item_id,style:t},[n]))}},{key:"buildButton",value:function(e,t,n){if(!n){n=e.name?e.name:"",n=unescape(n.replace(/\\/g,"%"));var i=this.storeMap[e.item_id];i&&i.value&&(n=i.value+"")}return n||(n=Zp("span",{style:"color: transparent"},["A"])),this.buildWithWrapper(Zp("button",{style:t,type:"submit",id:e.item_id,class:"pdf_js_btn btn btn-outline btn-xs btn-circle"},[n]))}},{key:"buildEditText",value:function(e,t){e.readonly;var n,i=this.storeMap[e.item_id],r="";return i&&i.value&&(r=i.value),0==r.length&&(r=e.value),n=e.multiline?e.readonly?Zp("div",{style:t+";height:unset",name:"",id:e.item_id,readonly:"true"},[Zp("pre",{style:"white-space:pre-line"},[r])]):Zp("textarea",{style:t,name:"",id:e.item_id},[r]):e.password?Zp("input",{style:t,type:"password",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):e.SpinEdit?Zp("input",{style:t,type:"number",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}):Zp("input",{style:t,type:"text",value:r,name:"",id:e.item_id,readonly:e.readonly?"true":null}),this.buildWithWrapper(n||document.createDocumentFragment())}},{key:"buildListBox",value:function(e,t){}},{key:"buildView",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-view-component";return"align_row"===e.align_children&&(r+=" children-in-row"),Zp("div",{class:r,style:t},n)}},{key:"buildCluster",value:function(e,t){var n=[];for(var i in e.elements)n.push(this.JSWindowToHTML(e.elements[i]));var r="js-cluster-component";"align_row"===e.align_children&&(r+=" children-in-row");var o=e.name?e.name:"";return Zp("div",{class:r,style:t+"position:relative;"},[Zp("fieldset",{style:"text-align: left; border-color: gray; border-style: solid; border-width: 1px;"},[Zp("legend",{style:"background:white"},[Zp("span",{},[o=unescape(o.replace(/\\/g,"%"))])]),Zp("div",{},n)])])}},{key:"buildOkCancelOther",value:function(e,t){var n=document.createDocumentFragment(),i=this.buildButton({item_id:"jscancle",type:"button"},"",e.cancel_name?e.cancel_name:"Cancel"),r=this.buildButton({item_id:"jsok",type:"button"},"",e.ok_name?e.ok_name:"Ok"),o=this.buildButton({item_id:"jsother",type:"button"},"",e.other_name?e.other_name:"Other");if("ok"===e.type)n.appendChild(r);else if("ok_cancel"===e.type)n.appendChild(r),n.appendChild(i);else{if("ok_cancel_other"!==e.type)return n;n.appendChild(r),n.appendChild(o),n.appendChild(i)}return Zp("div",{class:"js-buttons",style:t},[n])}},{key:"JSWindowToHTML",value:function(e){e&&e.item_id&&e.type&&(this.itemMap[e.item_id]||(this.itemMap[e.item_id]={}),this.storeMap[e.item_id]||(this.storeMap[e.item_id]={}),this.storeMap[e.item_id].type=e.type,this.itemMap[e.item_id].type=e.type);var t,n=this.getElementStyle(e);switch(e.type){case"button":t=this.buildButton(e,n);break;case"check_box":t=this.buildCheckBox(e,n);break;case"radio":t=this.buildRadio(e,n);break;case"list_box":case"hier_list_box":case"popup":case"gap":break;case"static_text":t=this.buildStaticText(e,n);break;case"edit_text":t=this.buildEditText(e,n);break;case"ok":case"ok_cancel":case"ok_cancel_other":t=this.buildOkCancelOther(e,n);break;case"view":t=this.buildView(e,n);break;case"cluster":t=this.buildCluster(e,n)}return t||document.createDocumentFragment()}},{key:"buildDialogWrapper",value:function(e,t,n){return'<div id="'+e+'" class="js-window-modal modal fade bs" ><div class="js-modal-dialog modal-dialog " style="'+t+'" ><div class="modal-content "><div class="modal-header" ><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><div class="modal-title">'+n.i18n.t("viewer_:pdfjs.windowTitle")+'</div></div><div class="modal-body" ></div><div class="js-warning-footer" ><div class="js-warning" ><span >'+n.i18n.t("viewer_:pdfjs.windowWarning")+"</span></div></div></div></div></div>"}}]),e}(),tg=function(){function e(t,n){(0,_._)(this,e),this.componentUtils=new eg,this.callback=n,this.dialogId="jsWindow",this.monitor=t,this.width=void 0,this.height=void 0,this.storeMap={},this.itemMap={},this.componentUtils.setStore(this.storeMap,this.itemMap)}return(0,P._)(e,[{key:"updateComponents",value:function(){if(this.$dialog)for(var e in this.itemMap){this.itemMap[e].disabled?this.$dialog.find("#"+e).addClass("disabled"):this.$dialog.find("#"+e).removeClass("disabled")}}},{key:"enable",value:function(e){for(var t in e){var n=e[t];this.itemMap[t]||(this.itemMap[t]={}),this.itemMap[t].disabled=!n}this.updateComponents()}},{key:"end",value:function(e){this.callback&&this.callback(e),this.$dialog&&this.$dialog.remove()}},{key:"load",value:function(e){for(var t in e){var n=e[t];this.updateStoreItem(t,n)}}},{key:"store",value:function(){if(!this.$dialog)return{};this.componentUtils.updateStoreByElements(this.monitor.description.elements,this.$dialog);var e={};for(var t in this.storeMap){var n=this.storeMap[t];e[t]=n.value}return e}},{key:"updateStoreItem",value:function(e,t){this.storeMap[e]={value:t}}},{key:"getStore",value:function(){return this.storeMap}},{key:"getCallbacks",value:function(e){var t="";for(var n in e)if("description"!==n&&"initialize"!==n&&"validate"!==n&&"commit"!==n&&"destroy"!==n){var i=e[n];"function"==typeof i&&(this.itemMap[n]||(this.itemMap[n]={}),""!==t&&(t+=","),t+="#"+n,this.itemMap[n].callback=i)}return t}},{key:"initialize",value:function(e){var t=this,n="";void 0!==this.monitor.description.width&&(this.width=this.monitor.description.width,n+="width:"+this.width+"px;"),void 0!==this.monitor.description.height&&(this.height=this.monitor.description.height,n+="min-height:"+this.height+"px;"),this.monitor.initialize(this);var i=document.createDocumentFragment();for(var r in this.monitor.description.elements)i.appendChild(this.componentUtils.JSWindowToHTML(this.monitor.description.elements[r]));var o=this.dialogId,a=this.componentUtils.buildDialogWrapper(o,n,e),A=this.getCallbacks(this.monitor),s=N()(a);return s.find(".modal-body").append(i),this.containerPromise=e.viewerUI.getRootElement().then((function(e){N()(e);return N()(document.body).append(s),N()(document.body)})),this.$dialog=s,this.updateComponents(),s.find("#jsok").off("click").on("click",(function(e){t.monitor.validate&&t.monitor.validate(t),t.monitor.commit&&t.monitor.commit(t),t.monitor.ok&&t.monitor.ok(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("ok")})),s.find("#jscancle,.close").off("click").on("click",(function(e){t.monitor.cancel&&t.monitor.cancel(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("cancel")})),s.find("#jsother").off("click").on("click",(function(e){t.monitor.other&&t.monitor.other(t),t.monitor.destroy&&t.monitor.destroy(t),t.end("other")})),s.find(".modal-dialog").off("click",A).on("click",A,(function(e){for(var n=e.target;!n.id;)n=n.parentElement;var i=n.id;t.itemMap[i].callback&&t.itemMap[i].callback(t)})),!0}},{key:"doModal",value:function(){var e=this;this.containerPromise&&this.containerPromise.then((function(t){t.append(e.$dialog),e.$dialog&&e.$dialog.show()}))}}]),e}();const ng=tg;var ig=function(){function e(){for(var t in(0,_._)(this,e),this)"function"==typeof this[t]&&(this[t].toString=function(){return"function(){[native code]}"})}return(0,P._)(e,[{key:"toString",value:function(){return"[object "+this.constructor.name+"]"}}],[{key:"name",get:function(){return"Object"}}]),e}(),rg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;(0,_._)(this,n),e=t.call(this);var i=arguments[0];return e.change="",e.changeEx="",e.events=[],e.init(i),e}return(0,P._)(n,[{key:"init",value:function(e){for(var t in e){var n={};n[t]=e[t],this.add(n)}}},{key:"add",value:function(e){for(var t in e)this.events[t]||(this.events[t]=[]),this.events[t]=e[t]}},{key:"dispatch",value:function(){}},{key:"remove",value:function(e){}}],[{key:"name",get:function(){return"event"}}]),n}(ig);const og=rg;var ag=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"align",get:function(){}},{key:"canResize",get:function(){}},{key:"closeReason",get:function(){}},{key:"ifOffScreen",get:function(){}},{key:"layout",get:function(){}},{key:"monitorType",get:function(){}},{key:"openCode",get:function(){}},{key:"over",get:function(){}},{key:"pageEventNames",get:function(){}},{key:"raiseCode",get:function(){}},{key:"raiseSystem",get:function(){}},{key:"renditionType",get:function(){}},{key:"stauts",get:function(){}},{key:"trace",get:function(){}},{key:"version",get:function(){}},{key:"windowType",get:function(){}},{key:"addStockEvent",value:function(){}},{key:"alertFileNotFount",value:function(){}},{key:"alertSelectFailed",value:function(){}},{key:"argsDWIM",value:function(){}},{key:"canPlayOrAlert",value:function(){}},{key:"computerFloatWinRect",value:function(){}},{key:"constrainRectToScreen",value:function(){}},{key:"createPlayer",value:function(){}},{key:"Events",value:function(e){return new og(e)}},{key:"getAltTextData",value:function(){}},{key:"getAltTextSettings",value:function(){}},{key:"getAnnotStockEvents",value:function(){}},{key:"getAnnotTraceEvents",value:function(){}},{key:"getPlayers",value:function(){}},{key:"getPlayerStockEvents",value:function(){}},{key:"getPlayerTraceEvents",value:function(){}},{key:"getURLData",value:function(){}},{key:"getURLSettings",value:function(){}},{key:"getWindowBorderSize",value:function(){}},{key:"openPlayer",value:function(){}},{key:"removeStockEvents",value:function(){}},{key:"startPlayer",value:function(){}}],[{key:"name",get:function(){return"AppMedia"}}]),n}(ig);const Ag=ag;var sg={yellow:["CMYK",0,0,1,0],white:["G",1],transparent:["T"],red:["RGB",1,0,0],magenta:["CMYK",0,1,0,0],ltGray:["G",.75],green:["RGB",0,1,0],gray:["G",.5],dkGray:["G",.25],cyan:["CMYK",1,0,0,0],blue:["RGB",0,0,1],black:["G",0],equal:function(e,t){},convert:function(e,t){var n,i,r;if(t==e[0])return[].concat(e);switch(e[0]){case"T":n=-1,i=-1,r=-1;break;case"G":n=i=r=e[1];break;case"RGB":n=e[1],i=e[2],r=e[3];break;case"CMYK":n=(1-e[4])*(1-e[1]),i=(1-e[4])*(1-e[2]),r=(1-e[4])*(1-e[3])}switch(t){case"T":return;case"G":return["G",(n+r+i)/3];case"RGB":return["RGB",n,i,r];case"CMYK":var o=1-n,a=1-i,A=1-r,s=Math.min(Math.min(o,a),A);return 0!=s?(temp2=Math.round(rep_v/100*s),Math.round(100*temp2),Math.round(100*(o-temp2)),Math.round(100*(a-temp2)),Math.round(100*(A-temp2))):(Math.round(100*o),Math.round(100*a),Math.round(100*A),0),["CMYK",n,i,r]}}};const cg=sg;var ug=2,lg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this))._backgroudColor=cg.yellow,o._clickAdvances=!1,o._isFullScreen=!0,o._cursor=ug,o._defaultTransition="",o._escapeExits=!1,o._loop=!1,o._timedelay=3,o._transitions="",o._usePageTiming=!1,o._useTimer=!1,o}return(0,P._)(n,[{key:"backgroudColor",get:function(){return this._backgroudColor},set:function(e){}},{key:"clickAdvances",get:function(){return this._clickAdvances},set:function(e){}},{key:"cursor",get:function(){return this._cursor},set:function(e){}},{key:"defaultTransition",get:function(){return this._defaultTransition},set:function(e){}},{key:"escapeExits",get:function(){return this._escapeExits},set:function(e){}},{key:"isFullScreen",get:function(){return this._isFullScreen},set:function(e){this._isFullScreen=e}},{key:"loop",get:function(){return this._loop},set:function(e){}},{key:"timedelay",get:function(){return this._timedelay},set:function(e){}},{key:"transitions",get:function(){return this._transitions},set:function(e){}},{key:"usePageTiming",get:function(){return this._usePageTiming},set:function(e){}},{key:"useTimer",get:function(){return this._useTimer},set:function(e){}}]),n}(ig);const dg=lg;var hg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).jsEngine=e,r.viewerApp=i,r._calculate=!0,r._fullscreen=!0,r._fs=new dg,r.dialogQueue=Promise.resolve(),r.viewerApp.eventEmitter.on("will-close-document",(function(){r.modalDialog&&r.modalDialog.end("cancel")})),r}return(0,P._)(n,[{key:"activeDocs",get:function(){return[this.jsEngine.cacheJSDoc]}},{key:"calculate",get:function(){var e=this.jsEngine.getPDFForm();return!e||e.calculationEnabled},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._calculate=e,this.viewerApp.setAutoCalculateFieldsFlag(e)}},{key:"constants",get:function(){return{algin:{left:0,center:1,right:2,top:3,bottom:4}}}},{key:"focusRect",get:function(){return this._focusRect},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._focusRect=e}},{key:"formsVersion",get:function(){return 7}},{key:"fullscreen",get:function(){return this._fullscreen},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._fullscreen=e}},{key:"fs",get:function(){return this._fs}},{key:"runtimeHighlight",get:function(){return this.viewerApp.highlightControls()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.highlightForm(e)}},{key:"runtimeHighlightColor",get:function(){return this.viewerApp.getDisplayHighlightColor(this.viewerApp._runtimeColor,this.viewerApp._runtimeColorOpacity,"RGB")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this.viewerApp.setFormHighlightColor(e)}},{key:"viewerVersion",get:function(){return 7}},{key:"viewerType",get:function(){return"Exchange-Pro"}},{key:"viewerVariation",get:function(){return"Business Tools"}},{key:"printerNames",get:function(){return["Web Printer"]}},{key:"platform",get:function(){var e=window.navigator.platform,t=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?t="MAC":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?t="WIN":!t&&/Linux/.test(e)&&(t="UNIX"),t}},{key:"language",get:function(){var e,t=navigator.language||navigator.userLanguage;return[{language:"zh-CN",code:"CHS"},{language:"zh-HK",code:"CHT"},{language:"zh-TW",code:"CHT"},{language:"da",code:"DAN"},{language:"de",code:"DEU"},{language:"en",code:"ENU"},{language:"es",code:"ESP"},{language:"fr",code:"FRA"},{language:"it",code:"ITA"},{language:"ko",code:"KOR"},{language:"ja",code:"JPN"},{language:"nl",code:"NLD"},{language:"nb",code:"NOR"},{language:"pt-BR",code:"PTB"},{language:"fi",code:"SUO"},{language:"sv",code:"SVE"}].some((function(n){t.indexOf(n.language)>-1&&(e=n.code)})),e}},{key:"numPlugIns",get:function(){return 2}},{key:"plugIns",get:function(){return[{name:"Annots",certified:!0,loaded:!0,path:"",version:7},{name:"Forms",certified:!0,loaded:!0,path:"",version:7}]}},{key:"media",get:function(){return new Ag(this.jsEngine)}},{key:"popUpMenu",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this.viewerApp.i18n.t("viewer_:pdfjs.popupMenu"),r={},o=function(e){var t=1;return function(n){var a,A=Object.prototype.toString.call(n);if(A.indexOf("String")>-1&&"-"!==n)a=void 0!==e?"".concat(e,"-").concat(t):String(t),i+="".concat(a,". ").concat(n," \n"),r[a.trim()]=n,t++;else if(A.indexOf("Array")>-1){var s;s=e?"".concat(e,"-").concat(t):String(t),i+="".concat(s,". ").concat(n[0]," \n"),r[s.trim()]=n[0],void 0!==e?n.slice(1).forEach(o("  ".concat(e,"-").concat(t))):n.slice(1).forEach(o("  ".concat(t))),t++}}};t.forEach(o());var a=prompt(i,"");if(null===a)return null;for(var A in r)if(r.hasOwnProperty(A)&&a.trim()===A)return r[A]}},{key:"response",value:function(e){var t=e.cQuestion,n=(e.cTitle,e.cDefault);e.bPassword,e.cLabel;return window.prompt(t,n||"")}},{key:"beep",value:function(e){var t;switch(e){case 0:default:t="error";break;case 1:t="warning"}var n=new Audio(Qp[t]);n.addEventListener("load",(function(){n.play()}),!0),n.autoplay=!0}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.jsEngine.getEvent().isSensitiveCheck&&!this.jsEngine.getEvent().isLoading){var i=this.jsEngine.getEvent();if(!i.isSensitiveCheck&&!i.isLoading){var r,o;e&&e.nType;switch(r=n,e&&void 0!==e.nType&&(r=e.nType),o=null==e?"undefined":function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)?e.cMsg+"":e+"",r){default:case 0:return alert(o),0;case 1:return confirm(o)?1:2;case 2:case 3:return confirm(o)?4:3}}}}},{key:"alertAsync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.alert.apply(this,t)}},{key:"clearInterval",value:function(e){clearInterval(e)}},{key:"clearTimerOut",value:function(e){clearTimeout(e)}},{key:"launchURL",value:function(e){if(this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.getEvent().isLoading)this.jsEngine.sensitiveOp=!0;else{if(/\w*:\/\/[\s\S]*/.test(e)){if("file"===e.match(/(\w*):\/+[\s\S]*/)[0])return}else e="http://"+e;var t=e.lastIndexOf("@"),n=e;if(-1!=t){n=e.substr(t+1);var i=e.indexOf("//");-1!=i&&(n=e.substr(0,i+2)+n)}var r=this.viewerApp,o=JSON.parse(localStorage.getItem("TRUST_SITE_SET"))||{},a=o.siteList,A=void 0===a?[]:a,s=o.siteRight,c=void 0===s?"always":s,u=o.type,l=void 0===u?"custom":u,d=r.i18n.t("viewer_:pdfjs.launchURLHint"),h=r.i18n.t("viewer_:pdfjs.blockTip");if("custom"===l){var f=A.find((function(e){return n.includes(e.url)}));if(f)return"allow"===(""+f.access.split(" ")[1]).toLowerCase()?window.open(n):r.viewerUI.alert({message:"".concat(h,"\n").concat(Ep.toASCII(n)),level:"warning"});if("always"===c)return r.viewerUI.confirm(d+"\n"+Ep.toASCII(n)).then((function(){window.open(e)}),(function(){}));if("allow"===c)return window.open(n);if("block"===c)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Ep.toASCII(n)),level:"warning"})}else{if("allow"===l)return window.open(n);if("block"===l)return r.viewerUI.alert({message:"".concat(h,"\n").concat(Ep.toASCII(n)),level:"warning"})}}}},{key:"_execDialog",value:function(e){var t=this;return new Promise((function(n,i){var r=new ng(e,(function(e){n(e)}));t.modalDialog=r,r.initialize(t.jsEngine.PDFViewer),r.doModal()}))}},{key:"execDialog",value:function(e,t,n){return this._execDialog(e,t,n)}},{key:"execMenuItem",value:function(){}},{key:"setInterval",value:function(e,t){return setInterval(window.eval(e),t)}},{key:"setTimeOut",value:function(e,t){var n=this;return setTimeout((function(t){return n.jsEngine.exec(e)}),t)}}],[{key:"name",get:function(){return"app"}}]),n}(ig),fg=new U.QueuedAsyncTaskExecutor;const pg=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e)return Promise.resolve();if(t)return Promise.resolve(e());var n=fg.exec(e);return n.catch((function(e){return console.error(e)})),n};const gg={always:0,never:1,tooBig:2,tooSmall:3};function vg(e){var t;if(e)for(var n=0;n<e.getControlsCount();n++)if(t=e.getControlByIndex(n).getWidget())return t;return t}function mg(e,t,n,i){if(e)return e[n].apply(e,i);t&&t.length>0&&t.forEach((function(e){return e[n].apply(e,i)}))}var yg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this)).jsEngine=e,o.field=i,o.fields=r,o.targetField=o.field||o.fields[0],o._readonly="",o._required="",o._value="",o}return(0,P._)(n,[{key:"destroy",value:function(){this.fields=null,this.field=null,this.targetField=null,this.jsEngine=null}},{key:"_update",value:function(e,t){this.field=e,this.fields=t,this.targetField=this.field||this.fields[0]}},{key:"alignment",get:function(){if(!this.targetField)return"";switch(this.targetField.getAlignment()){case 0:return"left";case 1:return"center";case 2:return"right"}},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t=0;switch(e){case"left":t=0;break;case"center":t=1;break;case"right":t=2}return mg(this.field,this.fields,"setAlignmentWithString",[t,e]),e}}},{key:"borderStyle",get:function(){return this.targetField&&this.targetField.getBorderStyle()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setBorderStyle",[e]),e}},{key:"charLimit",get:function(){return this.targetField&&this.targetField.getMaxLength()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setMaxLength",[e]),e}},{key:"comb",get:function(){return!!gn.isComb(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setComb",[e]),e}},{key:"currentValueIndices",get:function(){return this.targetField&&this.targetField.getValueIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setValueByIndex",[e]),e}},{key:"defaultValue",get:function(){return this.targetField&&this.targetField.getDefaultValue()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setDefaultValue",[e]),e}},{key:"display",get:function(){var e=vg(this.targetField).getFlags();return 2&e?1:4&e?32&e?3:0:2},set:function(e){return mg(this.field,this.fields,"setWidgetDisplay",[e]),e}},{key:"exportValues",get:function(){return this.targetField&&this.targetField.getExportValues()},set:function(e){var t=this;if(!this.jsEngine.getEvent().isSensitiveCheck){if(this.field.getType()===pn.RadioButton||this.field.getType()===pn.CheckBox){for(var n=function(n){e[n];pg((function(i){return mg(t.field,t.fields,"setExportValue",[n,e[n]])}))},i=this.field.getControlsCount(),r=0;r<i;r++)n(r);return this.field.getExportValues()}throw"invalid field type: only radio buttons and check boxes available."}}},{key:"fillColor",get:function(){var e=vg(this.targetField).getMKProperty("fillColor");return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return null==e&&(e=0),mg(this.field,this.fields,"setFillColor",[e]),e}},{key:"hidden",get:function(){var e=vg(this.targetField).getFlags();return!!(2&e||1&e)},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setHidden",[e]),e}},{key:"highlight",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"lineWidth",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"multiline",get:function(){return!!gn.isMultiline(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setMultiline",[e]),e}},{key:"name",get:function(){return this.targetField&&this.targetField.getName()}},{key:"numItems",get:function(){if(!this.targetField)return 0;if(this.targetField.getType()===pn.ListBox||this.targetField.getType()===pn.ComboBox)return this.targetField.getOptions().length;throw new Error("invalid field type: only list box and combo box available.")}},{key:"password",get:function(){return!!gn.isPassword(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setPassword",[e]),e}},{key:"print",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"radiosInUnison",get:function(){},set:function(e){this.jsEngine.getEvent().isSensitiveCheck}},{key:"readonly",get:function(){return!!gn.isReadOnly(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setReadonly",[e]),e}},{key:"required",get:function(){return!!gn.isRequired(this.targetField&&this.targetField.getFlags())},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setRequired",[e]),e}},{key:"type",get:function(){if(!this.targetField)return"unknown";switch(this.targetField.getType()){default:case 0:return"unknown";case 1:return"button";case 2:return"checkbox";case 4:return"combobox";case 5:return"listbox";case 3:return"radiobutton";case 7:return"signature";case 6:return"text"}}},{key:"value",get:function(){if(this.targetField){var e=this.targetField.getValue();return""==e?"":isNaN(e)?e:+e}},set:function(e){var t=this;if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var n,i=this.jsEngine.PDFViewer.getPDFDocRender().formRender.control,r=this.targetField.getType();if(Array.isArray(e)&&r!=pn.ListBox&&(e=e.join(",")),r===pn.ListBox||r===pn.ComboBox){var o=this.field.getOptions();o.forEach((function(t){t.selected=t.value==e,Array.isArray(e)&&-1!=e.indexOf(t.value)&&(t.selected=!0)})),this.field.setOptions(o)}e:if(!i||!(n=i.annot.getField())||!this.field||this.field.getName()!==n.getName()){mg(this.field,this.fields,"setValue",[e]);var a=this.field?this.field.form:this.fields&&this.fields[0]?this.fields[0].form:void 0;if(!a)break e;a.tempTimer&&(clearTimeout(a.tempTimer),delete a.tempTimer),a.tempTimer=setTimeout((function(){a.calculate(t.field),clearTimeout(a.tempTimer),delete a.tempTimer}),0)}return r!==pn.RadioButton&&r!==pn.CheckBox||this.jsEngine.setStatus("calculate",this.targetField),e}}},{key:"valueAsString",get:function(){return this.targetField?this.targetField.getValue().toString():""}},{key:"strokeColor",get:function(){var e=this.targetField.getBorderColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return mg(this.field,this.fields,"setBorderColor",[e]),e}},{key:"textColor",get:function(){var e=this.targetField&&this.targetField.getDAFontColor();return["RGB",e>>16&1,e>>8&1,1&e]},set:function(e){return mg(this.field,this.fields,"setDAFontColor",[e]),e}},{key:"userName",get:function(){return this.PDFFieldgetAlternateName()},set:function(e){if(this.field)return this.field.update("alternateName",e);this.fields.forEach((function(t){t.update("alternateName",e)}))}},{key:"rect",get:function(){var e,t=vg(this.targetField);return[(e=t?t.getRect():this.targetField.rect).left,e.top,e.right,e.bottom]},set:function(e){if(Array.isArray(e)&&!(e.length<4)){if(e[0]>e[2]){var t=e[0];e[0]=e[2],e[2]=t}if(e[3]>e[1]){var n=e[3];e[3]=e[1],e[1]=n}mg(this.field,this.fields,"setRect",[{left:e[0],top:e[1],right:e[2],bottom:e[3]}])}}},{key:"style",get:function(){return vg(this.targetField).getMKProperty("normalCaption")},set:function(e){switch(e){case"check":e="4";break;case"cross":e="8";break;case"diamond":e="u";break;case"circle":e="l";break;case"star":e="H";break;case"square":e="n"}return mg(this.field,this.fields,"setMKProperty",["normalCaption",e])}},{key:"buttonScaleWhen",get:function(){if(this.targetField&&this.targetField.getType()===pn.PushButton){var e=0;switch(vg(this.targetField).info.iconFit.scaleWayType){case 1:e=0;break;case 4:e=1;break;case 2:e=2;break;case 3:e=3}return e}},set:function(e){if(this.targetField&&this.targetField.getType()===pn.PushButton){var t,n=vg(this.targetField),i=n.info.iconFit;switch(e){case gg.always:t="e_ScaleWayAlways",i.scaleWayType=1;break;case gg.never:t="e_ScaleWayNever",i.scaleWayType=4;break;case gg.tooBig:t="e_ScaleWayBigger",i.scaleWayType=2;break;case gg.tooSmall:t="e_ScaleWaySmaller",i.scaleWayType=3;break;default:t="e_ScaleWayAlways",i.scaleWayType=1}var r={scale_way_type:t,is_proportional_scaling:i.isProportionalScaling+"",fit_bounds:i.fitBounds,horizontal_fraction:(100*i.horizontalFraction).toFixed(0),vertical_fraction:(100*i.verticalFraction).toFixed(0)};pg((function(e){n.setWidgetIconFitOption(r)}))}}},{key:"setItems",value:function(e){if(Array.isArray(e))return mg(this.field,this.fields,"setItems",[e]),e}},{key:"buttonGetIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=vg(this.targetField)&&vg(this.targetField).getIconObjNum(e);return"number"==typeof t?{_objNum:t}:t}},{key:"buttonSetIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;mg(this.field,this.fields,"setIconObj",[e,t])}},{key:"browseForFileToSubmit",value:function(){}},{key:"buttonGetCaption",value:function(e){switch(e||(e=0),e){case 0:e="normalCaption";break;case 1:e="downCaption";break;case 2:e="rolloverCaption"}return vg(this.targetField).getMKProperty(e)}},{key:"buttonImportIcon",value:function(e,t){var n=this,i=this;return new Promise((function(e){n.$jsBrowserFile&&n.$jsBrowserFile.remove(),n.$jsBrowserFile=N()('<input id="jsBrowserFile" type="file" style="display: block;visibility:hidden" accept="image/jpg,image/jpeg,image/bmp,image/png"/>'),N()("body").append(n.$jsBrowserFile),n.$jsBrowserFile.off("change").on("change",(function(t){var n=t.target.files[0];if(!n)return-2;var r=new FileReader;r.readAsArrayBuffer(n),r.onload=function(){var t=new Uint8Array(r.result);i.buttonSetIcon(t,0),e(0)}})),n.$jsBrowserFile.click()}))}},{key:"buttonSetCaption",value:function(e,t){if(!this.jsEngine.getEvent().isSensitiveCheck){switch(t||(t=0),Array.isArray(e)&&1===e.length&&(e=e[0]),"string"!=typeof e&&(e+=""),t){case 0:t="normalCaption";break;case 1:t="downCaption";break;case 2:t="rolloverCaption"}vg(this.targetField)._setMKProperty(t,e),mg(this.field,this.fields,"setMKProperty",[t,e])}}},{key:"checkThisBox",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck){var n=this.field;if(n.getType()===pn.RadioButton||n.getType()===pn.CheckBox){var i=n.getWidget(e);if(!i)return n.getControlByIndex(e).getWidgetAnnot().then((function(e){return r(e)}));r(i)}}function r(e){var i=e.getOnAS();t?(e._setAS(i,e.info.objectNumber),n.setValue(i,e)):n.getValue()===i&&(e._setAS("off",e.controls[0].info.objectNumber),n.setValue("Off",null,!0))}}},{key:"clearItems",value:function(){this.jsEngine.getEvent().isSensitiveCheck||mg(this.field,this.fields,"clearItems",[])}},{key:"defaultIsChecked",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField&&(this.targetField.getType()===pn.RadioButton||this.targetField.getType()===pn.CheckBox)){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e&&e.getControlByIndex(t).getWidget()}(this.targetField,e),i="Off";t&&(i=n?n.getOnAS():"Yes"),mg(this.field,this.fields,"setDefaultValue",[i]),mg(this.field,this.fields,"setValue",[i])}}},{key:"deleteItemAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.field.getValueIndex();if(!this.jsEngine.getEvent().isSensitiveCheck){if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");mg(this.field,this.fields,"deleteItems",[e])}}},{key:"getArray",value:function(){}},{key:"getItemAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"!=typeof e&&(e=parseInt(e)),void 0===e)throw new Error("invalid parameter, expected integer.");var n=this.targetField;if(n.getType()===pn.ListBox||n.getType()===pn.ComboBox){var i=n.getOptions();-1===e&&(e=i.length-1);var r=i[e];return t?r.value:r.label}return""}},{key:"insertItemAt",value:function(e,t,n){if(!this.jsEngine.getEvent().isSensitiveCheck&&this.targetField){var i=this.targetField;i.getType()!==pn.ListBox&&i.getType()!==pn.ComboBox||mg(this.field,this.fields,"insertItemAt",[e,t,n])}}},{key:"isBoxChecked",value:function(e){if(!this.targetField)return!1;var t=this.targetField;if(t.getType()===pn.RadioButton||t.getType()===pn.CheckBox){var n=t.getWidget(e);if(n)return"Off"!=n.getAS()}return!1}},{key:"isDefaultChecked",value:function(e){if(!this.targetField)return!1;var t=this.targetField;if(t.getType()===pn.RadioButton||t.getType()===pn.CheckBox){var n=t.getWidget(e);if(n){var i=n.getOnAS();return i===t.getDefaultValue()||"1"===i}if(n=t.getControlByIndex(e))return n.info.isDefaultChecked}return!1}},{key:"setAction",value:function(e,t){mg(this.field,this.fields,"setAction",[-1,t])}},{key:"setFocus",value:function(){var e=this;if(this.targetField){var t=function(e){var t=e.page.info.index,o=function(e){e.page.getIndex()==t&&(n.focus(),i.off(de.renderPageSuccess,o))};i.on(de.renderPageSuccess,o),r.PDFViewer.goToPage(t)},n=this.targetField,i=this.jsEngine.PDFViewer.getEventEmitter(),r=this.jsEngine,o=this.targetField.controls[0].getWidget();if(o)this.jsEngine.PDFViewer.getPDFDocRender().getCurrentPageIndex()==o.getPage().getIndex()?this.targetField.focus():t(o);else pg((function(n){return e.targetField.controls[0].getWidgetAnnot().then((function(e){e&&t(e)}))}))}}}],[{key:"name",get:function(){return"Field"}}]),n}(ig);const bg=yg;const wg=function(){function e(t,n){(0,_._)(this,e),this.jsEngine=t,this.doc=n,this.params={}}return(0,P._)(e,[{key:"printerName",get:function(){return"Web Printer"},set:function(e){}},{key:"firstPage",get:function(){return void 0!==this.params.firstPage?this.params.firstPage:0},set:function(e){this.params.firstPage=e}},{key:"lastPage",get:function(){return void 0!==this.params.lastPage?this.params.lastPage:this.doc.numPages},set:function(e){this.params.lastPage=e}},{key:"pageHandling",get:function(){return void 0!==this.params.pageHandling?this.params.pageHandling:3},set:function(e){this.params.pageHandling=e}},{key:"constants",get:function(){return{interactionLevel:{automatic:1,full:0,silent:2},handling:{none:1,fit:2,shrink:3,tileAll:4,tileLarge:5,nUp:6,booklet:7},flagValues:{applyOverPrint:131072,applySoftProofSettings:2097152,applyWorkingColorSpaces:262144,emitHalftones:1,emitPostScriptXObjects:524288,emitFormsAsPSForms:4194304,maxJP2KRes:8388608,setPageSize:1024,suppressBG:16,suppressCenter:256,suppressCJKFontSubst:64,suppressCropClip:4,suppressRotate:128,suppressTransfer:8,suppressUCR:32,useTrapAnnots:16777216,usePrintersMarks:33554432},bookletBindings:{Left:0,Right:1,LeftTall:2,RightTall:3},bookletDuplexMode:{BothSides:0,FrontSideOnly:1,BackSideOnly:2},colorOverrides:{auto:0,gray:1,mono:2},fontPolicies:{everyPage:2,jobStart:0,pageRange:1},nUpPageOrders:{Horizontal:0,HorizontalReversed:1,Vertical:2},printContents:{doc:0,docAndComments:1,formFieldsOnly:3},rasterFlagValues:{textToOutline:1,strokesToOutline:2,allowComplexClip:4,preserveOverprint:8},subsets:{all:-3,even:-5,odd:-4},tileMarks:{none:0,west:1,east:2},usages:{auto:0,use:1,noUse:2},duplexTypes:{Simplex:0,DuplexFlipLongEdge:1,DuplexFlipShortEdge:2}}}},{key:"flags",get:function(){return void 0!==this.params.flags?this.params.flags:0},set:function(e){this.params.flags=e}},{key:"interactive",get:function(){return void 0!==this.params.interactive?this.params.interactive:0},set:function(e){this.params.interactive=e}},{key:"fileName",get:function(){return void 0!==this.params.fileName?this.params.fileName:""},set:function(e){this.params.fileName=e}}]),e}();var kg=function(){function e(t,n,i){(0,_._)(this,e),this.templateObject=t,this.templateHidden=n,this.pdfDoc=i}return(0,P._)(e,[{key:"hidden",get:function(){return this.templateHidden},set:function(e){if(e!==this.templateHidden)return this.pdfDoc?this.pdfDoc.hideTemplate(this.templateObject,e):void 0}},{key:"name",get:function(){return this.templateObject.name}},{key:"spawn",value:function(e,t,n,i){if(this.pdfDoc){if("object"==typeof e){var r=e;e=r.nPage,t=r.bRename,n=r.bOverlay,i=r.oXObject}return i&&"object"==typeof i&&(this.pdfDoc=i.pdfDoc,this.templateObject=i.templateObject,this.templateHidden=i.templateHidden),null==e&&(e=-1),t=!1!==t,n=!0,this.pdfDoc.spawnPage(this.templateObject,e,t,n),this}}}]),e}(),xg={},_g=function(e){e?delete xg[e]:xg={}},Pg=function(e){return xg[e]||[]},Dg="R",Cg="Group",Sg=function(){function e(t,n,i){(0,_._)(this,e),this.delayValue=!1,this.annot=t,this.annotData=n,this.app=i}return(0,P._)(e,[{key:"_delayOrExec",value:function(e){if(!this.delay)return e();var t,n,i;t=this.annot.getId(),n=e,(i=Pg(t)).push(n),xg[t]=i}},{key:"type",get:function(){return"Annotation"}},{key:"component",get:function(){return this.app.viewerApp.getPDFPageRender(this.annotData.page).annotsRender.getAnnotRender(this.name).component}},{key:"author",get:function(){return this.annot?this.annot.getTitle():this.annotData.author},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){return t.annot.setTitle(e)}))}))}},{key:"borderEffectIntensity",get:function(){return this.annot?this.annot.getCloudIntensity():this.annotData.borderEffectIntensity},set:function(e){var t=this;this.annot&&(this.annot.info.borderInfo.cloudIntensity=e),pg((function(n){return t._delayOrExec((function(){return t.annot.setBorderStyle(5,e)}))}))}},{key:"borderEffectStyle",get:function(){return this.annot?5===this.annot.getBorderStyle()?"C":"":this.annotData.borderEffectStyle},set:function(e){var t=this;if(""!==e&&"C"!==e)throw new TypeError('effectStyle either empty string or "C"');this.annot&&(this.annot.info.borderInfo.style="C"===e?5:0),pg((function(n){return t._delayOrExec((function(){return"C"===e?t.annot.setBorderStyle(5,1):t.annot.setBorderStyle(0,[])}))}))}},{key:"contents",get:function(){return this.annot?this.annot.getContent():this.annotData.contents},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){return t.annot.setContent(e)}))}))}},{key:"creationDate",get:function(){return this.annot?this.annot.getCreateDateTime():this.annotData.creationDate}},{key:"delay",get:function(){return this.delayValue},set:function(e){if(!1===e){this.delayValue=!1;var t=this.annot.getId();Pg(t).forEach((function(e){e&&e()})),_g(t)}else!0===e&&(this.delayValue=!0)}},{key:"doc",get:function(){return this.app.jsEngine.jsEnv.globalVariables.doc}},{key:"hidden",get:function(){return this.annot?2==(2&this.annot.getFlags()):this.annotData.hidden||!1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=2:n&=-3,t.annot.setFlags(n)}))}))}},{key:"inReplyTo",get:function(){if(!this.annot)return this.annotData.inReplyTo;var e=this.annot.info.IRT;if(e&&"R"===this.annot.info.RT){var t=this.annot.page.annots.find((function(t){return t.getId()==e}));t&&(e=t.getName())}else e="";return e},set:function(e){var t=this;pg((function(n){t._delayOrExec((function(){t.annot.info.IRT=e}))}))}},{key:"intent",get:function(){return this.annot?this.annot.getIntent():this.annotData.intent},set:function(e){var t=this;this.annot&&(this.annot.info.intent=e),pg((function(n){return t._delayOrExec((function(){return t.annot.setIntent(e)}))}))}},{key:"lock",get:function(){return this.annot?128==(128&this.annot.getFlags()):this.annotData.lock||!1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=128:n&=-129,t.annot.setFlags(n)}))}))}},{key:"modDate",get:function(){return this.annot?this.annot.getModifiedDateTime():this.annotData.modDate},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){return t.annot.setModifiedDateTime(e)}))}))}},{key:"name",get:function(){return this.annot?this.annot.getName():this.annotData.name},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){return t.annot.setUniqueID(e)}))}))}},{key:"noView",get:function(){return this.annot?32==(32&this.annot.getFlags()):this.annotData.noView||!1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=32:n&=-33,t.annot.setFlags(n)}))}))}},{key:"opacity",get:function(){return this.annot?this.annot.getOpacity():this.annotData.opacity||1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){if(Object.prototype.toString.call(e).indexOf("Number")<0)throw new Error("only accept Number");if(e<0||e>1)throw new Error("opacity range: 0 - 1");return t.annot.setOpacity(e)}))}))}},{key:"page",get:function(){return this.annot?this.annot.getPage().getIndex():this.annotData.page},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getPage().getIndex();if(e!=n){var i=t.app.viewerApp.getPDFPageRender(n).annotsRender.getAnnotRender(t.name).component;t.app.viewerApp.getPDFPageRender(e).getPDFPage().then((function(e){return t.moveAnnot([i],t.annot.getPage(),e)}))}}))}))}},{key:"print",get:function(){return this.annot?4==(4&this.annot.getFlags()):this.annotData.print||!1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=4:n&=-5,t.annot.setFlags(n)}))}))}},{key:"rect",get:function(){if(!this.annot)return this.annotData.rect;var e=this.annot.getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}},{key:"readOnly",get:function(){return this.annot?64==(64&this.annot.getFlags()):this.annotData.readOnly||!1},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=64:n&=-65,t.annot.setFlags(n)}))}))}},{key:"refType",get:function(){if(!this.annot)return this.annotData.refType;this.annot.info.RT},set:function(e){var t=this;pg((function(n){t._delayOrExec((function(){if(e!==Dg&&e!==Cg)throw new TypeError('refType should be "R" or "Group"');t.annot.info.RT=e}))}))}},{key:"richContents",get:function(){},set:function(e){}},{key:"seqNum",get:function(){return this.annot?this.annot.info.index:0}},{key:"strokeColor",get:function(){return this.annot?this.annot.info.hasBorderColor?(0,U.convertFromNumberToJSColor)(this.annot.info.borderColor):["T"]:this.annotData.strokeColor},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=(0,U.colorConvertor)(e,"int",t.annot.getOpacity());return t.annot.setBorderColor(n)}))}))}},{key:"style",get:function(){return this.annot?this.annot.getBorderStyle():this.annotData.style},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=0,i=0;return"D"==e&&(n=1,i=[3]),t.annot.setBorderStyle(n,i)}))}))}},{key:"subject",get:function(){return this.annot?this.annot.getSubject():this.annotData.subject},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){return t.annot.setSubject(e)}))}))}},{key:"toggleNoView",get:function(){return this.annot?256==(256&this.annot.getFlags()):this.annotData.toggleNoView},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=t.annot.getFlags();return e?n|=256:n&=-257,t.annot.setFlags(n)}))}))}},{key:"popupOpen",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type)return this.annot?this.annot.getPopup().getOpenStatus():this.annotData.popupOpen},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&pg((function(n){return t._delayOrExec((function(){return t.annot.getPopup().setOpenStatus(e).then((function(){e&&t.component.showReplyDialog("comment")}))}))}))}},{key:"popupRect",get:function(){if("freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type){if(!this.annot)return this.annotData.popupRect;var e=this.annot.getPopup().getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]}},set:function(e){var t=this;"freetext"!==this.type&&"sound"!==this.type&&"fileattachment"!==this.type&&pg((function(n){return t._delayOrExec((function(){if(!Array.isArray(e))throw new Error("only accept Array");return t.annot.getPopup().setRect({left:e[0],right:e[2],top:e[3],bottom:e[1]})}))}))}},{key:"destroy",value:function(){var e=this;this.annot&&this.annot.getPage().removeAnnotByObjectNumber(this.annot.getId()).then((function(){_g(e.annot.getId()),e.annot=null}))}},{key:"getProps",value:function(){var e=this,t={},n=[],i=Object.getOwnPropertyNames(this.constructor.prototype),r=this;return i.map((function(t){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);i&&!i.get||n.push(t)})),Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__).map((function(t){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype.__proto__.__proto__,t);i&&!i.get||n.push(t)})),console.log("key:",n),n.map((function(e){var n=r[e];void 0!==n?(t[e]=n,console.log("this."+e+"=",t[e])):console.log("this."+e+'="undefined"')})),t}},{key:"setProps",value:function(e){var t=this,n=[],i=this;Object.getOwnPropertyNames(this.constructor.prototype).map((function(e){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);i&&!i.set||n.push(e)}));var r=Object.getOwnPropertyNames(this.constructor.prototype.__proto__.__proto__);for(var o in r.map((function(e){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype.__proto__.__proto__,e);i&&!i.set||n.push(e)})),i.delay=!0,e)i[o]=e[o],console.log("this."+o+"=",e[o]);i.delay=!1}},{key:"getStateInModel",value:function(e){if(this.annot&&"text"===this.annot.info.type)return"Marked"===e?[this.annot.getMarkedState(0)]:"Review"===e?[this.annot.getReviewState(0)]:void 0}},{key:"moveAnnot",value:function(e,t,n){var i=this,r=t.getIndex(),o=n.getIndex(),a=t.doc,A=e.reduce((function(e,t){return t.getRelevanceRenders?(0,R._)(e).concat((0,R._)(t.getRelevanceRenders(!0))):(0,R._)(e).concat([t.annot.getId()])}),[]),s=A.reduce((function(e,n){var i=t.annotIdMap[n],r={},o={};return"popup"!==i.getType()&&(o=r="FreeTextCallout"==i.getIntent()?annotRender.backupProperty.rect:i.getRect()),e[n]={rect:o,oldRect:r},e}),{}),c=Object.keys(s).map((function(e){return Number(e)}));return t.getAnnotsByObjectNumArray(c).then((function(e){var A=e.reduce((function(e,t){return e[t.getUniqueID()]=s[t.getObjectNumber()],e}),{});return a.moveAnnotsToPage(t,n,s).then((function(e){return i.app.viewerApp.collaborate(yo.MOVE_ANNOTS_BETWEEN_PAGES,{fromPageIndex:r,toPageIndex:o,annots:A}),e}))}))}}]),e}(),Ig=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){return(0,_._)(this,n),t.call(this,e,i,r)}return n}(Sg);const Eg=Ig;var Rg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Caret"}},{key:"caretSymbol",get:function(){},set:function(e){}}]),n}(Eg);const Tg=Rg;var Mg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Circle"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Eg),Fg={Paperclip:"Paperclip",PushPin:"PushPin",Graph:"Graph",Tag:"Tag"},Lg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"FileAttachment"}},{key:"attachIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.attachIcon},set:function(e){var t=this;Fg[e]&&pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setIconName(e)}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}}]),n}(Eg),Ng=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"FreeText"}},{key:"alignment",get:function(){return this.annot?this.annot.getInfo().justification:this.annotData.alignment},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setAlignment(e)}))}))}},{key:"callout",get:function(){if(!this.annot)return this.annotData.callout;var e=this.annot.getCalloutLinePoints(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Pv(e);return t.annot.setCalloutLinePoints(n)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"lineEnding",get:function(){if(!this.annot)return this.annotData.lineEnding;var e=this.annot.getCalloutLineEndingStyle();return we[e]},set:function(e){var t=this;e||(e="None"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ke[e];return t.annot.setCalloutLineEndingStyle(n)}))}))}},{key:"richDefaults",get:function(){},set:function(e){}},{key:"rotate",get:function(){if(!this.annot)return this.annotData.rotate;var e=360-this.annot.getRotation();return 360===e&&(e=0),e},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=0;return 0!==e&&(n=360-e),t.annot.setRotation(n)}))}))}},{key:"textFont",get:function(){},set:function(e){}},{key:"textSize",get:function(){return this.annot?this.annot.getDefaultAppearance().textSize:this.annotData.textSize},set:function(e){var t=this;return pg((function(i){(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=t.annot.getDefaultAppearance();return n.textSize=e,t.annot.setDefaultAppearance(n).then((function(e){}))}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width||1},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Eg),Og=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Highlight"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=_v(e);return t.annot.setRect(n)}))}))}}]),n}(Eg),Bg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Ink"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"gestures",get:function(){if(!this.annot)return this.annotData.gestures;var e,t=this.annot.getInkList(),n=[];return t.map((function(t){1===t.type&&(e=[],n.push(e)),e.push([t.x,t.y])})),n},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=xv(e);return t.annot.setInkList(n)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():annotData.width||0},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Eg),jg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Line"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return we[e]},set:function(e){var t=this;e||(e="None"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ke[e];return t.annot.setEndingStyle(!0,n)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return we[e]},set:function(e){var t=this;e||(e="None"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ke[e];return t.annot.setEndingStyle(!1,n)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"doCaption",get:function(){return this.annot?this.annot.hasCaption():this.annotData.doCaption},set:function(e){var t=this;pg((function(n){return t.annot.enableCaption(e)}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getStyleFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(n){return t._delayOrExec((function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setStyleFillColor(n)}))}))}},{key:"leaderExtend",get:function(){return this.annot?this.annot.getLeaderLineExtend():this.annotData.leaderExtend},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setLeaderLineExtend(e)}))}))}},{key:"leaderLength",get:function(){return this.annot?this.annot.getLeaderLineLength():this.annotData.leaderLength},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setLeaderLineLength(e)}))}))}},{key:"width",get:function(){return this.annot?this.annot.getBorderWidth():this.annotData.width},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Eg);const Vg=jg;var Ug=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"PolyLine"}},{key:"arrowBegin",get:function(){if(!this.annot)return this.annotData.arrowBegin;var e=this.annot.getStartStyle();return we[e]},set:function(e){var t=this;e||(e="None"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=ke[e];return t.annot.setEndingStyle(!0,n)}))}))}},{key:"arrowEnd",get:function(){if(!this.annot)return this.annotData.arrowEnd;var e=this.annot.getEndingStyle();return we[e]},set:function(e){var t=this;e||(e="None"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(n){var i=ke[e];return t.annot.setEndingStyle(!1,i)}))}))}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Pv(e);return t.annot.setVertexes(n)}))}))}}]),n}(Eg),Hg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Polygon"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"vertices",get:function(){if(!this.annot)return this.annotData.vertices;var e=this.annot.getVertexes(),t=[];return e.map((function(e){t.push(e.x,e.y)})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=Pv(e);return t.annot.setVertexes(n)}))}))}}]),n}(Eg),zg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Sound"}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}},{key:"soundIcon",get:function(){},set:function(e){}}]),n}(Eg),Wg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Square"}},{key:"dash",get:function(){return this.annot?this.annot.getBorderInfo().dashes:this.annotData.dash},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(Array.isArray(e))return t.annot.setBorderStyle(1,e)}))}))}},{key:"fillColor",get:function(){if(!this.annot)return this.annotData.fillColor;var e=this.annot.getFillColor();return(0,U.convertFromNumberToJSColor)(e)},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=(0,U.colorConvertor)(e,"int",0);return t.annot.setFillColor(n)}))}))}},{key:"width",get:function(){return this.annot,this.annot.getBorderWidth()},set:function(e){var t=this;return pg((function(i){(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setBorderWidth(e)}))}))}}]),n}(Eg),Yg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Squiggly"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;return pg((function(i){(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=_v(e);return t.annot.setRect(n)}))}))}}]),n}(Eg),Gg={Approved:"Approved",AsIs:"AsIs",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"ForComment",ForPublicRelease:"ForPublicRelease",NotApproved:"NotApproved",NotForPublicRelease:"NotForPublicRelease",Sold:"Sold",TopSecret:"TopSecret"},$g=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Stamp"}},{key:"AP",get:function(){if(!this.annot)return this.annotData.AP;var e=this.annot.getIconName();if(e&&"#"===e[0]){var t=e.substr(1);(t=Gg[t])&&(e=t)}return e},set:function(e){}}]),n}(Eg),Kg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"StrikeOut"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=_v(e);return t.annot.setRect(n)}))}))}}]),n}(Eg),qg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this,e,i,r)).stateModelValue="Review",o}return(0,P._)(n,[{key:"type",get:function(){return"Text"}},{key:"noteIcon",get:function(){return this.annot?this.annot.getIconName():this.annotData.noteIcon||"Note"},set:function(e){var t=this;e||(e="Note"),pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return t.annot.setIconName(e).then((function(e){}))}))}))}},{key:"point",get:function(){if(!this.annot)return this.annotData.point;var e=this.annot.getRect();return[e.left,e.top]},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if(e&&Array.isArray(e)&&!(e.length<2))return t.annot.moveTo({left:e[0],top:e[1],action:"move"})}))}))}},{key:"state",get:function(){return this.annot?"Marked"===this.stateModel?this.annot.getMarkedState(0):this.annot.getReviewState(0):this.annotData.state},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){if("Review"===t.stateModelValue){switch(e){case"accepted":case"rejected":case"cancelled":case"completed":case"none":break;default:e="none"}return t.annot.addReviewState(e)}if("Marked"===t.stateModelValue)return"marked"!==e&&"unmarked"!==e&&(e="unmarked"),t.annot.addMarkedState(e)}))}))}},{key:"stateModel",get:function(){return this.stateModelValue},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){return"Marked"!==e&&"Review"!==e&&(e="Review"),t.stateModelValue=e}))}))}}]),n}(Eg),Jg=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"type",get:function(){return"Underline"}},{key:"quads",get:function(){if(!this.annot)return this.annotData.quads;var e=this.annot.getQuadPoints(),t=[];return e.map((function(e){e.map((function(e){t.push(e.x,e.y)}))})),t},set:function(e){var t=this;pg((function(i){return(0,D._)((0,C._)(n.prototype),"_delayOrExec",t).call(t,(function(){var n=_v(e);return t.annot.setRect(n)}))}))}}]),n}(Eg),Xg=function(){function e(t,n,i){(0,_._)(this,e),this.annot=t,this.annotData=n,this.app=i}return(0,P._)(e,[{key:"activated",get:function(){return!this.annot&&this.annotData.activated}},{key:"context3D",get:function(){this.activated}},{key:"innerRect",get:function(){}},{key:"name",get:function(){return this.annot?this.annot.getName():this.annotData.name}},{key:"page",get:function(){return this.annot?this.annot.getPage().getIndex():this.annotData.page}},{key:"rect",get:function(){if(!this.annot)return this.annotData.rect;var e=this.annot.getRect(),t=e.left,n=e.right,i=e.top;return[t,e.bottom,n,i]}}]),e}(),Qg=function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){var o=av(r,n);if(!r||!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}var A=ov(r,n);if(!A){i.rc=!1;var s=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return s+=' "'.concat(n,'" '),void t.alert(s)}i.value=rv(n,A),i.rc=!0}}},Zg=function(e,t,n,i,r,o,a,A){var s=e.getEvent(),c=i;if((c<0||c>3)&&(c=0),s.value){var u=s.value;if(!/^[0-9\.\-]+$/.test(u)){s.rc=!1;var l=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return l+=' "Number" ',void t.alertAsync(l)}var d=s.change,h=u;if(s.willCommit){var f=h.trimLeft();if(0==f.length){s.rc=!0;var p=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return p+=' "Number" ',void t.alertAsync(p)}var g=f;if(g=g.replace(/,/g,"."),!/^[0-9\.\-]+$/.test(g)){var v=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return v+=' "Number" ',t.alert(v),void(s.rc=!1)}s.rc=!0}else{var m=h,y=d||"",b=".";switch(c){case 0:case 1:b=".";break;case 2:case 3:b=","}for(var w=-1!=m.indexOf(b),k=0;k<y.length;k++)if(y[k]!=b)if("-"!=y[k]){if(!/[0-9\.]/.test(y[k]))return void(s.rc=!1)}else{if(bHasSign)return void(s.rc=!1);if(0!=k)return void(s.rc=!1);if(0!=s.selStart)return void(s.rc=!1);bHasSign=!0}else{if(w){s.rc=!1;var x=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return x+=' "Number" ',void t.alertAsync(x)}w=!0}var _,P=m.substr(0,s.selStart);s.selEnd<m.length&&(_=m.substr(s.selEnd)||""),u=h=m=P+y+_,s.rc=!0}}else s.rc=!0};function ev(e,t,n,i){var r=".",o=",",a="";switch(n){case 0:break;case 1:o="";break;case 2:r=",",o=".";break;case 3:r=",",o="";break;case 4:r=",",o=" "}var A=e.length%3;a=e.substr(0,A);for(var s=A;s<e.length;s+=3)0!==a.length&&(a+=o),a+=e.substr(s,3);if(i>0){for(t=t.substring(0,i);t.length<i;)t+="0";a=a+r+t}return a}function tv(e){var t=e.toString().split(".",2);return null==t||t.length<2?(t=null,0):t[1].length}var nv="January[1]February[2]March[3]April[4]May[5]June[6]July[7]August[8]September[9]October[10]November[11]December[12]Jan[1]Feb[2]Mar[3]Apr[4]Jun[6]Jul[7]Aug[8]Sep[9]Oct[10]Nov[11]Dec[12]";function iv(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec(nv);return t?t[1]:null}var rv=function(e,t){e=e.replace(/%/g,"%69");var n=[],i=t.getFullYear().toString();i="0000"+i,e=(e=e.replace(/([^y])y{4}(?!y)|(^)y{4}(?!y)/g,"$1"+i.substr(i.length-4,4))).replace(/([^y])y{2}(?!y)|(^)y{2}(?!y)/g,"$1"+i.substr(i.length-2,2)),i=iv(t.getMonth()+1),n["%mmmm"]=i,e=e.replace(/([^m])m{4}(?!m)|(^)m{4}(?!m)/g,"$1%mmmm"),n["%mmm"]=i.substr(0,3),e=(e=e.replace(/([^m])m{3}(?!m)|(^)m{3}(?!m)/g,"$1%mmm")).replace(/([^m])m{1}(?!m)|(^)m{1}(?!m)/g,"$1"+(t.getMonth()+1)),1===(i=(t.getMonth()+1).toString()).length&&(i="0"+i),e=e.replace(/([^m])m{2}(?!m)|(^)m{2}(?!m)/g,"$1"+i),i=function(e){var t=new RegExp("(\\w+)\\["+e+"\\]").exec("Sunday[0]Monday[1]Tuesday[2]Wednesday[3]Thursday[4]Friday[5]Saturday[6]");return t?t[1]:null}(t.getDay()),n["%dddd"]=i,e=e.replace(/([^d])d{4}(?!d)|(^)d{4}(?!d)/g,"$1%dddd"),n["%ddd"]=i.substr(0,3),e=(e=e.replace(/([^d])d{3}(?!d)|(^)d{3}(?!d)/g,"$1%ddd")).replace(/([^d])d{1}(?!d)|(^)d{1}(?!d)/g,"$1"+t.getDate()),1===(i=t.getDate().toString()).length&&(i="0"+i),e=(e=e.replace(/([^d])d{2}(?!d)|(^)d{2}(?!d)/g,"$1"+i)).replace(/([^H])H{1}(?!H)|(^)H{1}(?!H)/g,"$1"+t.getHours()),1===(i=t.getHours().toString()).length&&(i="0"+i),e=e.replace(/([^H])H{2}(?!H)|(^)H{2}(?!H)/g,"$1"+i);var r=t.getHours()>12?t.getHours()-12:t.getHours();return 0==r&&(r=12),e=e.replace(/([^h])h{1}(?!h)|(^)h{1}(?!h)/g,"$1"+r),1===(i=r.toString()).length&&(i="0"+i),e=(e=e.replace(/([^h])h{2}(?!h)|(^)h{2}(?!h)/g,"$1"+i)).replace(/([^M])M{1}(?!M)|(^)M{1}(?!M)/g,"$1"+t.getMinutes()),1===(i=t.getMinutes().toString()).length&&(i="0"+i),e=(e=e.replace(/([^M])M{2}(?!M)|(^)M{2}(?!M)/g,"$1"+i)).replace(/([^s])s{1}(?!s)|(^)s{1}(?!s)/g,"$1"+t.getSeconds()),1===(i=t.getSeconds().toString()).length&&(i="0"+i),e=e.replace(/([^s])s{2}(?!s)|(^)s{2}(?!s)/g,"$1"+i),i=function(e){return e>11?"PM":"AM"}(t.getHours()),e=e.replace(/([^t])t{2}(?!t)|(^)t{2}(?!t)/g,"$1"+i),1===i.length&&(i=i.charAt(0)),e=(e=(e=(e=(e=e.replace(/([^t])t{1}(?!t)|(^)t{1}(?!t)/g,"$1"+i)).replace(/%mmmm/g,n["%mmmm"])).replace(/%mmm/g,n["%mmm"])).replace(/%dddd/g,n["%dddd"])).replace(/%ddd/g,n["%ddd"]),n=null,e=e.replace(/%69/g,"%")},ov=function(e,t){return av(e,t)};function av(e,t){var n=function(e,t){var n=new Date,i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=0,A=0,s=0,c=99,u="",l=!1,d=!1,h=["/","-",",","."],f=["/","-",",","."],p=function(e,t){for(var n=function(n,i){var r=e.charAt(n);if(t){if(void 0!==f.find((function(e){return e==r})))return{v:!0}}else if(void 0!==h.find((function(e){return e==r})))return{v:!0}},i=0,r=e.length;i<r;i++){var o=n(i,r);if("object"===(0,T._)(o))return o.v}return!1},g=function(e,t){var n=e;if(t){var i=!0,r=!1,o=void 0;try{for(var a,A=f[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value,c=new RegExp("\\"+s,"g");n=n.replace(c,"")}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}}else{var u=!0,l=!1,d=void 0;try{for(var p,g=h[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var v=p.value;c=new RegExp("\\"+v,"g");n=n.replace(c,"")}}catch(e){l=!0,d=e}finally{try{u||null==g.return||g.return()}finally{if(l)throw d}}}return n},v=p(t,!1),m=p(e,!0);v&&!m?t=g(t,!1):!v&&m&&(e=g(e,!0));var y=0,b=0;for(;y<t.length&&!l;){var w=t.charAt(y);switch(w){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":var k=b,x=0,_=null;if(t.charAt(y+1)!==w)switch(w){case"y":y++,b++;break;case"m":r=(_=sv(e,b,2)).nRet,y++,b+=x=_.nSkip;break;case"d":o=(_=sv(e,b,2)).nRet,y++,b+=x=_.nSkip;break;case"H":case"h":a=(_=sv(e,b,2)).nRet,y++,b+=x=_.nSkip;break;case"M":A=(_=sv(e,b,2)).nRet,y++,b+=x=_.nSkip;break;case"s":s=(_=sv(e,b,2)).nRet,y++,b+=x=_.nSkip;break;case"t":u="p"===e.charAt(y)||"P"==e.charAt(y),y++,b++}else if(t.charAt(y+1)===w&&t.charAt(y+2)!==w)switch(w){case"y":i=(_=sv(e,b,4)).nRet,y+=2,b+=x=_.nSkip;break;case"m":_=sv(e,b,2),0!=a?A=_.nRet:r=_.nRet,y+=2,b+=x=_.nSkip;break;case"d":_=sv(e,b,2),(y+=2)>=t.length&&(_=sv(e,b,4)),o=_.nRet,b+=x=_.nSkip;break;case"H":case"h":a=(_=sv(e,b,2)).nRet,y+=2,b+=x=_.nSkip;break;case"M":A=(_=sv(e,b,2)).nRet,y+=2,b+=x=_.nSkip;break;case"s":s=(_=sv(e,b,2)).nRet,y+=2,b+=x=_.nSkip;break;case"t":u=!("p"!==e.charAt(b)&&"P"!=e.charAt(b)||"m"!==e.charAt(b+1)&&"M"!==e.charAt(b+1)),y+=2,b+=2}else if(t.charAt(y+1)===w&&t.charAt(y+2)===w&&t.charAt(y+3)!==w)switch(w){case"m":x=(_=cv(e,b)).nSkip;for(var P=_.swRet,D=!1,C=0;C<12;C++)if(P.toLowerCase()===iv(C+1).substr(0,3).toLowerCase()){r=C+1,y+=3,b+=x,D=!0;break}D||(r=(_=sv(e,b,3)).nRet,y+=3,b+=x=_.nSkip);break;case"y":break;default:y+=3,b+=3}else if(t.charAt(y+1)===w&&t.charAt(y+2)===w&&t.charAt(y+3)===w&&t.charAt(y+4)!==w)switch(w){case"y":i=(_=sv(e,b,4)).nRet,b+=x=_.nSkip,y+=4,i<100&&(i=-1,d=!0);break;case"m":D=!1;x=(_=cv(e,b)).nSkip,P=(P=_.swRet).toLowerCase();for(C=0;C<12;C++){var S=iv(C+1);if((S=S.toLowerCase()).indexOf(P,0)>=0){r=C+1,y+=4,b+=x,D=!0;break}}D||(r=(_=sv(e,b,4)).nRet,y+=4,b+=x=_.nSkip);break;default:y+=4,b+=4}else t.charAt(y)!==e.charAt(b)&&(d=!0,l=!0),y++,b++;k===b&&(d=!0,l=!0);break;default:if(e.length<=b)l=!0;else{var I=Av(t.charAt(y)),E=Av(e.charAt(b));(I&&!E||!I&&E)&&(d=!0,l=!0)}y++,b++}}u&&a<12&&(a+=12);!1===u&&12==a&&(a=0);i>=0&&i<=c&&(i+=2e3);(r<1||r>12)&&(d=!0);(o<1||o>31)&&(d=!0);(a<0||a>23)&&(d=!0);(A<0||A>60)&&(d=!0);(s<0||s>60)&&(d=!0);if(!d)return 2!=r||29!=o||t.match(/y/)||(i&=1048572),new Date(i,r-1,o,a,A,s);return null}(e,t);return null==n&&(n=function(e){for(var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),o=t.getHours(),a=t.getMinutes(),A=t.getSeconds(),s=[],c=0;c<6;c++)s[c]=0;var u=!1,l=0,d=0,h=e.length;for(;d<h&&!(l>5);){var f=e.charAt(d);if(Av(f)){var p=sv(e,d,4);s[l++]=p.nRet,d+=p.nSkip}else":"===f&&(u=!0),d++}var g=!0;if(u){if(l<=3)(v=lv(l,s[0],s[1],s[2],o,a,A))&&(o=v.h,a=v.M,A=v.s,g=!1);else if(4===l){(v=uv(2,s[0],s[1],0,n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=lv(2,s[2],s[3],0,o,a,A))&&(o=v.h,a=v.M,A=v.s,g=!1))}else if(5===l){if((v=uv(3,s[0],s[1],s[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=lv(2,s[3],s[4],0,o,a,A))&&(o=v.h,a=v.M,A=v.s,g=!1)),g)(v=uv(2,s[0],s[1],0,n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=lv(3,s[2],s[3],s[4],o,a,A))&&(o=v.h,a=v.M,A=v.s,g=!1))}else if(6===l){(v=uv(3,s[0],s[1],s[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,(v=lv(3,s[3],s[4],s[5],o,a,A))&&(o=v.h,a=v.M,A=v.s,g=!1))}}if(g){var v;(v=uv(l,s[0],s[1],s[2],n,i,r))&&(n=v.y,i=v.m,r=v.d,g=l>3)}if(g)return null;return new Date(n,i-1,r,o,a,A)}(e)),n}function Av(e){return e>="0"&&e<="9"}function sv(e,t,n){var i=[];i.nRet=0,i.nSkip=0;for(var r=t,o=e.length;r<o&&!(r-t>10);r++){var a=e.charAt(r);if(!Av(a))break;if(i.nRet=10*i.nRet+(a-"0"),i.nSkip=r-t+1,i.nSkip>=n)break}return i}function cv(e,t){var n=[];n.swRet="",n.nSkip=0;for(var i=t,r=e.length;i<r;i++){var o=e.charAt(i);if(!(o>="a"&&o<="z"||o>="A"&&o<="Z"))break;n.swRet+=o,n.nSkip=i-t+1}return n}function uv(e,t,n,i,r,o,a){var A=[];if(A.y=r,A.m=o,A.d=a,2===e){if(t>=1&&t<=12&&n>=1&&n<=31)return A.m=t,A.d=n,A;if(t>=1&&t<=31&&n>=1&&n<=12)return A.m=n,A.d=t,A}else if(e>=3){if(t>12&&n>=1&&n<=12&&i>=1&&i<=31)return A.y=t,A.m=n,A.d=i,A;if(t>=1&&t<=12&&n>=1&&n<=31&&i>31)return A.y=i,A.m=t,A.d=n,A;if(t>=1&&t<=31&&n>=1&&n<=12&&i>31)return A.y=i,A.m=n,A.d=t,A}return null}function lv(e,t,n,i,r,o,a){var A=[];if(A.h=r,A.M=o,A.s=a,2===e){if(t>=0&&t<=23&&n>=0&&n<=59)return A.h=t,A.M=n,A.s=0,A}else if(3===e&&t>=0&&t<=23&&n>=0&&n<=59&&i>=0&&i<=59)return A.h=t,A.M=n,A.s=i,A;return null}var dv=function(e,t,n){for(var i="",r=0,o=0;o<t.length;o++)switch(t[o]){case"9":for(;r<e.length;){var a=r;if(r++,e[a]>="0"&&e[a]<="9"){i+=e[a];break}}if(r>=e.length&&n)return i;break;case"A":if(!(r<e.length))return i;i+=e[r++];break;case"O":var A=r;if(r++,e[A].match(/[0-9a-zA-Z]/)&&(i+=e[A]),r>=e.length&&n)return i;break;case"X":i+=e[r++];break;default:i+=t[o],t[o]==e[r]&&r++}return i},hv=function(e,t){switch(t){case"9":var n=parseInt(e);return 0<=n&&n<=9;case"A":return/[a-zA-Z]/.test(e);case"O":var i=parseInt(e);return 0<=i&&i<=9||/[a-zA-Z]/.test(e);case"X":case" ":return!0;default:return e===t}},fv=function(e,t,n){var i=e.getEvent(),r=i.value;if(0!=r.length){var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");if(o+=' "'+n+'" ',i.willCommit){if(r.length>n.length)return i.rc=!1,void t.alertAsync(o);var a=0;if((r=dv(r,n,!0)).length==n.length)for(var A=0;A<r.length&&hv(r[A],n[a]);A++)a++;return a!=n.length||a!=r.length&&n.length>0?(i.rc=!1,void t.alertAsync(o)):(i.change=r,r)}var s=i.change;if(s&&0!=s.length){var c;i.selStart;if((c=i.selStart<i.selEnd?r.replace(r.substr(i.selStart,i.selEnd),s):r.substr(0,i.selStart)+s+r.substr(i.selEnd)).length>n.length){var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return u+=' "'+n+'" ',t.alert(u),void(i.rc=!1)}var l=dv(c,n);if(l.length>n.length){i.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "'+n+'" ',void t.alertAsync(d)}return i.rc=!0,l}i.rc=!0}else i.rc=!0};const pv={AFSimple_Calculate:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r="",o=0,a=NaN;switch(t){case"AVG":for(var A=0;A<n.length;A++){var s=parseFloat(e.getFieldValue(n[A]));if(!isNaN(s)){var c=tv(s);o=o>c?o:c,isNaN(a)&&(a=0),a+=s}}r=isNaN(a)?"0":a/n.length;break;case"SUM":for(var u=0;u<n.length;u++){var l=parseFloat(e.getFieldValue(n[u]));if(!isNaN(l)){var d=tv(l);o=o>d?o:d,isNaN(a)&&(a=0),a+=l,a=+parseFloat(a.toPrecision(12))}}r=isNaN(a)?"0":a;break;case"PRD":for(var h=NaN,f=0;f<n.length;f++){var p=parseFloat(e.getFieldValue(n[f]));isNaN(p)&&(p=0);var g=tv(p);o=o>g?o:g,isNaN(h)&&(h=1),h*=p}r=isNaN(h)?"0":h;break;case"MIN":for(var v=NaN,m=0;m<n.length;m++){var y=parseFloat(e.getFieldValue(n[m]));if(!isNaN(y)){var b=tv(y);o=o>b?o:b,isNaN(v)&&(v=y),v>y&&(v=y)}}r=isNaN(v)?"0":v;break;case"MAX":for(var w=NaN,k=0;k<n.length;k++){var x=parseFloat(e.getFieldValue(n[k]));if(!isNaN(x)){var _=tv(x);o=o>_?o:_,isNaN(w)&&(w=x),w<x&&(w=x)}}r=isNaN(w)?"0":w}i.valueSetted=!0,i.value=r,i.rc=!0}},AFRange_Validate:function(e,t,n,i,r,o){var a=e.getEvent();if(!a.isSensitiveCheck){var A,s=a.target,c="",u=a.value;A=parseFloat(u),isNaN(A)?a.value=s.value:(n&&r?(A<i||A>o)&&(c="Value should be greater than "+i+" and less than "+o+"."):n?A<i&&(c="Value should be greater than "+i+"."):r&&A>o&&(c="Value should be less than "+o+"."),""!==c?(t.alert(c),a.value=s.value,a.rc=!1):a.rc=!0)}},AFNumber_Format:function(e,t,n,i,r,o,a,A){var s=e.getEvent();if(!s.isSensitiveCheck){var c=s.value;if((s.param.value||0===s.param.value)&&(c=s.param.value),""!==c){if(isNaN(c)){s.value="",s.rc=!1;var u=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return u+=' "Number" ',void t.alertAsync(u)}var l=(c=parseFloat(c))<0?-1:1;if(isNaN(c)){s.value=c,s.rc=!1;var d=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return d+=' "Number" ',void t.alertAsync(d)}var h="";h=(2===r||3===r)&&l<0?"(":"",A&&(h+=a);var f=(c*=l).toString().split(".",2),p=f[0],g="";f.length>1&&(g=f[1]),h+=ev(p,g,i,n),A||(h+=a),(2===r||3===r)&&l<0&&(h+=")"),(0!==r||A)&&(c=Math.abs(c)),1!==r&&3!==r||(l<0?s.engineTarget.setDAFontColor(["RGB",1,0,0]):s.engineTarget.setDAFontColor(["RGB",0,0,0])),l<0&&0===r&&(h="-"+h),s.value=h,s.rc=!0}else s.value=""}},AFTime_Format:function(e,t,n){if("number"==typeof(n=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt"][n])){var i=n;n=i>=0&&i<cFormat.length?cFormat[i]:""}Qg(e,t,n)},AFTime_FormatEx:Qg,AFDate_FormatEx:function(e,t,n){var i=e.getEvent();if(i.format=n,!i.isSensitiveCheck){n&&0!=n.length||(n="mm/dd/yyyy");var r=i.target.valueAsString;if(i.param.value&&(r=i.param.value),""!=r){if(!r){i.rc=!1;var o=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return o+=' "'.concat(n,'" '),void t.alertAsync(o)}var a=ov(r,n);if(!a){i.rc=!1;var A=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return A+=' "'.concat(n,'" '),void t.alert(A)}i.value=rv(n,a),i.rc=!0}}},AFPercent_Format:function(e,t,n,i){var r=e.getEvent();if(!r.isSensitiveCheck){var o=r.target.value;if(o&&""!=o){if(o=parseFloat(100*o),isNaN(o)){r.value=r.target.value,r.rc=!0;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "Percentage" ',void t.alertAsync(a)}var A=o.toString().split(".",2),s=A[0],c="";A.length>1&&(c=A[1]);var u=ev(s,c,i,n)+"%";r.value=u,r.rc=!0}}},AFMergeChange:function(e){var t,n,i=e.value;return e.willCommit?e.value:(t=e.selStart>=0?i.substring(0,e.selStart):"",n=e.selEnd>=0&&e.selEnd<=i.length?i.substring(e.selEnd,i.length):"",t+e.change+n)},AFNumber_Keystroke:Zg,AFParseDateEx:ov,AFMakeNumber:function(e){return parseFloat(e)||0},AFDate_KeystrokeEx:function(e,t,n){var i=e.getEvent();if(!i.isSensitiveCheck){var r=i.target.valueAsString;if(r){var o=ov(r,n);if(!o){i.rc=!1;var a=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return a+=' "'.concat(n,'" '),void t.alertAsync(a)}i.value=rv(n,o),i.rc=!0}else i.rc=!0}},AFSpecial_Format:function(e,t,n){var i=e.getEvent(),r=i.value;if(!r||r.length<1)i.rc=!0;else{var o;switch(r=""+r,n){case 0:o="99999";break;case 1:o="99999-9999";break;case 2:o=r.length>=10?"(999) 999-9999":"999-9999";break;case 3:o="999-99-9999"}var a=dv(r,o);if(a.length!=o.length){i.rc=!1;var A=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");return A+=' "'.concat(o,'" '),void t.alertAsync(A)}i.value=a,i.rc=!0}},FXFormatDate:rv,AFSpecial_Keystroke:function(e,t,n){var i=e.getEvent(),r=i.value;if(!(r.length<1)){var o,a=i.change;switch(n){case 0:o="99999";break;case 1:case 3:o="999999999";break;case 2:var A=r;if(0==A.length&&0==a.length)return void(i.rc=!0);if(i.willCommit){var s=A.match(/^(\(\d{3}\)\s?)?\d{3}-?\d{4}$|^(\d{3}\s?)?\d{3}-?\d{4}$/);if(i.rc=!!s,!s){var c=e.PDFViewer.i18n.t("viewer_:pdfjs.valueChangedError");c+=' "/^((d{3})s?)?d{3}-?d{4}$|^(d{3}s?)?d{3}-?d{4}$/" ',t.alert(c)}return}var u=i.selStart,l=i.selEnd;if(l<0&&(l=strSrc.length-1),(A=A.substr(0,u)+a+A.substr(l)).length-14>0)return void(i.rc=!1);var d=A.match(/^\(?\d*\)?\s?\d*-?\d*$/);return void(i.rc=!!d)}return fv(e,t,o)}i.rc=!0},AFPercent_Keystroke:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zg.apply(void 0,(0,R._)(t))},AFSpecial_KeystrokeEx:function(e,t,n){var i=e.getEvent(),r=fv(e,t,n);void 0!==r&&(i.target.value=r)},ANSB_None:0,ANSB_Page:1,ANSB_Author:2,ANSB_ModDate:3,ANSB_Type:4,ANFB_ShouldNone:7,ANFB_ShouldPrint:0,ANFB_ShouldView:1,ANFB_ShouldEdit:2,ANFB_ShouldAppearInPanel:3,ANFB_ShouldSummarize:4,ANFB_ShouldExport:5};var gv=pv.ANSB_Author,vv=pv.ANSB_ModDate,mv=pv.ANSB_Type,yv=pv.ANFB_ShouldPrint,bv=pv.ANFB_ShouldView,wv=pv.ANFB_ShouldEdit,kv={line:Vg,circle:Mg,square:Wg,highlight:Og,squiggly:Yg,underline:Jg,strikeout:Kg,freetext:Ng,caret:Tg,ink:Bg,stamp:$g,polyline:Ug,polygon:Hg,text:qg,fileattachment:Lg,sound:zg,"3d":Xg},xv=function(e){var t=[];return e.map((function(e){var n=e[0];if(Array.isArray(n))e.map((function(e,n){var i={};i.type=0===n?1:2,i.x=e[0],i.y=e[1],t.push(i)}));else for(var i=Math.floor(e.length/2),r=e,o=0;o<i;o++){var a=r.slice(2*o,2*o+2),A={};A.type=0===o?1:2,A.x=a[0],A.y=a[1],t.push(A)}})),t},_v=function(e){for(var t,n,i,r,o=Math.floor(e.length/2),a=[],A=[],s=e,c=0;c<2*o;c++)[c]%2==0?A.push(s[c]):a.push(s[c]);return{left:(t=Math).min.apply(t,(0,R._)(A)),bottom:(n=Math).min.apply(n,(0,R._)(a)),right:(i=Math).max.apply(i,(0,R._)(A)),top:(r=Math).max.apply(r,(0,R._)(a))}},Pv=function(e){for(var t=[],n=Math.floor(e.length/2),i=e,r=0;r<n;r++){var o=i.slice(2*r,2*r+2);t.push({x:o[0],y:o[1]})}return t},Dv=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t}return(0,P._)(e,[{key:"getAnnotClass",value:function(e){var t=kv[e];return t||Sg}},{key:"getAnnots",value:function(e,t,n,i){var r;return r=t===yv?e.filter((function(e){return e.print})):t===bv?e.filter((function(e){return!e.noView})):t===wv?e.filter((function(e){return!e.readOnly})):(0,R._)(e),n===gv?r.sort((function(e,t){var n=e.author,i=t.author;return n.localeCompare(i)})):n===vv&&r.sort((function(e,t){var n=e.modDate,i=t.modDate;if(null===n&&null===i)return 0;if(null!==n&&null===i)return 1;if(null===n&&null!==i)return-1;var r=n.getTime(),o=i.getTime();return r>o?1:r<o?-1:0})),n===mv&&r.sort((function(e,t){var n=e.type,i=t.type;return n.localeCompare(i)})),i?r.reverse():r}},{key:"getAnnot",value:function(e,t,n){var i=e.getType(),r=this.getAnnotClass(i);return r===Sg?null:new r(e,{page:t},n)}},{key:"addAnnot",value:function(e){var t=this,n=e.type=e.type.toLowerCase(),i=null;switch(n){case"line":i=this.buildLineJson(e);break;case"stamp":i=this.buildStampJson(e);break;case"fileattachment":case"text":i=this.buildIconShapeJson(e);break;case"freetext":i=this.buildFreeTextJson(e);break;case"circle":case"square":case"caret":i=this.buildSimpleShapeJson(e),"square"!==n&&"circle"!==n||!e.dash||(i.borderStyle=1,i.borderStyleParam=e.dash);break;case"polyline":case"polygon":case"ink":case"highlight":case"underline":case"strikeout":case"squiggly":i={type:e.type,date:new Date},"polygon"===n&&"PolygonCloud"===e.intent&&(i.intent="PolygonCloud"),"polyline"!==n&&"polygon"!==n&&"ink"!==n||!e.dash||(i.borderStyle=1,i.borderStyleParam=e.dash);break;case"sound":i=this.buildScreenShapeJson(e)}if(!i)return null;i=this.buildJsonKeyValue(e,i);var r=this.getAnnotClass(n);e.creationDate=i.date,e.modDate||(e.modDate=i.date);var o=new r(null,e),a=this.pdfViewer;return pg((function(){return a.currentPDFDoc.addAnnot(e.page,i).then((function(t){return[a.getPDFPageRender(e.page),t]})).then((function(e){var t=e[0];if(t.isRendered)return e;var n=t.pagesRender;return n.getPageScale(t.index,n.scale).then((function(i){return t.render(i,n.rotate).then((function(){return e}))}))})).then((function(n){var r=(0,E._)(n,2),a=r[0],A=r[1][0],s=a.annotsRender.getAnnotRender(A.getId()).component,c=s.annot;c.info.author=i.author,t.doUpdatePropsAfterAdd(c,e,(function(t){t&&s.redraw(),e.open&&s.showReplyDialog("comment"),o.annot=c}))}))})),o}},{key:"showFileDialog",value:function(e){var t=this;return new Promise((function(n){t.$jsFileAttachment&&t.$jsFileAttachment.remove(),t.$jsFileAttachment=N()('<input id="jsFileAttachment" type="file" style="display: none;"/>'),N()("body").append(t.$jsFileAttachment),t.$jsFileAttachment.off("change").on("change",(function(i){var r=i.target.files[0];if(r){var o=new FileReader;o.readAsArrayBuffer(r),o.onload=function(){var i=new Uint8Array(o.result);e.contentType=r.type,e.buffer=i,e.fileName=r.name;var a=t.addAnnot(e);n(a)}}})),t.$jsFileAttachment.click()}))}},{key:"doUpdatePropsAfterAdd",value:function(e,t,n){n&&n()}},{key:"buildRectByPoint",value:function(e){var t=e[0],n=e[1];return{left:t,bottom:n-20,right:t+20,top:n}}},{key:"buildSimpleShapeJson",value:function(e){var t=_v(e.rect),n=t.left,i=t.bottom,r=t.right,o=t.top;return{type:e.type,date:new Date,rect:{left:n,bottom:i,right:r,top:o}}}},{key:"buildIconShapeJson",value:function(e){var t;t=e.point?this.buildRectByPoint(e.point):_v(e.rect);var n=e.AttachIcon,i=e.noteIcon,r="";switch(e.type){case"fileattachment":r=n;break;case"text":r=i}return{type:e.type,date:new Date,rect:t,icon:r}}},{key:"buildScreenShapeJson",value:function(e){var t;return t=e.point?this.buildRectByPoint(e.point):_v(e.rect),{type:"screen",date:new Date,rect:t}}},{key:"buildStampJson",value:function(e){var t=_v(e.rect),n=t.left,i=t.bottom,r=t.right,o=(t.top,.3*(r-n));return{type:e.type,date:new Date,rect:{left:n,bottom:i,right:r,top:i+o}}}},{key:"buildFreeTextJson",value:function(e){var t={type:e.type,date:new Date};"FreeTextCallout"===e.intent&&e.callout&&(t.calloutLinePoints=Pv(e.callout)),t.defaultAppearance={textColor:0,textSize:0},e.textSize&&(e.textSize>=4||e.textSize<=144)&&(t.defaultAppearance.textSize=e.textSize),e.dash&&(t.borderStyle=1,t.borderStyleParam=e.dash),t.intent=e.intent;var n,i=(0,R._)(e.rect);t.calloutLinePoints&&(n=i).push.apply(n,(0,R._)(e.callout));return t.rect=_v(i),t.innerRect=_v(e.rect),t}},{key:"buildLineJson",value:function(e){var t;if(e.points&&2===e.points.length){var n=e.points[0],i=e.points[1],r=n[0],o=n[1],a=i[0];t={left:r,bottom:i[1],right:a,top:o}}else t=_v(e.rect);e.doCaption&&e.doCaption;var A={type:"line",date:new Date,rect:t,startStyle:ke.None,endStyle:ke.None};return e.intent&&(A.intent=e.intent),e.arrowBegin&&(A.startStyle=ke[e.arrowBegin]),e.arrowEnd&&(A.endStyle=ke[e.arrowEnd]),e.leaderLength&&(A.leaderLineLength=e.leaderLength),e.leaderExtend&&(A.leaderLineExtend=e.leaderExtend),e.dash&&(A.borderStyle=1,A.borderStyleParam=e.dash),A}},{key:"buildFlags",value:function(e,t){return e.hidden?t.flags=2|t.flags:t.flags=-3&t.flags,e.print||void 0===e.print?t.flags=4|t.flags:t.flags=-5&t.flags,e.noView?t.flags=32|t.flags:t.flags=-33&t.flags,e.readOnly?t.flags=64|t.flags:t.flags=-65&t.flags,e.lock?t.flags=128|t.flags:t.flags=-129&t.flags,e.toggleNoView?t.flags=256|t.flags:t.flags=-257&t.flags,t}},{key:"buildCoords",value:function(e,t){var n=[];if(e.quads)for(var i=Math.floor(e.quads.length/8),r=e.quads,o=0;o<i;o++){var a,A,s,c,u=r.slice(8*o,8*o+8),l=(a=Math).min.apply(a,[u[0],u[2],u[4],u[6]]),d=(A=Math).max.apply(A,[u[1],u[3],u[5],u[7]]),h=(s=Math).max.apply(s,[u[0],u[2],u[4],u[6]]),f=(c=Math).min.apply(c,[u[1],u[3],u[5],u[7]]);n.push({left:l,top:d,right:h,bottom:f,rotation:0})}else{var p=_v(e.rect),g=p.left,v=p.bottom,m=p.right,y=p.top;n.push({left:g,top:y,right:m,bottom:v,rotation:0})}return t.coords=n,t}},{key:"calcRectByVertices",value:function(e){var t={},n=0,i=0,r=0,o=0;return e.map((function(e,t){var a=e.x,A=e.y;0===t?(n=a,i=a,r=A,o=A):(n=a<n?a:n,i=a>i?a:i,r=A<r?A:r,o=A>o?A:o)})),t.left=n,t.right=i,t.bottom=r,t.top=o,t}},{key:"buildVertices",value:function(e,t){if(!e.vertices)return t;if("polygon"===e.type||"polyline"===e.type){for(var n=[],i=Math.floor(e.vertices.length/2),r=e.vertices,o=0;o<i;o++){var a=r.slice(2*o,2*o+2);n.push({x:a[0],y:a[1]})}t.vertexes=n,t.rect=this.calcRectByVertices(n)}return t}},{key:"buildFillColor",value:function(e,t){return e.fillColor?("circle"!==e.type&&"square"!==e.type&&"line"!==e.type&&"polygon"!==e.type&&"polyline"!==e.type&&"freetext"!==e.type||(t["interior-color"]=(0,U.colorConvertor)(e.fillColor,"int",0),t.interiorColor=t["interior-color"]),t):t}},{key:"buildGestures",value:function(e,t){if("ink"!==e.type||!e.gestures)return e.rect&&(t.rect=_v(e.rect)),t;var n=xv(e.gestures);return t.inkList=n,t.rect={left:0,right:0,top:0,bottom:0},t}},{key:"buildStampAP",value:function(e,t){if("stamp"!==e.type)return t;var n,i=this.pdfViewer,r="approved";switch(e.AP&&(r=e.AP.toLowerCase()),r){case"approved":default:n="Approved";break;case"confidential":n="Confidential";break;case"draft":n="Draft";break;case"expired":n="Expired";break;case"final":n="Final"}t.icon=n,t.iconCategory="Static",t.url=$s(i.libPath,"stamps/",i.getCurrentLanguage(),"StandardStamps",t.icon+".pdf");var o={annotType:"stamp",category:t.iconCategory,name:t.icon,fileType:"pdf",url:t.url};return t.iconInfo=o,t}},{key:"buildJsonKeyValue",value:function(e,t){return e.strokeColor&&(t.color=(0,U.colorConvertor)(e.strokeColor,"int",0),"freetext"===e.type&&(t.defaultAppearance.textColor=t.color)),e.popupOpen&&"freetext"!==e.type&&"sound"!==e.type&&"fileattachment"!==e.type&&(t.open="yes"),e.contents&&(t.contents=e.contents),e.name&&(t.name=e.name),e.author&&(t.title=e.author),e.opacity&&(t.opacity=e.opacity),e.width&&(t.borderWidth=e.width),"C"===e.borderEffectStyle&&(t.borderStyle=5,t.borderStyleParam=0,e.borderEffectIntensity&&(t.borderStyleParam=e.borderEffectIntensity)),t=this.buildFlags(e,t),"highlight"!==e.type&&"strikeout"!==e.type&&"underline"!==e.type&&"squiggly"!==e.type||((t=this.buildCoords(e,t)).rect={left:0,right:0,top:0,bottom:0}),"fileattachment"===e.type?(e.buffer&&(t.buffer=e.buffer,t.fileName=e.fileName),e.attachIcon&&(t.icon=e.attachIcon)):"sound"===e.type&&e.buffer&&(t.multiBuffer=e.buffer,t.fileName=e.fileName,t.contentType=e.contentType),t=this.buildFillColor(e,t),t=this.buildGestures(e,t),t=this.buildStampAP(e,t),t=this.buildVertices(e,t)}}]),e}(),Cv=function(){function e(t,n,i){(0,_._)(this,e),this.id=t,this.info=n,this.doc=i}return(0,P._)(e,[{key:"state",get:function(){return this.info.visible},set:function(e){return this.doc.setLayerNodeVisible(this.id,e),this.info.visible=e}},{key:"name",get:function(){return this.info.name}}]),e}(),Sv=pv.ANSB_None,Iv=pv.ANFB_ShouldNone,Ev=function(e){return e.jsEngine.getPDFDoc()},Rv=function(e){return e.jsEngine.getPDFForm()},Tv={},Mv=function(){for(var e in Tv){Tv[e].destroy(),delete Tv[e]}Tv={}},Fv=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).jsEngine=e,r.jsApp=i,r._dirty=!1,r._layout="",r._arrTemplate=new Array,r.printParams=new wg(r.jsEngine,(0,k._)(r)),r.annotManage=new Dv(i.viewerApp),r}return(0,P._)(n,[{key:"author",get:function(){return Ev(this).getMetadataValue("Author")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Ev(this).setMetadataValue("Author",e)}},{key:"calculate",get:function(){return Rv(this).calculationEnabled},set:function(e){return Rv(this).calculationEnabled=e}},{key:"creationDate",get:function(){return Ev(this).getMetadataValue("CreationDate")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Ev(this).setMetadataValue("CreationDate",e)}},{key:"dirty",get:function(){return this._dirty},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return this._dirty=e}},{key:"docID",get:function(){return Ev(this).info.fileID.slice(0,2)}},{key:"creator",get:function(){return Ev(this).getMetadataValue("Creator")},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return Ev(this).setMetadataValue("Creator",e)}},{key:"documentFileName",get:function(){return Ev(this).info.fileName}},{key:"external",get:function(){return!1}},{key:"filesize",get:function(){return Ev(this).info.fileSize}},{key:"info",get:function(){return Ev(this).metadata}},{key:"icons",get:function(){return Ev(this).getNameTreeIcons()}},{key:"keywords",get:function(){return Ev(this).getMetadataValue("Keywords")}},{key:"layout",get:function(){switch(this.jsEngine.PDFViewer.getPDFDocRender().getViewMode().constructor.getName()){case"single-page-view-mode":return"SinglePage";case"continuous-view-mode":return"OneColumn";case"facing-page-view-mode":return"TwoPageLeft";case"facing-continuous-page-view-mode":return"TwoColumnLeft";case"h-continuous-view-mode":return"OneRow"}}},{key:"modDate",get:function(){return Ev(this).getMetadataValue("ModDate")}},{key:"numFields",get:function(){return Ev(this).getPDFForm().getFieldCount()}},{key:"numPages",get:function(){return Ev(this).getPageCount()}},{key:"path",get:function(){return"c:/fakepath/"+Ev(this).info.fileName}},{key:"pageNum",get:function(){var e=this.jsEngine.PDFViewer,t=e.getCurrentActivatable();return t&&t.annot?t.annot.getPage().getIndex():e.getPDFDocRender().getCurrentViewMode().getCurrentPageIndex()},set:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck)return e>=this.numPages&&(e=this.numPages-1),this.jsEngine.PDFViewer.goToPage(e,0,0,!1),e}},{key:"templates",get:function(){}},{key:"addField",value:function(e,t,n,i){switch(t){case"text":t=6;break;case"button":t=1;break;case"combobox":t=4;break;case"listbox":t=5;break;case"checkbox":t=2;break;case"radiobutton":t=3;break;case"signature":return null}if(i[2]<i[0]){var r=i[0];i[0]=i[2],i[2]=r}if(i[3]>i[1]){var o=i[1];i[1]=i[3],i[3]=o}var a=Rv(this).addControl(n,e,t,{left:i[0],top:i[1],right:i[2],bottom:i[3]});return pg((function(){return a})),this.getField(e)}},{key:"getOCGs",value:function(){var e=[],t=Ev(this).ocgs;for(var n in t.children)Lv(t.children[n],e,Ev(this));return e}},{key:"getPrintParams",value:function(){return this.printParams}},{key:"getTemplate",value:function(e){if(!e||""===e)return null;if(this._arrTemplate.length<=0){var t=Ev(this).visibleTemplates;if(t&&t.length>0)for(var n=0;n<t.length;n++){if(e===t[n].name)return new kg(t[n],!1,Ev(this))}if((t=Ev(this).invisibleTemplates)&&t.length>0)for(var i=0;i<t.length;i++){if(e===t[i].name)return new kg(t[i],!0,Ev(this))}return null}for(var r=0;r<this._arrTemplate.length;r++){var o=this._arrTemplate[r];if(o.name===e)return o}return null}},{key:"removeTemplate",value:function(e){if(!e||""===e)return!1;if(Ev(this)){var t=this;Ev(this).removeTemplate(e).then((function(n){for(var i=0;i<t._arrTemplate.length;i++){if(t._arrTemplate[i].name===e){t._arrTemplate.splice(i,1);break}}}))}}},{key:"print",value:function(e,t,n,i,r,o,a,A,s){var c=this;if(!this.jsEngine.PDFViewer.webPDFSRPromise&&!this.jsEngine.getEvent().isSensitiveCheck){var u;u="object"==typeof e?{startIndex:e.firstPage,endIndex:e.lastPage,silent:e.interactive,printType:["page","annot"]}:s?{startIndex:s.firstPage,endIndex:s.lastPage+1,silent:s.interactive,printType:["page","annot"]}:{ui:e,startIndex:t,endIndex:n,silent:i,shrinkToFit:r,asImage:o,reverse:a,printType:["page","annot"]};var l=this.jsEngine.PDFViewer.getPDFDocRender();l&&l.isPrinting()||Rv(this).addTask((function(e){return c.jsEngine.PDFViewer.printPDFDocumentEx(u)}),!0)}}},{key:"addAnnot",value:function(e){return"FileAttachment"!==e.type&&"Sound"!==e.type?this.annotManage.addAnnot(e):this.annotManage.showFileDialog(e)}},{key:"syncAnnotScan",value:function(){return Ev(this).getAnnots()}},{key:"getAnnots",value:function(e){var t=function(){var e,t=s[c];if(!t)return c++,"continue";var n=Object.keys(t.annotIdMap);if(!n.length)return c++,"continue";var r=n.map((function(e){return{pageIndex:c,annot:t.annotIdMap[e]}}));if((e=u).push.apply(e,(0,R._)(r)),-1!==i)return"break";c++},n=this,i=-1,r=Iv,o=Sv,a=!1;e&&(e.nPage>=0&&(i=e.nPage),e.nSortBy>=0&&(o=e.nSortBy),e.nFilterBy>=0&&(r=e.nFilterBy),e.bReverse&&(a=e.bReverse));var A=this.numPages,s=Ev(this).pageCache,c=0,u=[];if(-1!==i&&(c=i),c>=A)return null;do{if("break"===t())break}while(c<A);var l=[];return u.map((function(e){var t=e.pageIndex,i=e.annot,r=n.annotManage.getAnnot(i,t);r&&l.push(r)})),this.annotManage.getAnnots(l,r,o,a)}},{key:"getAnnot",value:function(e,t){var n,i=Ev(this).pageCache;if(!(n=i[e]))return null;var r=Object.keys(n.annotIdMap);if(!r.length)return null;var o=r.map((function(e){return n.annotIdMap[e]})).find((function(e){return e.getName()==t}));return o?this.annotManage.getAnnot(o,e,this.jsApp):null}},{key:"calculateNow",value:function(){}},{key:"closeDoc",value:function(){this.jsEngine.getEvent().isSensitiveCheck||this.jsEngine.closeDoc()}},{key:"deletePages",value:function(e){var t=e.nStart,n=e.nEnd;return void 0===t&&(t=0),void 0===n&&(n=0),t===n?Ev(this).removePages([[t]]):Ev(this).removePages([[t,n],[n]])}},{key:"exportAsFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aFields,n=e.bAnnotations,i=void 0!==n&&n,r=Ev(this),o=this.documentFileName.replace(/.pdf$/i,".fdf"),a=1;i&&(a=3);var A=Promise.resolve(),s=[];t&&(A=r.getAnnots().then((function(e){e.forEach((function(e){e.forEach((function(e){var n=e.objectNumber,i=e.getPage().getId();if(t.indexOf(n)>-1){var r=s[i]||[];r.push(n),s[i]=r}}))}))}))),A.then((function(){return r.api.exportToFDF(r.id,0,a,s)})).then((function(e){Fa(e,o,"application/vnd.fdf")}))}},{key:"getField",value:function(e){if(!e)return null;var t,n=Ev(this).getPDFForm().getField(e);return n||(t=Ev(this).getPDFForm().getField(e,!0))?Tv[e]?(Tv[e]._update(n,t),Tv[e]):Tv[e]=new bg(this.jsEngine,n,t):null}},{key:"getNthFieldName",value:function(e){if("number"!=typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid index number: "+e);return Ev(this).getPDFForm().getFieldByIndex(e).getName()}},{key:"getPageBox",value:function(e,t){return[0,0,612,792]}},{key:"getPageRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 90*Ev(this).pageCache[e].getRotation()}},{key:"getURL",value:function(){}},{key:"importAnFDF",value:function(){var e=this,t="import-an-fdf",n=document.querySelector("."+t);n&&n.remove();var i=document.createElement("label");i.setAttribute("class",t),i.style.display="none";var r=document.createElement("input");r.type="file",r.accept=".fdf",i.addEventListener("change",(function(t){var n=t.target.files[0];Ev(e).importFormFromFile(n,0),i.remove()})),i.appendChild(r),document.body.append(i),setTimeout((function(){i.click()}),100)}},{key:"removeField",value:function(e){delete Tv[e],Rv(this).removeField(e)}},{key:"resetForm",value:function(e){if(!this.jsEngine.getEvent().isSensitiveCheck){var t,n=this.jsEngine.PDFViewer.getCurrentActivatable();n&&n.annot&&(t=n.annot.getField()),Rv(this).resetForm(e,0,t)}}},{key:"submitForm",value:function(e,t,n,i,r,o,a,A,s,c,u,l,d,h,f,p,g,v,m,y,b,w,k,x){var _=this,P=this.jsEngine.PDFViewer;if(!this.jsEngine.getEvent().isSensitiveCheck){var D=0;switch(1===arguments.length&&"object"==typeof arguments[0]&&(e=arguments[0].cURL,t=arguments[0].bFDF,n=arguments[0].bEmpty,i=arguments[0].aFields,r=arguments[0].bGet,o=arguments[0].bAnnotations,a=arguments[0].bXML,A=arguments[0].bIncrChanges,s=arguments[0].bPDF,c=arguments[0].bCanonical,u=arguments[0].bExclNonUserAnnots,l=arguments[0].bExclFKey,d=arguments[0].cPassword,h=arguments[0].bEmbedForm,f=arguments[0].oJavaScript,p=arguments[0].cSubmitAs,g=arguments[0].bInclNMKey,v=arguments[0].aPackets,m=arguments[0].cCharset,y=arguments[0].oXML,b=arguments[0].cPermID,w=arguments[0].cInstID,k=arguments[0].cUsageRights,x=arguments[0].bHTMLForm),r&&(D|=fn.FlagGetMethod),(s||"PDF"==p)&&(D|=fn.FlagSubmitAsPDF),(l||"EXCL"==p)&&(D|=fn.FlagExclFKey),x&&(D|=fn.FlagExportFormat),p){case"FDF":break;case"XFDF":D|=fn.FlagAsXFDF;break;case"HTML":D|=fn.FlagExportFormat;break;case"XDP":case"XML":case"XFD":return void console.error("not support submition format")}var C=P.i18n.t("viewer_:pdfjs.safeModeSubmit",{URL:e,interpolation:{escapeValue:!1}});confirm(C)&&Rv(this).submitForm(e,i,D).catch((function(e){_.jsApp.alert(P.i18n.t("viewer_:error.c-1"))}))}}},{key:"cleanFields",value:function(){Tv={}}},{key:"createIcon",value:function(e,t,n){return{name:"",stream:e,width:t,height:n}}},{key:"getAnnot3D",value:function(e,t){var n=Ev(this).pageCache[e];if(n){var i=Object.keys(n.annotIdMap);if(i.length){var r=i.map((function(e){return n.annotIdMap[e]})).find((function(e){return"3d"===e.getType()&&e.getName()==t}));if(r)return this.annotManage.getAnnot(r,e,this.jsApp)}}}},{key:"getAnnots3D",value:function(e){var t=this,n=this.numPages,i=Ev(this).pageCache;if(!(e>=n||e<0)){var r=i[e];if(r){var o=Object.keys(r.annotIdMap);if(o.length){var a=[];return o.map((function(n){var i=r.annotIdMap[n];if("3d"==i.getType()){var o=t.annotManage.getAnnot(i,e,t.jsApp);o&&a.push(o)}})),a}}}}}],[{key:"name",get:function(){return"Doc"}}]),n}(ig),Lv=function(e,t,n){for(var i in e.hasLayer&&t.push(new Cv(e.id,e,n)),e.children)Lv(e.children[i],t,n)},Nv=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return["true","t","yes","y","on","1"].includes(e.trim().toLowerCase());case"[object Number]":return 1===e.valueOf();case"[object Boolean]":return e.valueOf();default:return!1}},Ov=RegExp("(?:%(?<flag>([+0-]|-\\+))?(?<width>\\d+)?(?<position>\\d+\\$)?(?<precision>\\.\\d+)?(?<conversion>[%BCESb-iosux]))|(\\\\%)","g"),Bv=function(e,t){return t.placeholder},jv=function(e){var t,n=function(e,t,n){return"-"===n?e.padEnd(t," "):"-+"===n?((Number(e)>=0?"+":"")+e).padEnd(t," "):"+"===n?((Number(e)>=0?"+":"")+e).padStart(t," "):"0"===n?e.padStart(t,"0"):e.padStart(t," ")},i=null!==(t=null==e?void 0:e.formatUnboundExpression)&&void 0!==t?t:Bv,r={};return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var A=r[e];A||(A=r[e]=function(e){for(var t,n=[],i=0,r=0,o=null;null!==(t=Ov.exec(e));){t.index>r&&(o={literal:e.slice(r,t.index),type:"literal"},n.push(o));var a=t[0];r=t.index+a.length,"\\%"===a||"%%"===a?o&&"literal"===o.type?o.literal+="%":(o={literal:"%",type:"literal"},n.push(o)):t.groups&&(o={conversion:t.groups.conversion,flag:t.groups.flag||null,placeholder:a,position:t.groups.position?Number.parseInt(t.groups.position,10)-1:i++,precision:t.groups.precision?Number.parseInt(t.groups.precision.slice(1),10):null,type:"placeholder",width:t.groups.width?Number.parseInt(t.groups.width,10):null},n.push(o))}return r<=e.length-1&&(o&&"literal"===o.type?o.literal+=e.slice(r):n.push({literal:e.slice(r),type:"literal"})),n}(e));var s="",c=!0,u=!1,l=void 0;try{for(var d,h=A[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var f=d.value;if("literal"===f.type)s+=f.literal;else{var p=o[f.position];if(void 0===p)s+=i(e,f,o);else if("b"===f.conversion)s+=Nv(p)?"true":"false";else if("B"===f.conversion)s+=Nv(p)?"TRUE":"FALSE";else if("c"===f.conversion)s+=p;else if("C"===f.conversion)s+=String(p).toUpperCase();else if("i"===f.conversion||"d"===f.conversion)p=String(Math.trunc(p)),null!==f.width&&(p=n(p,f.width,f.flag)),s+=p;else if("e"===f.conversion)s+=Number(p).toExponential();else if("E"===f.conversion)s+=Number(p).toExponential().toUpperCase();else if("f"===f.conversion)null!==f.precision&&(p=Number(p).toFixed(f.precision)),null!==f.width&&(p=n(String(p),f.width,f.flag)),s+=p;else if("o"===f.conversion)s+=(Number.parseInt(String(p),10)>>>0).toString(8);else if("s"===f.conversion)null!==f.width&&(p=n(String(p),f.width,f.flag)),s+=p;else if("S"===f.conversion)null!==f.width&&(p=n(String(p),f.width,f.flag)),s+=String(p).toUpperCase();else if("u"===f.conversion)s+=Number.parseInt(String(p),10)>>>0;else{if("x"!==f.conversion)throw new Error("Unknown format specifier.");p=(Number.parseInt(String(p),10)>>>0).toString(16),null!==f.width&&(p=n(String(p),f.width,f.flag)),s+=p}}}}catch(e){u=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw l}}return s}}(),Vv=function(){function e(t){(0,_._)(this,e),this.jsGlobalAPI=t}return(0,P._)(e,[{key:"isDigit",value:function(e){return e>="0"&&e<="9"}},{key:"parstDataType",value:function(e){for(var t=!1,n=0;n<e.length;n++){var i=e.substr(n,1);if("%"!==i){if(t){if("c"==i||"C"==i||"d"==i||"i"==i||"o"==i||"u"==i||"x"==i||"X"==i)return 0;if("e"==i||"E"==i||"f"==i||"g"==i||"G"==i)return 1;if("s"==i||"S"==i)return 2;if("."==i||"+"==i||"-"==i||"#"==i||" "==i||"l"==i||this.isDigit(i))continue;break}}else t=!0}return-1}},{key:"printd",value:function(e,t,n){if(!t||(0,I._)(!t,Date)||isNaN(t.getTime()))return"";if(e){if("string"==typeof e)return this.jsGlobalAPI.FXFormatDate(e,t);if("number"==typeof e)switch(e){case 0:var i="D:";return i+=t.getFullYear(),i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 1:i="";return i+=t.getFullYear()+".",i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+=".",i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=" ",i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=":",i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=":",i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();case 2:i="";return i+=t.getFullYear()+"/",i+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i+="/",i+=t.getDate()<10?"0"+t.getDate():t.getDate(),i+=" ",i+=t.getUTCHours()<10?"0"+t.getUTCHours():t.getUTCHours(),i+=":",i+=t.getUTCMinutes()<10?"0"+t.getUTCMinutes():t.getUTCMinutes(),i+=":",i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();default:return""}return""}return""}},{key:"printf",value:function(e,t){if(!e||!t)return"";(0,I._)(t,Array)||(t=[t]);var n=arguments.length;if(n<1)return"";var i=e,r=(e=e.replace("%+d","%+1d")).indexOf("%,"),o=!1,a=",";if(-1!=r){var A=parseInt(e.substr(r+2,1));if(A>4)return"";switch(A){case 0:o=!0,a=",",".";break;case 1:".";break;case 2:o=!0,a=".",",";break;case 3:","}var s="0",c=e.substr(r+3,1);"0"===c?s="0":"+"===c&&(s="+");var u=0,l=e.indexOf(".",r+4);u=l>r+3?parseInt(e.substr(r+4,l-r-4)):parseInt(e.substr(r+4,1));var d=e.length;if(l>-1&&r+l<d){var h=e.substr(r+1,l-1);e=e.replace(h,"")}else if("."===c&&-1===l){l=r+3;h=e.substr(r+1,l-1);e=e.replace(h,"")}else{var f=d-2;if(!(r+1+f<d&&f>=0))return t;h=e.substr(r+1,f);e=e.replace(h,"")}}var p=0,g=0,v=e;v="S"+v;for(var m=new Array,y=!1;-1!=p;){var b="";b=-1===(g=v.indexOf("%",p+1))?v.substr(p):v.substr(p,g-p),m.push(b),p=g}for(var w="",k="",x=0;x<m.length;x++)if(k=w,k+=m[x],0!==x){if(x>=n)break;var _=void 0;switch(this.parstDataType(k)){case 0:var P=parseInt(t[x-1]);if(isNaN(P)&&(P=0),k.indexOf("%x")>-1){var D=k.split("%x"),C=jv("%x",P).toLocaleUpperCase();D.splice(1,0,C),_=D.join("")}else _=jv(k,P);y=!0;break;case 1:var S=parseFloat(t[x-1]);isNaN(S)&&(S=0),_=jv(k,S),y=!0;break;case 2:var E=parseFloat(t[x-1]);isNaN(E)&&(E=""),_=jv(k,E)}w=_}else w=k;""===w&&(i.replace("%,","%"),w=i);var R=(w=w.substr(1)).indexOf(".");if(R<0)R=w.length;else{h=(w=w.slice(0,R)+"."+w.slice(R)).substr(R+1,1);w=w.replace(h,"")}if(o&&y)for(var T=R-3;T>0;T-=3)w=w.slice(0,T)+a+w.slice(T);var M=w.length;if(u>M)for(T=0;T<u-M;T++)w=s+w;return w}},{key:"printx",value:function(e,t){if(!e||!t)return"";for(var n=t.length,i=e.length,r="",o=0,a=0;a<i;a++){var A=e[a];switch(A){case"?":r+=t[o],o++;break;case"X":for(;o<n;){if(t[o]>="0"&&t[o]<="9"||t[o]>="a"&&t[o]<="z"||t[o]>="A"&&t[o]<="Z"){r+=t[o],o++;break}o++}break;case"A":for(;o<n;){if(t[o]>="a"&&t[o]<="z"||t[o]>="A"&&t[o]<="Z"){r+=t[o],o++;break}o++}break;case"9":for(;o<n;){if(t[o]>="0"&&t[o]<="9"){r+=t[o],o++;break}o++}break;case"*":r+=t.substring(o),o=n-1;break;case"\\":case"=":break;case">":t=t.toLocaleUpperCase();break;case"<":t=t.toLocaleLowerCase();break;default:r+=A}}return r}},{key:"scand",value:function(e,t){return new Date(t)}}]),e}(),Uv=n(4563),Hv=n.n(Uv);const zv={Times:"Times-Roman",TimesB:"Times-Bold",TimesI:"Times-Italic",TimesBI:"Times-BoldItalic",Helv:"Helvetica",HelvB:"Helvetica-Bold",HelvI:"Helvetica-Oblique",HelvBI:"Helvetica-BoldOblique",Cour:"Courier",CourB:"Courier-Bold",CourI:"Courier-Oblique",CourBI:"Courier-BoldOblique",Symbol:"Symbol",ZapfD:"ZapfDingbats"};var Wv=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"setHandler",value:function(e){this.handler=e}},{key:"clear",value:function(){this.impl?this.impl.clear():window.console.clear()}},{key:"show",value:function(){return this.handler("show"),!0}},{key:"hide",value:function(){return!0}},{key:"println",value:function(e){(0,I._)(e,Object)&&(e=e.toString()),window.console.log(e)}}]),n}(ig);var Yv={border:{s:"solid",b:"beveled",d:"dashed",i:"inset",u:"underline"},style:{ch:"check",cr:"cross",di:"diamond",ci:"circle",st:"star",sq:"square"},display:{visible:0,hidden:1,noPrint:2,noView:3},global:{setPersistent:function(){}},console:new Wv,color:cg,font:zv,scaleWhen:gg};for(var Gv in Yv){var $v=function(){};$v.prototype=Object.freeze(Yv[Gv]),Yv[Gv]=new $v}var Kv=function(){function e(t,n){(0,_._)(this,e),this._JSEngine=t,this._app=n}return(0,P._)(e,[{key:"__destroy__",value:function(){this._app=null,this._JSEngine=null}},{key:"JSEngine",get:function(){if(!this._JSEngine)throw new Error("JSEngine is not initialized or destroyed!");return this._JSEngine}},{key:"app",get:function(){if(!this._app)throw new Error("JSEngine is not initialized or destroyed!");return this._app}},{key:"setJSEvent",value:function(e){window.jsEvent=e,this.jsEvent=e}},{key:"AFSimple_Calculate",value:function(e,t){return pv.AFSimple_Calculate(this.JSEngine,e,t)}},{key:"AFRange_Validate",value:function(e,t,n,i){return pv.AFRange_Validate(this.JSEngine,this.app,e,t,n,i)}},{key:"AFNumber_Format",value:function(e,t,n,i,r,o){return pv.AFNumber_Format(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFTime_Format",value:function(e){return pv.AFTime_Format(this.JSEngine,this._app,e)}},{key:"AFTime_FormatEx",value:function(e){return pv.AFTime_FormatEx(this.JSEngine,this._app,e)}},{key:"AFTime_Keystroke",value:function(e){return pv.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFTime_KeystrokeEx",value:function(e){return pv.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFDate_FormatEx",value:function(e){return pv.AFDate_FormatEx(this.JSEngine,this._app,e)}},{key:"AFPercent_Format",value:function(e,t){return pv.AFPercent_Format(this.JSEngine,this._app,e,t)}},{key:"AFMergeChange",value:function(e){return pv.AFMergeChange(e)}},{key:"AFNumber_Keystroke",value:function(e,t,n,i,r,o){return pv.AFNumber_Keystroke(this.JSEngine,this._app,e,t,n,i,r,o)}},{key:"AFParseDateEx",value:function(e,t){return pv.AFParseDateEx(e,t)}},{key:"AFMakeNumber",value:function(e){return pv.AFMakeNumber(e)}},{key:"AFDate_KeystrokeEx",value:function(e){return pv.AFDate_KeystrokeEx(this.JSEngine,this._app,e)}},{key:"AFSpecial_Format",value:function(e){return pv.AFSpecial_Format(this.JSEngine,this.app,e)}},{key:"FXFormatDate",value:function(e,t){return pv.FXFormatDate(e,t)}},{key:"AFSpecial_Keystroke",value:function(e){return pv.AFSpecial_Keystroke(this.JSEngine,this._app,e)}},{key:"AFPercent_Keystroke",value:function(e){return pv.AFPercent_Keystroke(this.JSEngine,this._app,(0,b._)({},e))}},{key:"AFSpecial_KeystrokeEx",value:function(e){return pv.AFSpecial_KeystrokeEx(this.JSEngine,this._app,e)}}]),e}();Object.keys(pv).forEach((function(e){"function"!=typeof pv[e]&&(Kv[e]=pv[e])})),Object.assign(Kv.prototype,Yv);var qv=URL.createObjectURL(new Blob([Hv()({})],{type:"text/html"})),Jv="ActiveXObject"in self||navigator.userAgent.toLowerCase().match(/msie [\d\.]+/)||navigator.userAgent.toLowerCase().match(/MicroMessenger/i)||navigator.userAgent.toLowerCase().match(/mibrowser/i)||navigator.userAgent.toLowerCase().match(/Html5Plus/i);var Xv=function(){function e(t,n,i,r){(0,_._)(this,e),this.JSEngine=t;var o=function(e){(0,S._)(o,e);var r=(0,M._)(o);function o(){var e;(0,_._)(this,o),(e=r.call(this,t,n)).util=new Vv((0,k._)(e));var a=(0,k._)(e),A=new Proxy(i,{has:function(e,t){return Reflect.has(e,t)||Reflect.has(a,t)},set:function(e,t,n,i){return Reflect.has(a,t)&&!Reflect.has(e,t)?Reflect.set(a,t,n,a):Reflect.set(e,t,n,i)},get:function(e,t,n){return Reflect.has(e,t)?Reflect.get(e,t,n):Reflect.get(a,t,a)}});return e.doc=A,e.this=A,e.getEvent=function(e){return t.getEvent(e)},e.postRunScripts=function(e){return t.postRunScripts(e)},e}return o}(Kv);this.globalVariables=new o,this.noFrame=Jv||r}return(0,P._)(e,[{key:"init",value:function(){var e,t,n,i=this;if(!this.noFrame)return this.preFrame=document.createElement("iframe"),this.preFrame.style.display="none",this.preFrame.style.position="absolute",this.preFrame.style.top=0,this.enable=!1,new Promise((function(e,t){i.preFrame.onload=e,i.preFrame.onerror=t,i.preFrame.src=qv,document.body.appendChild(i.preFrame)})).then((function(e){i.enable=!0,i.preFrame.contentWindow.initJS(i.globalVariables)}));e=this.globalVariables,t=new function(){var e=this,t=function(t){if(t[0].toLowerCase()!==t[0])return"continue";Object.defineProperty(e,t,{get:function(){return window[t]},set:function(e){window[t]=e}})},n=Object.getOwnPropertyDescriptors(window);for(var i in delete n.self,delete n.top,delete n.parent,delete n.globalThis,delete n.global,n)t(i);this.top=this,this.parent=window,this.self=this,this.globalThis=this,this.global=this},n=function(){var n=["jsEngine","_calculate","_dirty","_layout","_arrTemplate","printParams","annotManage","timeStamp","cleanFields"],i=e.doc;for(var r in i)-1==n.indexOf(r)&&function(e){"function"==typeof i[e]?t[e]=function(){return i[e].apply(i,arguments)}:Object.defineProperty(t,e,{get:function(){return i[e]},set:function(t){i[e]=t}})}(r);return{docClosure:function(n){return new Function("f","globals","window","with(globals){with(globals.doc){eval(f);return function(f){return eval(f);}}}")(n,e,t)}}}(),t.appClosure=e.appClosure=n,t.runJS=e.runJS=function(t,i){var r=e.doc;e.event=i,r.timeStamp=i&&i.timeStamp;var o=function(){try{var i=Array.from(new Set(t.code.split(/\W/))).filter((function(e){r.exec||(r.exec=n.docClosure(""));try{return r.exec(e),!1}catch(e){return!0}}));r.exec=n.docClosure.call(r,t.code),i.forEach((function(t){try{var n=r.exec(t);e[t]=n}catch(e){}}))}catch(e){r.exec=n.docClosure(t.code),console.error(e)}};switch("string"==typeof t.code&&(t.code=t.code.replace(/window\.open/g,"")),t.action){case"execute":r.exec(t.code,t,i);break;case"reset":o();break;default:t.global&&o()}},this.enable=!0}},{key:"exec",value:function(e,t,n,i){var r={action:"execute",code:e,global:t,event:n.event};this.enable||console.error("js env is not ready!!");var o=this.JSEngine.events[r.event];return this.noFrame?this.globalVariables.runJS(r,o):this.preFrame.contentWindow.runJS&&this.preFrame.contentWindow.runJS(r,o),o&&o.rc}},{key:"resetClosure",value:function(e){var t={action:"reset",code:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",event:e.event};this.enable||console.error("js env is not ready!!");var n=this.JSEngine.events[t.event];return this.noFrame?this.globalVariables.runJS(t,n):this.preFrame.contentWindow.runJS&&this.preFrame.contentWindow.runJS(t,n),n.rc}},{key:"destroy",value:function(){this.globalVariables&&(this.globalVariables.__destroy__(),this.globalVariables=null),this.JSEngine=null,!this.noFrame&&this.preFrame&&(document.body.removeChild(this.preFrame),this.preFrame=null)}}]),e}();const Qv=Xv;var Zv=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),(e=t.call(this)).change="",e.changeEx="",e.commitKey="",e.fieldFull="",e.keyDown="",e.modifier="",e.name="",e.rc="",e.richChange="",e.richChangeEx="",e.richValue="",e.selEnd="",e.selStart="",e.shift="",e.source="",e.target="",e.targetName="",e.type="",e.willCommit="",e.bExtractDenpends=!1,e.depends=[],e.isLoading=!1,e.isSensitiveCheck=!1,e}return(0,P._)(n,[{key:"value",get:function(){return this.v},set:function(e){this.v=e,this.valueSetted=!0}}],[{key:"name",get:function(){return"event"}}]),n}(ig);const em=Zv;var tm=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r=function(t){t in(0,k._)(i)||Object.defineProperty((0,k._)(i),t,{get:function(){return e[t]},set:function(n){e[t]=n}})};for(var o in(0,_._)(this,n),(i=t.call(this)).app=e,e)r(o);return i}return(0,P._)(n,[{key:"setActionCallback",value:function(e){this.actionCallback=e}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;return this.actionCallback&&"function"==typeof this.actionCallback.alert?"object"!=typeof e||Array.isArray(e)||1!==arguments.length?this.actionCallback.alert({cMsg:e,nIcon:t,nType:n,cTitle:i}):this.actionCallback.alert(e):this.app.alert.apply(this.app,arguments)}},{key:"alertAsync",value:function(e){return this.actionCallback&&this.actionCallback.alertAsync?this.actionCallback.alertAsync(e):this.app.alertAsync.apply(this.app,arguments)}}]),n}(U.Proxy.getProxyClass(hg,(function(e,t,n,i,r){var o=e.actionCallback;switch(r){case"method":return o&&"function"==typeof o[i]?o[i].apply(o,n):t.apply(e.app,n);case"getter":return e.app[i];case"setter":e.app[i]=n[0]}}),null));var nm=function(){function e(t){var n=this;(0,_._)(this,e),this.events={},this.tasks=[],this.curEvent=null,this.PDFViewer=t,this.hasInitAnnots=!1;var i=t.config.enableJS;this.enableJS=null==i||i;var r=new hg(this,t),o=new tm(r);this.originJSApp=r,this.app=o;var a=new Fv(this,o),A=t.config.noJSFrame;this.jsEnv=new Qv(this,o,a,A),setTimeout((function(){n.jsEnv.init()}),0),this.cacheJSDoc=a,this.PDFViewer.eventEmitter.on("open-file-success",(function(e){n.cacheJSDoc.dirty=!1,Mv(),_g()})),this.PDFViewer.eventEmitter.on("will-close-document",(function(e){n.cacheJSDoc.dirty=!1,n.events={},n.curEvent=null,Mv(),_g()})),this.jsEnv.globalVariables.console.setHandler((function(e){"show"==e&&n.PDFViewer.eventEmitter.emit("show-js-console")})),this.PDFViewer.eventEmitter.on("doc-modified",(function(){n.cacheJSDoc.dirty=!0}))}return(0,P._)(e,[{key:"setConsoleImpl",value:function(e){this.jsEnv.globalVariables.console=e}},{key:"setActionCallback",value:function(e){if(e){var t=new e(this.originJSApp);t.app||(t.app=this.originJSApp),this.app.setActionCallback(t)}else this.app.setActionCallback(null)}},{key:"setStatus",value:function(e,t){this.status=e,this.eventSource=t}},{key:"getEvent",value:function(e){return e?this.events[e]:this.events[this.cacheJSDoc.timeStamp||this.curEvent]||{}}},{key:"getEnableJS",value:function(){return this.enableJS}},{key:"setEnableJS",value:function(e,t){var n=this.enableJS;if(this.enableJS=e,!n&&e&&t){var i=t.getJsNameTree(),r="";for(var o in i)r+=i[o]+"\n";var a=t.action;a&&a.getScript&&(r+=a.getScript()),this.initEvent(13,null,null,"Init"),this.resetClosure(r)}}},{key:"resetClosure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.enableJS&&this.jsEnv.resetClosure({event:this.curEvent},e)}},{key:"getPDFDoc",value:function(){return this.PDFViewer.currentPDFDoc}},{key:"getFieldValue",value:function(e){var t=this.getPDFForm().getField(e);return t&&t.getValue()}},{key:"getPDFForm",value:function(){return this.getPDFDoc().getPDFForm()}},{key:"destroyEvent",value:function(e){e.target=null,e.engineTarget=null,e.source=null,e.doc=null}},{key:"initEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};"Init"==i&&(this.events={},this.cacheJSDoc.cleanFields());var o=new em;o.engineTarget=n,o.name=i;var a=(new Date).valueOf()+""+i+"yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*or()|0;return("x"==e?t:3&t|8).toString(16)}));for(t&&(a+=t.getName()+"_"),this.cacheJSDoc!==n?(o.target=this.cacheJSDoc.getField(n&&n.getName()),o.source=this.cacheJSDoc.getField(t&&t.getName()),n&&(a+=n.getName())):o.target=n,o.type=e,o.rc=!0,o.v="";this.events[a];)a+="p";o.timeStamp=this.curEvent=a,this.events[a]=o,o.changed=!1;var A=void 0;for(var s in Object.defineProperty(o,"change",{get:function(){return A},set:function(e){A=e,o.changed=!0}}),o.param=r,r)o[s]=r[s];switch(i){case go.FieldKeyStroke:o.v=n.getValue(),o.changeEx=n.getValue(),o.targetName=n.getName();break;case go.FieldRecalculateValue:case go.FieldValueChanged:o.v=n.getValue(),o.targetName=n.getName();break;case"WillPrint":break;case"Focus":case go.AnnotReceiveInputFocus:o.v=n.getValue(),o.targetName=n.getName();break;case"DidPrint":break;case"Blur":case go.AnnotLoseInputFocus:o.v=n.getValue(),o.targetName=n.getName();break;case"WillSave":break;case"Format":case go.FieldWillFormat:o.rc=!0,o.v=n.getValue(),o.targetName=n.getName();break;case go.AnnotMouseButtonPressed:o.v=n.getValue(),o.targetName=n.getName()}return a}},{key:"closeDoc",value:function(){this.PDFViewer.close()}},{key:"postRunScripts",value:function(e){var t="";switch(e.name){case go.FieldRecalculateValue:if(t=e.rc,void 0!==e.value&&e.valueSetted){var n=e.engineTarget,i=n.getType();if(4===i||5===i){var r=n.getOptions();r.forEach((function(t){t.value==e.value?t.selected=!0:t.selected=!1})),n.setOptions(r,!0),n.updateWidgetsUI(n.form,n.info.name,"setItems")}n.setValue(e.value)}break;case go.FieldWillFormat:e.rc&&e.engineTarget.showDisplayValue(e.value),t={rc:e.rc,format:e.format,value:e.value};break;case go.FieldKeyStroke:t=e.change,t={rc:e.rc,format:e.format,change:t};break;case go.FieldValueChanged:t={rc:e.rc,format:e.format,value:e.value}}return"calculate"==this.status&&(this.getPDFForm().calculate(this.eventSource),this.status=""),this.destroyEvent(e),delete this.events[e.timeStamp],e=null,t}},{key:"handleJavaScripts",value:function(e,t,n){var i,r=this.events[n.event]||{};try{if(this.isBusy=!0,i=this.jsEnv.exec(e,!!t,n),this.isBusy=!1,"boolean"==typeof i)return this.postRunScripts(r)}catch(e){return this.isBusy=!1,r.rc=!0,this.postRunScripts(r),{ret:i=-1,errorInfo:e}}return i}},{key:"delayHandle",value:function(){var e=this,t=this.tasks;setTimeout((function(){if(e.isBusy)e.delayHandle();else for(var n=t.pop();n;)e.exec.apply(e,(0,R._)(n)),n=t.pop()}),10)}},{key:"exec",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&0!==e.trim().length&&this.enableJS?(n.event=n.event||this.curEvent,this.handleJavaScripts(e,t,n)):{rc:!0}}},{key:"waitForExecutionTask",value:function(){return(0,x._)((function(){var e;return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fg.waitForCurrentRunningTasks()];case 1:return t.sent(),[3,3];case 2:return t.sent(),[3,3];case 3:return t.trys.push([3,5,,6]),[4,fg.waitUntilQuiet(10)];case 4:return t.sent(),[3,6];case 5:return e=t.sent(),U.LoggerFactory.getLogger("PDFJS",e),[3,6];case 6:return[2]}}))}))()}},{key:"destroy",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.waitForExecutionTask()];case 1:return t.sent(),e.PDFViewer=null,e.jsEnv.destroy(),[2]}}))}))()}}]),e}();const im=nm;const rm=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.stateHandlers={},this.currentStateHandler=yA,this.register(yA),this.config=t.config.stateHandlerConfig||(0,X._)({},dn.STATE_HANDLER_HAND,{enableTextSelectionTool:!0,enableAnnotationSelectionTool:!0})}return(0,P._)(e,[{key:"getStateHandlerConfig",value:function(e){return this.config[e]}},{key:"setStateHandlerConfig",value:function(e,t){this.config[e]=t}},{key:"mergeStateHandlerConfig",value:function(e,t){this.config[e]=(0,U.extendOptions)(this.config[e]||{},t)}},{key:"pushStateHandlerConfig",value:function(e,t){var n=this.config[e]||{};this.config[e]=Object.assign(n,t)}},{key:"register",value:function(e){this.stateHandlers[e.getStateName()]=e}},{key:"unregister",value:function(e){var t=this.stateHandlers[e];this.currentStateHandler===t&&this.switchTo(yA.getStateName()),delete this.stateHandlers[e]}},{key:"get",value:function(e){return this.stateHandlers[e]||yA}},{key:"switchTo",value:function(e,t){var n=this.pdfViewer.eventEmitter,i=this.currentStateHandler,r=this.get(e);if(n.emit(de.beforeSwitchStateHandler,r,i),t&&r.setParams(t,this.pdfViewer),i!==r){this.currentStateHandler=r,e&&this.pdfViewer.activeElement(null),n.emit(de.deactiveStateHandler,i),n.emit(de.switchStateHandler,r,i,t);var o=this.pdfViewer.pdfViewerRender;if(o){var a=o.pdfDocRender;if(a){a.setStateHandler(r);var A=a.pagesRender;if(A){var s=A.pageRenders;if(s)for(var c=0,u=s.length;c<u;c++){s[c].stateHandler&&s[c].setStateHandler(r)}}}}}}},{key:"getCurrentStates",value:function(){return this.currentStateHandler}}]),e}();var om=function(){function e(){(0,_._)(this,e),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1}return(0,P._)(e,[{key:"getPassword",value:function(){return this.password}},{key:"setPassword",value:function(e){var t=this.encipherment;this.password=t?t(e):e,this.isEncryption=!!t}},{key:"setEncryptionAlgorithm",value:function(e){this.encipherment=e}},{key:"verify",value:function(e){var t;this.isEncryption?t=this.encipherment(e)===this.password:t=e===this.password;return t}},{key:"getDataURL",value:function(){return this.dataURL}},{key:"setDataURL",value:function(e){this.dataURL=e}},{key:"export",value:function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}}},{key:"import",value:function(e){this.password=e.password,this.dataURL=e.dataURL,this.encipherment=e.encipherment,this.isEncryption=e.isEncryption}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"arrayBufferToBase64",value:function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}}]),e}(),am=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.inkSignList=[],this.currentInkSign=null,this.onceInkSign=null}return(0,P._)(e,[{key:"getList",value:function(){return this.inkSignList}},{key:"push",value:function(e){var t=this.inkSignList.length;return this.inkSignList.push(e),this.pdfViewer.eventEmitter.emit(de.inkSignAdded,this.inkSignList),t}},{key:"delete",value:function(e){this.inkSignList.splice(e,1),this.pdfViewer.eventEmitter.emit(de.inkSignDeleted,this.inkSignList)}},{key:"get",value:function(e){return this.inkSignList[e]}},{key:"addInkSign",value:function(){return new om}},{key:"setCurrentInkSign",value:function(e){this.currentInkSign=this.inkSignList[e]}},{key:"getCurrentInkSign",value:function(){return this.currentInkSign}},{key:"setOnceInkSign",value:function(e){this.onceInkSign=e}},{key:"getOnceInkSign",value:function(){return this.onceInkSign}},{key:"setCurrentInkSignByImg",value:function(e){var t=this.addInkSign();t.setDataURL(e);var n=this.push(t);this.setCurrentInkSign(n)}}]),e}(),Am=function(){function e(){(0,_._)(this,e),this.password=null,this.dataURL=null,this.encipherment=null,this.isEncryption=!1,this.id="",this.styleId="",this.signType="",this.groupId="",this.moveHammer=null,this.resizeHammer=null,this.fieldType="",this.pageIndex=0}return(0,P._)(e,[{key:"setProperty",value:function(e,t){this[e]=t}},{key:"getProperty",value:function(e){return this[e]}},{key:"setMulProperty",value:function(e){for(var t in e)this[t]=e[t]}},{key:"getId",value:function(){return this.id}},{key:"setStyleId",value:function(e){this.styleId=e}},{key:"getStyleId",value:function(){return this.styleId}},{key:"setSignType",value:function(e){this.signType=e}},{key:"getGroupId",value:function(){return this.groupId}},{key:"setGroupId",value:function(e){this.groupId=e}},{key:"getSignType",value:function(){return this.signType}},{key:"getPassword",value:function(){return this.password}},{key:"setPassword",value:function(e){var t=this.encipherment;this.password=t?t(e):e,this.isEncryption=!!t}},{key:"setEncryptionAlgorithm",value:function(e){this.encipherment=e}},{key:"verify",value:function(e){var t;this.isEncryption?t=this.encipherment(e)===this.password:t=e===this.password;return t}},{key:"getDataURL",value:function(){return this.dataURL}},{key:"setDataURL",value:function(e){this.dataURL=e}},{key:"export",value:function(){return{password:this.password,dataURL:this.dataURL,encipherment:this.encipherment,isEncryption:this.isEncryption}}},{key:"import",value:function(e){this.password=e.password,this.dataURL=e.dataURL,this.encipherment=e.encipherment,this.isEncryption=e.isEncryption}},{key:"base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}},{key:"arrayBufferToBase64",value:function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}}]),e}(),sm=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.onlineSignList=[],this.currentOnlineSign=null}return(0,P._)(e,[{key:"getList",value:function(){return this.onlineSignList}},{key:"push",value:function(e){var t=this.onlineSignList.length;return this.onlineSignList.push(e),this.pdfViewer.eventEmitter.emit(de.onlineSignAdded,this.onlineSignList),t}},{key:"delete",value:function(e){this.onlineSignList.splice(e,1),this.pdfViewer.eventEmitter.emit(de.onlineSignDeleted,this.onlineSignList)}},{key:"get",value:function(e){return this.onlineSignList[e]}},{key:"getSignatureById",value:function(e){return this.onlineSignList.find((function(t){return t.getId()===e}))}},{key:"addOnlineSign",value:function(){return new Am}},{key:"addOnlineSignWithData",value:function(e){var t=new Am;t.setMulProperty(e);var n=this.push(t);return this.setCurrentOnlineSign(n),{sign:t,index:n}}},{key:"setCurrentOnlineSign",value:function(e){this.currentOnlineSign=this.onlineSignList[e]}},{key:"getCurrentOnlineSign",value:function(){return this.currentOnlineSign}},{key:"setCurrentOnlineSignByImg",value:function(e){var t=this.addOnlineSign();t.setDataURL(e);var n=this.push(t);return this.setCurrentOnlineSign(n),{sign:t,index:n}}},{key:"clear",value:function(){this.onlineSignList=[]}}]),e}(),cm=function(){function e(){(0,_._)(this,e),this._keyCodeToStr=[],this._strToKeyCode={}}return(0,P._)(e,[{key:"define",value:function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}},{key:"keyCodeToStr",value:function(e){return this._keyCodeToStr[e]}},{key:"strToKeyCode",value:function(e){return this._strToKeyCode[e.toLowerCase()]||U.KeyCodes.Unknown}}]),e}(),um=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"toString",value:function(e){return lm.keyCodeToStr(e)}},{key:"fromString",value:function(e){return lm.strToKeyCode(e)}}]),e}(),lm=new cm,dm=new cm;!function(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){lm.define(e,t),dm.define(e,t)}))};e(U.KeyCodes.Unknown,"unknown"),e(U.KeyCodes.Backspace,"Backspace"),e(U.KeyCodes.Tab,"Tab"),e(U.KeyCodes.Enter,"Enter"),e(U.KeyCodes.Shift,"Shift"),e(U.KeyCodes.Ctrl,"Ctrl"),e(U.KeyCodes.Alt,"Alt"),e(U.KeyCodes.PauseBreak,"PauseBreak"),e(U.KeyCodes.CapsLock,"CapsLock"),e(U.KeyCodes.Escape,"Escape"),e(U.KeyCodes.Space,"Space"),e(U.KeyCodes.PageUp,"PageUp"),e(U.KeyCodes.PageDown,"PageDown"),e(U.KeyCodes.End,"End"),e(U.KeyCodes.Home,"Home"),e(U.KeyCodes.LeftArrow,"LeftArrow","Left"),e(U.KeyCodes.UpArrow,"UpArrow","Up"),e(U.KeyCodes.RightArrow,"RightArrow","Right"),e(U.KeyCodes.DownArrow,"DownArrow","Down"),e(U.KeyCodes.Insert,"Insert"),e(U.KeyCodes.Delete,"Delete"),e(U.KeyCodes.KEY_0,"0"),e(U.KeyCodes.KEY_1,"1"),e(U.KeyCodes.KEY_2,"2"),e(U.KeyCodes.KEY_3,"3"),e(U.KeyCodes.KEY_4,"4"),e(U.KeyCodes.KEY_5,"5"),e(U.KeyCodes.KEY_6,"6"),e(U.KeyCodes.KEY_7,"7"),e(U.KeyCodes.KEY_8,"8"),e(U.KeyCodes.KEY_9,"9"),e(U.KeyCodes.KEY_A,"A"),e(U.KeyCodes.KEY_B,"B"),e(U.KeyCodes.KEY_C,"C"),e(U.KeyCodes.KEY_D,"D"),e(U.KeyCodes.KEY_E,"E"),e(U.KeyCodes.KEY_F,"F"),e(U.KeyCodes.KEY_G,"G"),e(U.KeyCodes.KEY_H,"H"),e(U.KeyCodes.KEY_I,"I"),e(U.KeyCodes.KEY_J,"J"),e(U.KeyCodes.KEY_K,"K"),e(U.KeyCodes.KEY_L,"L"),e(U.KeyCodes.KEY_M,"M"),e(U.KeyCodes.KEY_N,"N"),e(U.KeyCodes.KEY_O,"O"),e(U.KeyCodes.KEY_P,"P"),e(U.KeyCodes.KEY_Q,"Q"),e(U.KeyCodes.KEY_R,"R"),e(U.KeyCodes.KEY_S,"S"),e(U.KeyCodes.KEY_T,"T"),e(U.KeyCodes.KEY_U,"U"),e(U.KeyCodes.KEY_V,"V"),e(U.KeyCodes.KEY_W,"W"),e(U.KeyCodes.KEY_X,"X"),e(U.KeyCodes.KEY_Y,"Y"),e(U.KeyCodes.KEY_Z,"Z"),e(U.KeyCodes.Meta,"Meta"),e(U.KeyCodes.ContextMenu,"ContextMenu"),e(U.KeyCodes.F1,"F1"),e(U.KeyCodes.F2,"F2"),e(U.KeyCodes.F3,"F3"),e(U.KeyCodes.F4,"F4"),e(U.KeyCodes.F5,"F5"),e(U.KeyCodes.F6,"F6"),e(U.KeyCodes.F7,"F7"),e(U.KeyCodes.F8,"F8"),e(U.KeyCodes.F9,"F9"),e(U.KeyCodes.F10,"F10"),e(U.KeyCodes.F11,"F11"),e(U.KeyCodes.F12,"F12"),e(U.KeyCodes.F13,"F13"),e(U.KeyCodes.F14,"F14"),e(U.KeyCodes.F15,"F15"),e(U.KeyCodes.F16,"F16"),e(U.KeyCodes.F17,"F17"),e(U.KeyCodes.F18,"F18"),e(U.KeyCodes.F19,"F19"),e(U.KeyCodes.NumLock,"NumLock"),e(U.KeyCodes.ScrollLock,"ScrollLock"),e(U.KeyCodes.US_SEMICOLON,";",";","OEM_1"),e(U.KeyCodes.US_EQUAL,"=","=","OEM_PLUS"),e(U.KeyCodes.US_COMMA,",",",","OEM_COMMA"),e(U.KeyCodes.US_MINUS,"-","-","OEM_MINUS"),e(U.KeyCodes.US_DOT,".",".","OEM_PERIOD"),e(U.KeyCodes.US_SLASH,"/","/","OEM_2"),e(U.KeyCodes.US_BACKTICK,"`","`","OEM_3"),e(U.KeyCodes.ABNT_C1,"ABNT_C1"),e(U.KeyCodes.ABNT_C2,"ABNT_C2"),e(U.KeyCodes.US_OPEN_SQUARE_BRACKET,"[","[","OEM_4"),e(U.KeyCodes.US_BACKSLASH,"\\","\\","OEM_5"),e(U.KeyCodes.US_CLOSE_SQUARE_BRACKET,"]","]","OEM_6"),e(U.KeyCodes.US_QUOTE,"'","'","OEM_7"),e(U.KeyCodes.OEM_8,"OEM_8"),e(U.KeyCodes.OEM_102,"OEM_102"),e(U.KeyCodes.NUMPAD_0,"NumPad0"),e(U.KeyCodes.NUMPAD_1,"NumPad1"),e(U.KeyCodes.NUMPAD_2,"NumPad2"),e(U.KeyCodes.NUMPAD_3,"NumPad3"),e(U.KeyCodes.NUMPAD_4,"NumPad4"),e(U.KeyCodes.NUMPAD_5,"NumPad5"),e(U.KeyCodes.NUMPAD_6,"NumPad6"),e(U.KeyCodes.NUMPAD_7,"NumPad7"),e(U.KeyCodes.NUMPAD_8,"NumPad8"),e(U.KeyCodes.NUMPAD_9,"NumPad9"),e(U.KeyCodes.NUMPAD_MULTIPLY,"NumPad_Multiply"),e(U.KeyCodes.NUMPAD_ADD,"NumPad_Add"),e(U.KeyCodes.NUMPAD_SEPARATOR,"NumPad_Separator"),e(U.KeyCodes.NUMPAD_SUBTRACT,"NumPad_Subtract"),e(U.KeyCodes.NUMPAD_DECIMAL,"NumPad_Decimal"),e(U.KeyCodes.NUMPAD_DIVIDE,"NumPad_Divide")}();var hm,fm=function(){function e(t,n,i,r,o){(0,_._)(this,e),this.ctrlKey=t,this.shiftKey=n,this.altKey=i,this.metaKey=r,this.keyCode=o}return(0,P._)(e,[{key:"equals",value:function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}},{key:"isError",value:function(){return this.keyCode===U.KeyCodes.Unknown}},{key:"toString",value:function(){var e=[];return this.ctrlKey&&e.push("ctrl"),this.shiftKey&&e.push("shift"),this.altKey&&e.push("alt"),this.metaKey&&e.push("meta"),e.join("+")+"+"+um.toString(this.keyCode)}}]),e}(),pm=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,_._)(this,e),this.command=t,this.keybinding=n,this.priority=i}return(0,P._)(e,[{key:"equals",value:function(e){return this.keybinding.equals(e.keybinding)}}]),e}(),gm=function(){function e(){(0,_._)(this,e),this._keybindingRules=[]}return(0,P._)(e,[{key:"registerKeyBindingRule",value:function(e){var t=this._keybindingRules.filter((function(t){return t.equals(e)}));if(t.length>0){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=o.value;if(A.equals(e)){if(A.command===e.command)return void(A.priority=e.priority);throw new Error("shortcut conflict: ".concat(A.command," and ").concat(e.command," has the same keybindings: ").concat(e.keybinding.toString()))}}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}this._keybindingRules.push(e)}},{key:"unRegisterKeyBindingRule",value:function(e){var t=this._keybindingRules.findIndex((function(t){return t.equals(e)}));-1!==t&&this._keybindingRules.splice(t,1)}},{key:"getKeyBindings",value:function(e){return this._keybindingRules.filter((function(t){return t.command===e})).sort((function(e,t){return e.priority>t.priority?-1:1})).reduce((function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.equals(t))return}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e.push(t),e}),[]).map((function(e){return e.keybinding}))}},{key:"getCommandOfKeybinding",value:function(e){var t=this._keybindingRules.filter((function(t){return e.equals(t.keybinding)}));if(t.length>0)return t[0].command}}]),e}(),vm=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"_readModifiers",value:function(e){e=e.trim().toLowerCase();var t,n,i=!1,r=!1,o=!1,a=!1;do{t=!1,/^ctrl[\+\-]/.test(e)&&(i=!0,e=e.substring(5),t=!0),/^shift[\+\-]/.test(e)&&(r=!0,e=e.substring(6),t=!0),/^alt[\+\-]/.test(e)&&(o=!0,e=e.substring(4),t=!0),/^meta[\+\-]/.test(e)&&(a=!0,e=e.substring(5),t=!0),/^win[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0),/^cmd[\+\-]/.test(e)&&(a=!0,e=e.substring(4),t=!0)}while(t);var A=e.indexOf(" ");return A>0?(n=e.substring(0,A),e=e.substring(A)):(n=e,e=""),{remains:e,ctrl:i,shift:r,alt:o,meta:a,key:n}}},{key:"parseKeybinding",value:function(e){var t=this._readModifiers(e),n=um.fromString(t.key);return new fm(t.ctrl,t.shift,t.alt,t.meta,n)}}]),e}(),mm=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,_._)(this,e),this.registry=new gm,this.name=n,this.target=t,this.priority=i,this.isActive=!0,this.nextBinders=[],this.emitter=new(Us()),this.beforeEventEmitter=new(Us())}return(0,P._)(e,[{key:"setKeyboard",value:function(e){this.keyboard=e}},{key:"registerKeybinding",value:function(e,t){var n=vm.parseKeybinding(t);this.registry.registerKeyBindingRule(new pm(e,n,0))}},{key:"unRegisterKeybinding",value:function(e,t){var n=vm.parseKeybinding(t);this.registry.unRegisterKeyBindingRule(new pm(e,n,0))}},{key:"getCommandOfKeybinding",value:function(e){return this.registry.getCommandOfKeybinding(e)}},{key:"hasKeybinding",value:function(e){return!!this.getCommandOfKeybinding(e)}},{key:"attach",value:function(e){this.nextBinders.push(e)}},{key:"before",value:function(e,t){var n=this;return this.beforeEventEmitter.on(e,t),function(){n.offBefore(e,t)}}},{key:"offBefore",value:function(e,t){this.beforeEventEmitter.off(e,t)}},{key:"on",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return r&&(n=this.before(e,(function(e){("boolean"==typeof r&&r||r(e))&&e.preventDefault()}))),this.emitter.on(e,t),function(){n&&n(),i.off(e,t)}}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"acceptElement",value:function(e){return e===this.target}},{key:"handleKeydownEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.beforeEventEmitter.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleKeydownEvent(e,t)}))}},{key:"handleEvent",value:function(e,t){var n=this.getCommandOfKeybinding(e);return n?(this.emit(n,t),!0):this.nextBinders.some((function(n){return n.handleEvent(e,t)}))}}]),e}();!function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,_._)(this,n),(i=t.call(this,null,e,r)).isActive=!1,i}(0,P._)(n,[{key:"acceptElement",value:function(e){return document.activeElement===e}},{key:"handleEvent",value:function(e,t){t.stopPropagation(),(0,D._)((0,C._)(n.prototype),"handleEvent",this).call(this,e,t)}}])}(mm);hm={},(0,X._)(hm,"selectAllAnnotations",{shortcut:U.isMac?"Meta+A":"Ctrl+A",bindTo:Oo}),(0,X._)(hm,"createPolyline_DeleteLastPoint",{shortcut:"Backspace",bindTo:Oo}),(0,X._)(hm,"undo",{shortcut:U.isMac?"Meta+Z":"Ctrl+Z",bindTo:Oo}),(0,X._)(hm,"redo",{shortcut:U.isMac?"Meta+Shift+Z":"Ctrl+Y",bindTo:Oo}),(0,X._)(hm,"cancel-creating-drawing-annot",{shortcut:"Escape",bindTo:"create-annotation-keyboard-event-binder"}),(0,X._)(hm,No,{shortcut:"Delete",bindTo:Bo}),(0,X._)(hm,"FIELD_ENTER_ACTION",{shortcut:"Enter",bindTo:Oo});var ym=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.render,i=void 0===n?function(e){return e}:n,r=t.payloadFieldName,o=void 0===r?"file":r,a=t.origin,A=void 0===a?"":a,s=t.uploadSnapshotAPIPath,c=t.method,u=void 0===c?"POST":c;(0,_._)(this,e),this.render=i,this.payloadFieldName=o,this.origin=A,this.uploadSnapshotAPIPath=s,this.method=u}return(0,P._)(e,[{key:"uploadImage",value:function(e){var t=this,n=new XMLHttpRequest,i=(0,U.createDeferred)();return n.addEventListener("readystatechange",(function(e){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){if(0===n.responseText.indexOf("/snapshot"))return void i.resolve("".concat(t.origin).concat(n.responseText));i.resolve(n.responseText)}else i.reject(n)})),n.open(this.method,"".concat(this.origin,"/").concat(this.uploadSnapshotAPIPath,"?filefield=").concat(this.payloadFieldName),!0),n.setRequestHeader("Content-Type","image/png"),n.setRequestHeader("X-File-Name","snapshot.png"),n.send(e),i.promise}}]),e}();const bm=ym;var wm=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r,o){var a;return(0,_._)(this,n),(a=t.call(this,o)).name="customRender",a.data=e,a.eUi=i,a.eHandler=r,a.customsRender=o,a}return(0,P._)(n,[{key:"init",value:function(){}},{key:"redraw",value:function(){}},{key:"active",value:function(){}},{key:"unActive",value:function(){}},{key:"destroy",value:function(){}}]),n}(ne),km=function(){function e(t){(0,_._)(this,e),this.pdfViewer=t,this.matchRules=[],this.getPageCustomData=function(){return[]},this.getCustomDataId=function(){}}return(0,P._)(e,[{key:"registerMatchRule",value:function(e){return this.matchRules.push(e),e}},{key:"unRegisterMatchRule",value:function(e){var t=this.matchRules.indexOf(e);-1!==t&&this.matchRules.splice(t,1)}},{key:"get",value:function(e){for(var t=this.matchRules,n=wm,i=t.length;i--;){var r=t[i];if("function"==typeof r){var o=r(e,n);if(o)return o}}return n}}]),e}(),xm=function(){function e(){(0,_._)(this,e),this.stackArray=[]}return(0,P._)(e,[{key:"push",value:function(e){this.stackArray.push(e)}},{key:"pop",value:function(){return this.stackArray.pop()}},{key:"size",value:function(){return this.stackArray.length}},{key:"clear",value:function(){this.stackArray=[]}},{key:"filter",value:function(e){this.stackArray=this.stackArray.filter(e)}}]),e}(),_m=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).groupElements=[],r.replies=[],r.markedStates=[],r.reviewStates=[],r}return(0,P._)(n,[{key:"getFlags",value:function(){return-2&(0,D._)((0,C._)(n.prototype),"getFlags",this).call(this)}},{key:"reviseSummary",value:function(e){var t=this,n=this.info,i=[];this.groupHeader=""._;var r=n.groupElementsSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),o=Promise.all(r).then((function(e){t.groupElements=e}));i.push(o);var a=n.groupHeaderSummary;a&&i.push(Promise.resolve(e(a.objectNumber)).then((function(e){t.groupHeader=e})));var A=n.repliesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),s=Promise.all(A).then((function(e){t.replies=e}));i.push(s);var c=n.markedStatesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),u=Promise.all(c).then((function(e){t.markedStates=e}));i.push(u);var l=n.reviewStatesSummary.map((function(t){return Promise.resolve(e(t.objectNumber))})),d=Promise.all(l).then((function(e){t.reviewStates=e}));i.push(d);var h=n.popupSummary;return h&&i.push(Promise.resolve(e(h.objectNumber)).then((function(e){t.popup=e}))),Promise.all(i).then((function(){return t.reviseSummaryIsOK=!0,t}))}},{key:"getBitmap",value:function(e,t,n){var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.getAnnotBitmap(r.getId(),i.getId(),this.getId(),e,t,n,!0)}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(e){return Promise.all(e.map((function(e){return e._update()})))})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.opacityUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}},{key:"getSubject",value:function(){return this.info.subject}},{key:"setSubject",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setSubject(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.subjectUpdated)}))}},{key:"getTitle",value:function(){return this.info.title}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.titleUpdated)}))}},{key:"isGrouped",value:function(){return this.info.isGrouped}},{key:"isGroupHeader",value:function(){return this.info.isGroupHeader}},{key:"getGroupElements",value:function(){return this.groupElements}},{key:"getGroupHeader",value:function(){return this.groupHeader}},{key:"getReplyCount",value:function(){return this.replies.length}},{key:"getReply",value:function(e){return this.replies[e]}},{key:"getReplies",value:function(){return this.replies}},{key:"addReply",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=this.getGroupHeader()||this;return this.page.doc.api.annotAddReply(i.getId(),n.getId(),this.getId(),e).then((function(e){r.info.repliesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addReplyAnnot(i)})).then((function(e){return r.replies.push(e),t.page.doc.engine.eventEmitter.emit(le.annotationReplyAdd,e,r),t.page.doc.engine.eventEmitter.emit(le.annotationUpdated,[t],n,tn.replyAdded),e}))}},{key:"removeRepliesByIdLocaly",value:function(e){if(!Array.isArray(e)||e.length<1||this.replies.length<1)return e||[];var t=e.slice(0);this.replies=this.replies.filter((function(e){var n=t.indexOf(e.getId());return n>-1&&t.splice(n,1),-1==n}));var n=e.slice(0);return this.info.repliesSummary=this.info.repliesSummary.filter((function(e){var t=n.indexOf(e.objectNumber);return t>-1&&n.splice(t,1),-1==t})),t}},{key:"getMarkedStateCount",value:function(){return this.markedStates.length}},{key:"getMarkedState",value:function(e){return this.markedStates[e]}},{key:"getMarkedStates",value:function(){return this.markedStates}},{key:"getReviewStateCount",value:function(){return this.reviewStates.length}},{key:"getReviewState",value:function(e){return this.reviewStates[e]}},{key:"getReviewStates",value:function(){return this.reviewStates}},{key:"addReviewState",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.addAnnotReviewState(i.getId(),n.getId(),this.getId(),e).then((function(e){t.info.reviewStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var i=t.page.doc.engine.annotManager.get(e,n);return n.addAddonAnnot(i)})).then((function(e){return t.reviewStates.push(e),t.page.doc.engine.eventEmitter.emit(le.annotationReviewStateAnnotAdd,e,t),t.page.doc.engine.eventEmitter.emit(le.annotationUpdated,[t],n,tn.reviewStateUpdated),e}))}},{key:"removeReviewState",value:function(){var e=this,t=this.page,n=this.getReviewStates(),i=n[n.length-1];return t.removeAnnot(i).then((function(){if(e.reviewStates.pop(),e.info.reviewStatesSummary.pop(),e.reviewStates.length>0){var i=n[e.reviewStates.length-1];i&&(i.reviewStates.pop(),i.info.reviewStatesSummary.pop())}e.page.doc.engine.eventEmitter.emit(le.removeReviewState,e),e.page.doc.engine.eventEmitter.emit(le.annotationUpdated,[e],t,tn.reviewStateUpdated)}))}},{key:"addMarkedState",value:function(e){var t=this,n=arguments[1],i=this.getPDFPage(),r=i.getPDFDoc(),o=this.getGroupHeader()||this;return this.page.doc.api.addAnnotMarkedState(r.getId(),i.getId(),this.getId(),e).then((function(e){if(o.info.markedStatesSummary.length){var t=i.annotIdMap[e.objectNumber];return t.info=e,t}o.info.markedStatesSummary.push({objectNumber:e.objectNumber,id:e.objectNumber,index:e.index});var n=i.doc.engine.annotManager.get(e,i);return i.addAddonAnnot(n)})).then((function(e){return o.markedStates.push(e),t.page.doc.engine.eventEmitter.emit(le.annotationMarkedStateAnnotAdd,e,o,n),t.page.doc.engine.eventEmitter.emit(le.annotationUpdated,[t],i,tn.markedStateUpdated),e}))}},{key:"removeMarkedState",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this,r=i.markedStates.pop();return r?(i.info.markedStatesSummary.pop(),t.removeAnnot(r).then((function(){n.engine.eventEmitter.emit(le.removeMarkedState,e),n.engine.eventEmitter.emit(le.annotationUpdated,[e],t,tn.markedStateUpdated)}))):Promise.resolve()}},{key:"removeAllStateAnnots",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc(),i=this.getGroupHeader()||this;return this.page.doc.api.removeAllStateAnnots(n.getId(),t.getId(),this.getId()).then((function(n){return!!n&&(i.info.markedStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),i.info.reviewStatesSummary.forEach((function(e){var n=e.id;t.removeAddonAnnotById(n)})),i.info.markedStatesSummary=[],i.info.reviewStatesSummary=[],i.reviewStates=[],i.markedStates=[],e.page.doc.engine.eventEmitter.emit(le.annotationStatesCleared,i),e.page.doc.engine.eventEmitter.emit(le.annotationUpdated,[e],t,tn.statesCleared),n)}))}},{key:"getPopup",value:function(){return this.popup}},{key:"getCreateDateTime",value:function(){var e=this.info.creationTimestamp;return e>0?new Date(e):new Date}},{key:"setCreateDateTime",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCreateDateTime(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.createDateTimeUpdated)}))}},{key:"getIntent",value:function(){return this.info.intent}},{key:"setIntent",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIntent(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(t){for(var n=0;n<t.length;n++)t[n].info.intent=e;return t})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.intentUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,U.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.fillColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getGroupElements();0==i.length&&(i=[this]);for(var r=[],o=0,a=i.length;o<a;o++){var A=i[o];r[o]=A._update()}return Promise.all(r).then((function(i){return e&&n&&t.eventEmitter.emit(le.annotationUpdated,i,t.getPDFPage(),e),i}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.opacity,i=qe(new Date(this.info.creationTimestamp)),r=this.info.intent,o=this.info.subject,a=this.info.title,A=this.info.IRT,s=this.info.RT;r=r&&r.length>0?{IT:r,intent:r}:{};var c=Object.assign({},e,{opacity:t,creationdate:i,subject:o,title:a,bm:this.info.bm,ca:this.info.ca},r);if(A&&s){var u=this.page.annotIdMap[A];u&&(A=u.getName(),c.inreplyto=A),c.replyType=s.toLowerCase()}return this.popup&&(c.popup=this.popup.exportToJSON()),this.info.rotation&&(c.rotation=360-this.info.rotation),this.info.measureRatio&&(c.measureConversionFactor=this.info.measureConversionFactor,c.measureRatio=this.info.measureRatio,c.measureUnit=this.info.measureUnit),c}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),(this.getGroupHeader()||this)._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])})).then((function(n){var i=n[0];if(i&&(i.info.content=e,i.info.modifiedTimestamp=(new Date).getTime()),t.eventEmitter.emit(le.annotationUpdated,n,t.getPDFPage(),tn.contentUpdated),i){var r=i.info.type,o=i.info.intent;("polyline"===r&&"PolyLineDimension"===o||"polygon"===r&&"PolygonDimension"===o||"circle"===r&&"CircleDimension"===o)&&(t.eventEmitter.emit(le.annotationAppearanceUpdated,n,t.getPDFPage()),t.updateInfo(i.info))}return n}))}},{key:"getRichText",value:function(){if("freetext"!=this.info.type)return Promise.resolve();var e=this.getPDFPage(),t=e.getPDFDoc();return t.api.getRichText({path:"jr/doc/page/annot"},t.getId(),e.getId(),this.getId())}},{key:"setRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.richTextUpdated).then((function(e){t.eventEmitter.emit(le.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"addRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.addRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.richTextUpdated).then((function(e){t.eventEmitter.emit(le.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"insertRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.insertRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.richTextUpdated).then((function(e){t.eventEmitter.emit(le.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}},{key:"removeRichText",value:function(e){var t=this;if("freetext"!=this.info.type)return Promise.resolve();var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.removeRichText({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.richTextRemoved).then((function(e){t.eventEmitter.emit(le.annotationAppearanceUpdated,e,t.getPDFPage())}))}))}}]),n}(ln);const Pm=_m;var Dm=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getQuadPoints",value:function(){var e=this.info.quadPoints||[];if(0===e.length){var t=this.getRect(),n=t.left,i=t.top,r=t.right,o=t.bottom;return[[{x:n,y:i},{x:r,y:i},{x:n,y:o},{x:r,y:o}]]}return e}},{key:"isReplace",value:function(){return!1}},{key:"getDeviceQuadPoints",value:function(){for(var e=this.getPDFPage(),t=(e.getHeight(),e.getWidth()),n=this.getQuadPoints(),i=[],r=n.length;r--;){var o=n[r];i[r]=[{x:o[0].x,y:t-o[0].y},{x:o[1].x,y:t-o[1].y},{x:o[2].x,y:t-o[2].y},{x:o[3].x,y:t-o[3].y}]}return i}},{key:"getStartCharIndex",value:function(){return this.info.startCharIndex}},{key:"getStartCharInfo",value:function(){return this.info.startCharInfo}},{key:"getEndCharIndex",value:function(){return this.info.endCharIndex}},{key:"getEndCharInfo",value:function(){return this.info.endCharInfo}},{key:"canAccess",value:function(){return!!this.page.doc.checkPermission(en.extract||en.extractAccess)}},{key:"getText",value:function(){if(!this.page.doc.checkPermission(en.extract||en.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"getContinuousText",value:function(){if(!this.page.doc.checkPermission(en.extract||en.extractAccess))throw new Error("Permission error");return this.info.text||""}},{key:"updateQuadPointsByCharIndex",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotQuadPointsByCharIndex(r.getId(),i.getId(),this.getId(),e,t).then((function(e){if(e)return n.update(tn.quadPointsUpdated).then((function(t){return n.eventEmitter.emit(le.annotationAppearanceUpdated,t,n.getPDFPage()),e}))}))}},{key:"isArea",value:function(){return this.info.isArea}},{key:"exportToJSON",value:function(){for(var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.getQuadPoints(),i="",r=0;r<t.length;r++){var o=t[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}return i=i.substr(0,i.length-1),Object.assign({},e,{coords:i})}}]),n}(Pm);const Cm=Dm;var Sm={setContent:function(e){var t=e.method;return function(){e.host[t](e.content)}},setBorderColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.color).then((function(){n.updateRender()}))}},setOpacity:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.opacity).then((function(){n.updateRender()}))}},updateQuadPointsByCharIndex:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.start,e.end).then((function(){n.isReplace?n.caretAnnot.moveRectByCharIndex(e.end).then((function(){n.getGroupRenders().map((function(e){e.active()}))})):n.active()}))}},setStyleFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setFillColor:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.fillColor)}},setBorderWidth:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderWidth)}},setBorderStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.borderStyle.style,e.borderStyle.param)}},setCalloutLineEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](+e.style).then((function(){n.activeRect(),n.redraw()}))}},setEndingStyle:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.isBeginning,+e.style).then((function(){n.activeRect(),n.redraw()}))}},enableCaption:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.enableCaption)}},setRotation:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i]((e.rotation+360)%360)}},setHighlightingMode:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){t.getAnnotRender(o,r).component.annot[i](e.mode)}},setRect:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(o,r).component;n.annot[i](e.rect).then((function(){n.active()}))}},eraseInk:function(e){e.host.pdfViewer;var t=e.host.annot;t.getObjectNumber(),t.getPDFPage().getIndex()},updateLinePoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex(),o=[];return function(){var n=t.getAnnotRender(r,i).component;o.push(n.annot.setStartPoint(e.startPoint)),o.push(n.annot.setEndPoint(e.endPoint)),Promise.all(o).then((function(){n.active()}))}},setLeaderLineLength:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.leaderLinePoints,A=e.startPoint,s=e.endPoint,c=a.start,u=(a.end,Math.sqrt(Math.pow(A.x-c.x,2)+Math.pow(A.y-c.y,2))),l=!0;return(s.x-A.x)*(c.y-s.y)-(c.x-s.x)*(s.y-A.y)>0&&(l=!1),l&&(u=-u),function(){var e=t.getAnnotRender(o,r).component;e.annot[i](u).then((function(){e.active()}))}},updateVertexes:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=e.method,r=n.getObjectNumber(),o=n.getPDFPage().getIndex(),a=e.vertexes,A=e.index;return function(){var e=t.getAnnotRender(o,r).component;e.annot[i](A,a[A]).then((function(){e.active()}))}},removeAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),A=o.getPDFPage(),s=A.getIndex(),c=o.getReplies&&o.getReplies()||[],u=[];return c.map((function(e){u.push({id:e.getId(),content:e.getContent(),createTime:new Date(e.getCreateDateTime()).getTime(),modifiedTime:new Date(e.getModifiedDateTime()).getTime()})})),o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map((function(e,t){n.push(new Em(e).getJson()),e.isGroupHeader()&&(i=t)}))):n=new Em(o).getJson(),"before"===t?"redact"===o.getType()?function(){A.markRedactAnnot(n.rects,n.name)}:o.isGrouped&&o.isGrouped()?function(){A.addAnnotGroup(n,i).then((function(){var e=r.getAnnotRender(s,a).component;u.length>0?l(e.annot).then((function(){e.getGroupRenders().map((function(e){e.active()}))})):e.active()}))}:function(){A.addAnnot(n).then((function(){var e=r.getAnnotRender(s,a).component;u.length>0?l(e.annot).then((function(){e.active()})):e.active()}))}:function(){var e=r.getAnnotRender(s,a).component;A.removeAnnot(e.annot)};function l(e){var t=[];return u.map((function(n){t.push(e.addReply(n.content).then((function(e){e.setUniqueID(n.id).then((function(){e.setCreateDateTime(n.createTime).then((function(){e.setModifiedDateTime(n.modifiedTime)}))}))})))})),Promise.all(t)}},addAnnot:function(e,t){var n,i,r=e.host.pdfViewer,o=e.host.annot,a=o.getObjectNumber(),A=o.getPDFPage(),s=A.getIndex();return o.isGrouped&&o.isGrouped()?(n=[],o.groupElements.map((function(e,t){n.push(new Em(e).getJson()),e.isGroupHeader()&&(i=t)}))):n=new Em(o).getJson(),"before"===t?function(){A.removeAnnot(o)}:o.isGrouped&&o.isGrouped()?function(){A.addAnnotGroup(n,i).then((function(){r.getAnnotRender(s,a).component.getGroupRenders().map((function(e){e.active()}))}))}:function(){A.addAnnot(n).then((function(){r.getAnnotRender(s,a).component.active()}))}},markRedactAnnot:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage(),a=o.getIndex();return"before"===t?function(){o.removeAnnot(i)}:function(){var e=new Em(i).getJson();o.markRedactAnnot(e.rects,e.name).then((function(){n.getAnnotRender(a,r).component.active()}))}},makeRedactByPages:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},placeRedact:function(e,t){var n=e.host;return"before"===t?function(){n.map((function(e){e.getPDFPage().removeAnnot(e)}))}:function(){n.map((function(e){e.getPDFPage().markRedactAnnot([e.info.rect],e.id)}))}},eraser:function(e,t){var n=e.inkArray,i=e.host;return function(){n.map((function(e){i.getAnnotRender(e.annot.getId()).component.annot.setInkList(e.inkList)}))}},updateCalloutPoints:function(e){var t=e.host.pdfViewer,n=e.host.annot,i=(e.method,n.getObjectNumber()),r=n.getPDFPage().getIndex();return function(){var n=t.getAnnotRender(r,i).component;n.annot._setRect(e.rect,!1).then((function(){n.annot.setInnerRectNoAction(e.innerRect).then((function(){n.annot.setCalloutLinePoints(e.calloutLinePoints).then((function(){n.annot.update().then((function(){n.redraw(),n.active()}))}))}))}))}},addReply:function(e,t){var n=e.host,i=e.replyAnnot,r=(e.component,e.pdfViewer),o=n.getPDFPage(),a=o.getIndex(),A=n.getId(),s=i.getId(),c=i.getCreateDateTime(),u=i.getModifiedDateTime();return"before"===t?function(){o.removeAnnot(i)}:function(){r.getAnnotRender(a,A).component.annot.addReply(i.getContent()).then((function(e){e.setUniqueID(s).then((function(){e.setCreateDateTime(new Date(c).getTime()).then((function(){e.setModifiedDateTime(new Date(u).getTime())}))}))}))}},deleteReply:function(e,t){var n=e.host,i=e.replyAnnot,r=e.pdfViewer,o=n.getPDFPage(),a=o.getIndex(),A=i.getId(),s=n.getId(),c=i.getCreateDateTime(),u=i.getModifiedDateTime();return"before"===t?function(){r.getAnnotRender(a,s).component.annot.addReply(i.getContent()).then((function(e){e.setUniqueID(A).then((function(){e.setCreateDateTime(new Date(c).getTime()).then((function(){e.setModifiedDateTime(new Date(u).getTime())}))}))}))}:function(){o.removeAnnotById(A)}},addAction:function(e,t){var n=e.host.pdfViewer,i=e.host.annot,r=i.getObjectNumber(),o=i.getPDFPage().getIndex(),a=i.getAction();return"before"===t?function(){i.removeAction()}:function(){!function(e,t){e.setAction(t.type).then((function(){var n=new Mm(t).toJson();return e.setActionData(n).then((function(){return Rm(e.getAction(),t)}))}))}(n.getAnnotRender(o,r).component.annot,a.info)}}};const Im=Sm;var Em=function(){function e(t){(0,_._)(this,e);var n=(0,U.colorConvertor)(t.getBorderColor(),"#");switch(this.json={objectNumber:t.info.objectNumber,name:t.getUniqueID(),rect:t.getRect(),color:n,style:t.getBorderStyle(),contents:t.getContent(),date:new Date(t.getModifiedDateTime()).getTime(),type:t.getType(),flags:t.getFlags()},(0,I._)(t,Pm)&&this.markup(t),(0,I._)(t,Cm)&&this.textMarkup(t),t.getType()){case"ink":this.ink(t);break;case"fileattachment":this.fileattachment(t);break;case"polygon":this.polygon(t);break;case"polyline":this.polyline(t);break;case"stamp":this.stamp(t);break;case"freetext":this.freetext(t);break;case"screen":this.screen(t);break;case"line":this.line(t);break;case"redact":this.redact(t);break;case"highlight":this.highlight(t);break;case"link":this.link(t);break;case"square":this.square(t);break;case"circle":this.circle(t)}}return(0,P._)(e,[{key:"markup",value:function(e){this.json=Object.assign({intent:e.getIntent(),opacity:e.getOpacity(),subject:e.getSubject(),title:e.getTitle(),creationTimestamp:new Date(e.getCreateDateTime()).getTime()},this.json)}},{key:"textMarkup",value:function(e){this.json=Object.assign({startCharIndex:e.getStartCharIndex(),endCharIndex:e.getEndCharIndex(),coords:e.getQuadPoints()},this.json)}},{key:"ink",value:function(e){this.json=Object.assign({inkList:e.getInkList(),borderWidth:e.getBorderWidth()},this.json)}},{key:"fileattachment",value:function(e){this.json=Object.assign({fObjNum:e.info.fObjNum},this.json)}},{key:"polygon",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,fillColor:e.info.fillColor,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"polyline",value:function(e){this.json=Object.assign(this.json,{vertexes:e.getVertexes(),fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,startStyle:e.getStartStyle(),endStyle:e.getEndingStyle()})}},{key:"stamp",value:function(e){this.json=Object.assign({icon:e.info.icon,rotate:(e.getRotation()+360)%360,apObjeNum:e.info.apObjeNum},this.json)}},{key:"freetext",value:function(e){this.json=Object.assign(this.json,{calloutLinePoints:e.getCalloutLinePoints(),innerRect:e.getInnerRect(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,"interior-color":e.getFillColor(),interiorColor:e.getFillColor(),borderWidth:e.getBorderWidth(),calloutLineEndingStyle:e.getCalloutLineEndingStyle()})}},{key:"line",value:function(e){var t=e.getMeasureRatio(),n=e.getMeasureUnit(),i=null;t&&n&&(i={unit:n,ratio:t});var r=e.getStartPoint(),o=e.getEndPoint();this.json=Object.assign(this.json,{startStyle:e.getStartStyle(),endStyle:e.getEndingStyle(),enableCaption:e.hasCaption(),startPoint:{x:r.x,y:r.y},endPoint:{x:o.x,y:o.y},measure:i,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"screen",value:function(e){this.json=Object.assign({apObjNum:e.info.apObjNum,opacity:e.getOpacity(),rotate:{0:0,90:1,180:2,270:3}[e.getRotation()],iObjNum:e.info.iObjNum,aObjNum:e.info.aObjNum,borderWidth:e.getBorderWidth()},this.json)}},{key:"redact",value:function(e){var t=e.info.quadPoints,n=[];t.length>0?t.map((function(e){n.push({left:e[0].x,right:e[3].x,top:e[0].y,bottom:e[3].y})})):n.push(e.info.rect),this.json=Object.assign({rects:n},this.json)}},{key:"highlight",value:function(e){e.info.isArea&&(this.json=Object.assign(this.json,{coords:[e.getRect()],dicts:{AreaHi:"AreaHi"}}),delete this.json.startCharIndex,delete this.json.endCharIndex)}},{key:"link",value:function(e){this.json=Object.assign(this.json,{aObjNum:e.info.aObjNum,borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0,borderWidth:e.getBorderWidth()})}},{key:"circle",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"square",value:function(e){this.json=Object.assign(this.json,{fillColor:e.info.fillColor,borderWidth:e.getBorderWidth(),borderStyle:e.getBorderStyleWithParam().style,borderStyleParam:e.getBorderStyleWithParam().param,style:void 0})}},{key:"getJson",value:function(){return this.json}}]),e}();function Rm(e,t){for(var n=function(n){r.push(e.insertSubAction(n,t.subAction[n].type).then((function(){var i=new Mm(t.subAction[n]).toJson(),r=e.getSubAction(n);return r.setActionData(i).then((function(){return Rm(r,t.subAction[n])}))})))},i=t.subActionCount,r=[],o=0;o<i;o++)n(o);return Promise.all(r)}var Tm,Mm=function(){function e(t){(0,_._)(this,e),this.action=t,this.json={},this[t.type]()}return(0,P._)(e,[{key:"TypeGoto",value:function(){var e=this.action.destination;this.json=Object.assign(e,{type:e.zoomMode})}},{key:"TypeURI",value:function(){var e=this.action.uri;this.json=Object.assign({},{uri:e})}},{key:"TypeJavaScript",value:function(){var e=this.action.javascript;this.json=Object.assign({},{script:e})}},{key:"TypeNamed",value:function(){var e=this.action.name;this.json=Object.assign({},{name:e})}},{key:"TypeHide",value:function(){var e=this.action,t=e.fieldNames,n=e.hideState;this.json=Object.assign({},{fieldNames:t,hideState:n})}},{key:"TypeSubmitForm",value:function(){var e=this.action,t=e.flags,n=e.url,i=e.fieldNames;this.json=Object.assign({},{flags:t,url:n,fieldNames:i})}},{key:"TypeResetForm",value:function(){var e=this.action,t=e.flags,n=e.fieldNames;this.json=Object.assign({},{flags:t,fieldNames:n})}},{key:"TypeGoToR",value:function(){var e=this.action,t=e.destinationName,n=e.destination;this.json=Object.assign({},{destinationName:t,destination:n})}},{key:"toJson",value:function(){return this.json}}]),e}(),Fm=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,null,[{key:"undo",value:function(e){e.before()}},{key:"redo",value:function(e){e.after()}},{key:"createRecord",value:function(e,t){var n=e.method;return Im[n](e,t)}},{key:"getUniqueId",value:function(e){return e.host&&e.host.annot?e.host.annot.getId():null}}]),e}(),Lm=function(){function e(t){var n=this;(0,_._)(this,e),this.pdfViewer=t,this.undoStack=new xm,this.redoStack=new xm,this.beforeFn=null,this.afterFn=null,this.pdfViewer.eventEmitter.on(de.willCloseDocument,(function(){n.clear()})),this.addEventListener()}return(0,P._)(e,[{key:"addEventListener",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"before",value:function(e){this.beforeFn=Fm.createRecord(e,"before")}},{key:"after",value:function(e){this.afterFn=Fm.createRecord(e,"after"),this.remember(Fm.getUniqueId(e))}},{key:"remember",value:function(e){this.beforeFn&&this.afterFn&&this.undoStack.push({before:this.beforeFn,after:this.afterFn,uniqueId:e})}},{key:"removeById",value:function(e){this.undoStack.filter((function(t){return e!==t.uniqueId})),this.redoStack.filter((function(t){return e!==t.uniqueId}))}},{key:"undo",value:function(){var e=this.undoStack.pop();e&&(this.redoStack.push(e),Fm.undo(e))}},{key:"redo",value:function(){var e=this.redoStack.pop();e&&(this.undoStack.push(e),Fm.redo(e))}},{key:"clear",value:function(){this.undoStack.clear(),this.redoStack.clear()}},{key:"getUndoStack",value:function(){return this.undoStack}},{key:"getRedoStack",value:function(){return this.redoStack}}]),e}(),Nm=(function(){function e(){(0,_._)(this,e)}(0,P._)(e,[{key:"show",value:function(){(0,U.notImplemented)()}},{key:"hide",value:function(){(0,U.notImplemented)()}},{key:"destroy",value:function(){(0,U.notImplemented)()}}])}(),function(){function e(){(0,_._)(this,e),this.hiddenCallbacks=[],this.shownCallbacks=[],this.isDisabled=!1}return(0,P._)(e,[{key:"setCurrentTarget",value:function(e){this.currentTarget=e}},{key:"getCurrentTarget",value:function(){return this.currentTarget}},{key:"showAt",value:function(e,t){var n=this;return this.shownCallbacks.forEach((function(e){return e.call(n)})),!0}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"destroy",value:function(){(0,U.notImplemented)()}},{key:"getItem",value:function(){(0,U.notImplemented)()}},{key:"onHidden",value:function(e){"function"==typeof e&&this.hiddenCallbacks.push(e)}},{key:"onShown",value:function(e){"function"==typeof e&&this.shownCallbacks.push(e)}}]),e}()),Om=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"prepare",value:function(e){this.pdfViewer=e}},{key:"getRootElement",value:function(){return Promise.resolve(this.pdfViewer.element.parentElement)}},{key:"showReply",value:function(e){(0,U.notImplemented)()}},{key:"showPropertiesInfo",value:function(e){(0,U.notImplemented)()}},{key:"createContextMenu",value:function(e,t,n){(0,U.notImplemented)()}},{key:"alert",value:function(e){}},{key:"confirm",value:function(e){}},{key:"prompt",value:function(e,t,n){}},{key:"promptPassword",value:function(e,t,n){}},{key:"loading",value:function(e){return function(){}}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){}},{key:"getPortfolioPreviewer",value:function(e){(0,U.notImplemented)()}},{key:"destroy",value:function(){}},{key:"openDialog",value:function(e){return Promise.resolve()}}]),e}(),Bm=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).pdfViewer=e,r.pageRender=i,r.isDisabled=!1,r.eventEmitter=new(Us()),r}return(0,P._)(n,[{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"showAt",value:function(e,t,n,i){this.eventEmitter.emit("show")}},{key:"hide",value:function(){this.eventEmitter.emit("hide")}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"destroy",value:function(){this.eventEmitter.emit("destroy"),(0,D._)((0,C._)(n.prototype),"destroy",this).call(this)}}]),n}(U.Disposable),jm=n(3013),Vm=n.n(jm),Um=(function(){function e(){(0,_._)(this,e),(0,X._)(this,"APPEARANCEKEY","bookmark_default_appearance"),(0,X._)(this,"pdfViewer",void 0)}(0,P._)(e,[{key:"getBookmarkById",value:function(e){var t;e=parseInt(e);var n=this.pdfViewer.getCurrentPDFDoc();if(n){var i=n.bookmarkRoot,r=function(n){var i=!0,o=!1,a=void 0;try{for(var A,s=n[Symbol.iterator]();!(i=(A=s.next()).done);i=!0){var c=A.value;if(t)break;if(c.id==e){t=c;break}c.children&&c.children.length>0&&r(c.children)}}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}};return i&&r(i.children),t}}},{key:"getCurrentPosition",value:function(){var e=this.pdfViewer.getPDFDocRender().pagesRender.viewMode.getVisibleIndexes()||[],t=this.pdfViewer.getDeviceCurrentPosition(),n=t.top,i=t.left,r=t.pageIndex;i=i<0?0:i,n=Math.max(n,Math.max(8,n)),n-=8;var o=this.pdfViewer.pdfViewerRender;if(!o)return Promise.reject("BookmarkService.getCurrentPosition error");var a=o.getViewMode().getName();"single-page-view-mode"!==a&&"continuous-view-mode"!==a||(r=n<0&&e.length>1?e[1]:e[0]);var A=this.pdfViewer.getPDFPageRender(r),s=A.getScale(),c=A.getRotation();return A.getPDFPage().then((function(e){var t;return t=(0,E._)(e.reverseDevicePoint([i,n],s,c),2),i=t[0],{top:n=t[1],left:i,pageIndex:r}}))}},{key:"renameBookmark",value:function(e,t,n){this.getBookmarkById(e).setProperty({title:t},!0);var i=this.pdfViewer.viewerUI.rootComponent.pdfUI.addonInstanceMap.UndoRedoAddon.addon.bookmarkModule,r=this.getBookmarkById(e);i&&i.pushUndoStack("rename",{bookmark:r,newName:t,oldName:n})}},{key:"addBookmark",value:function(e){var t=this,n=e.bookmarkId,i=e.pageIndex,r=e.title,o=e.left,a=void 0===o?0:o,A=e.top,s=void 0===A?0:A,c=e.relationship,u=void 0===c?3:c,l=this.pdfViewer.getCurrentPDFDoc();if(!l)return Promise.reject();var d=localStorage.getItem(this.APPEARANCEKEY);return l.getRootBookmark().then((function(e){return e||(e=l.createRootBookmark()),e})).then((function(e){var o=t.getBookmarkById(parseInt(n));return o||(o=e,u=1),o?(r||(r=t.pdfViewer.i18n.t("sidebar.bookmark.untitled")),void 0===i?t.getCurrentPosition().then((function(e){var n=e.top,i=e.left,a=e.pageIndex;return o.insertBookmark(r,a,n,i,u,t.pdfViewer.getPDFDocRender().scale)})):o.insertBookmark(r,i,s,a,u,t.pdfViewer.getPDFDocRender().scale)):Promise.reject()})).then((function(e){return d&&e.setProperty(JSON.parse(d)),e}))}},{key:"performAction",value:function(e){var t=this,n=this.getBookmarkById(e);n&&n.getAction().then((function(e){return e||n.getDestination()})).then((function(e){e&&t.pdfViewer.actionManager.get(e,t).active()}))}}],[{key:"getName",value:function(){return"bookmark-service"}},{key:"inject",value:function(){return{pdfViewer:T_}}}])}(),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).pdfViewer=e,r.pageRender=i,r.topEditBar=null,r}return(0,P._)(n,[{key:"getSelectionInfo",value:function(){var e=(0,U.createDeferred)(),t=this.pdfViewer.getStore().subscribe(Ce.SELECTION_INFO,(function(n){t(),e.resolve(n)}));return this.addDestroyHook(t),e.promise}},{key:"copy",value:function(){var e,t=this;return this.getSelectionInfo().then((e=(0,x._)((function(e){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,(0,U.copyText)(e.text)];case 1:return n.sent()?t.pdfViewer.eventEmitter.emit(de.copyTextSuccess,e.text):t.pdfViewer.eventEmitter.emit(de.copyTextFailed,e.text),[2]}}))})),function(t){return e.apply(this,arguments)}))}},{key:"createTextHighlight",value:function(){return this.createTextMarkupAnnot("highlight")}},{key:"createStrikeout",value:function(){return this.createTextMarkupAnnot("strikeout")}},{key:"createUnderline",value:function(){return this.createTextMarkupAnnot("underline")}},{key:"createBookmark",value:function(){var e=this,t=this.pdfViewer.getCurrentPDFDoc();return this.hasModifyPermissions(t)?this.getSelectionInfo().then((function(t){if(t){t.page.getPDFDoc();var n=t.page.getIndex(),i=t.text,r=t.rectArray[0],o=r.left,a=r.top;e.pdfViewer.eventEmitter.emit("bookmark-create-current-view",{left:o,top:a,title:i,relationship:3,pageIndex:n}),e.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:"createBookmark"})}})):Promise.resolve()}},{key:"createTextMarkupAnnot",value:function(e){var t=this;return this.pageRender.getPDFPage().then((function(n){return t.getSelectionInfo().then((function(i){return n.addAnnot({type:e,rect:{left:0,right:0,top:0,bottom:0},flags:4,coords:i.rectArray,subject:t.pdfViewer.i18n.t("viewer_:annotSubjects."+e[0].toUpperCase()+e.substr(1))}).then((function(n){var i=n[0];t.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,i),t.pdfViewer.eventEmitter.emit("text-tooltip-click",{type:e}),t.pageRender.annotsRender.activeAnnot(i.getId())}))}))}))}},{key:"getBookmarkById",value:function(e,t){var n="",i=!0,r=!1,o=void 0;try{for(var a,A=t[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value;if(n)break;if(s.id==e){n=s;break}s.children&&s.children.length>0&&(n=this.getBookmarkById(e,s.children))}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}return n}},{key:"hasModifyPermissions",value:function(e){var t=e.getPermissions();return 8&t&&32&t}},{key:"getTopEditBar",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return e.topEditBar?[3,2]:[4,e.pdfViewer.viewerUI.rootComponent.pdfUI.getComponentByName("edit-text")];case 1:e.topEditBar=t.sent(),t.label=2;case 2:return[2,e.topEditBar]}}))}))()}},{key:"createEditText",value:function(){var e=this;return(0,x._)((function(){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[3,2];case 1:t=n.sent(),e.getTopEditBar().then((function(n){e.pageRender.$handler.find(".fv__mark-selection-blank").remove(),n.controller.handle(t.e,!0,t)})),n.label=2;case 2:return[2]}}))}))()}},{key:"clearSelectionInfo",value:function(){this.pdfViewer.getCurrentPDFDoc().clearSelectedInfo(this.pdfViewer)}}]),n}(U.Disposable)),Hm="copy_selected_text",zm="create-text-highlight",Wm="create-strikeout",Ym="create-underline",Gm=[{iconClass:"fv__icon-popup-copy",name:Hm},{iconClass:"fv__icon-toolbar-text-highlight",name:zm},{iconClass:"fv__icon-toolbar-strikeout",name:Wm},{iconClass:"fv__icon-toolbar-underline",name:Ym}].concat([]),$m=Vm()({actions:Gm}),Km=(new DOMParser).parseFromString($m,"text/html").body.firstElementChild,qm=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).selectionTool=new Um(e,i),r.init(),r}return(0,P._)(n,[{key:"init",value:function(){var e=this;this.dom=Km.cloneNode(!0),this.pageRender.$ui.get(0).appendChild(this.dom),this.dom.addEventListener("click",(function(t){if(!t.target.classList.contains("disabled")&&!t.target.parentNode.classList.contains("disabled")){var n=t.target.getAttribute("action");n&&e[n]&&e[n]().then((function(){e.hide()}))}}));var t=function(e){return e===document.activeElement||e.contains(document.activeElement)},n=t(this.dom),i=function(){var i=t(e.dom);n===i||i||e.eventEmitter.emit("blur"),n=i};document.addEventListener("focus",i,{capture:!0}),document.addEventListener("pointerup",i,{capture:!0}),this.addDestroyHook((function(){document.removeEventListener("focus",i,{capture:!0}),document.removeEventListener("pointerup",i,{capture:!0})}))}},{key:Hm,value:function(){return this.selectionTool.copy()}},{key:zm,value:function(){return this.selectionTool.createTextHighlight()}},{key:Wm,value:function(){return this.selectionTool.createStrikeout()}},{key:Ym,value:function(){return this.selectionTool.createUnderline()}},{key:"create-edit-text",value:function(){return this.selectionTool.createEditText()}},{key:"showAt",value:function(e,t){var i=this;(0,D._)((0,C._)(n.prototype),"showAt",this).call(this,e,t),this.dom.style.cssText+="\n            left: ".concat(e,"px;\n            top: ").concat(t,"px;\n        "),Promise.resolve(this.pageRender.docRender.getUserPermission().getValue()).then((function(e){i.dom.querySelectorAll("div>div.fv__selection-tool-tip-item:not(.fv__icon-popup-copy)").forEach((function(t){32&e?t.classList.remove("disabled"):t.classList.add("disabled")})),16&e?i.dom.querySelector("div>div.fv__icon-popup-copy").classList.remove("disabled"):i.dom.querySelector("div>div.fv__icon-popup-copy").classList.add("disabled"),i.dom.classList.add("fv__active"),i.dom.focus()}))}},{key:"hide",value:function(){(0,D._)((0,C._)(n.prototype),"hide",this).call(this),this.dom.classList.remove("fv__active")}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.dom.remove(),this.selectionTool.destroy()}}]),n}(Bm),Jm=(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).selectionTool=new Um(e,i),r.init(),r}(0,P._)(n,[{key:"init",value:function(){}},{key:"showAt",value:function(e,t){(0,D._)((0,C._)(n.prototype),"showAt",this).call(this,e,t)}},{key:"hide",value:function(){(0,D._)((0,C._)(n.prototype),"hide",this).call(this)}},{key:"destroy",value:function(){this.selectionTool.destroy()}}])}(Bm),n(564)),Xm=n.n(Jm),Qm=(n(7410),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this)).uniqueClassName=i.uniqueClassName,r.disabledClassName="context-menu-disabled",r.name=e,r}return(0,P._)(n,[{key:"disable",value:function(){if(this.isEnabled()){var e=this.getDOM();e&&e.classList.add(this.disabledClassName)}}},{key:"enable",value:function(){if(!this.isEnabled()){var e=this.getDOM();e&&e.classList.remove(this.disabledClassName)}}},{key:"getDOM",value:function(){return document.querySelector(this.uniqueClassName)}},{key:"isEnabled",value:function(){var e=this.getDOM();return!!e&&e.classList.contains(this.disabledClassName)}}]),n}(function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"disable",value:function(){(0,U.notImplemented)("disable")}},{key:"enable",value:function(){(0,U.notImplemented)("enable")}},{key:"isEnabled",value:function(){return(0,U.notImplemented)("isEnabled"),!1}}]),e}())),Zm=n(4528),ey=n.n(Zm);!function(e){e.PROGRESSING="Progressing",e.SUCCESS="Success",e.FAIL="Fail"}(Tm||(Tm={}));n(6381);var ty=(new DOMParser).parseFromString(ey()(),"text/html").body.firstElementChild,ny=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return(0,_._)(this,n),(e=t.call(this)).pdfViewer=o,e.coverOn=r,e.dom=ty.cloneNode(!0),e.textElement=e.dom.querySelector(".fv__ui-progress-text"),e.updateProgress(i),e}return(0,P._)(n,[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.coverOn;this.coverOn=e,this.updateProgress(0),e.appendChild(this.dom),this.dom.style.display="block"}},{key:"hide",value:function(){this.dom.style.display="none",this.updateProgress(0)}},{key:"updateProgress",value:function(e,t){var n=this,i="";i=t===Tm.FAIL||t===Tm.SUCCESS?this.pdfViewer.i18n.t("progress.".concat(t)):"number"==typeof e?"".concat(e,"%"):"string"==typeof e?e:"".concat(e.current," / ").concat(e.total),this.textElement.innerText=i,t!==Tm.FAIL&&t!=Tm.SUCCESS||setTimeout((function(){n.hide()}),800)}}]),n}(U.Disposable),iy=new(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"destroy",value:function(){}}]),n}(Nm)),ry=[],oy=function(){var e=Xm()({isIE:U.isIE}),t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}();var ay=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"prepare",value:function(e){var t=this;(0,D._)((0,C._)(n.prototype),"prepare",this).call(this,e);var i={},r={},o=function(n,o){if(o){var a=o.getStateName(),A=r[a];A&&A.destroy()}var s=n.getStateName(),c=i[s]||(n.getDefaultContextMenuConfig?n.getDefaultContextMenuConfig():void 0);r[s]=t.createContextMenu(s,e.$ui.get(0),c)};this.menus=r,e.eventEmitter.on(de.switchStateHandler,o),e.eventEmitter.once(de.renderFileSuccess,(function(){setTimeout((function(){e.isDestroyed||o(e.getStateHandlerManager().currentStateHandler)}),200)})),e.addDestroyHook((function(){t.menus={}}))}},{key:"createContextMenu",value:function(e,t,n){if(!n||!n.items)return iy;var i=n.items,r=this.pdfViewer.i18n;for(var o in i){var a=i[o];a.nameI18nKey&&(a.name=r.t(a.nameI18nKey));var A=(0,U.getUniqueId)(o);a.className=a.className?a.className+" "+A:A,a.uniqueClassName=A}var s=N()(t),c=new(function(e){(0,S._)(r,e);var t=(0,M._)(r);function r(){return(0,_._)(this,r),t.apply(this,arguments)}return(0,P._)(r,[{key:"destroy",value:function(){this._destroyContextMenu()}},{key:"_destroyContextMenu",value:function(){var e=N().contextMenu.menus;Object.keys(e).forEach((function(t){var n=e[t];n.context===s[0]&&(n.$menu.remove(),delete e[t],N()(n.context).off(n.ns))}))}},{key:"showAt",value:function(e,t){var n=N().Event("contextmenu",{data:{events:{preShow:function(){}}},pageX:e,pageY:t});n.target=s.find(".fv__pdf-page-annot-handler-rect")[0],s.trigger(n)}},{key:"disable",value:function(){(0,D._)((0,C._)(r.prototype),"disable",this).call(this),this._destroyContextMenu()}},{key:"enable",value:function(){(0,D._)((0,C._)(r.prototype),"enable",this).call(this),this._destroyContextMenu(),this.createRealContextmenu()}},{key:"createRealContextmenu",value:function(){var e=n.zIndex;switch(void 0===e?"undefined":(0,T._)(e)){case"number":n.zIndex=function(){return e};case"function":break;default:n.zIndex=function(){return 30}}s.contextMenu(n)}},{key:"getItem",value:function(e){if(e in i)return new Qm(e,i[e])}}]),r}(Nm));return s.on("contextmenu:hide",(function(){c.hiddenCallbacks.forEach((function(e){return e.call(c)}))})),c.createRealContextmenu(),this.pdfViewer.addDestroyHook((function(){c.destroy()})),c}},{key:"alert",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e,window.alert(e),Promise.resolve()}},{key:"confirm",value:function(e){"[object Object]"===Object.prototype.toString.call(e)&&(e=e.message),e=this.pdfViewer.i18n.t(e)||e;var t=window.confirm(e);return t?Promise.resolve(t):Promise.reject("confirm dialog has been cancelled by user!")}},{key:"prompt",value:function(e,t){"[object Object]"===Object.prototype.toString.call(t)&&(t=t.message),t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"promptPassword",value:function(e,t){t=this.pdfViewer.i18n.t(t)||t;var n=window.prompt(t,e||"");return n?Promise.resolve(n):Promise.reject("prompt dialog has been cancelled by user!")}},{key:"loading",value:function(e){var t=this;return this.renderingDOM=(0===ry.length&&ry.push(oy.cloneNode(!0)),ry.pop()),e.appendChild(this.renderingDOM),function(){t.renderingDOM.parentElement===e&&e.removeChild(t.renderingDOM),ry.push(t.renderingDOM)}}},{key:"progress",value:function(e,t){return!this.progressTool&&(this.progressTool=new ny(e,t,this.pdfViewer)),this.progressTool.show(t),this.progressTool}},{key:"createFreeTextTooltip",value:function(e){}},{key:"createAnnotTooltip",value:function(e){}},{key:"createTextSelectionTooltip",value:function(e){var t=new qm(this.pdfViewer,e);return this.pdfViewer.addDestroyHook((function(){t.destroy()})),t}},{key:"destroy",value:function(){Object.values(this.menus).forEach((function(e){return e&&e.destroy()}))}}]),n}(Om);const Ay="ffc174c9@release/10_0_0";function sy(e){var t=document.createElement("img");return new Promise((function(n){t.onload=function(){n(t)},t.src=URL.createObjectURL(e)}))}function cy(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return dy(e).then(sy).then((function(e){return n.drawImage(e,0,0),t}))}function uy(e){return dy(e).then(sy)}function ly(e){return dy(e).then((function(e){var t=new FileReader;return new Promise((function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)}))}))}function dy(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise((function(e){t.toBlob(e)}))}return e.image?Promise.resolve(e.image):Promise.reject(e)}window.toImage=uy;var hy=function(){function e(t,n,i){(0,_._)(this,e),this.page=n,this.doc=n.doc,this.engine=i,this.info=t}return(0,P._)(e,[{key:"destroy",value:function(){this.page=null,this.doc=null,this.engine=null,this.info=null}},{key:"getId",value:function(){return this.info.id}},{key:"getPDFPage",value:function(){return this.page}},{key:"getBitmap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas",i=this.getPDFPage();return i.doc.api.getGraphicsObjectBitmap(i.getPDFDoc().getId(),i.getId(),this.getId(),e*(0,U.getPtPxRatio)(),t).then((function(e){if(!e.width||!e.height)return null;switch(n||"canvas"){case"canvas":return cy(e);case"image":return uy(e);case"buffer":return ly(e);default:throw new Error("Invalid options.type: ".concat(n))}}))}},{key:"getRect",value:function(){return this.info.rect}},{key:"setRect",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();this.info.rect=e;var i=arguments[1];return n.doc.api.setGraphicsObjectRect(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e,i)}))}},{key:"setMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.matrix=e,n.doc.api.setGraphicsObjectMatrix(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getMatrix",value:function(){var e=this.info.matrix;return new rn.Z(e.a,e.b,e.c,e.d,e.e,e.f)}},{key:"getDeviceMatrix",value:function(){var e=this.getMatrix();e.translate(0,-this.getPDFPage().getHeight());var t=(0,H.F2)(1);return e.scale(t,-t),e}},{key:"getType",value:function(){return this.info.type}},{key:"getBorderDashes",value:function(){return fy(this.getType()),this.info.graphState.dashes}},{key:"getBorderStyle",value:function(){return fy(this.getType()),this.info.graphState.dashes.length>0?1:0}},{key:"setBorderStyle",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");fy(this.getType());var i=this.getPDFPage();return this.info.graphState.dashes=t,i.doc.api.setGraphicsObjectBorderStyle(i.getPDFDoc().getId(),i.getId(),this.getId(),e,t).then((function(e){n.afterUpdated(e)}))}},{key:"getBorderWidth",value:function(){return fy(this.getType()),this.info.graphState.lineWidth}},{key:"setBorderWidth",value:function(e){var t=this;if(fy(this.getType()),!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();return this.info.graphState.lineWidth=e,n.doc.api.setGraphicsObjectBorderWidth(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getBorderColor",value:function(){return fy(this.getType()),(4278190080|this.info.strokeColor)>>>0}},{key:"setBorderColor",value:function(e){var t=this;if(fy(this.getType()),!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectBorderColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getFillColor",value:function(){return fy(this.getType()),(4278190080|this.info.fillColor)>>>0}},{key:"setFillColor",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");fy(this.getType());var n=this.getPDFPage();return n.doc.api.setGraphicsObjectFillColor(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getOpacity",value:function(){return((4278190080&this.info.strokeColor)>>>0)/4278190080}},{key:"setOpacity",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setGraphicsObjectOpacity(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"remove",value:function(){if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");return this.getPDFPage().removeGraphicsObject(this)}},{key:"moveToPosition",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var i=this.getPDFPage();if(-1===Object.values(Ot).findIndex((function(t){return t==e})))throw new Error("Type error");var r=null;return e!=Ot.first&&e!=Ot.last&&(r=t.getId()),i.doc.api.moveGraphicsObjectByPosition(i.getPDFDoc().getId(),i.getId(),this.getId(),e,r).then((function(e){n.afterUpdated(e)}))}},{key:"afterUpdated",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this.info;if(this.info=e,!n)return this.info;var i=this.page.getBatchProcessor(),r=function(){t.doc.engine.eventEmitter.emit(le.graphicsUpdated,t.page,t)};return i.isStarted()?i.recordFlushOperation(this,r):r(),this.info}}]),e}(),fy=function(e){if(1!=e&&2!=e&&5!=e)throw new Error("only text, path object are supported")},py=U.LoggerFactory.getLogger("WebAppLifecycleInvoker"),gy=function(){function e(){(0,_._)(this,e),this.$hooks=[]}return(0,P._)(e,[{key:"addReleaseHook",value:function(e){var t=this;return"function"==typeof e?(this.$hooks.push(e),function(){var n=t.$hooks.indexOf(e);n>-1&&t.$hooks.splice(n,1)}):U.noop}},{key:"prepare",value:function(){}},{key:"generate",value:function(){}},{key:"release",value:function(){var e=[];this.$hooks.forEach((function(t,n){try{!1===t()&&e.push(t)}catch(e){py.error("An error occurred while release a resource",e)}})),this.$hooks=e}},{key:"expose",value:function(){return{}}},{key:"wrap",value:function(e,t,n){var i=Object.create(e),r=e[t];if("function"!=typeof r)throw new Error("Unable to wrap a member that is not function. Actual type: "+(void 0===r?"undefined":(0,T._)(r)));return i[t]=n(r.bind(i)),i}}],[{key:"resolveInstance",value:function(t){if("object"==typeof t){if(t.invoke)return function(e){(0,S._)(i,e);var n=(0,M._)(i);function i(){return(0,_._)(this,i),n.apply(this,arguments)}return(0,P._)(i,[{key:"prepare",value:function(){"function"==typeof t.prepare&&t.prepare.apply(this,arguments)}},{key:"generate",value:function(){return t.invoke.apply(this,arguments)}}]),i}(e)}else if("function"==typeof t)return U.Reflect.isSubClassOf(t,e)?t:function(e){(0,S._)(i,e);var n=(0,M._)(i);function i(){return(0,_._)(this,i),n.apply(this,arguments)}return(0,P._)(i,[{key:"generate",value:function(){return t.apply(this,arguments)}}]),i}(e);throw new Error("incorrect lifecycle invoker")}}]),e}(),vy=function(){function e(t){(0,_._)(this,e),this.parentManager=t,this.lifeCycles={},this.generators={}}return(0,P._)(e,[{key:"registerLifecycle",value:function(e){var t=this,n=e.constructor,i=n.getName();this.lifeCycles[i]=e,e.initialize();var r=n.depends();r.length>0&&r.forEach((function(n){var r=t.getLifeCycle(n);r.addReleaseHook((function(){e.release()})),r.addDestroyHook((function(){i in t.lifeCycles&&delete t.lifeCycles[i],e.destroy()}))}))}},{key:"registerResourceGenerator",value:function(e,t){this.generators[e]=gy.resolveInstance(t)}},{key:"getLifeCycle",value:function(e){if(e in this.lifeCycles)return this.lifeCycles[e];if(this.parentManager)return this.parentManager.getLifeCycle(e);throw new Error("Incorrect lifecycle name: ".concat(lifecycleName,", please make sure that has been registered via WebAppLifecycleManager.registerLifecycle()!"))}},{key:"getResourceGeneratorClass",value:function(e){if(e in this.generators)return this.generators[e];if(this.parentManager)return this.parentManager.getResourceGeneratorClass(e);throw new Error("Incorrect generator name: ".concat(e,", please make sure that has been registered via WebAppLifecycleManager.registerResourceGenerator(name, generator)!"))}},{key:"generator",value:function(e,t){var n,i=this.getLifeCycle(e),r=i.getResourceGenerator(t);r||(n="string"==typeof t?this.getResourceGeneratorClass(t):gy.resolveInstance(t),i.addResourceGenerator(t,n),r=i.getResourceGenerator(t));return r}},{key:"releaseAll",value:function(){Object.values(this.lifeCycles).forEach((function(e){e.release()}))}},{key:"destroy",value:function(){Object.values(this.lifeCycles).forEach((function(e){e.destroy()}))}}]),e}(),my=function(){function e(){(0,_._)(this,e),this.keyArray=[],this.valueArray=[]}return(0,P._)(e,[{key:"size",get:function(){return this.keyArray.filter((function(t){return t!==e.NONE})).length}},{key:"set",value:function(t,n){var i=this.keyArray,r=this.valueArray,o=i.indexOf(t);if(-1===o){var a=i.indexOf(e.NONE);-1!==a?o=a:(i.push(t),o=i.length-1)}i[o]=t,r[o]=n}},{key:"get",value:function(e){var t=this.keyArray;return this.valueArray[t.indexOf(e)]}},{key:"delete",value:function(t){var n=this.keyArray,i=this.valueArray,r=n.indexOf(t);r>-1&&(n[r]=e.NONE,i[r]=e.NONE)}},{key:"has",value:function(e){return this.keyArray.indexOf(e)>-1}},{key:"clear",value:function(){this.keyArray.length=0,this.valueArray.length=0}},{key:"keys",value:function(){return this.keyArray.filter((function(t){return t!==e.NONE}))}},{key:"values",value:function(){return this.valueArray.filter((function(t){return t!==e.NONE}))}}],[{key:"NONE",get:function(){return{}}}]),e}(),yy=U.LoggerFactory.getLogger("WebAppLifeCycle"),by=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),(e=t.call(this)).map=new(Map||my),e.releaseHooks=[],e}return(0,P._)(n,[{key:"release",value:function(){if(!this.isDestroyed){var e=this.map.values();if(Array.isArray(e))e.forEach((function(e){return e.release()}));else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.release()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}this.releaseHooks.forEach((function(e){try{e()}catch(e){yy.error("An error occurred while invoking release hook",e)}})),this.releaseHooks.length=0}}},{key:"getResourceGenerator",value:function(e){if(this.map.has(e))return this.map.get(e)}},{key:"addResourceGenerator",value:function(e,t){if(this.map.has(e))throw new Error("duplicate generator name is not supported now!");this.map.set(e,new t)}},{key:"initialize",value:function(){(0,U.notImplemented)()}},{key:"addReleaseHook",value:function(e){"function"==typeof e&&this.releaseHooks.push(e)}},{key:"destroy",value:function(){this.isDestroyed||(this.release(),this.map.clear(),delete this.map,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this))}}],[{key:"getName",value:function(){(0,U.notImplemented)()}},{key:"depends",value:function(){return[]}}]),n}(U.Disposable),wy=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this)).pdfViewer=e,i}return(0,P._)(n,[{key:"initialize",value:function(){var e=this,t=this.pdfViewer.destroy;this.pdfViewer.destroy=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(e.pdfViewer,i).then((function(){e.release()}))}}}],[{key:"getName",value:function(){return Of.PDF_VIEWER_ALIVE}},{key:"depends",value:function(){return[Of.BROWSER_RELOAD]}}]),n}(by),ky=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this)).pdfViewer=e,i}return(0,P._)(n,[{key:"initialize",value:function(){var e=this,t=function(){e.release()};this.pdfViewer.eventEmitter.on(de.willCloseDocument,t),this.addDestroyHook((function(){e.pdfViewer.eventEmitter.off(de.willCloseDocument,t),delete e.pdfViewer}))}}],[{key:"getName",value:function(){return Of.PDF_DOCUMENT_CLOSING}},{key:"depends",value:function(){return[Of.PDF_VIEWER_ALIVE,Of.BROWSER_RELOAD]}}]),n}(by),xy=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"generate",value:function(e){var t=window.URL||window.webkitURL,n=t.createObjectURL(e);return this.addReleaseHook((function(){return t.revokeObjectURL(n),!0})),n}},{key:"expose",value:function(){return this.getWrappedURL()}},{key:"getWrappedURL",value:function(){var e=this;if(this.WrappedURL)return this.WrappedURL;var t=window.URL||window.webkitURL,n=this.wrap(t,"createObjectURL",(function(){return function(t){return e.generate(t)}}));return this.WrappedURL=n,n.URL=n,n}}]),n}(gy),_y=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"initialize",value:function(){}},{key:"addResourceGenerator",value:function(e,t){var i=this.map.size;(0,D._)((0,C._)(n.prototype),"addResourceGenerator",this).call(this,e,t),this.map.size>i&&this.prepareUnloadEvent()}},{key:"prepareUnloadEvent",value:function(){var e=this;if(!this.prepared)if(this.prepared=!0,"function"!=typeof window.onunload)window.onunload=function(){return e.destroy(),""};else{var t=window.onunload;window.onunload=function(n){return e.destroy(),t.call(window,n)}}}}],[{key:"getName",value:function(){return Of.BROWSER_RELOAD}}]),n}(by),Py=n(5222),Dy=function(){function e(t,n){(0,_._)(this,e),this.id=t,this.page=n,this.api=n.api}return(0,P._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return this.page.doc.api.textSearchFindNext(this.getId()).then((function(e){return e?new co(e):null}))}},{key:"findPrev",value:function(){return this.page.doc.api.textSearchFindPrev(this.getId()).then((function(e){return e?new co(e):null}))}},{key:"destroy",value:function(){if(!this.page.isDestroyed&&!this.page.doc.isDestroyed&&this.page.doc.api)return this.page.doc.api.textSearchDestroy(this.getId())}}]),e}(),Cy=function(){function e(t,n,i){(0,_._)(this,e),this.doc=t,this.id=n,this.engine=i}return(0,P._)(e,[{key:"hasKey",value:function(e){return this.doc.api.hasKey(this.doc.getId(),this.id,e)}},{key:"setAt",value:function(e,t){var n=this;return this.doc.api.setAt(this.doc.getId(),this.id,e,t).then((function(e){return n.engine.eventEmitter.emit(le.docModified,n.doc),e}))}},{key:"getAt",value:function(e){return this.doc.api.getAt(this.doc.getId(),this.id,e)}}]),e}();const Sy=Cy;var Iy,Ey=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"id",void 0),this.id=t}return(0,P._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){return Promise.resolve(null)}},{key:"findPrev",value:function(){return Promise.resolve(null)}},{key:"destroy",value:function(){}}]),e}(),Ry=["Courier","Courier-Bold","Courier-BoldOblique, Bold italic","Courier-Oblique, Italic","Helvetica","Helvetica-Bold","Helvetica-BoldOblique, Bold italic","Helvetica-Oblique, Italic","Times-Roman","Times-Bold","Times-BoldItalic","Times-Italic","Symbol","ZapfDingbats"];function Ty(e,t,n){var i,r=e.json,o=r.contentFormats,a=r.contents,A=[o.TopLeft||(a?[{type:"string",value:a.TopLeft}]:[]),o.TopCenter||(a?[{type:"string",value:a.TopCenter}]:[]),o.TopRight||(a?[{type:"string",value:a.TopRight}]:[]),o.BottomLeft||(a?[{type:"string",value:a.BottomLeft}]:[]),o.BottomCenter||(a?[{type:"string",value:a.BottomCenter}]:[]),o.BottomRight||(a?[{type:"string",value:a.BottomRight}]:[])];A=A.map((function(e){var t="";return e.forEach((function(e){switch(e.type){case"string":sn(e.value)?t="":t+=e.value;break;case"pageNumber":t+=function(e){switch(e){case kt.default:return"<<1>>";case kt.numberOfCount:return"<<1 of n>>";case kt.numberSlashCount:return"<<1/n>>";case kt.pageNumber:return"<<Page 1>>";case kt.pageNumberOfCount:return"<<Page 1 of n>>"}return"<<1>>"}(e.value);break;case"date":t+=function(e){switch(e){case wt.MSlashD:return"<<m/d>>";case wt.MSlashDSlashYY:return"<<m/d/yy>>";case wt.MSlashDSlashYYYY:return"<<m/d/yyyy>>";case wt.MMSlashDDSlashYY:return"<<mm/dd/yy>>";case wt.MMSlashDDSlashYYYY:return"<<mm/dd/yyyy>>";case wt.DSlashMSlashYY:return"<<d/m/yy>>";case wt.DSlashMSlashYYYY:return"<<d/m/yyyy>>";case wt.DDSlashMMSlashYY:return"<<dd/mm/yy>>";case wt.DDSlashMMSlashYYYY:return"<<dd/mm/yyyy>>";case wt.MMSlashYY:return"<<mm/yy>>";case wt.MMSlashYYYY:return"<<mm/yyyy>>";case wt.MDotDDotYY:return"<<m.d.yy>>";case wt.MDotDDotYYYY:return"<<m.d.yyyy>>";case wt.MMDotDDDotYY:return"<<mm.dd.yy>>";case wt.MMDotDDDotYYYY:return"<<mm.dd.yyyy>>";case wt.MMDotYY:return"<<mm.yy>>";case wt.DDotMDotYYYY:return"<<d.m.yyyy>>";case wt.DDDotMMDotYY:return"<<dd.mm.yy>>";case wt.DDDotMMDotYYYY:return"<<dd.mm.yyyy>>";case wt.YYHyphenMMHyphenDD:return"<<yy-mm-dd>>";case wt.YYYYHyphenMMHyphenDD:return"<<yyyy-mm-dd>>"}return"<<<<m/d>>"}(e.value)}})),t}));var s=(i={submitLoading:!1,showPreview:!1,fontEmbed:!1,isShrink:!1,isKeep:!1,marginLeft:72,marginRight:72,marginTop:36,marginBottom:36,pageOdd:!0,pageEven:!0,pageCount:n},(0,X._)(i,"fontEmbed",!1),(0,X._)(i,"currentPage",t),i);s.leftHeaderText=A[0],s.centerHeaderText=A[1],s.rightHeaderText=A[2],s.leftFooterText=A[3],s.centerFooterText=A[4],s.rightFooterText=A[5],s.isShrink=r.hasTextShrinked||!1,s.isKeep=r.hasFixedSized||!1,r.startPageNumber=r.startPageNumber||1,s.startPage=r.startPageNumber-1,r.range?(r.range.start=r.range.start||1,r.range.end=r.range.end||n,r.range.start<1&&(r.range.start=1),r.range.start>n&&(r.range.start=n),r.range.end<1&&(r.range.end=1),r.range.end>n&&(r.range.end=n),s.pageStart=r.range.start-1,s.pageEnd=r.range.end-1,0===r.range.filter?(s.pageOdd=!0,s.pageEven=!0):1===r.range.filter?(s.pageOdd=!1,s.pageEven=!0):2===r.range.filter&&(s.pageOdd=!0,s.pageEven=!1)):(s.pageStart=0,s.pageEnd=n-1,s.pageOdd=!0,s.pageEven=!0),r.margin&&(s.marginLeft=r.margin.left,s.marginBottom=r.margin.bottom,s.marginTop=r.margin.top,s.marginRight=r.margin.right);var c=r.font?r.font:r.fontId;return s.font=c||0,s.fontSize=r.textSize||12,s.fontColor=r.textColor||0,s.underLine=r.underline||!1,"string"==typeof s.font?s.fontName=s.font:((s.font<0||s.font>=Ry.length)&&(s.font=0),s.fontName=Ry[s.font]),s}function My(e,t){var n=0;!e.pageOdd&&e.pageEven?n=1:e.pageOdd&&!e.pageEven&&(n=2);var i=-1===e.pageStart?1:e.pageStart+1,r=-1===e.pageEnd?t:e.pageEnd+1,o=(0,U.colorConvertor)(e.fontColor,"int",0);return{font:e.fontName,textSize:e.fontSize,textColor:o,hasTextShrinked:e.isShrink,hasFixedSized:e.isKeep,range:{start:i,end:r,filter:n},margin:{left:e.marginLeft,right:e.marginRight,top:e.marginTop,bottom:e.marginBottom},startPageNumber:e.startPage+1,contents:{TopLeft:e.leftHeaderText,TopCenter:e.centerHeaderText,TopRight:e.rightHeaderText,BottomLeft:e.leftFooterText,BottomCenter:e.centerFooterText,BottomRight:e.rightFooterText},contentFormats:{},underline:e.underLine}}function Fy(e,t,n,i,r){var o={showAdvanceSetting:!0,showApperanceOptModal:!1,submitLoading:!1,pageCount:r,currentPage:t+1,text:"",pageNumber:t,absScale:e.absScale,filePath:"",docId:null,doc:null,file:null,scaleCkd:!0,appear:2,pageStart:n,pageEnd:i,pageOdd:!0,pageEven:!0,isPrint:!0,isScreen:!0,isKeep:!1,unit:6,isMultiline:e.isMultiline,rowSpace:e.rowSpace,columnSpace:e.columnSpace};if(o.scaleCkd=!1!==e.useRelativeScale,void 0===o.absScale&&(o.absScale=100),o.absScale<0&&(o.scale=0),o.absScale>100&&(o.scale=100),o.isMultiline&&(null==o.rowSpace&&(o.rowSpace=0),null==o.columnSpace&&(o.columnSpace=0)),"text"===e.type){o.sourceType=1,o.text=e.text;var a=Object.assign({font:0,fontSize:20,color:0,fontStyle:"normal"},e.watermarkTextProperties);o.font=a.font,o.fontSize=a.fontSize,o.fontColor=a.color,"normal"===a.fontStyle?o.underLine=!1:"underline"===a.fontStyle&&(o.underLine=!0),"string"==typeof o.font?o.fontName=o.font:((o.font<0||o.font>=Ry.length)&&(o.font=0),o.fontName=Ry[o.font])}else"bitmap"===e.type&&(o.sourceType=2,o.bitmap=e.bitmap);var A=Object.assign({position:"Center",offsetX:0,offsetY:0,flags:7,scale:1,rotation:45,opacity:100},e.watermarkSettings);switch(o.hDistance=A.offsetX,o.vDistance=A.offsetY,o.opacity=A.opacity,o.rotate=A.rotation,A.scale<0&&(A.scale=.01),A.scale>1&&(A.scale=1),o.scale=100*A.scale,A.flags&dt.asAnnot?o.isKeep=!0:o.isKeep=!1,A.flags&dt.onTop?o.appear=2:o.appear=1,A.flags&dt.unprintable?o.isPrint=!1:o.isPrint=!0,A.flags&dt.display?o.isScreen=!1:o.isScreen=!0,A.position){case lt.topLeft:o.vFrom=1,o.hFrom=1;break;case lt.topCenter:o.vFrom=1,o.hFrom=2;break;case lt.topRight:o.vFrom=1,o.hFrom=3;break;case lt.centerLeft:o.vFrom=2,o.hFrom=1;break;case lt.center:o.vFrom=2,o.hFrom=2;break;case lt.centerRight:o.vFrom=2,o.hFrom=3;break;case lt.bottomLeft:o.vFrom=3,o.hFrom=1;break;case lt.bottomCenter:o.vFrom=3,o.hFrom=2;break;case lt.bottomRight:o.vFrom=3,o.hFrom=3}return o}!function(e){e.EDIT_GRAPHICS_OBJECT="edit-graphics-object"}(Iy||(Iy={}));var Ly=U.LoggerFactory.getLogger("engine-pdf-page-batch-processor"),Ny=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Iy.EDIT_GRAPHICS_OBJECT;(0,_._)(this,e),(0,X._)(this,"page",void 0),(0,X._)(this,"kind",void 0),(0,X._)(this,"flushOperations",void 0),(0,X._)(this,"started",void 0),this.page=t,this.kind=n,this.flushOperations=new Map,this.started=!1}return(0,P._)(e,[{key:"start",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){return e.started=!0,[2,e.callAPI("start")]}))}))()}},{key:"isStarted",value:function(){return!this.isDestroyed()&&this.started}},{key:"flush",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){return e.isStarted()?(e.flushLocally(),[2,e.callAPI("flush")]):[2]}))}))()}},{key:"end",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){return e.started=!1,e.flushLocally(),[2,e.callAPI("end")]}))}))()}},{key:"flushLocally",value:function(){var e=this.flushOperations.values();try{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}}catch(e){Ly.error(e)}finally{this.flushOperations.clear()}}},{key:"isDestroyed",value:function(){return this.page.isDestroyed}},{key:"callAPI",value:function(e){if(!this.isDestroyed()){var t=this.page.doc,n=this.page.getId(),i=t.getId();return t.api.emitPageBatchProcessor({path:"jr/doc/page"},i,n,{action:e,kind:this.kind})}}},{key:"recordFlushOperation",value:function(e,t){this.flushOperations.set(e,t)}}]),e}(),Oy=["highlight","strikeout","underline","squiggly","caret","text","fileattachment","freetext","ink","line","link","circle","square","polygon","polyline","stamp","screen"];function By(e,t){if(-1==Oy.indexOf(e.type))throw new Error("Annot type error");if(t&&t.isTextAsContent){["highlight","strikeout","underline","squiggly"].includes(e.type)&&!e.contents&&e.coords[0]&&e.coords[0].text&&(e.contents=e.coords[0].texts||e.coords[0].text)}return e.iconCatagory&&(e.iconCategory=e.iconCatagory),e.iconInfo&&e.iconInfo.catagory&&(e.iconInfo.category=e.iconInfo.catagory),e}var jy=function(){function e(t,n){(0,_._)(this,e),this.info=t,this.isDestroyed=!1,this.doc=n,this.engine=n.engine,this.api=n.api,this._pxWdith=(0,H.F2)(this.getWidth()),this._pxHeight=(0,H.F2)(this.getHeight()),this.annots=[],this.annotIdMap={},this.graphicObjects=[],this.info.AA[0]&&(this.openAction=this.doc.engine.actionFactory.createAction(this.info.AA[0],n,this.doc.api,this.doc.engine.eventEmitter,this)),this.info.AA[1]&&(this.closeAction=this.doc.engine.actionFactory.createAction(this.info.AA[1],n,this.doc.api,this.doc.engine.eventEmitter,this)),n.pageIdMap[t.id]=this,this.batchProcessor=new Ny(this),this.queuedTaskExecutor=new U.QueuedAsyncTaskExecutor}return(0,P._)(e,[{key:"getAction",value:function(e){return"open"==e?this.openAction:this.closeAction}},{key:"getActions",value:function(e){var t=this;return this.doc.api.getPageAction(this.getPDFDoc().getId(),this.getId(),e).then((function(e){if(e)return t.doc.engine.actionFactory.createAction(e,t.doc,t.doc.api,t.engine.eventEmitter,t)}))}},{key:"setAction",value:function(e,t){var n=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(i){return[2,n.doc.api.setPageAction(n.getPDFDoc().getId(),n.getId(),e,t.info).then((function(e){return n.doc.engine.eventEmitter.emit(le.docModified,n.doc),e}))]}))}))()}},{key:"setActionData",value:function(){this.doc.api.updatePageAction()}},{key:"moveAction",value:function(e){var t=this;return this.doc.api.movePageAction(this.getPDFDoc().getId(),this.getId(),e).then((function(e){return t.doc.engine.eventEmitter.emit(le.docModified,t.doc),e}))}},{key:"removeAction",value:function(e,t){var n=this;return this.doc.api.removePageAction(this.getPDFDoc().getId(),this.getId(),e,t?t.info:null).then((function(e){return n.doc.engine.eventEmitter.emit(le.docModified,n.doc),e}))}},{key:"getId",value:function(){return this.info.id}},{key:"getInfo",value:function(){return this.info}},{key:"getPDFDoc",value:function(){return this.doc}},{key:"getIndex",value:function(){return this.info.index}},{key:"getWidth",value:function(){return this.info.width}},{key:"getHeight",value:function(){return this.info.height}},{key:"updateInfo",value:function(){var e=this;return this.doc.api.updatePageInfo(this.getPDFDoc().getId(),this.getId()).then((function(t){e._updateInfo(t)}))}},{key:"_updateInfo",value:function(e){this.info=e,this.doc.updatePageSize(e.index,this.getWidth(),this.getHeight()),this._pxWdith=(0,H.F2)(this.getWidth()),this._pxHeight=(0,H.F2)(this.getHeight()),this.doc.engine.eventEmitter.emit(le.pageInfoChange,this)}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this;if(!this.doc.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var n=this.getRotation();return e===n?Promise.resolve():(this.doc.engine.eventEmitter.emit(le.beforePageRotationChanged,this,e,n),this.doc.api.setPageRotation(this.getPDFDoc().getId(),this.getId(),e).then((function(e){return Promise.all([e,t.updateInfo()])})).then((function(e){var i=(0,E._)(e,1)[0];t.doc.engine.eventEmitter.emit(le.pageRotationChange,t,i,n)})))}},{key:"getRotationAngle",value:function(){var e=this.getRotation();if(4===e)throw new Error("Unknown rotation angle value: "+e);return 90*e}},{key:"getPxWidth",value:function(){return this._pxWdith}},{key:"getPxHeight",value:function(){return this._pxHeight}},{key:"getOriginX",value:function(){return this.info.cropBox.left}},{key:"getOriginY",value:function(){return this.info.cropBox.bottom}},{key:"getPDFMatrix",value:function(){return new rn.Z(this.info.matrix)}},{key:"getDeviceMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getPDFMatrix(),n=this.getHeight(),i=this.getWidth();t.translate(0,-n);var r=(0,H.F2)(1);switch(t.scale(r,-r),e){case 90:t.rotate(e/180*Math.PI),t.translate(r*n,0);break;case 180:t.rotate(e/180*Math.PI),t.translate(r*i,r*n);break;case 270:t.rotate(e/180*Math.PI),t.translate(0,r*i)}return t}},{key:"getDeviceMatrix2",value:function(){var e=this.getPDFMatrix(),t=this.getRotation(),n=(0,H.F2)(1);switch(t%4){case 0:e.translate(0,-this.getHeight()),e.scale(n,-n);break;case 1:e.scale(-n,n),e.rotate(Math.PI/2);break;case 2:e.translate(-this.getWidth(),0),e.scale(-n,n);break;case 3:e.translate(this.getWidth(),this.getHeight()),e.rotate(Math.PI/2),e.scale(n,-n)}return e}},{key:"getDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.transformPoint(e[0],e[1])}},{key:"getDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t);var r=i.transformRect(e.left,e.top,e.right,e.bottom);return{left:r[0],top:r[1],right:r[2],bottom:r[3]}}},{key:"getAnnotDeviceMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=e;(0,I._)(e,ln)&&(r=e.info);var o=r.flag,a=8&o,A=16&o;"text"===r.type&&(a=A=!0);var s=this.getDeviceMatrix(n);if(s.scale(t,t),!a&&!A)return s;var c=new rn.Z,u=r.rect;i&&(u=i);var l,d,h=new Zt(u.left,u.bottom,u.right,u.top);if(a)l=U.dpr,d=-U.dpr;else{var f,p,g,v,m,y;f=p=0;var b=s.transformPoint(f,p);f=b[0],p=b[1],g=1,v=0,g=(b=s.transformPoint(g,v))[0],v=b[1],g-=f,v-=p,m=0,y=1,m=(b=s.transformPoint(m,y))[0],y=b[1],m-=f,y-=p,l=Math.sqrt(g*g+v*v),d=-Math.sqrt(m*m+y*y)}c.a=l,c.b=0,c.c=0,c.d=d,!A&&n>0&&n<4&&c.Rotate(Math.PI*n/2);var w=h.left,k=h.top,x=s.transformPoint(w,k);return w=x[0],k=x[1],c.e=w-h.left*c.a-h.top*c.c,c.f=k-h.left*c.b-h.top*c.d,c}},{key:"getAnnotDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=this.getAnnotDeviceMatrix(e,t,n,i),o=e;(0,I._)(e,ln)&&(o=e.info);var a=new Zt(o.rect.left,o.rect.bottom,o.rect.right,o.rect.top);i&&(a=i);var A=r.transformRect(a.left,a.top,a.right,a.bottom);return{left:A[0],top:A[1],right:A[2],bottom:A[3]}}},{key:"reverseDevicePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);return i.e=i.f=0,i.scale(t,t),i.setReverse(),i.transformPoint(e[0],e[1])}},{key:"reverseDeviceRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getDeviceMatrix(n);i.scale(t,t),i.setReverse();var r=(0,E._)(i.transformRect(e.left,e.top,e.right,e.bottom),4),o=r[0],a=r[1],A=r[2],s=r[3],c=Math.min(o,A),u=Math.max(o,A);return{left:c,top:Math.max(a,s),right:u,bottom:Math.min(a,s)}}},{key:"render",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view";if(!this.doc.checkPermission(en.print||en.printHigh))throw new Error("Permission error");if(e*=4/3,-1==r.indexOf("page")&&r.push("page"),"view"!=o&&"print"!=o)throw new Error("Param error: usage should be one of 'view', 'print'. Got '"+o+"' instead.");return this.getPageBitmap(e,t,n,r,o).then((function(a){var A=function(a){return a.rate<100?i.doc.api.continueProgress(a.progressiveId).then(A):a.buffer||a.image?a:i.getPageBitmap(e,t,n,r,o)};return a.rate>=100?a:A(a)}))}},{key:"getPageBitmap",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["page"],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"view",o=arguments[5]||"",a=arguments[6];return this.doc.api.getPageBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,o,!1,a)}},{key:"clearDesignerAssitCache",value:function(){return this.doc.api.clearDesignerAssitCache(this.getPDFDoc().getId(),this.getId())}},{key:"getPageAndHighlightBitmap",value:function(e,t,n,i){return this.doc.api.getPageAndHighlightBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a){var A=this;return!0===r?this.doc.api.getAnnotBitmap(this.getPDFDoc().getId(),this.getId(),e,t,n,i,o):this.getAnnots().then((function(r){if(e.trim().length<1)return null;var a=A.getAnnotObjectNum(e);return 0==a?null:A.doc.api.getAnnotBitmap(A.getPDFDoc().getId(),A.getId(),a,t,n,i,o)}))}},{key:"getPageObjNum",value:function(){return this.info.objectNumber}},{key:"getAnnotObjectNum",value:function(e){var t=this;if(e.trim().length<1)return 0;var n=Object.keys(this.annotIdMap);if(!n.length)return 0;var i=n.find((function(n){return t.annotIdMap[n].getName()==e}));return parseInt(i)}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i){return this.doc.api.getAnnotBitmapByRange(this.getPDFDoc().getId(),this.getId(),e,t,n,i)}},{key:"getAnnotCount",value:function(){return this.annots.length||this.info.annotCount}},{key:"resetWidgetsControl",value:function(){this.annots.forEach((function(e){"widget"==e.getType()&&e.mapFormControl()}))}},{key:"getAnnots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&(this.annots.length=0,this.annotIdMap={},this.annotsPromise=null),this.annotIdMap){var i=Object.keys(this.annotIdMap);if(this.annots.length&&i.length){var r=i.map((function(t){return e.annotIdMap[t]}));return r.sort(Vy),Promise.resolve(r)}}var o=this.doc.engine;return o?this.annotsPromise=this.annotsPromise||this.doc.api.getAnnots(this.getPDFDoc().getId(),this.getId(),null,t).then((function(t){return e.isDestroyed?[]:t.map((function(t){return o.annotManager.get(t,e)}))})).then((function(t){if(e.isDestroyed)return[];var i=[];e.annotIdMap=t.reduce((function(e,t,n){if(e){var r=t.getId();return r in e||i.push(t),e[r]=t,e}}),e.annotIdMap);var r=t.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(r).then((function(){return e.annots?(e.annots.length=0,t.sort(Vy),t.forEach((function(t){return e.annots.push(t)})),e.info.annotCount=t.length,e.annotsPromise=null,n&&o.eventEmitter.emit(le.annotationLoaded,e,i,t),e.annots):[]}))})):Promise.resolve()}},{key:"setAnnots",value:function(e){e.sort(Vy),this.annots=e}},{key:"getMarkupAnnots",value:function(){var e=!0===arguments[0];return this.getAnnots().then((function(t){return function(t){var n=function(e){return"popup"===e},i=function(e){return"widget"===e};t=t.filter((function(e){return e.isMarkup()&&!e.isDeleted()&&!n(e.getType())&&!i(e.getType())&&e.getReplies&&(!e.isStateAnnot||!e.isStateAnnot())}));var r=[],o=[];t.forEach((function(e){var t,n,i,a=e.getReplies();(t=r).push.apply(t,(0,R._)(a)),r.forEach((function e(t){var n;if(!t&&t.getReplies){var i=t.getReplies();(n=r).push.apply(n,(0,R._)(i)),i.forEach(e)}})),(n=o).push.apply(n,(0,R._)(e.getReviewStates())),(i=o).push.apply(i,(0,R._)(e.getMarkedStates()))}));var a=t.filter((function(e){return-1===r.indexOf(e)&&-1===o.indexOf(e)}));return e?a.reduce((function(e,t){var n=t.getGroupHeader&&t.getGroupHeader()||t;return-1===e.indexOf(n)&&e.push(n),e}),[]):(a.forEach((function(e){"Replace"===e.getIntent()&&e.groupElements.forEach((function(t){if(t!==e){var n=a.indexOf(t);n>-1&&a.splice(n,1)}}))})),a)}(t)}))}},{key:"filterAnnot",value:function(e,t){for(var n=!e,i=0;i<this.annots.length;i++){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"filterPrevAnnot",value:function(e,t){for(var n=!e,i=this.annots.length-1;i>=0;i--){var r=this.annots[i];if(n&&r.getType()==t)return r;r.info.objectNumber==e&&(n=!0)}return null}},{key:"getAnnotTree",value:function(){var e=this,t=!0===arguments[0];return this.getMarkupAnnots(t).then((function(t){return e.getAnnots().then((function(e){var n=e.filter((function(e){return!e.isMarkup()&&!e.isDeleted()&&"popup"!==e.info.type}));return t.concat(n).sort((function(t,n){return e.indexOf(t)-e.indexOf(n)}))}))}))}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotIdAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n){return this.doc.api.getAnnotObjectNumAtDevicePoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t,n)}},{key:"getCharInfoAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.doc.checkPermission(en.extract||en.extractAccess))throw new Error("Permission error");return this.doc.api.getCharInfoAtPoint(this.getPDFDoc().getId(),this.getId(),{x:e[0],y:e[1]},t)}},{key:"removeAnnot",value:function(e){return this.removeAnnotByObjectNumber(e.getId())}},{key:"removeAnnotById",value:function(e){var t=this;return this.getAnnots().then((function(n){var i=n.find((function(t){return e&&e===t.getUniqueID()}));return i&&i.getObjectNumber?t.removeAnnotByObjectNumber(i.getObjectNumber()):[]}))}},{key:"removeAnnotByObjectNumber",value:function(e){var t=this;return this.queuedTaskExecutor.exec((function(){return t._removeAnnotByObjectNumber(e)}))}},{key:"_removeAnnotByObjectNumber",value:function(e){var t=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");return this.getAnnots().then((function(n){return n.filter((function(e){return e.getType()!==zi.widget})).map((function(e){return e.getId()})).length?t.doc.api.removeAnnot(t.getPDFDoc().getId(),t.getId(),e):[]})).then((function(e){return t.clearRelatives(e),t.clearAnnotIds(e)})).then((function(e){var n=0;e.forEach((function(e){e.getIndex()<n&&(n=e.getIndex())}));var i=[];return t.annots.forEach((function(e){return e.getIndex()>n&&i.push(e._update())})),Promise.all(i).then((function(t){return e}))})).then((function(e){return t.doc.engine.eventEmitter.emit(le.annotationRemoved,e,t),e}))}},{key:"removeAllAnnot",value:function(){var e,t=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");return this.getAnnots().then((function(n){var i=n.filter((function(e){return e.getType()!==zi.widget}));return(e=i.map((function(e){return e.getId()}))).length?t.doc.api.removePageAllAnnot(t.getPDFDoc().getId(),t.getId()):[]})).then((function(){return t.clearRelatives(e),t.clearAnnotIds(e)})).then((function(e){return t.doc.engine.eventEmitter.emit(le.annotationRemoved,e,t),e}))}},{key:"getThumb",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,U.assertThat)((0,U.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", it should be 0, 90, 180, or 270"));var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getThumb(n,i,e,t)}},{key:"getMediaBoxBitmap",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getMediaBoxBitmap(n,i,e,t)}},{key:"clearRelatives",value:function(e){if(Array.isArray(e)&&e){var t=e.slice(0);this.getAnnots().then((function(e){e.some((function(e){return!(!(0,I._)(e,Pm)||0!=(t=e.removeRepliesByIdLocaly(t)).length)}))}))}}},{key:"clearAnnotIds",value:function(e){for(var t=this,n=function(n){var a=e[n];i[n]=r[a],i[n]&&(i[n].info.isDeleted=!0,delete r[a],o.annotCount--),t.annots.forEach((function(e){e.getId()==a&&(e.info.isDeleted=!0)}))},i=[],r=this.annotIdMap,o=this.info,a=e.length;a--;)n(a);for(var A=i.length;A--;)i[A]||i.splice(A,1);return this.annots=this.annots.filter((function(t){return-1===e.map((function(e){return String(e)})).indexOf(String(t.getId()))})),i}},{key:"addReplyAnnot",value:function(e){if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");return this.addAddonAnnot(e)}},{key:"addAddonAnnot",value:function(e){var t=this,n=e.getId();return this.info.annotCount++,this.annots.push(e),this.annotIdMap[n]=e,e.reviseSummary((function(e){return t.annotIdMap[e]}))}},{key:"removeAddonAnnotById",value:function(e){if(this.annotIdMap[e]){this.info.annotCount-=1;for(var t=this.annots,n=t.length;n--;){e===t[n].objectNumber&&t.splice(n,1)}return delete this.annotIdMap[e]}return!1}},{key:"addAnnot",value:function(e){var t=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");"number"==typeof(e=By(e,this.engine.getUserCommentConfig())).page&&(e=function(e){var t,n={type:e.type,opacity:e.opacity,name:e.name,contents:e.contents,subject:e.subject,title:e.title,icon:e.icon,intent:e.intent||e.IT,DA:e.defaultappearance,alignment:e.justification,enableCaption:"yes"==e.caption,rotation:e.rotation},i=e.fontColor;i&&(n.fontColor=parseInt(i.replace("#",""),16)),(t=e.color)&&(n.color=(0,U.colorConvertor)(t,"int"));var r=e["interior-color"]||e.interiorColor;r&&(n.styleFillColor=n.fillColor=parseInt(r.replace("#",""),16));var o=e.flags||"print",a=o.split(",");for(var A in o=0,_e)-1!=a.indexOf(_e[A])&&(o|=1<<parseInt(A));n.flag=o;var s=(e.rect||"").split(",");s.length&&(n.rect={left:+s[0],top:+s[3],right:+s[2],bottom:+s[1]});var c=(e.fringe||"").split(",");4===c.length&&(n.innerRect={left:n.rect.left+ +c[0],top:n.rect.top-+c[3],right:n.rect.right-+c[2],bottom:n.rect.bottom+ +c[1]});var u=e.coords;if(u){u=u.split(","),n.coords=[];for(var l=0,d=u.length;l<d;l+=8){var h=Math.min(+u[l],+u[l+2],+u[l+4],+u[l+6]),f=Math.max(+u[l],+u[l+2],+u[l+4],+u[l+6]),p=Math.max(+u[l+1],+u[l+3],+u[l+5],+u[l+7]),g=Math.min(+u[l+1],+u[l+3],+u[l+5],+u[l+7]);n.coords.push({left:h,right:f,top:p,bottom:g})}}var v=e.callout;if(v){v=v.split(","),n.calloutLinePoints=[];for(var m=0,y=v.length;m<y;m+=2)n.calloutLinePoints.push({x:+v[m],y:+v[m+1]})}var b=e.head;b&&(n.startStyle=Qt(b));var w=e.tail;w&&(n.endStyle=Qt(w));var k=e.vertices;if(k){n.vertexes=[],k=k.split(";");for(var x=0;x<k.length;x++){var _=k[x].split(",");n.vertexes.push({x:+_[0],y:+_[1]})}}var P=e.inklist;if(P){n.inkList=[],P=JSON.parse("["+P.replace(/;/g,",")+"]");for(var D=0;D<P.length;D++)for(var C=P[D],S=0;S<C.length;S+=2){var I=C[S],E=0==S?1:2;n.inkList.push({x:I,y:C[S+1],type:E})}}var R=et[e.style||"solid"];n.borderInfo={style:R,width:e.width||1};var T=e.dashes;T&&(n.borderInfo.dashes=JSON.parse("["+T+"]"));var M=e.intensity;M&&(n.borderInfo.cloudIntensity=M);var F=e.start;F&&(F=F.split(","),n.startPoint={x:+F[0],y:+F[1]});var L=e.end;return L&&(L=L.split(","),n.endPoint={x:+L[0],y:+L[1]}),n}(e));var n=arguments,i=this.getPDFDoc().getId(),r=this.getId(),o=this.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return e=(0,U.extendOptions)({},o,e),this.doc.api.addAnnot(i,r,e).then((function(e){return t._doAfterAddAnnots(e,"boolean"!=typeof(i=n[n.length-1])||i);var i}),(function(e){var t=(0,U.createDeferred)();return t.reject(e),t.promise}))}},{key:"markRedactAnnot",value:function(e){var t,n=this;if(arguments&&arguments[1]&&(t=arguments[1]),!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.markRedactAnnot(i,r,e,t).then((function(e){return n._doAfterAddAnnots(e)}))}},{key:"addAnnotGroup",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");e.forEach((function(e){if(!e.type)throw new Error("Annot type error")}));var i=this.getPDFDoc().getId(),r=this.getId();return e=e.map((function(e){var t=n.doc.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,U.extendOptions)({},t,e)})),this.doc.api.addAnnotGroup(i,r,e,t).then((function(e){return n._doAfterAddAnnots(e)}))}},{key:"_doAfterAddAnnots",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.map((function(e){return e&&t.doc.engine.annotManager.get(e,t)}));i.reduce((function(e,t){return e[t.getId()]=t,e}),this.annotIdMap);var r=i.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return this.annots=this.annots.concat(i),this.info.annotCount=this.annots.length,Promise.all(r).then((function(){return n&&t.doc.engine.eventEmitter.emit(le.annotationAdd,i,t),i}))}},{key:"getUnloadedAnnots",value:function(){var e=this;return this.queuedTaskExecutor.exec((function(){return e._getUnloadedAnnots()}))}},{key:"_getUnloadedAnnots",value:function(){var e=this,t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageAnnotIDList(t,n).then((function(i){var r=i.filter((function(t){return!e.annotIdMap[t]}));return(r.length?e.doc.api.getAnnots(t,n,r):Promise.resolve([])).then((function(t){return t.map((function(t){return t?e.doc.engine.annotManager.get(t,e):null})).filter((function(e){return!!e}))})).then((function(t){var n=t.reduce((function(e,t){return e[t.getId()]=t,e}),{});return e.annotIdMap=i.reduce((function(t,i){var r=e.annotIdMap[i]||n[i];return r&&(t[i]=r),t}),{}),Promise.all(Object.keys(e.annotIdMap).map((function(t){var n=e.annotIdMap[t];return n&&n._update(!0)}))).then((function(e){return t}))})).then((function(t){e.setAnnots(e.annots.concat(t)),e.info.annotCount=e.annots.length;var n=e.annots.map((function(t){return t.reviseSummary((function(t){return e.annotIdMap[t]}))}));return Promise.all(n).then((function(){e.doc.engine.eventEmitter.emit(le.annotationLoaded,e,t,e.annots)})),t})).catch((function(t){if(!e.doc||e.doc.isDestroyed)return[];throw t}))}))}},{key:"getTextRectsAtRect",value:function(e){return this.doc.api.getTextRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextRects",value:function(e){return this.doc.api.getTextRects({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtRect",value:function(e){return this.doc.api.getTextContinuousRectsAtRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getTextContinuousRectsAtPoints",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return this.doc.api.getTextContinuousRectsAtPoints(this.getPDFDoc().getId(),this.getId(),e,t,n,i,r,arguments[5])}},{key:"getTextByIndex",value:function(e,t){return this.doc.api.getTextByIndex({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextIndexAtPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return this.doc.api.getTextIndexAtPoint({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextRectsByIndexes",value:function(e,t){return this.doc.api.getTextRectsByIndexes({path:"jr/doc/page"},this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t){return this.doc.api.getDoubleClickTextRectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextContinuousCharsAtRect",value:function(e,t){return this.doc.api.getTextContinuousCharsAtRect(this.getPDFDoc().getId(),this.getId(),e,t)}},{key:"getTextSearch",value:function(e,t){var n=this;return this.isVirtual()?Promise.resolve(new Ey):this.doc.api.getTextSearch(this.getPDFDoc().getId(),this.getId(),e,t).then((function(e){return new Dy(e,n)}))}},{key:"destroy",value:function(){return this.isDestroyed=!0,this.annots.forEach((function(e){return e.destroy()})),this.graphicObjects.forEach((function(e){return e.destroy()})),this.graphicObjects=null,this.annots=null,this.annotIdMap=null,this.info=null,this.doc=null,this.api=null,Promise.resolve()}},{key:"normalize",value:function(){return this.doc.api.normalizePage(this.getPDFDoc().getId(),this.getId())}},{key:"getAnnotsByIdArray",value:function(e){return this.getAnnots().then((function(t){for(var n=[],i=0,r=e.length;i<r;i++)for(var o=0;o<t.length;o++)if(e[i]===t[o].getUniqueID()){n.push(t[o]);break}return n}))}},{key:"getAnnotsByObjectNumArray",value:function(e){var t=this;return this.getAnnots().then((function(){for(var n=t.annotIdMap,i=[],r=0,o=e.length;r<o;r++){var a;(a=n[e[r]])&&i.push(a)}return i}))}},{key:"getAnnotsSync",value:function(e){for(var t=this.annotIdMap,n=[],i=0,r=e.length;i<r;i++){var o;(o=t[e[i]])&&n.push(o)}return n}},{key:"flatten",value:function(e){var t=this;if((e|3-e)<0)throw new Error("Param option error.");var n=this.doc;if(!(n.isXFA()||n.checkPermission(en.annotForm)&&n.checkPermission(en.modify)&&n.checkPermission(en.assemble|en.modify)))throw new Error("Permission error");return this.doc.api.flatten(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var i;return t.annotIdMap={},t.annots.length=0,t.info.annotCount=0,(i=t.doc.getPDFForm())&&i.reduceControl(t.getIndex(),e),t.doc.engine.eventEmitter.emit(le.flattened,t.getIndex(),t),t.doc.engine.eventEmitter.emit(le.docModified,n),!0}))}},{key:"addImage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.doc.checkPermission(8)){var r=(4294967292&this.doc.info.oriPerm)>>>0;if(!!!(256&r||32&r||8&r))throw new Error("Permission error")}var o={x:t.left,y:t.bottom},a=t.right-t.left,A=t.top-t.bottom;return this.doc.api.addPageImage(this.getPDFDoc().getId(),this.getId(),e,o,a,A,i).then((function(e){if(e){var t=n.doc.engine.graphicsObjectManager.get(e,n);return t&&n.graphicObjects.push(t),n.doc.engine.eventEmitter.emit(le.imageAdded,n),n.doc.engine.eventEmitter.emit(le.graphicsUpdated,n,t),t}return e}))}},{key:"addWatermark",value:function(e){var t=this,n=e.type,i=e.text;if("text"===n&&sn(i))return Promise.resolve(null);if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var r=Fy(e,this.getIndex(),this.getIndex(),this.getIndex(),this.doc.getPageCount());return this.doc.getPageFormat("watermark").then((function(e){return t.doc.addPageFormat("watermark",r).then((function(e){if(e>0){var n={};return r.isKeep&&(n=t.annots[t.annots.length-1].info,t.doc.engine.eventEmitter.emit(le.annotationAdd,t.annots,t)),t.doc.engine.eventEmitter.emit(le.watermarkAdded,t),n}return e}))}))}},{key:"getGraphicsObjectsInRect",value:function(e,t,n){var i=this;if(n<0||n>3)throw new Error("Type error, only 0~3 are available. current is: "+n);return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),null,t,n,e).then((function(e){return e.map((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t}))}))}},{key:"getTextLineUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=this;return(0,x._)((function(){var i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getLineTextObjectsUnderPoint(e,t)];case 1:return(i=a.sent())&&i.length?(r=i.reduce((function(e,t){var n=t.getRect(),i=n.top,r=n.bottom;return e.top=Math.max(e.top,i),e.bottom=Math.min(e.bottom,r),e}),Object.assign({},i[0].getRect(),{left:0,right:n.getWidth()})),o=i.map((function(e){return e.getText()||""})).join(" "),[2,{text:o,rect:r,textGraphicsObjects:i}]):[2,{textGraphicsObjects:i}]}}))}))()}},{key:"getLineTextObjectsUnderPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=this;return(0,x._)((function(){var i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getGraphicsObjectAtPoint(e,t,Lt.Text)];case 1:return(i=a.sent())?(r=i.getRect(),o={left:0,right:n.getWidth(),top:r.top,bottom:r.bottom},[4,n.getGraphicsObjectsByRect({rect:o,tolerance:0,type:Lt.Text,isInRect:!1})]):[2,Promise.resolve([])];case 2:return[2,a.sent()]}}))}))()}},{key:"getGraphicsObjectsByRect",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:if(!(n=e.rect))throw new Error("[PDFPage.getGraphicsObjectsByRect] Missing required parameter: options.rect");return i=isFinite(e.tolerance)?e.tolerance:0,r=void 0===e.type?Lt.ALL:e.type,o=!1!==e.isInRect,[4,t.doc.api.getGraphicsObjectsByRect(t.getPDFDoc().getId(),t.getId(),n,i,r,o)];case 1:return[2,a.sent().map((function(e){return t.doc.engine.graphicsObjectManager.get(e,t)}))]}}))}))()}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n){var i=this;return this.doc.api.getGraphicsObjectAtPoint(this.getPDFDoc().getId(),this.getId(),e,t,n).then((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return t&&i.graphicObjects.push(t),t}))}},{key:"getGraphicsObjectByIndex",value:function(e){var t=this;return e<0?Promise.resolve(null):this.doc.api.getGraphicsObjectByIndex(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),n}))}},{key:"getGraphicsObjectsCount",value:function(){return this.doc.api.getGraphicsObjectsCount(this.getPDFDoc().getId(),this.getId())}},{key:"setGraphicsObjectMatrix",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");return this.doc.api.setGraphicsObjectRect(this.getPDFDoc().getId(),e).then((function(e){t.doc.engine.eventEmitter.emit(le.graphicsUpdated,t)}))}},{key:"addGraphicsObject",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");return this.doc.api.addGraphicsObject(this.getPDFDoc().getId(),this.getId(),e).then((function(e){var n=t.doc.engine.graphicsObjectManager.get(e,t);return n&&t.graphicObjects.push(n),t.doc.engine.eventEmitter.emit(le.graphicsUpdated,t,n),n}))}},{key:"removeGraphicsObject",value:function(e){return this.removeGraphicsObjectEx(e,!0)}},{key:"removeGraphicsObjectEx",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var i=null;return this.graphicObjects=this.graphicObjects.filter((function(e){return e.getId()!=e.getId()||(i=e,!1)})),this.doc.api.removeGraphicsObject(this.getPDFDoc().getId(),this.getId(),e.getId(),n).then((function(e){n&&t.doc.engine.eventEmitter.emit(le.graphicsUpdated,t,i)}))}},{key:"pasteAnnot",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");if([zi.popup,zi.widget,zi.strikeOut,zi.highlight,zi.squiggly,zi.underline,zi.caret].includes(e.getType()))throw new Error("Not support strikeout, highlight, squiggly, underline, caret, popup and widget annotations.");var i=this.getPDFDoc().getId(),r=this.getId();return this.doc.api.paste(i,r,e.getPage().getId(),"annot",e.getId(),t).then((function(e){return n._doAfterAddAnnots(e)}),(function(e){return Promise.reject(e)}))}},{key:"pasteGraphicObject",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var r=this.getPDFDoc().getId(),o=this.getId();return this.doc.api.paste(r,o,this.doc.pageCache[t].getId(),"graphicObject",e,n).then((function(e){var t=i.doc.engine.graphicsObjectManager.get(e,i);return i.doc.engine.eventEmitter.emit(le.graphicsUpdated,i,t),t}),(function(e){var t=(0,U.createDeferred)();return t.reject(e),t.promise}))}},{key:"getMediaWidth",value:function(){return this.info.mediaWidth}},{key:"getMediaHeight",value:function(){return this.info.mediaHeight}},{key:"isCropped",value:function(){return this.info.isCropped}},{key:"isVirtual",value:function(){return!!this.info.isVirtual}},{key:"calcPageContentBBox",value:function(e){return this.doc.api.calcPageContentBBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getPageBox",value:function(e){return this.doc.api.getPageBox(this.getPDFDoc().getId(),this.getIndex(),e)}},{key:"getAllBoxes",value:function(){return this.doc.api.getAllBoxes(this.getPDFDoc().getId(),this.getIndex())}},{key:"setPageBox",value:function(e,t){return this.doc.api.setPageBox(this.getPDFDoc().getId(),this.getIndex(),e,t)}},{key:"setPageSize",value:function(e,t){var n=this;return(0,U.assertThat)("number"==typeof e,"width must be a number, but got "+(void 0===e?"undefined":(0,T._)(e))),(0,U.assertThat)("number"==typeof t,"height must be a number, but got "+(void 0===t?"undefined":(0,T._)(t))),(0,U.assertThat)((0,U.isValidNumber)(e)&&e>0,"width must be a valid positive number, but got "+e),(0,U.assertThat)((0,U.isValidNumber)(t)&&t>0,"height must be a valid positive number, but got "+t),this.doc.api.setPageSize(this.getPDFDoc().getId(),this.getIndex(),e,t).then((function(){n.info.width=e,n.info.height=t,n._updateInfo(n.info),n.doc.engine.eventEmitter.emit(le.pagesBoxChange,[n])}))}},{key:"getAnnotIdArrayByOrder",value:function(){return this.doc.api.getAnnotIdArrayByOrder(this.getPDFDoc().getId(),this.getId())}},{key:"getDict",value:function(){var e=this;return this.doc.api.getPageDictionary(this.getPDFDoc().getId(),this.getId()).then((function(t){return new Sy(e.doc,t.id,e.doc.engine)}))}},{key:"createWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createWebLinks(n,i,e).then((function(e){var n=t.doc;return n.engine.eventEmitter.emit(le.docModified,n),e}))}},{key:"removeWebLinks",value:function(e){var t=this,n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.removeWebLinks(n,i,e).then((function(e){var n=t.doc;return n.engine.eventEmitter.emit(le.docModified,n),e}))}},{key:"deleteDestination",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.deleteDestination(t,n,e)}},{key:"renameDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.renameDestination(n,i,e,t)}},{key:"createDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.createDestination(n,i,e,t)}},{key:"resetDestination",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.resetDestination(n,i,e,t)}},{key:"addAnnotObjects",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),e).then((function(e){return e=e.map((function(e){return e?t.doc.engine.annotManager.get(e,t):null})).filter((function(e){return!!e})),e.forEach((function(e){t.annotIdMap[e.getId()]=e})),e})).then((function(e){t.annots=t.annots.concat(e);var i=t.annots.map((function(e){return e.reviseSummary((function(e){return t.annotIdMap[e]}))}));return Promise.all(i).then((function(){return n&&t.doc.engine.eventEmitter.emit(le.annotationAdded,e,t),e}))}))}},{key:"getSuggestedFormDesignerRect",value:function(e){return this.doc.api.getSuggestedFormDesignerRect(this.getPDFDoc().getId(),this.getId(),e)}},{key:"getSnappedPoint",value:function(e,t){var n=this.getPDFDoc().getId(),i=this.getId();return this.doc.api.getSnappedPoint(n,i,e,t)}},{key:"getTextRectCount",value:function(){var e=this.getPDFDoc().getId(),t=this.getId();return this.doc.api.getPageTextRectCount(e,t)}},{key:"getTextByRectIndex",value:function(e){var t=this.getPDFDoc().getId(),n=this.getId();return this.doc.api.getPageTextByRectIndex(t,n,e)}},{key:"cloneGraphicObject",value:function(e,t){return this.doc.api.cloneGraphicObject(this.getPDFDoc().getId(),this.getId(),this.doc.pageCache[e].getId(),t)}},{key:"addReviewStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then((function(t){var i=t[0];e.info.reviewStatesSummary.push({objectNumber:i.objectNumber,id:i.objectNumber,index:i.index});var r=n.doc.engine.annotManager.get(i,n);return n.addAddonAnnot(r)})).then((function(t){return e.reviewStates.push(t),i&&n.doc.engine.eventEmitter.emit(le.annotationReviewStateAnnotAdd,t,e),i&&n.doc.engine.eventEmitter.emit(le.annotationUpdated,[e],n,tn.reviewStateUpdated),t}))}},{key:"addMarkedStateAnnotObject",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3],o=e.getGroupHeader()||e;return this.doc.api.addAnnotObjects(this.doc.getId(),this.getId(),t).then((function(e){var t=e[0];if(o.info.markedStatesSummary.length){var i=n.annotIdMap[t.objectNumber];return i.info=t,i}o.info.markedStatesSummary.push({objectNumber:t.objectNumber,id:t.objectNumber,index:t.index});var r=n.doc.engine.annotManager.get(t,n);return n.addAddonAnnot(r)})).then((function(t){return o.markedStates.push(t),i&&n.doc.engine.eventEmitter.emit(le.annotationMarkedStateAnnotAdd,t,o,r),i&&n.doc.engine.eventEmitter.emit(le.annotationUpdated,[e],n,tn.reviewStateUpdated),t}))}},{key:"getViewportRect",value:function(){return this.doc.api.getViewportRect(this.doc.getId(),this.getId())}},{key:"getMeasureScaleRatio",value:function(){return this.doc.api.getMeasureScaleRatio(this.doc.getId(),this.getId()).then((function(e){var t=e.scale,n=e.ratio,i=e.unit,r=n&&n.trim()?n.split(" = ").map((function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}})):[];return{scale:t,ratio:n,ratioMap:r,unitName:i}}))}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){var r=this;if(!this.doc.checkPermission(en.assemble|en.modify))throw new Error("Permission error");if(n){var o=n.split(" = ").map((function(e){var t=e.split(" ");return{value:t[0],unit:t[1]}}));if(2!==o.length||!o.every((function(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/.test(e.value)}))||!o.every((function(e){return bi[e.unit]})))throw new Error("Ratio format error. Please refer to: 1 inch = 1 ft")}return this.doc.api.setMeasureScaleRatio(this.doc.getId(),this.getId(),e,{unit:t,ratio:n,scale:i}).then((function(e){return r.getAnnotsByObjectNumArray(e).then((function(e){return r.doc.engine.eventEmitter.emit(le.pageMeasureScaleRatioChanged,r,e),e}))}))}},{key:"getTransition",value:function(){return this.doc.api.getPageTransition(this.doc.getId(),this.getId())}},{key:"isScannedPage",value:function(){return this.doc.api.isScannedPage(this.doc.getId(),this.getId())}},{key:"getPureTexts",value:function(e){return this.doc.api.getPureTexts(this.doc.getId(),this.getId(),e)}},{key:"getTexts",value:function(e){var t=e.settings,n=e.minWidth,i=e.eol;return this.doc.api.getPageTexts(this.doc.getId(),this.getId(),t,n,i)}},{key:"handleGroupMarkup",value:function(e,t){var n=this,i=this.doc,r=this.getId();if(!i.checkPermission(en.modify)&&!i.checkPermission(en.annotForm))throw new Error("Permission error");return i.api.handleGroupMarkup(i.getId(),r,e,t).then((function(t){var r=e.map((function(e){var i=n.annotIdMap[e];return i.info=t[e],i.reviseSummary((function(e){return n.annotIdMap[e]}))}));Promise.all(r).then((function(e){n.doc.engine.eventEmitter.emit(le.docModified,i),n.doc.engine.eventEmitter.emit(le.annotationUpdated,e,n)}))}))}},{key:"getTextInRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.doc;if(!n.checkPermission(en.extract))throw new Error("Permission error");if(n.isStaticXFA())throw new Error("File type error, current is Static documents");return this.doc.api.getTextInRect(this.doc.getId(),this.getId(),e,t)}},{key:"scaleClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.transformClipRect(e,t,0,0)}},{key:"translateClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.transformClipRect(1,1,e,t)}},{key:"transformClipRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.doc.api.transformPage(this.doc.getId(),this.getId(),{scaleX:e,scaleY:t,translateX:n,translateY:i})}},{key:"getAnnotRects",value:function(){return this.annots.length?Promise.resolve(this.annots.map((function(e){return e.info}))):this.doc.api.getAnnotRects(this.doc.getId(),this.getId())}},{key:"getBatchProcessor",value:function(){return this.batchProcessor}},{key:"clearRenderCache",value:function(){return this.doc.api.clearPageRenderCache(this.doc.getId(),this.getId())}},{key:"clearCacheObjects",value:function(){return this.doc.engine.eventEmitter.emit("before-clear-pageCache",this.getIndex()),this.doc.api.clearCacheObejcts({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"getWordCount",value:function(){return this.doc.api.getWordCount({path:"jr/doc/page"},this.doc.getId(),this.getId())}},{key:"changeAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");if([zi.popup,zi.watermark].includes(t.getType()))throw new Error("Not support Popup and Watemark.");return this.doc.api.changeAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),t.getId(),e).then((function(i){var r=[];return n.annots.forEach((function(e){return r.push(e._update())})),Promise.all(r).then((function(i){n.annots.sort(Vy),n.doc.engine.eventEmitter.emit(le.annotationOrderChanged,[t],n,e)}))}))}},{key:"moveAnnotOrder",value:function(e,t){var n=this;if(!this.doc.checkPermission(en.annotForm))throw new Error("Permission error");return this.doc.api.moveAnnotOrder({path:"jr/doc/page"},this.doc.getId(),this.getId(),e.getId(),t).then((function(t){var i=[];return n.annots.forEach((function(e){return i.push(e._update())})),Promise.all(i).then((function(t){n.annots.sort(Vy),n.doc.engine.eventEmitter.emit(le.annotationOrderChanged,[e],n,0===e.getIndex()?Ot.first:Ot.last)}))}))}}]),e}();function Vy(e,t){return e.getIndex()>t.getIndex()?1:-1}const Uy=jy;var Hy=function(){function e(t,n,i){(0,_._)(this,e),this.doc=t,this.form=n,this.info=i,this.controls=[],this.updateControls(this.info.controls)}return(0,P._)(e,[{key:"destroy",value:function(){this.destroyed=!0,this.doc=null,this.form=null,this.controls.forEach((function(e){return e.destroy()})),this.controls=[],this.info=null}},{key:"getWidget",value:function(e){return this.controls[e].getWidget()}},{key:"getLoadedWidgets",value:function(){return this.controls.map((function(e){return e.getWidget()})).filter((function(e){return e}))}},{key:"getIndex",value:function(){return this.info.index}},{key:"updateWidgetsUI",value:function(e,t,n,i,r){var o=this,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!this.doc)return Promise.resolve();-1!==["value","comb","multiline","choiceMultiSelect","comboEdit","maxLength","hidden","password","readonly","required","noScroll","clearItems","deleteItems","setItems","icon","insertItemAt"].indexOf(n)&&this.doc.engine.eventEmitter.emit(le.formValueChanged);var A=[];return this.controls.forEach((function(e){var t,s=e.getWidget();s?(t=r?o.form.addTask((function(e){return r(s).then((function(e){return s.updateUI({type:n,value:i})}))}),a):o.form.addTask((function(e){return s.updateUI({type:n,value:i})}),a),A.push(t)):A.push(o.form.addTask((function(t){return e.updateProperty(n,i).then((function(t){return e.info&&e.info.objectNumber>0&&e.getWidgetAnnot().then((function(e){if(e&&r)return r(e)}))}))}),a))})),Promise.all(A).then((function(e){return!0}))}},{key:"getControlById",value:function(e){for(var t=0;t<this.controls.length;t++){var n=this.controls[t];if(n.info.objectNumber==e)return n}}},{key:"getPDFForm",value:function(){return this.form}},{key:"getName",value:function(){return this.info.name}},{key:"getAlternateName",value:function(){return this.info.alternateName}},{key:"setAlternateName",value:function(e){var t=this;this.form.checkFillPerm(),this.info.alternateName=e,this.update("alternateName",e).then((function(e){t.triggerUpdateEvent(tn.formFieldAlternateName)}))}},{key:"getMappingName",value:function(){return this.info.mappingName}},{key:"setMappingName",value:function(e){var t=this;this.form.checkFillPerm(),this.getType()!==pn.Sign&&(this.info.mappingName=e,this.update("mappingName",e).then((function(e){t.triggerUpdateEvent(tn.formFieldMappingName)})))}},{key:"getType",value:function(){return this.info.type}},{key:"getFlags",value:function(){return this.info.flag}},{key:"setFlags",value:function(e){var t=this,n=function(e){var n=void 0,o=void 0,c=function(){return Promise.resolve()};s&&a[e]==A?(n="value",o=t.getValue()):(n=b[a[e]],o=r[a[e]]),"hidden"==n&&(c=function(e){var t=e.info.flag;return o?(t&=-2,t&=-33,t|=6):(t&=-2,t&=-3,t&=-33,t|=4),e.setFlagValue(t)}),t.controls.forEach((function(e){var t,r=e.getWidget();r?(t=c(r).then((function(e){return r.updateUI({type:n,value:o})})),y.push(t)):y.push(i.form.addTask((function(t){return e.updateProperty(n,o)})))}))},i=this;this.form.checkFillPerm();var r={};Object.entries(gn).forEach((function(t){"number"==typeof t[1]&&(e&gn[t[0]])>0?r[t[0]]=!0:r[t[0]]=!1}));var o=Promise.resolve(),a=Object.keys(r),A="ButtonRadiosInUnison",s=this.getType()==pn.RadioButton,c=this.info.flag,u=!0,l=!1,d=void 0;try{for(var h,f=Object.entries(r)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=(0,E._)(h.value,2),g=p[0],v=p[1];"Hidden"!==g&&(v?c|=gn[g]:c&=~gn[g])}}catch(e){l=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw d}}this.info.flag=c;var m=(0,R._)(Object.keys(gn)).filter((function(e){return["NoExport","CommitOnSelChange"].every((function(t){return t!==e}))}));(0,R._)(a).filter((function(e){return-1!==m.indexOf(e)})).length&&this.doc.engine.eventEmitter.emit(le.formValueChanged);for(var y=[],b={ReadOnly:"readonly",Required:"required",Hidden:"hidden",TextMultiline:"multiline",TextPassword:"password",TextDoNotSpellCheck:"noSpellCheck",TextDoNotScroll:"noScroll",TextComb:"comb",ComboEdit:"comboEdit",ChoiceMultiSelect:"choiceMultiSelect"},w=0;w<a.length;w++)n(w);o.then((function(e){var t=[];return i.controls.forEach((function(e){e.getWidget()&&t.push(i.update("flag",i.info.flag))})),Promise.all(t)})).then((function(e){return i.triggerUpdateEvent(tn.flagsUpdated),Promise.all(y).then((function(e){return!0}))}))}},{key:"setComb",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.TextComb:this.info.flag&~gn.TextComb,this.updateWidgetsUI(this.form,this.info.name,"comb",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setMultiline",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.TextMultiline:this.info.flag&~gn.TextMultiline,this.updateWidgetsUI(this.form,this.info.name,"multiline",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setChoiceMultiSelect",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.ChoiceMultiSelect:this.info.flag&~gn.ChoiceMultiSelect,this.updateWidgetsUI(this.form,this.info.name,"choiceMultiSelect",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setComboEdit",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.ComboEdit:this.info.flag&~gn.ComboEdit,this.updateWidgetsUI(this.form,this.info.name,"comboEdit",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"update",value:function(e,t){var n=this;return this.form.addTask((function(i){return n.doc.api.updateField(n.doc.id,n.info.name,e,t)}))}},{key:"getValue",value:function(){return this.info&&String(this.info.value).length>0?this.info.value:""}},{key:"getValueIndex",value:function(){if(!this.info)return-1;for(var e=this.info.options,t=0;t<e.length;t++)if(e[t].value==this.info.value)return t;return-1}},{key:"getDefaultValue",value:function(){return this.info?this.info.defaultValue:""}},{key:"setDefaultValue",value:function(e){var t=this;this.form.checkFillPerm(),this.update("defaultValue",e);var n=this.getType();return(n==pn.RadioButton||n==pn.CheckBox)&&this.info.controls.forEach((function(n){var i=t.getControlById(n.objectNumber),r=i.widget&&i.widget.getOnAS();n.isDefaultChecked=r===e,n.isDefaultChecked=r===e})),this.info.defaultValue=e}},{key:"getAlignment",value:function(){return this.info.alignment}},{key:"setAlignment",value:function(e){var t,n=this;if(this.form.checkFillPerm(),1===this.getType())return Promise.resolve();switch(+e){case 0:t="left";break;case 1:t="center";break;case 2:t="right";break;default:throw new Error("Unknown alignment: "+e)}return this.updateWidgetsUI(this.form,this.info.name,"align",t,(function(t){return t.updateMKProperty("alignment",+e)})).then((function(t){return n.update("align",e),n.info.alignment=e}))}},{key:"setAlignmentWithString",value:function(e,t){return this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"align",t||e),this.update("align",e),this.info.alignment=e}},{key:"getBorderStyle",value:function(){var e=this.controls[0].getWidget(),t=0;switch(e&&(t=e.getBorderStyle()),t){case 0:return"solid";case 1:return"dashed";case 2:return"underline";case 3:return"beveled";case 4:return"inset"}}},{key:"getRotation",value:function(){var e=this.controls[0].getWidget(),t=0;return e&&(t=e.getRotation()),-90*t}},{key:"setBorderStyle",value:function(e){var t,n;switch(this.form.checkFillPerm(),e){case"solid":n=0;break;case"dashed":n=1,t=[3,3];break;case"underline":n=2;break;case"beveled":n=3,e="outset";break;case"inset":n=4;break;default:return}return this.setBorderStyleWithParam(n,e,t)}},{key:"setBorderStyleWithParam",value:function(e,t,n){return this.updateWidgetsUI(this.form,this.info.name,"borderStyle",t,(function(t){return t.setBorderStyle(e,n)}))}},{key:"setBorderWidth",value:function(e){var t,n=this;switch(this.form.checkFillPerm(),e){case"thin":t=1;break;case"medium":t=2;break;case"thick":t=3;break;default:return}return this.updateWidgetsUI(this.form,this.info.name,"borderWidth",e,(function(e){var i=e.setBorderWidth(t);return n.form.engine.eventEmitter.emit(le.annotationUpdated,[e],e.getPDFPage(),tn.borderWidthUpdated),i}))}},{key:"setBorderColor",value:function(e){var t=this;return this.form.checkFillPerm(),e=0===e?0:(0,U.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"borderColor",e,(function(n){var i=n.setMKProperty("borderColor",e);return t.form.engine.eventEmitter.emit(le.annotationUpdated,[n],n.getPDFPage(),tn.borderColorUpdated),i}))}))}},{key:"getBorderColor",value:function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("borderColor"):0}},{key:"setFillColor",value:function(e){var t=this;return this.form.checkFillPerm(),e=0===e?e:(0,U.colorConvertor)(e,"int"),this.form.addTask((function(n){return t.updateWidgetsUI(t.form,t.info.name,"fillColor",e,(function(n){var i=n.setMKProperty("fillColor",e);return t.form.engine.eventEmitter.emit(le.annotationUpdated,[n],n.getPDFPage(),tn.fillColorUpdated),i}))}))}},{key:"getFillColor",value:function(){var e=this.controls[0].getWidget();return e?e.getMKProperty("fillColor"):0}},{key:"getOptions",value:function(){return this.info.options||[]}},{key:"getMaxLength",value:function(){return this.info.maxLength}},{key:"setMaxLength",value:function(e){var t=this;return this.form.checkFillPerm(),this.getType()!==pn.Text?0:(this.info.maxLength=e,this.form.addTask((function(n){return t.triggerUpdateEvent(tn.formFieldsMaxLengthUpdated),t.updateWidgetsUI(t.form,t.info.name,"maxLength",e)})),this.update("maxLength",e),e)}},{key:"setValueWithoutAction",value:function(e){this.info&&((0,I._)(e,Array)?this.info.value=e:this.info.value=""+e)}},{key:"syncValue",value:function(e){var t=this;if(!this.info)return Promise.resolve();this.info.value=e;var n=this.info.name;return this.doc.api.setFieldValue(this.doc.id,n,e).then((function(i){var r=t.controls.map((function(e){return e.getWidget()}));return t.triggerUpdateEvent(tn.formFieldValueUpdated,"value",r),t.updateWidgetsUI(t.form,n,"value",e)}))}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.setValueEx(e,t)}},{key:"setValueEx",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e=i?i.info.objectNumber:this.controls[0].info.objectNumber,!this.doc.checkPermission(en.fillForm|en.annotForm))throw new Error("Permission error");var a=this.getType();if(7===a||1===a)return Promise.resolve();var A=this.getValue();if(a!==pn.RadioButton&&A===n&&!o)return Promise.resolve();var s=a==pn.RadioButton||a==pn.CheckBox,c=a==pn.ListBox,u=a==pn.ComboBox;if(s){var l=!1;this.info.controls.forEach((function(e){if(e.exportValue==n)e.isChecked=!0,l=!0;else{var i=t.getControlById(e.objectNumber),r=i.widget&&i.widget.info.ApStates;r&&r.indexOf(n)>-1&&(l=!0),e.isChecked=!1}})),l||(n="Off")}var d=this.getOptions();if(c&&r){if(Array.isArray(n)){for(var h=function(e){if(!d.find((function(t){return t.value===n[e]})))return f=!1,"break"},f=!0,p=n.length;p--;){if("break"===h(p))break}f||(n="")}else d.find((function(e){return e.value===n}))||(n="");d.forEach((function(e){(Array.isArray(n)?n.indexOf(e.value)>-1:e.value==n)?e.selected=!0:e.selected=!1}))}else u&&d.forEach((function(e){(Array.isArray(n)?n.indexOf(e.value)>-1:e.value==n)?e.selected=!0:e.selected=!1}));if(Array.isArray(n)||(n=""+n),this.info.value==n&&!s&&!o)return Promise.resolve(n);this.info.value=n;var g=this.info.name,v=[];return a==pn.RadioButton&&this.controls.forEach((function(e){var t=e.getWidget();t&&v.push(t.getAS())})),this.doc.api.setFieldValue(this.doc.id,g,n).then((function(r){var o=Promise.resolve();return s&&t.controls.forEach((function(t){var i=t.getWidget();i&&(o=i.update().then((function(t){return i.setAS(n,e)})))})),t.NeedExecuteValidateAction=!0,o.then((function(e){return t.updateWidgetsUI(t.form,g,"value",n)})).then((function(){var e=i&&(0,I._)(i,ho)?[i]:[];if(a==pn.RadioButton){var r=[];if(t.controls.forEach((function(e){var t=e.getWidget();t&&r.push(t.getAS())})),v.toString()!=r.toString())for(var o=0;o<r.length;o++)r[o]!=v[o]&&e.push(t.controls[o].getWidget());if(A!==n&&!e.length){var s=t.controls[0].getWidget();e=s?[s]:[]}}else{var c=t.controls[0].getWidget();e=c?[c]:[]}t.triggerUpdateEvent(tn.formFieldValueUpdated,"value",e),t.NeedExecuteValidateAction=!1}))}))}},{key:"triggerUpdateEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.form&&this.form.engine){var i=this.form.engine.eventEmitter;if(e==tn.formFieldValueUpdated){if(!n.length)return;return i.emit(le.annotationUpdated,n,n[0].getPDFPage(),e,t)}this.controls.forEach((function(n){var r=n.getWidget();r&&i.emit(le.annotationUpdated,[r],r.getPDFPage(),e,t)}))}}},{key:"setValueByIndex",value:function(e){this.form.checkFillPerm();var t=this.info.options[e].value;return this.setValue(t),e}},{key:"setHidden",value:function(e){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"hidden",e,(function(t){var n=t.info.flag;return e?(n&=-2,n&=-33,n|=6):(n&=-2,n&=-3,n&=-33,n|=4),t.setFlagValue(n)}),!0)}},{key:"setPassword",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.TextPassword:this.info.flag&~gn.TextPassword,this.updateWidgetsUI(this.form,this.info.name,"password",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setReadonly",value:function(e){var t=this;return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.ReadOnly:this.info.flag&~gn.ReadOnly,this.updateWidgetsUI(this.form,this.info.name,"readonly",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setRequired",value:function(e){var t=this;return this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.Required:this.info.flag&~gn.Required,this.updateWidgetsUI(this.form,this.info.name,"required",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setNoScroll",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.TextDoNotScroll:this.info.flag&~gn.TextDoNotScroll,this.updateWidgetsUI(this.form,this.info.name,"noScroll",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setNoSpellCheck",value:function(e){var t=this;this.form.checkFillPerm(),this.info.flag=e?this.info.flag|gn.TextDoNotSpellCheck:this.info.flag&~gn.TextDoNotSpellCheck,this.updateWidgetsUI(this.form,this.info.name,"noSpellCheck",e),this.update("flag",this.info.flag).then((function(){t.triggerUpdateEvent(tn.flagsUpdated)}))}},{key:"setInUnison",value:function(e){var t=this;this.form.checkFillPerm();var n=Promise.resolve();if(e)this.info.flag=this.info.flag|gn.ButtonRadiosInUnison;else{this.info.flag=this.info.flag&~gn.ButtonRadiosInUnison;var i=this.info.controls[0].exportValue;n=n.then((function(e){return t.doc.api.setFieldValue(t.doc.id,t.getName(),i)}))}n.then((function(e){return t.update("flag",t.info.flag)})).then((function(e){t.triggerUpdateEvent(tn.flagsUpdated);var n=t.getValue();t.updateWidgetsUI(t.form,name,"value",n)}))}},{key:"setMKProperty",value:function(e,t){this.updateWidgetsUI(this.form,this.info.name,e,t,(function(n){return n.setMKProperty(e,t)}))}},{key:"clearItems",value:function(){this.form.checkFillPerm(),this.info.options.length=0,this.info.value="",this.updateWidgetsUI(this.form,this.info.name,"clearItems"),this.update("clearItems")}},{key:"deleteItems",value:function(e){this.form.checkFillPerm(),e<0||e>=this.info.options.length||(this.info.options[e].value==this.info.value&&(this.info.value=""),this.info.options.splice(e,1),this.updateWidgetsUI(this.form,this.info.name,"deleteItems",e),this.update("deleteItems",e))}},{key:"insertItemAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.form.checkFillPerm();var i=this.info.options;-1==n&&(n=i.length),t||(t=e);var r=n==i.length?n-1:n;i[r]&&i[r].value==t?this.info.value=t:(this.info.options=[].concat(i.slice(0,n),{label:e,value:t,defaultSelected:!1,selected:!1},i.slice(n,i.length)),this.info.value=t,this.updateWidgetsUI(this.form,this.info.name,"insertItemAt",n),this.update("insertItemAt",{index:n,label:e,value:t,defaultSelected:!1,selected:!1}))}},{key:"showDisplayValue",value:function(e){return this.form&&this.info?this.info.displayValue==e?Promise.resolve():void this.updateWidgetsUI(this.form,this.info.name,"displayValue",e):Promise.resolve()}},{key:"getAction",value:function(e){if(!this.engineActions)for(var t in this.engineActions={},this.info.AA)this.engineActions[t]=this.doc.engine.actionFactory.createAction(this.info.AA[t],this.doc);return this.engineActions[e]}},{key:"getDAFontSize",value:function(){return this.info.DA.textSize}},{key:"getDAFontColor",value:function(){return this.info.DA.textColor}},{key:"isDAFontEmbedded",value:function(){return this.info.DA.isEmbedded}},{key:"getDAFontBuffer",value:function(){return this.doc.api.getFontBufferByName(this.doc.id,this.info.DA.fontName)}},{key:"setDAFontColor",value:function(e){this.form.checkFillPerm();var t=(0,U.colorConvertor)(e,"int");return t==this.info.DA.textColor||(this.info.DA.textColor=t,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,U.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor",t)})),this.update("textColor",t)),t}},{key:"setDAFontColorAsync",value:function(e){var t=this;this.form.checkFillPerm();var n=(0,U.colorConvertor)(e,"int");return this.info.DA.textColor=n,this.updateWidgetsUI(this.form,this.info.name,"textColor",(0,U.colorConvertor)(e,"HTML"),(function(e){return e.updateMKProperty("fontColor",n)})).then((function(){return t.update("textColor",n)})).then((function(){return n}))}},{key:"getControlByIndex",value:function(e){return this.controls[e]}},{key:"removeControlInfo",value:function(e){var t;for((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.form.checkFillPerm(),t=0;t<this.info.controls.length;t++){if(this.info.controls[t].objectNumber==e){this.info.controls.splice(t,1);break}}return this.controls[t].destroy(),this.controls.splice(t,1),this.info.controls.length}},{key:"getControlsCount",value:function(){return this.info.controls.length}},{key:"focus",value:function(){var e=this.controls[0]&&this.controls[0].getWidget();e&&e.updateUI({type:"focus"})}},{key:"getControlExportValues",value:function(e){return this.info.controls[e].exportValue}},{key:"getExportValues",value:function(){for(var e=[],t=0;t<this.info.controls.length;t++)e.push(this.info.controls[t].exportValue);return e}},{key:"setExportValue",value:function(e,t){var n=this,i=this.info.controls[e];return i.exportValue=t,this.doc.api.updateFormControl(this.doc.id,this.getName(),i.objectNumber,"exportValue",t).then((function(e){n.triggerUpdateEvent(tn.formFieldExportValueUpdated,"exportValue"),e.forEach((function(e,t){var i=n.controls[t];i.setExportValue(e);var r=i.getWidget();if(r)return r._update().then((function(e){return r.updateUI({})}))}))}))}},{key:"setWidgetDisplay",value:function(e,t){return this.updateWidgetsUI(this.form,this.info.name,"display",e,(function(n){return n.setDisplay(e,t)}),!0)}},{key:"setIconObj",value:function(e,t){this.form.checkFillPerm(),this.updateWidgetsUI(this.form,this.info.name,"icon",null,(function(n){return n.setIconObj(e,t)}))}},{key:"setOptions",value:function(e){var t=this;if(this.form&&(this.form.checkFillPerm(),4===this.getType()||5===this.getType())){e.length>0&&!e.some((function(e){return e.selected}))&&(e[0].selected=!0),this.info.options=e;var n=this.update("setItems",this.info.options);return arguments[1]?n:n.then((function(n){t.info.defaultValue=n.defaultValue;t.info.value;for(var i=0;i<e.length;i++)if(e[i].selected){e[i].value;break}return t.info.options=n.options,Promise.resolve()})).then((function(){var e=t.updateWidgetsUI(t.form,t.info.name,"setItems");return t.triggerUpdateEvent(tn.formFieldItemsUpdated),e}))}}},{key:"setItems",value:function(e){var t=this;this.form.checkFillPerm();var n=Array.from(new Set(e.map((function(e){return JSON.stringify(e)}))));e=n.map((function(e){return JSON.parse(e)}));var i=[];return e.forEach((function(e){Array.isArray(e)?e[0]&&i.push({label:e[0].toString(),value:e[1].toString(),selected:e[2]||!1,defaultSelected:e[3]||!1}):e&&i.push({label:e.toString(),value:e.toString(),selected:!1,defaultSelected:!1})})),i.length?new Promise((function(e){t.form.addTask((function(n){e(t.setOptions(i))}))})):Promise.resolve()}},{key:"setDisplayValue",value:function(e){return this.displayValue==e?Promise.resolve():(this.displayValue=e,this.update("displayValue",e))}},{key:"getDisplayValue",value:function(){return this.displayValue}},{key:"setRect",value:function(e){this.rect=e,this.updateWidgetsUI(this.form,this.info.name,"rect",e,(function(t){return t.setRect(e)}))}},{key:"updateControls",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;t<e.length;t++){var n=this.controls[t];n?n.info=e[t]:(n=new so(this.doc,this,e[t]),this.controls.push(n))}this.info.controls=e}},{key:"setAction",value:function(e,t){var n=this;if(-1!=e&&(e-Dt.keyStroke|Dt.onBlur-e)<0)throw new Error("Trigger error. Please refer to Constant Action_Trigger");if(!t)throw new Error("Action should not be null.");this.form.checkDesignPerm();var i=t.info;if("string"==typeof t){var r=new Yr;r.setScript(t),i=(t=r).info}var o=this.info.name,a={trigger:e,data:i,field:o};if(e>6&&e<11){var A=this.getAction(e);return this.update("AA",a).then((function(i){n.triggerEvents(le[A?"actionUpdated":"actionAdd"],n.controls[0].getWidget()),n.triggerUpdateEvent(tn[A?"formFieldActionUpdated":"addAction"]);var r=n.doc;t.init(i,r.engine.actionFactory,r,r.api,r.engine.eventEmitter,n),e==Dt.calculate&&n.form.addCO(n),n.info.AA[e]=i,n.engineActions&&(n.engineActions[e]=t)}))}return this.updateWidgetsUI(this.form,o,"action",a,(function(n){return n.setAction(e,t)}))}},{key:"triggerEvents",value:function(e){if(this.form&&this.form.engine){var t=this.form.engine.eventEmitter;this.controls.forEach((function(n){var i=n.getWidget();i&&t.emit(e,[i])}))}}},{key:"removeAction",value:function(e){var t=this.info.name,n={trigger:e,data:null,field:t};return e==Dt.calculate&&this.form.removeFieldInCO(t),this.updateWidgetsUI(this.form,t,"action",n,(function(t){return t.removeAction(e)}))}},{key:"hasControl",value:function(e){return this.info.controls.some((function(t){return t.objectNumber==e}))}},{key:"getBorderWidth",value:function(){var e=this.controls[0].getWidget();return e?e.getBorderWidth():0}},{key:"isDateType",value:function(){var e=this.getType(),t=this.info;return 6===e&&t.AA&&t.AA[Dt.keyStroke]&&t.AA[Dt.keyStroke].javascript&&t.AA[Dt.keyStroke].javascript.indexOf("Date")>-1}},{key:"isImageType",value:function(){var e=this.getType(),t=this.getWidget(0);if(!t)return!1;var n=t.info;return 1===e&&n.iconFit&&n.iconFit.isProportionalScaling}}]),e}();const zy=Hy;var Wy=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){return(0,_._)(this,n),t.call(this,e,i,r)}return(0,P._)(n,[{key:"isSigned",value:function(){return this.info.isSigned}},{key:"getByteRange",value:function(){return this.info.byteRange}},{key:"getFilter",value:function(){return this.info.filter}},{key:"getSubfilter",value:function(){return this.info.subfilter}},{key:"getSigner",value:function(){return this.info.signer}},{key:"setLockAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(n)||(n=n.split(",")),this.form.addTask((function(i){return t.doc.api.setLockAction(t.doc.id,t.info.name,e,n).then((function(i){return t.info.lockAction={type:e,fields:n}}))}))}},{key:"getLockAction",value:function(){return this.info.lockAction}},{key:"Verify",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.VerifySignature(t.doc.id,t.info.name,e)}))}))}},{key:"verifySignatureLtv",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.verifySignatureLtv(t.doc.id,t.info.name,e)}))}))}},{key:"clearSignature",value:function(e){var t=this;return this.form.addTask((function(n){return t.doc.engine.ensureSideModeLoaded().then((function(n){return t.doc.api.clearSignature(t.doc.id,t.info.name,e)}))}))}},{key:"_getDigitalSignatureInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.form.addTask((function(n){return e.doc.engine.ensureSideModeLoaded().then((function(n){return e.doc.api.getDigitalSignatureInfo(e.doc.id,e.info.name,t)}))}))}},{key:"getDigitalSignatureInfo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;return new Promise((e=(0,x._)((function(e,r){var o,a,A,s,c,u,l,d,h,f,p,g,v,m,y,k,x,_,P,D,C,S,I,E,R,T,M,L,N,O;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:if(i.destroyed)return e({}),[2];if(o={},a={},A=i.info,s=A.isSigned,c=A.signer,u=A.originalSigner,l=void 0===u?c:u,!s)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i._getDigitalSignatureInfo(t)];case 2:return a=r.sent(),d=a.certificateInfo,h=(void 0===d?{}:d).subjectChain,c=(c=((f=void 0===h?[]:h)[f.length-1]||{}).subjectName||"")||l,[3,4];case 3:return p=r.sent(),a={},console.error(p),[3,4];case 4:return n?(g=i.info,v=g.name,m=g.signTimeFormat,y=g.location,k=g.reason,x=g.contact,_=g.DN,P=g.text,D=g.isCertified,C=g.fileSizeOfSignedVersion,S=g.signedVersion,I=g.isVisible,E=g.filter,R=g.subfilter,T=g.creatorName,M={name:v,isSigned:s,isVisible:I},s&&(L={signTime:m,originalSigner:l,signer:c,location:y,reason:k,contact:x,DN:_,text:P,isCertified:D,fileSizeOfSignedVersion:C,signedVersion:S,filter:E,subfilter:R,creatorName:T},M=(0,b._)({},M,L),i.info=(0,w._)((0,b._)({},i.info,a),{signer:c,originalSigner:l})),[4,i.getControlByIndex(0).getWidgetAnnot()]):[3,6];case 5:return N=r.sent(),O={pageIndex:N?N.getPage().getIndex():0,top:N?N.info.rect.top:0,widgetId:N?N.getId():void 0},o=(0,b._)({},M,a,O),[3,7];case 6:o=(0,b._)({},i.signatureInfo||{},a),r.label=7;case 7:return e(o),[2]}}))})),function(t,n){return e.apply(this,arguments)}))}},{key:"isLast",value:function(){return this.doc.api.isLastSignature(this.doc.id,this.getName())}},{key:"getImage",value:function(){return this.getBitmap().then((function(e){if(!e)return null;var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),t.toDataURL()}))}},{key:"getBitmap",value:function(){return this.doc.api.getSignatureBitmap(this.doc.id,this.info.name)}},{key:"setBitmap",value:function(e){var t=this,n=this.getWidget(0);return this.doc.api.setSignatureBitmap(this.doc.id,this.info.name,e).then((function(){return t.doc.engine.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage()),t}))}},{key:"getSignInfo",value:function(){var e=this;return this.isSigned()?this.getControlByIndex(0).getWidgetAnnot().then((function(t){var n=t.getRect(),i=t.getPage().getIndex(),r=e.info,o=r.filter,a=r.subfilter,A=r.apFlag,s=r.signer,c=r.location,u=r.reason,l=r.DN,d=r.text,h=r.name,f=r.signTime,p=r.contact;return e.getImage().then((function(e){return{filter:o,subfilter:a,rect:n,pageIndex:i,flag:A,signer:s,reason:u,email:p,distinguishName:l,location:c,textValue:d,fieldName:h,signTime:f,image:e}}))})):Promise.resolve({})}}]),n}(zy);const Yy=Wy;var Gy=function(){function e(t,n){(0,_._)(this,e),this.doc=t,this.engine=n,this.api=n.api,this.fields=[],this.fieldsNameMap={},this.actionDepth=0,this.calculationEnabled=!0,this.queueTask=new U.QueuedAsyncTaskExecutor,this.formInfo={}}return(0,P._)(e,[{key:"destroy",value:function(){var e=this;return this.doc.api.destroyForm(this.doc.id).then((function(){e.doc=null,e.engine=null,e.api=null,e.fields.forEach((function(t){var n=t.getName();e.fieldsNameMap[n]=null,t.destroy()})),e.fields=[],e.fieldsNameMap=null}))}},{key:"checkFillPerm",value:function(){if(!this.doc.checkPermission(en.annotForm|en.fillForm))throw new Error("Permission error")}},{key:"checkDesignPerm",value:function(){if(!this.doc.checkPermission(en.annotForm)||!this.doc.checkPermission(en.modify))throw new Error("Permission error")}},{key:"setState",value:function(e){this.state=e}},{key:"reduceControl",value:function(e,t){var n=this;Object.keys(this.fieldsNameMap).forEach((function(e){t.forEach((function(t){var i=n.fieldsNameMap[e];i&&i.hasControl(t)&&n.removeControl(e,t,!1)}))}))}},{key:"isEmpty",value:function(){return!this.fields.length}},{key:"setActionHandler",value:function(e){this.actionHandler=e}},{key:"setFormJson",value:function(e){if(this.isLoaded=!0,e){this.formInfo=e;for(var t=0,n=e.fields.length;t<n;t++){var i=e.fields[t],r=this.fieldsNameMap[i&&i.name||t];r&&r.updateControls?r.updateControls(i.controls):(r=7==i.type?new Yy(this.doc,this,i):new zy(this.doc,this,i),this.fields.push(r),this.fieldsNameMap[i&&i.name||t]=r)}}else this.formInfo={fields:[]}}},{key:"reloadPDFFieldByName",value:function(e){var t=this;return this.api.reloadFieldByName(this.doc.id,e).then((function(n){return t.updatePDFField(e,n),n}))}},{key:"updatePDFField",value:function(e,t){var n=this.fieldsNameMap[e];n&&(n.updateControls(t.controls),n.info=t,this.fieldsNameMap[e].info=t)}},{key:"getAlignment",value:function(){return this.formInfo.alignment}},{key:"getFieldCount",value:function(){return this.fields.length}},{key:"getField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.fieldsNameMap[e];if(!t||n)return n;var i=[];for(var r in this.fieldsNameMap)r.startsWith(e)&&i.push(this.fieldsNameMap[r]);return i}},{key:"getFieldByIndex",value:function(e){return this.fields[e]}},{key:"getFieldAtPosition",value:function(e,t,n){var i=this.fields.filter((function(t){var n=t.getControlsCount()>0?t.getWidget(0):void 0;return!!n&&n.getPDFPage().getIndex()===e}));if(i)for(var r=0;r<i.length;r++){var o=i[r];if(o.getLoadedWidgets().some((function(e){var i=e.getRect();return!(t<i.left||t>i.right||n<i.bottom||n>i.top)})))return o}}},{key:"setFieldValue",value:function(e,t){if(this.checkFillPerm(),"string"==typeof e&&(e=this.fieldsNameMap[e]),e.setValue(t),this.actionDepth++,this.actionDepth<2){var n=this.formInfo.calculationOrder;for(var i in n){var r=this.getField(n[i]),o=r.getAction(go.FieldRecalculateValue);o&&this.actionHandler&&this.actionHandler(o,e,r,go.FieldRecalculateValue)}}this.actionDepth--}},{key:"calculate",value:function(e){if(this.checkFillPerm(),this.calculationEnabled){if("string"==typeof e&&(e=this.fieldsNameMap[e]),this.actionDepth++,this.actionDepth<2){var t=this.formInfo.calculationOrder;for(var n in t){var i=this.getField(t[n]);if(i){var r=i.getAction(go.FieldRecalculateValue);r&&this.actionHandler&&this.actionHandler(r,e,i,go.FieldRecalculateValue)}}}this.actionDepth--}}},{key:"resetForm",value:function(){var e=this,t=arguments,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.checkFillPerm(),this.enumFields(n,i,(function(n,i,r){var o=e.getField(i),a=o.getDefaultValue();if(6===o.getType()){var A=o.getMaxLength();a.length>A&&0!=A&&(a=a.substring(0,A))}o.setValue(a);var s=t[3]||{};s.setValue&&s.setValue(a,r,o),e.formInfo.calculationOrder.includes(i)&&e.calculate(o)}),!0),r&&this.calculate(r)}},{key:"submitForm",value:function(e,t,n){var i,r=this,o=fn.getType(n),a="application/json";switch(o){case"HTML":var A="";this.enumFields(t,n,(function(e,t,n){A+=t+"="+n+"&"}),!1,!1,!0),A=encodeURI(A.substr(0,A.length-1)),e+="?"+A,i=Promise.resolve(A);break;case"FDF":a="application/vnd.fdf",i=Promise.resolve(new Blob([this.exportFDF(t,n,!0)]));break;case"XFDF":a="application/vnd.xfdf",i=Promise.resolve(new Blob([this.exportXFDF(t,n,!0)]));break;case"PDF":var s=[];i=this.doc.getStream((function(e){var t=e.arrayBuffer;e.offset,e.size;s.push(t)})).then((function(e){return new Blob(s,{type:"application/pdf"})}))}return i.then((function(t){var i=fn.isGetMethod(n);return new Promise((function(n,o){var A=new XMLHttpRequest;A.open(i?"GET":"POST",e),A.setRequestHeader("Content-Type",a),A.send(t),A.onloadend=function(){n(A);var e=A.response.match(/\/JavaScript <<\/Before\s\(([\s\S]*?)\)>>/);if(e){e=e[1];var t=new Yr;t.setScript(e),r.actionHandler(t,null,null,-1)}}}))}))}},{key:"enumFieldsEx",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],A=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(fn.isExclude(n)){var s=Object.keys(this.fieldsNameMap);if(0==(t=s.filter((function(e){return-1==t.indexOf(e)}))).length)return}0==t.length&&(t=Object.keys(this.fieldsNameMap));var c=!1,u=0,l="enumFieldsEx",d=1;t.length>300&&(c=!0,this.doc.engine.eventEmitter.emit(de.progressChanged,l,0,Tm.PROGRESSING));for(var h=function(){c&&e.addTask((function(){if(++u>=t.length)e.doc.engine.eventEmitter.emit(de.progressChanged,l,100,Tm.SUCCESS);else{var n=Math.floor(t.length/100)*d;u>=n&&(e.doc.engine.eventEmitter.emit(de.progressChanged,l,Math.round(u/t.length*100),Tm.PROGRESSING),d++)}}),!0)},f=r?1:fn.isIncludeNoValueFields(n),p=0;p<t.length;p++){var g=t[p],v=this.getField(g);if(v){var m=v.getType(),y=v.getValue();if(a&&(m===pn.RadioButton||m===pn.CheckBox)){for(var b="Off",w=0;w<v.getControlsCount();w++)if(v.getControlByIndex(w).info.isChecked){b=v.getControlByIndex(w).getExportValue();break}y=b}var k=0;r||(k=(k=gn.isNoExport(v.getFlags()))||(A?"":!y)&&!f),o||m!=pn.Sign&&m!=pn.PushButton&&!k?(i(m,v.getName(),y||""),h()):h()}else h()}}},{key:"enumFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.enumFieldsEx(e,t,n,i,r,!1,o)}},{key:"exportFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[37,70,68,70,45,49,46,50,10,49,32,48,32,111,98,106,10,60,60,47,70,68,70,60,60,47,70,40];$y(i,this.getFileName()),$y(i,")/Fields["),this.enumFieldsEx(e,t,(function(e,t,n){switch($y(i,"<</T("),$y(i,t,!0),$y(i,")/V"),e){case pn.CheckBox:case pn.RadioButton:$y(i,"/"),$y(i,n,!0);break;default:$y(i,"("),$y(i,n),$y(i,")")}$y(i,">>")}),!1,!1,!0,n);var r="]/ID[<".concat(this.doc.info.fileID[0],"><").concat(this.doc.info.fileID[1],">]/UF(").concat(this.getFileName(),")>>")+"/Type/Catalog>>\nendobj\ntrailer\n<</Root 1 0 R>>\n%%EOF";return $y(i,r),new Uint8Array(i)}},{key:"xmlEncodeText",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/\"/g,"&quot;")}},{key:"getFileName",value:function(){return this.doc.info.fileName||""}},{key:"exportXFDF",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n'+'<f href="'.concat(this.xmlEncodeText(this.getFileName()),'"/><fields>\n'),o='</fields>\n<ids original="'.concat(this.doc.info.fileID[0],'" modified="').concat(this.doc.info.fileID[1],'"/>\n</xfdf>'),a="";return this.enumFieldsEx(t,n,(function(t,n,i){(0,I._)(i,Array)?(a+='<field name="'.concat(e.xmlEncodeText(n),'">'),i.forEach((function(t){a+="<value>".concat(e.xmlEncodeText(t),"</value>")})),a+="</field>"):a+='<field name="'.concat(e.xmlEncodeText(n),'"><value>').concat(e.xmlEncodeText(i),"</value></field>")}),!1,!1,!0,i),r+a+o}},{key:"importFDF",value:function(e){this.checkFillPerm();var t=e.match(/<<\/T\([\s\S]*?\)(\/V[\s\S]*?)?>>/g);for(var n in t){var i=t[n].match(/<<\/T\(([\s\S]*?)\)(?:\/V\/?([\s\S]*?))?>>/);if(void 0!==i[2]){var r=this.getField(i[1]);if(!r)return;var o=i[2];o!==r.getValue()&&(o=r.getType()===pn.CheckBox||r.getType()===pn.RadioButton?Ky(o):Ky(o.match(/\(([\s\S]*)\)/)[1]),r.setValue(o))}}}},{key:"importXFDF",value:function(e){this.checkFillPerm();var t=e.match(/<field\s*name=["|'][\s\S]*?["|']\s*?>\s*?(<value\s*?(\/>|>[\s\S]*?<\/value\s*?>))?\s*?<\/field\s*?>/g);for(var n in t){var i=t[n].match(/<field name=["|']([\s\S]*?)["|']\s*?>\s*?<value\s*?(?:\/>|>([\s\S]*?)<\/value\s*?>)/);if(i&&void 0!==i[2]){var r=this.getField(i[1]);if(!r)return;var o=i[2];o!==r.getValue()&&r.setValue(o)}}}},{key:"exportXML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="",r={},o=0;return this.enumFieldsEx(e,t,(function(e,t,n){var a=t,A="",s=t.match(/[^0-9][a-zA-Z0-9:\-_\.]*/);if(s&&s[0].length!==t.length&&(a="fxTag"+t.replace(/[^a-zA-Z0-9]/g,""),A=' xfdf:original="'+t+'"'),isNaN(parseInt(a))||(a="fxTag"+t,A||(A=' xfdf:original="'+t+'"')),(0,I._)(n,Array))if(1===n.length)n=(0,U.escapeXMLValue)(N()("<div/>").text(n[0]).html());else{var c="";n.forEach((function(e){c+="<value>".concat((0,U.escapeXMLValue)(e),"</value>")})),n=c}else n=(0,U.escapeXMLValue)(N()("<div/>").text(n).html());for(var u=a;u in r;)u=a+o,o+=1;r[u]=!0,i+="<"+a+A+">"+n+"</"+a+">\r"}),!1,!1,!0,n),'<?xml version="1.0" encoding="UTF-8"?><fields xmlns:xfdf="http://ns.adobe.com/xfdf-transition/">'+i+"</fields>"}},{key:"importXML",value:function(e){(this.checkFillPerm(),this.isEmpty())||("string"==typeof e&&(e=N().parseXML(e)),N()(e).children().children().each((function(){var e=getNodeString(N()(this),"xfdf:original");e&&""!==e&&0!==e.length||(e=this.tagName);var t=N()(this).text(),n=this.getField(e);n&&n.setValue(t)})))}},{key:"upadateValue",value:function(e){var t=this,n=function(){var n=t.getField(u);if(!n)return c(),"continue";var i=e[u],r=n.getType();if((0,I._)(i,Array)&&5==r){n.info.value=i;var o=n.info.options,a=[];i.forEach((function(e){for(var t=0;t<o.length;t++)t!=a[t]&&(o[t].selected=o[t].value===e)&&(a[t]=t)})),n.updateWidgetsUI(t,n.getName(),"value",i).then(c)}else{var A=Promise.resolve();if(i!==n.getValue()){if(n.info.value=i,4==r||5==r)n.info.options.forEach((function(e){e.selected=e.value===i}));A=n.updateWidgetsUI(t,n.getName(),"value",i)}2!=r&&3!=r||(n.controls.forEach((function(e){var t=e.getWidget();e.info.isChecked=e.getExportValue()==i||"Off"!==i&&t&&t.getOnAS()===i})),A=n.updateWidgetsUI(t,n.getName(),"value",i,(function(e){return e.update()}))),A.then(c)}},i=this,r=0,o="upadateValue",a="upadateFormValue",A=1,s=Object.keys(e);this.doc.engine.eventEmitter.emit(a,o,0,Tm.PROGRESSING);var c=function(){if(++r>=s.length)i.doc.engine.eventEmitter.emit(a,o,100,Tm.SUCCESS);else{var e=Math.floor(s.length/100)*A;r>=e&&(i.doc.engine.eventEmitter.emit(a,o,Math.round(r/s.length*100),Tm.PROGRESSING),A++)}return Promise.resolve()};for(var u in e)n()}},{key:"updateFields",value:function(e,t,n){if("controlFlag"===t){var i=!0,r=!1,o=void 0;try{for(var a,A=Object.keys(this.fieldsNameMap)[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value;s.startsWith(e)&&this.fieldsNameMap[s].setWidgetDisplay(n)}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}}}},{key:"addSignature",value:function(e,t,n,i){var r=this;return this.doc.api.addControl(this.doc.id,e,n||"",7,t,i).then((function(t){if(t.failed)throw new Error("Signature creation failed.");var n;return t.form?(r.setFormJson(t.form),n=r.getField(t.fieldName)):(n=new Yy(r.doc,r,t),r.fields.push(n),r.fieldsNameMap[t.name]=n),Promise.all([n,r.doc.getPageByIndex(e)]).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];return Promise.all([i,i.getUnloadedAnnots(),n])})).then((function(e){var t=(0,E._)(e,3),n=t[0],i=t[1],o=t[2],a=i.filter((function(e){return e.getType()===zi.widget}));return r.doc.engine.eventEmitter.emit(le.annotationAdd,a,n),o}))}))}},{key:"addSignatureBatch",value:function(e,t){var n=this;return this.doc.api.addSignatureControlBatch(this.doc.id,e,t).then((function(e){var t=new Set,i=[];e.forEach((function(e){var r=e.pageIndex,o=e.json;t.add(r);var a=new Yy(n.doc,n,o);n.fields.push(a),n.fieldsNameMap[o.name]=a,i.push(a)}));var r=Promise.resolve();return Array.from(t).forEach((function(e){r=r.then((function(){return n.doc.getPageByIndex(e).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1].filter((function(e){return e.getType()===zi.widget}));n.doc.engine.eventEmitter.emit(le.annotationAdd,r,i)})).catch((function(e){if(n.doc&&!n.doc.isDestroyed)throw e}))}))})),r.then((function(){return i}))}))}},{key:"addControlSync",value:function(e){return this.addControl(e.pageIndex,e.fieldName,e.fieldType,e.rect),this.fieldsNameMap[e.fieldName]}},{key:"createFieldByCopyControl",value:function(e){var t=this,n=e.pageIndex,i=e.newRect,r=e.srcWidget,o=e.newFieldName;this.checkDesignPerm();var a=r.info.fieldType,A=r.info.field,s=r.info.objectNumber;if(!this.isLoaded)throw new Error("please call PDFDoc.loadForm() firstly.");if(n<0||n>this.doc.getPageCount()-1||!o||!o.trim()||!a||a<1||a>6)return Promise.resolve({success:!1,newFieldName:o});var c,u=this.fieldsNameMap[o],l=!1;return u||(c=Jy(o,a),this.formInfo.fields.push(c),(u=new zy(this.doc,this,c)).setRect(i),this.fields.push(u),this.fieldsNameMap[c.name]=u,l=!0),this.addTask((function(e){var d=1===a&&r.info.iconFit&&r.info.iconFit.isProportionalScaling;return t.doc.api.createFieldByCopyControl(t.doc.id,n,a,d,o,i,A,s).then((function(e){return l&&e.fieldName!==o&&(t.fields.pop(u),t.formInfo.fields.pop(c),o=e.fieldName,c=Jy(o,a),t.formInfo.fields.push(c),u=new zy(t.doc,t,c),t.fields.push(u),t.fieldsNameMap[c.name]=u),e.form?t.setFormJson(e.form):u.updateControls(e.controls),t.doc.getPageByIndex(n)})).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var n=(0,E._)(e,2),i=n[0],r=n[1];return t.doc.engine.eventEmitter.emit(le.annotationAdd,r,i),{newFieldName:o,annots:r}}))}))}},{key:"hasSigField",value:function(){return this.fields.some((function(e){return 7==e.getType()}))}},{key:"addControl",value:function(e,t,n,i){var r=this;if(this.checkDesignPerm(),!this.isLoaded)throw new Error("please call PDFDoc.loadForm() firstly.");if(e<0||e>this.doc.getPageCount()-1||!t||!t.trim()||!n||n<1||n>6)return Promise.resolve({success:!1,newFieldName:t});var o,a=this.fieldsNameMap[t],A=!1;a||(o=Jy(t,n),this.formInfo.fields.push(o),(a=new zy(this.doc,this,o)).setRect(i),this.fields.push(a),this.fieldsNameMap[o.name]=a,A=!0);var s=arguments[4];return this.addTask((function(c){return r.doc.api.addControl(r.doc.id,e,t,n,i,s).then((function(s){return A&&s.fieldName!==t&&(r.fields.pop(a),r.formInfo.fields.pop(o),t=s.fieldName,o=Jy(t,n),r.formInfo.fields.push(o),(a=new zy(r.doc,r,o)).setRect(i),r.fields.push(a),r.fieldsNameMap[o.name]=a),s.form?r.setFormJson(s.form):a.updateControls(s.controls),s.fieldFlags&&(a.info.flag=s.fieldFlags),r.doc.getPageByIndex(e)})).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var n=(0,E._)(e,2),i=n[0],o=n[1].filter((function(e){return e.getType()===zi.widget}));return r.doc.engine.eventEmitter.emit(le.annotationAdd,o,i),Promise.resolve({success:!0,newFieldName:t})}))}))}},{key:"validateFieldName",value:function(e,t){return this.doc.api.validateFieldName(this.doc.id,e,t)}},{key:"reloadForm",value:function(e){return e&&(this.fields.forEach((function(e){return e.destroy()})),this.fields=[],this.fieldsNameMap={},this.setFormJson(e),this.doc.pageCache.forEach((function(e){e.annots.forEach((function(e){"widget"==e.getType()&&e.mapFormControl()}))}))),e}},{key:"renameField",value:function(e,t,n){var i=this,r=this.getField(e).controls.map((function(e){return e.getWidget()})).filter((function(e){return e}));return this.doc.api.renameField(this.doc.id,e,t).then((function(e){var t=r.map((function(e){return e.update()}));return t.push(e),Promise.all(t)})).then((function(e){return i.reloadForm(e[e.length-1])})).then((function(){return r.map((function(e){return e.updateUI({type:"rename"})}))}))}},{key:"removeEngineField",value:function(e){delete this.fieldsNameMap[e];var t=0;this.fields.forEach((function(n,i){if(n.getName()==e)return t=i,!1})),this.fields.splice(t,1),this.formInfo.fields.splice(t,1),this.removeFieldInCO(e)}},{key:"removeField",value:function(e){var t=this;if(this.checkDesignPerm(),!this.fieldsNameMap[e])return Promise.resolve(!1);var n=this.getField(e);if(n.getType()==pn.Sign&&n.isSigned())throw new Error("Signed signature can't be removed.");return n.getLoadedWidgets().map((function(e){if(e){var n=e.getPage();n.clearAnnotIds([e.getId()]),t.doc.engine.eventEmitter.emit(le.annotationRemoved,[e],n)}})),this.removeFieldInCO(e),this.removeEngineField(e),this.queueTask.waitForCurrentRunningTasks().then((function(n){return t.doc.api.removeField(t.doc.id,e)}))}},{key:"removeControlByIndex",value:function(e,t){var n=this.getField(e).getControlByIndex(t);this.removeControl(e,n.info.objectNumber)}},{key:"removeControl",value:function(e,t){this.checkDesignPerm();var n=!(arguments.length>2)||arguments[2],i=this.getField(e).getControlById(t).getWidget();if(i){var r=i.getPage();r.clearAnnotIds([i.getId()]),this.doc.engine.eventEmitter.emit(le.annotationRemoved,[i],r)}return 0==this.fieldsNameMap[e].removeControlInfo(t)&&this.removeEngineField(e),n?this.doc.api.removeControl(this.doc.id,0,e,t):Promise.resolve()}},{key:"fixPageFields",value:function(e){return this.doc.api.fixPageFields(this.doc.id,e)}},{key:"getControlCount",value:function(e){return this.doc.api.getControlCount(this.doc.id,e)}},{key:"setFieldsValue",value:function(e,t,n){var i=this;return this.doc.api.setFieldsValue(this.doc.id,e,t).then((function(e){n||i.doc.engine.eventEmitter.emit(le.formValueChanged)}))}},{key:"addTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e)return Promise.resolve();if("jsInited"==this.state&&!t)return Promise.resolve(e());var n=this.queueTask.exec(e);return n.catch((function(e){return console.error(e)})),n}},{key:"addCO",value:function(e){var t=e.getName(),n=this.formInfo.calculationOrder;-1==n.indexOf(t)&&(n.push(t),this.doc.api.setCO(this.doc.id,n),this.doc.engine.eventEmitter.emit(le.COChange,n))}},{key:"countField",value:function(e,t,n){var i=0;return this.fields.forEach((function(r){t?r.isDateType()&&i++:n?r.isImageType()&&i++:r.isDateType()||r.isImageType()||r.getType()!==e||i++})),i}},{key:"afterRemovePage",value:function(e){this.fields=this.fields.filter((function(t){var n=t.controls.filter((function(t){var n=t.getWidget();return(n&&n.getPage().getIndex())!==e}));return n.length>0&&(t.controls=n,!0)})),this.updateFieldsNameMap()}},{key:"updateFieldsNameMap",value:function(){var e=this;this.fieldsNameMap={},this.fields.forEach((function(t){e.fieldsNameMap[t.getName()]=t}))}},{key:"afterMovePage",value:function(e,t){var n=!0;e>t&&(n=!1),this.fields.forEach((function(i){i.controls.forEach((function(i){var r=i.info.pageIndex;r!=e?n?r>e&&r<=t&&(i.info.pageIndex-=1):r>=t&&r<e&&(i.info.pageIndex+=1):i.info.pageIndex=t}))}))}},{key:"afterInsertPage",value:function(e){var t=this;return this.doc.pageCache[e].getAnnotTree().then((function(n){n.forEach((function(e){if("widget"==e.getType()){var n=e.getField();if(n){var i=t.fields.findIndex((function(e){return e.getName()==n.getName()}));n.updateControls(n.info.controls),i>-1?t.fields.splice(i,1,n):t.fields.push(n)}}})),t.fields.forEach((function(t){t.controls.forEach((function(t){t.info.pageIndex>=e&&(t.info.pageIndex+=1)}))})),t.updateFieldsNameMap()}))}},{key:"afterImportPages",value:function(e,t){this.fields.forEach((function(n){n.controls.forEach((function(n){n.info.pageIndex>=e&&(n.info.pageIndex+=t)}))}))}},{key:"copyControls",value:function(e,t,n){var i=this;return this.checkDesignPerm(),this.doc.api.copyControls(this.doc.id,0,t.getIndex(),n).then((function(e){return Promise.all(e.map((function(e){var t=i.getField(e.fieldName);return t.updateControls(e.controlJsons),delete t.engineActions,i.doc.api.getAAJson(i.doc.id,e.fieldName).then((function(e){return t.info.AA=e}))})))})).then((function(e){return t.getUnloadedAnnots()})).then((function(e){return i.doc.engine.eventEmitter.emit(le.annotationAdd,e,t),e}))}},{key:"duplicateWidget",value:function(e,t,n,i){var r=this;return Promise.all(e.map((function(e){return r.doc.getPageByIndex(e)}))).then((function(e){return e.filter((function(e){return!e.isVirtual()})).map((function(e){return e.getIndex()}))})).then((function(e){if(!(e.length<1))return r.doc.api.duplicateWidget(r.doc.id,e,t,n).then((function(e){var n=r.getField(t);return n.updateControls(e),delete n.engineActions,r.doc.api.getAAJson(r.doc.id,t).then((function(e){return n.info.AA=e}))})).then((function(e){return Promise.all(i.map((function(e){return r.doc.getPageByIndex(e).then((function(e){return e.getUnloadedAnnots()}))})))})).then((function(e){e.forEach((function(e){e.length>0&&r.doc.engine.eventEmitter.emit(le.annotationAdd,e,e[0].getPage())}))}))}))}},{key:"duplicateField",value:function(e,t,n,i,r){var o=this;if(this.getField(e).controls.length>1)return Promise.reject(new Error("More than one copies appeared."));var a=r.shift(),A=t.getPage();return t.setRect(a).then((function(s){if(t.updateUI({type:"rect",value:a}),r.length<1)return Promise.resolve();o.doc.api.duplicateField(o.doc.id,e,A.getIndex(),t.getObjNum(),n,i,r).then((function(e){return Promise.all([t.update(),e])})).then((function(e){var t=(0,E._)(e,2),n=(t[0],t[1]);return o.reloadForm(n)})).then((function(e){return A.getUnloadedAnnots()})).then((function(e){o.doc.engine.eventEmitter.emit(le.annotationAdd,e,e[0].getPage())}))}))}},{key:"duplicateNewFields",value:function(e,t,n){var i=this;return(0,x._)((function(){var r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return r=t.shift(),[4,e.setRect(r)];case 1:A.sent(),o=0,A.label=2;case 2:return o<t.length?(a=i.autoGenerateFieldName(e).newFieldName,[4,i.createFieldByCopyControl({pageIndex:n,newRect:t[o],srcWidget:e,newFieldName:a})]):[3,5];case 3:A.sent(),A.label=4;case 4:return o++,[3,2];case 5:return[2,Promise.resolve()]}}))}))()}},{key:"autoGenerateFieldName",value:function(e){var t=e.info.fieldType,n=6===t&&e.formControl.field&&e.formControl.field.info&&e.formControl.field.info.AA&&e.formControl.field.info.AA[Dt.keyStroke]&&e.formControl.field.info.AA[Dt.keyStroke].javascript&&e.formControl.field.info.AA[Dt.keyStroke].javascript.indexOf("Date")>-1,i=1===t&&e.info.iconFit&&e.info.iconFit.isProportionalScaling,r="";r=n?pdfui.pdfViewer.i18n.t("form-designer:prefix.9"):i?pdfui.pdfViewer.i18n.t("form-designer:prefix.8"):pdfui.pdfViewer.i18n.t("form-designer:prefix."+t);var o="",a=this.countField(t,n,i),A="";do{A=r+a,o=this.fieldsNameMap[A],a+=1}while(o);return{newFieldName:A,fieldTypeName:r}}},{key:"moveControl",value:function(e,t,n){var i=this,r=this.getField(e).controls.map((function(e){return e.getWidget()}));return r.length>1?this.doc.api.moveControl(this.doc.id,n,e,t).then((function(e){var t=r.filter((function(e){return e})).map((function(e){return e.update()}));return t.push(e),Promise.all(t)})).then((function(e){return i.reloadForm(e[e.length-1])})).then((function(){return r.map((function(e){return e.updateUI({type:"rename"})}))})):this.renameField(e,t)}},{key:"getCO",value:function(){return this.formInfo&&this.formInfo.calculationOrder||[]}},{key:"setCO",value:function(e){return this.formInfo.calculationOrder=e,this.doc.engine.eventEmitter.emit(le.COChange,e),this.doc.api.setCO(this.doc.id,e)}},{key:"removeFieldInCO",value:function(e){var t=this.formInfo.calculationOrder,n=t.indexOf(e);-1!=n&&(t.splice(n,1),this.doc.engine.eventEmitter.emit(le.COChange,t),this.doc.api.setCO(this.doc.id,t))}}]),e}();function $y(e,t,n){var i;for(i=0;i<t.length&&!(t.charCodeAt(i)>255);i++);if(i!==t.length)for(e.push(254),e.push(255),i=0;i<t.length;i++){var r=t.charCodeAt(i)>>8;!n||40!=r&&41!=r||e.push(92),e.push(r),r=255&t.charCodeAt(i),!n||40!=r&&41!=r||e.push(92),e.push(255&t.charCodeAt(i))}else for(i=0;i<t.length;i++){var o=t.charCodeAt(i);!n||40!=o&&41!=o||e.push(92),e.push(o)}}function Ky(e){if(254==e.charCodeAt(0)&&255==e.charCodeAt(1)){for(var t="",n=2;n<e.length;n+=2)t+=String.fromCharCode((e.charCodeAt(n)<<8)+e.charCodeAt(n+1));return t}return e}var qy={alignment:0,alternateName:"",controls:[{index:0,isChecked:!1,isDefaultChecked:!1,isEmpty:!1,objectNumber:-1}],DA:{flags:3,fontName:"FoxitSansOTF",textColor:4278190080,textSize:0},defaultValue:"",flag:0,mappingName:"",maxLength:0,name:"",options:[],topVisibleIndex:0,type:1,value:"",isEmpty:!1,AA:{}},Jy=function(e,t){var n=JSON.parse(JSON.stringify(qy));return n.defaultValue=n.value=2==t||3==t?"Off":"",n.name=e,n.type=t,n};const Xy=Gy;var Qy=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,_._)(this,e),this.id=(0,U.getUniqueId)("doc_text_search"),this.pattern=n,this.flags=i,this.doc=t,this.api=t.api,this.startPageIndex=0,this.currentPageIndex=0,this.endPageIndex=t.getPageCount()-1,this.annotTextSearchArr=[],this.currentAnnotTextSearch=null,t.docTextSearchIdMap[this.id]=this}return(0,P._)(e,[{key:"getId",value:function(){return this.id}},{key:"findNext",value:function(){var e=this;this.startPrev=!1;var t=null;return this.getCurrentPageTextSearch().then((function(e){return t=e,e.findNext()})).then((function(n){if(n)return n;if((0,I._)(t,uo)){var i=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));return i>-1?i==e.annotTextSearchArr.length-1?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i+1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNext()}return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findNext()):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)}))}},{key:"findNexts",value:function(){var e=this;return this.startPrev=!1,this.getCurrentPageTextSearch().then((function(t){return new Promise((function(n,i){e.iterationPageFindNext(t,[],(function(r){if(r.length){var o=e.currentPageIndex<e.endPageIndex;if((0,I._)(t,uo)){var a=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));a>-1?a+1>=e.annotTextSearchArr.length?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[a+1],e.startPageTextSearch=!1):e.startPageTextSearch=!0,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null}return(0,I._)(t,Dy)&&(e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null),e.currentAnnotTextSearch=null,e.startPageTextSearch=!1),n({hasMore:o,list:r})}if((0,I._)(t,Dy))return e.currentPageIndex<e.endPageIndex?(e.currentPageIndex++,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.currentAnnotTextSearch=null,e.startPageTextSearch=!1,e.findNexts().then((function(e){n(e)}),(function(){i()}))):(e.currentPageIndex=e.startPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,n({hasMore:!1,list:r}));if((0,I._)(t,uo)){var A=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));return A>-1?A+1>=e.annotTextSearchArr.length?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[A+1],e.startPageTextSearch=!1):e.startPageTextSearch=!0,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findNexts().then((function(e){n(e)}),(function(){i()}))}}))}))})).then((function(e){return e}))}},{key:"iterationPageFindNext",value:function(e,t,n){var i=this;e.findNext().then((function(r){if(!r)return n(t);t.push(r),i.iterationPageFindNext(e,t,n)}))}},{key:"findPrev",value:function(){var e=this;this.startPrev=!0;var t=null;return this.getCurrentPageTextSearch().then((function(e){return t=e,e.findPrev()})).then((function(n){if(n)return n;if((0,I._)(t,uo)){var i=e.annotTextSearchArr.findIndex((function(t){return t.id==e.currentAnnotTextSearch.id}));return i>-1?0==i?(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0):(e.currentAnnotTextSearch=e.annotTextSearchArr[i-1],e.startPageTextSearch=!1):(e.currentAnnotTextSearch=null,e.startPageTextSearch=!0),e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.findPrev()}return e.currentPageIndex>e.startPageIndex?(e.currentPageIndex--,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,e.findPrev()):(e.currentPageIndex=e.endPageIndex,e.currentPageTextSearch.destroy(),e.currentPageTextSearch=null,e.startPageTextSearch=!1,null)}))}},{key:"getCurrentPageTextSearch",value:function(){var e=this;return this.currentPageTextSearch?Promise.resolve(this.currentPageTextSearch):this.currentPageTextSearchPromise?this.currentPageTextSearchPromise:this.currentPageTextSearchPromise=this.doc.getPageByIndex(this.currentPageIndex).then((function(t){return e.currentAnnotTextSearch?Promise.resolve(e.currentAnnotTextSearch):e.startPageTextSearch?t.getTextSearch(e.pattern,e.flags):t.getAnnots().then((function(n){var i=[];return n.forEach((function(t){"widget"==t.getType()&&i.push(t.getTextSearch(e.pattern,e.flags))})),i.length?Promise.all(i).then((function(t){return e.annotTextSearchArr=t,e.currentAnnotTextSearch=e.startPrev?t[t.length-1]:t[0],Promise.resolve(e.currentAnnotTextSearch)})):t.getTextSearch(e.pattern,e.flags)}))})).then((function(t){return e.currentPageTextSearch=t,e.currentPageTextSearchPromise=null,t}))}},{key:"setStartPageIndex",value:function(e){this.startPageIndex=e}},{key:"setCurrentPageIndex",value:function(e){e<this.startPageIndex&&(e=this.startPageIndex),e>this.endPageIndex&&(e=this.endPageIndex),this.currentPageIndex!==e&&this.destroy(),this.currentPageIndex=e}},{key:"setEndPageIndex",value:function(e){this.endPageIndex=e}},{key:"destroy",value:function(){var e=this;this.currentPageTextSearch&&this.currentPageTextSearch.destroy(),this.currentPageTextSearch=null,this.currentPageTextSearchPromise&&this.currentPageTextSearchPromise.then((function(t){t.destroy(),e.currentPageTextSearch=null})),this.doc.docTextSearchIdMap[this.id]=null,this.currentPageTextSearchPromise=null}}]),e}();const Zy={None:"none",RC4:"rc4",AES128:"aes128",AES256:"aes256"};var eb,tb,nb='<?xml version="1.0" encoding="UTF-8"?>\n<xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">\n<f href="a.pdf"/><fields>\n',ib='</fields>\n<ids original="abcdef" modified="0123456"/>\n</xfdf>';function rb(e){if(!e)return"";if('"'!==e[0])return ob(e);for(var t='"',n=1;n<e.length;n++)n!==e.length-1||'"'!==e[n]?'"'!=e[n]&&(t+=e[n]):t+='"';return ob(t)}function ob(e){return N()("<div/>").text(e).html().replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function ab(e,t){var n=Object.keys(e).map((function(n){var i=e[n],r=t.getField(n),o=ob(n);if(r&&r.type===pn.ListBox){var a=(i||"").split(/\r\n/);return'<field name="'.concat(o,'">\n            ').concat(a.map((function(e,t){return"<value>".concat(rb(e),"</value>")})).join(""),"\n            </field>\n            ")}return'<field name="'.concat(o,'">\n                <value>').concat(rb(i),"</value>\n            </field>")})).join("\r\n"),i="".concat(nb).concat(n).concat(ib);return i=i.replace(/\&nbsp;/g,"&#160;"),new Blob([i],{type:"application/vnd.xfdf"})}function Ab(e){"string"==typeof(e=e.replace(/\&nbsp;/g,"&#160;"))&&(e=N().parseXML(e));var t="";return N()(e).children().children().each((function(){var e,n,i,r,o=(e=N()(this),n="xfdf:original",i="",e&&void 0!==e.attr(n)&&(r=e.attr(n),i=r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/\r/g,"").replace(/\n/g," ")),i);o&&""!==o&&0!==o.length||(o=this.tagName);var a=N()(this).html();a.startsWith("<value>")&&a.endsWith("</value>")?t+='<field name="'.concat(o,'">').concat(a,"</field>"):t+='<field name="'.concat(o,'"><value>').concat(a,"</value></field>")})),new Blob([nb+t+ib],{type:"application/vnd.xfdf"})}!function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.LAST_CHILD=1]="LAST_CHILD",e[e.PREVIOUS_SIBLING=2]="PREVIOUS_SIBLING",e[e.NEXT_SIBLING=3]="NEXT_SIBLING",e[e.FIRST_SIBLING=4]="FIRST_SIBLING",e[e.LAST_SIBLING=5]="LAST_SIBLING"}(eb||(eb={})),function(e){e.ZoomFitBBox="ZoomFitBBox",e.ZoomFitBHorz="ZoomFitBHorz",e.ZoomFitBVert="ZoomFitBVert",e.ZoomFitHorz="ZoomFitHorz",e.ZoomFitVert="ZoomFitVert",e.ZoomFitPage="ZoomFitPage",e.ZoomFitRect="ZoomFitRect",e.ZoomXYZ="ZoomXYZ"}(tb||(tb={}));var sb=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"doc",void 0),this.doc=t}return(0,P._)(e,[{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.doc.engine.eventEmitter).emit.apply(r,[e].concat((0,R._)(n)))}},{key:"getBookmarkChildren",value:function(e){return this.doc.api.getBookmarkChildren({path:"jr/doc"},this.doc.id,e)}},{key:"insertBookmark",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),t.assertRelationship(e.relationship),t.assertPageIndex(e.destination.pageIndex),[4,t.doc.api.insertBookmark({path:"jr/doc"},t.doc.id,e)];case 1:return[2,n.sent()]}}))}))()}},{key:"getBookmarkData",value:function(e){return this.doc.api.getBookmarkData({path:"jr/doc"},this.doc.id,e)}},{key:"getProperties",value:function(e){return this.doc.api.getBookmarkProperties({path:"jr/doc"},this.doc.id,e)}},{key:"setProperties",value:function(e,t){var n=this;return(0,x._)((function(){var i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return n.assertPermission(),void 0!==(i=t.color)&&(i=(0,U.colorConvertor)(i,"int")),[4,n.doc.api.setBookmarkProperty(n.doc.id,e,t)];case 1:return[2,r.sent()]}}))}))()}},{key:"remove",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),[4,t.doc.api.removeBookmark(t.doc.id,e)];case 1:return[2,n.sent()]}}))}))()}},{key:"moveTo",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return t.assertPermission(),[4,t.doc.api.moveBookmark(t.doc.id,e.srcId,e.destId,e.relationship)];case 1:return n.sent(),[2]}}))}))()}},{key:"setDestination",value:function(e,t){var n=this;return(0,x._)((function(){var i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.doc.api.setBookmarkDestination(n.doc.id,e,t)];case 1:return(i=r.sent())?[2,n.doc.engine.actionFactory.createAction(i,n.doc,n.doc.api,n.doc.engine.eventEmitter,n)]:[2]}}))}))()}},{key:"getDestination",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.doc.api.getBookmarkDestination(t.doc.id,e)];case 1:return(n=i.sent())?[2,t.doc.engine.actionFactory.createAction(n,t.doc,t.doc.api,t.doc.engine.eventEmitter,t)]:[2]}}))}))()}},{key:"getAction",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.doc.api.getBookmarkAction(t.doc.id,e)];case 1:return(n=i.sent())?[2,t.doc.engine.actionFactory.createAction(n,t.doc,t.doc.api,t.doc.engine.eventEmitter,t)]:[2]}}))}))()}},{key:"setAction",value:function(e,t){return this.doc.api.setBookmarkAction(this.doc.getId(),e,t)}},{key:"assertPermission",value:function(){if(!this.doc.checkPermission(en.assemble))throw new Error("Invalid operation on Bookmark, currently does not have editing permissions.")}},{key:"assertRelationship",value:function(e){switch(e){case 0:case 4:case 1:case 5:case 3:case 2:return;default:throw new Error("Invalid relationship value: ".concat(e,"."))}}},{key:"assertPageIndex",value:function(e){var t=this.doc.getPageCount();if(!(e>=0&&e<t))throw new Error("Invalid page index: ".concat(e))}}]),e}(),cb=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var o in(0,_._)(this,e),this.engine=t,this.api=t.api,this.docId=n.id,this.doc=n,this.parent=r,i)if("children"==o){this.children=[];for(var a=0;a<i[o].length;a++)this.children.push(new e(t,n,i[o][a],this))}else this[o]=i[o]}return(0,P._)(e,[{key:"destroy",value:function(){this.engine=null,this.api=null,this.doc=null,this.parent=null,this.children.forEach((function(e){return e.destroy})),this.children=null}},{key:"insertBookmark",value:function(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(!this.doc.checkPermission(en.assemble))throw new Error("Permission error");if((o|5-o)<0)throw new Error("Wrong relationship: "+o);if((n|this.doc.getPageCount()-1-n)<0)throw new Error("Wrong pageIndex: "+n);var a=arguments[5],A=this,s=this.parent?this.parent.id:void 0,c=tb.ZoomXYZ;switch(a){case"fitWidth":c=tb.ZoomFitHorz,a=0;break;case"fitPage":case"fitHeight":c=tb.ZoomFitPage,a=0;break;case"fitVisible":c=tb.ZoomFitBHorz,a=0}return A.doc.api.insertBookmark({path:"jr/doc"},this.docId,{destId:this.id,destParentId:s,relationship:o,title:t,destination:{pageIndex:n,left:r,top:i,zoomMode:c,isOldVersion:!0,zoomFactor:a}}).then((function(t){if(t){var n=new e(A.doc.engine,A.doc,t,A);if(o===st.firstChild||o===st.lastChild)A.children.push(n);else{var i=A.parent;i.children=i.children||[],i.children.push(n)}return A.doc.bookmarkRoot=null,A.doc.engine.eventEmitter.emit(le.bookmarkAdded,n),n}return null}))}},{key:"addBookmarksFromStructureRoles",value:function(e,t){var n=this;return this.doc.api.addBookmarksFromStructureRoles(this.docId,e,t).then((function(e){return n.engine.eventEmitter.emit(le.structureBookmarkAdded),e}))}},{key:"setProperty",value:function(e){var t=this,n=!(arguments.length>1||void 0!==arguments[1])||arguments[1];if(!this.doc.checkPermission(en.assemble))throw new Error("Permission error");void 0!==e.color&&(e.color=(0,U.colorConvertor)(e.color,"int"));var i=this;return this.doc.api.setBookmarkProperty(this.docId,this.id,e).then((function(e){if(e){for(var r in e)"children"!==r&&(i[r]=e[r]);n&&i.doc.engine.eventEmitter.emit(le.bookmarkUpdated,i)}return t}))}},{key:"remove",value:function(){var e=this;if(!this.doc.checkPermission(en.assemble))throw new Error("Permission error");var t=this;return this.doc.api.removeBookmark(this.docId,this.id,!0).then((function(n){if(n&&(t.doc.engine.eventEmitter.emit(le.bookmarkRemoved,t.id),t.parent)){for(var i=t.parent,r=0;r<(i.children||[]).length;r++)if(t.id==i.children[r].id){i.children.splice(r,1);break}e.destroy()}return n}))}},{key:"moveTo",value:function(e,t){var n=this;return this.doc.api.moveBookmark(this.docId,this.id,e.id,t).then((function(e){n.doc.bookmarkRoot=null,n.doc.engine.eventEmitter.emit(le.bookmarkUpdated,n)}))}},{key:"getDestination",value:function(){var e=this;return this.doc.api.getBookmarkDestination(this.docId,this.id).then((function(t){if(t)return e.doc.engine.actionFactory.createAction(t,e.doc,e.doc.api,e.engine.eventEmitter,e)}))}},{key:"setDestination",value:function(e){var t=this;if(!e)throw new Error("No GotoAction!");return this.doc.api.setBookmarkDestination(this.docId,this.id,e.info).then((function(e){if(e)return t.doc.engine.actionFactory.createAction(e,t.doc,t.doc.api,t.engine.eventEmitter,t)}))}},{key:"getAction",value:function(){var e=this;return this.doc.api.getBookmarkAction(this.docId,this.id).then((function(t){if(t)return e.doc.engine.actionFactory.createAction(t,e.doc,e.doc.api,e.engine.eventEmitter,e)}))}},{key:"setAction",value:function(e){if(!e)throw new Error("No Action!");return this.doc.api.setBookmarkAction(this.doc.getId(),this.id,e.info)}},{key:"removeAction",value:function(e,t){return this.doc.api.removeBookmarkAction(this.doc.getId(),this.id,t?t.info:null)}},{key:"updateBookmark",value:function(t){for(var n in t)if("children"==n){this.children=[];for(var i=0;i<t[n].length;i++)this.children.push(new e(this.engine,this.doc,t[n][i],this))}else this[n]=t[n]}},{key:"moveAction",value:function(e){return this.doc.api.moveBookmarkAction(this.doc.getId(),this.id,e)}}]),e}();const ub=cb;var lb,db=function(){function e(t){(0,_._)(this,e),t?(this.json=t,this.empty=!1):(this.json={contentFormats:{},margin:{left:72,right:36,top:72,bottom:36},textSize:12,textColor:4278190080,hasTextShrinked:!1,hasFixedSized:!1,startPageNumber:1,underline:!1},this.empty=!0)}return(0,P._)(e,[{key:"destroy",value:function(){this.json=null}},{key:"isEmpty",value:function(){return this.empty}},{key:"getContent",value:function(e){return this.json.contentFormats[e]||this.json.contents[e]}},{key:"setFont",value:function(e){this.json.fontId=e,this.json.font=e}},{key:"setContentFormat",value:function(e,t){this.empty=!1,this.json.contentFormats[e]=t}},{key:"setRange",value:function(e){if(e.start<1||e.end<1)throw new Error("page range is wrong.");if(e.filter<0||e.filter>2)throw new Error("Wrong filter.");this.json.range=e}},{key:"setMargin",value:function(e){this.json.margin=e}},{key:"setTextSize",value:function(e){this.json.textSize=e}},{key:"setTextColor",value:function(e){this.json.textColor=e}},{key:"enableTextShrinked",value:function(e){this.json.hasTextShrinked=e}},{key:"enableFixedSizedForPrint",value:function(e){this.json.hasFixedSized=e}},{key:"setStartDisplayingPage",value:function(e){this.json.startPageNumber=e}},{key:"setUnderline",value:function(e){this.json.underline=e}},{key:"getUnderline",value:function(){return this.json.underline}}]),e}();!function(e){e[e.folder=1]="folder",e[e.file=2]="file"}(lb||(lb={}));var hb=function(){function e(t){(0,_._)(this,e),this.nodeData=t}return(0,P._)(e,[{key:"getNodeType",value:function(){return this.type}}]),e}(),fb=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this,r)).type=lb.folder,o.engine=e,o.doc=i,o.api=e.api,o.nodeHandle=r.handle,o.name=r.fileName,o.subNodes=[],o}return(0,P._)(n,[{key:"getSortedSubNodes",value:function(){var e=this,t=this.doc;return this.api.getPortfolioSubNodes(t.getId(),this.nodeHandle).then((function(i){return e.subNodes=[],i.forEach((function(i){if(i.type===lb.folder){var r=new n(e.engine,t,i);e.subNodes.push(r)}if(i.type===lb.file){var o=new pb(e.engine,t,i);e.subNodes.push(o)}})),e.subNodes}))}},{key:"addFiles",value:function(e,t){return this.api.portfolioAddFiles(this.doc.getId(),e,t,this.nodeHandle)}},{key:"createFolder",value:function(e){var t=this;return this.api.portfolioCreateFolder(this.doc.getId(),e,this.nodeHandle).then((function(e){return new n(t.engine,t.doc,e)}))}},{key:"removeSubNodes",value:function(e){return this.api.portfolioRemoveSubNodes(this.doc.getId(),this.nodeHandle,e)}},{key:"changeSubNodesOrder",value:function(e,t){return this.api.changePortfolioSubNodesOrder(this.doc.getId(),this.nodeHandle,e,t)}},{key:"moveSubNodeToSubFolderNode",value:function(e,t){return this.api.portfolioMoveSubNodeToSubFolderNode(this.doc.getId(),this.nodeHandle,e,t)}},{key:"hasSameNameSubNode",value:function(e,t){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,this.nodeHandle)}},{key:"getName",value:function(){return this.name}},{key:"getDescription",value:function(){return this.description}}]),n}(hb),pb=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),(o=t.call(this,r)).type=lb.file,o.engine=e,o.doc=i,o.api=e.api,o.nodeHandle=r.handle,o.keyName=r.keyName,o}return(0,P._)(n,[{key:"getKeyName",value:function(){return this.keyName}},{key:"getFileStream",value:function(){var e=this.doc,t=[];return this.api.getPortfolioFileStream(e.getId(),this.nodeHandle,(function(e){var n=e.arrayBuffer,i=e.blob;i?t=i:t.push(n)})).then((function(){return Array.isArray(t)?new Blob(t,{type:"application/octet-stream"}):t}))}}]),n}(hb),gb=function(){function e(t,n){(0,_._)(this,e),this.engine=t,this.doc=n,this.api=t.api,this.root=null,this.activedPDFNode=[]}return(0,P._)(e,[{key:"getInfo",value:function(){return this.api.getPortfolioInfo(this.doc.getId())}},{key:"setInfo",value:function(e){return this.api.setPortfolioInfo(this.doc.getId(),e)}},{key:"regenerateTOC",value:function(e){var t=this;return this.api.portfolioRegenerateTOC(this.doc.getId(),e).then((function(e){var n,i=e||{},r=i.oldIndexes,o=i.newPages;if(r.length){t.doc.info.pageCount-=r.length;var a=[],A=[];r.forEach((function(e){var n=t.doc.pageCache[e];a.push(e),t.doc.pageCache.splice(e,1),n&&A.push(n.info.objectNumber)})),t.engine.eventEmitter.emit(le.pagesRemoved,a,A)}t.doc.info.pageCount+=o.length;var s=[];o.forEach((function(e){var n=new Uy(e,t.doc);s.push(n)})),(n=t.doc.pageCache).push.apply(n,(0,R._)(s)),t.doc.updatePageIndex(o[0].index,t.doc.info.pageCount),t.doc.updatePageLabelsByAction("insertPages",[o[0].index,s.length]),t.engine.eventEmitter.emit(le.insertPages,s)}))}},{key:"hasSameNameSubNode",value:function(e,t,n){return this.api.portfolioHasSameNameSubNode(this.doc.getId(),e,t,n)}},{key:"getStream",value:function(e){return this.api.getPortfolioStream(this.doc.getId(),e)}},{key:"getTreeNode",value:function(){var e=this;return this.api.getPortfolioTreeNode(this.doc.getId()).then((function(t){return e.treeNode=t,t.type===lb.folder&&(e.root=new fb(e.engine,e.doc,t)),t.type===lb.file&&(e.root=new pb(e.engine,e.doc,t)),Promise.resolve(e.root)}))}},{key:"getInitialNodePath",value:function(){var e=this;return this.api.getPortfolioInitialNodePath(this.doc.getId()).then((function(t){if(!Array.isArray(t))return[];var n=t.map((function(t){return t.type===lb.folder?new fb(e.engine,e.doc,t):t.type===lb.file?new pb(e.engine,e.doc,t):void 0}));return e.root=n[0],n}))}},{key:"sendSortFolioParam",value:function(e,t){return this.api.sendSortFolioParam(this.doc.getId(),e,t).then((function(e){if(e)return!0}))}},{key:"getFolioNodePDFDoc",value:function(){var e=this;return this.api.getFolioNodePDFDoc(this.doc.getId()).then((function(t){for(var n=[],i=0;i<=t.length-1;i++)n.push(new Aw(t[i],e.engine,{}));return n}))}},{key:"recordPDFFileByPortFolioNode",value:function(e){var t=this,n=this.doc,i=[];for(var r in e)i.push(e[r].handle);return this.api.recordPDFFileByPortFolioNode(n.getId(),i).then((function(e){var n=e.filter((function(e){return-1===e.indexOf("password")}));if(0===e.filter((function(e){return-1!==e.indexOf("password")})).length){for(var i=[],r=0;r<=n.length-1;r++)i.push(new Aw(n[r],t.engine,{}));t.activedPDFNode=i}else t.activedPDFNode=["password"]}))}},{key:"getPDFFileByPortFolioNode",value:function(e){var t=this;return(0,x._)((function(){var n,i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:if(n=[],0==e.length)return[2,[]];for(i=0;i<e.length;i++)("1"==e[i].type||"2"==e[i].type&&".pdf"===e[i].FileName.substr(-4).toLowerCase())&&n.push(e[i]);return 0==n.length?[2,[]]:[4,t.recordPDFFileByPortFolioNode(n)];case 1:return r.sent(),[2,t.activedPDFNode]}}))}))()}},{key:"getActivedPDFFileByPortFolioNode",value:function(){return this.activedPDFNode}}]),e}();const vb=function(e,t){return new Proxy(t,{doc:e,api:e.api,get:function(e,t){var n=this;if("then"!==t)return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t in e?e[t]:n.api.changeEditingProperty(n.doc.id,t,r)}}})};function mb(){}mb.prototype=de;const yb=Object.assign(new mb,{addTextMarkupSuccess:"add-text-markup-success",fullscreenchange:"fullscreenchange",appendCommentListGroup:"apppend-commentlist-group",destroyCommentListGroup:"destroy-commentlist-group",appendCommentListComment:"append-commentlist-comment",appendCommentListReply:"append-commentlist-reply",destroyCommentListComment:"destroy-commentlist-comment",destroyCommentListReply:"destroy-commentlist-reply",InkImageSelected:"ink-image-selected",applicationDestroyed:"uiextension-destroyed",addReplySuccess:"add-reply-success",deleteReplySuccess:"delete-reply-success",addActionSuccess:"add-action-success",addContentSuccess:"add-content-success",markRedactionSuccess:"mark-redaction-success",addReviewStateSuccess:"add-review-state-success",addMarkedStateSuccess:"add-marked-state-success",addonLoaded:"pdfui-init-process-addon-loaded",initializationCompleted:"pdfui-intialization-completed",commentGroupAnnotationsUpdated:"pdfui-comment-group-annotations-updated",bookmarkSelected:"bookmark-selected",stampSelectedChange:"stampSelectedChange",languageChange:"languageChange",ribbonLoadFinish:"ribbonLoadFinish",editPropertiesAction:"editPropertiesAction",loupeLocked:"loupeLocked",loupeScaleChange:"loupeScaleChange",loupeRedBoxMoved:"loupeRedBoxMoved",enterReadMode:"enterReadMode",exitReadMode:"exitReadMode",toggleStatusBar:"toggleStatusBar",statusBarChange:"statusBarChange",switchNavigationPanel:"switchNavigationPanel",toggleNavigationPanels:"toggleNavigationPanels",resetNavigationPanels:"resetNavigationPanels",toggleAutoScroll:"toggleAutoScroll",changePortfolioLayout:"changePortfolioLayout",compareFilterChange:"compare-filter-change",undoRedoStoreChange:"undo-redo-store-change"});var bb=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"json",void 0),(0,X._)(this,"api",void 0),(0,X._)(this,"doc",void 0),this.json=n,this.api=t.api,this.doc=t}return(0,P._)(e,[{key:"update",value:function(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this.api.changePEProperty(this.doc.id,e,t,r).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];return Promise.all([n.doc.getPageByIndex(i),r])})).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];return n.doc.engine.eventEmitter.emit(le.graphicsUpdated,i),n.api.handlePageEditorEvent(n.doc.id,"GetUndoManager",void 0,!1).then((function(e){n.doc.engine.eventEmitter.emit(yb.undoRedoStoreChange,e,"pageEditor",!1)})),r}))}},{key:"getHeight",value:function(){return this.json.height}},{key:"setHeight",value:function(e){return this.json.height=e,this.update("SetHeight",0,e)}},{key:"setWidth",value:function(e){return this.json.height=e,this.update("SetWidth",0,e)}},{key:"getWidth",value:function(){return this.json.width}},{key:"getOpacity",value:function(){return this.json.opacity}},{key:"setOpacity",value:function(e){return this.json.opacity=e,this.update("SetOpacity",0,e)}},{key:"rotate",value:function(e){return this.update("Rotate",0,e)}},{key:"flip",value:function(e){return this.update("Flip",0,e)}},{key:"align",value:function(e){return this.update("Align",0,{type:"GraphicsObjectAlignmentType",value:e})}},{key:"center",value:function(e){return this.update("Center",0,{type:"PageCenterAlignmentType",value:e})}},{key:"changeRenderingOrder",value:function(e){return this.update("ChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"canChangeRenderingOrder",value:function(e){return this.update("CanChangeRenderingOrder",0,{type:"RenderingOrder",value:e})}},{key:"getXPosition",value:function(){return this.json.xPosition}},{key:"setXPosition",value:function(e){return this.update("SetXPosition",0,e)}},{key:"getYPosition",value:function(){return this.json.yPosition}},{key:"setYPosition",value:function(e){return this.update("SetYPosition",0,e)}},{key:"shear",value:function(e){return e=e*Math.PI/180,this.update("Shear",0,e)}},{key:"move",value:function(e,t,n){return this.update("Move",0,{type:"EditorPage",value:e},{type:"PointF",value:t},n)}},{key:"distribute",value:function(e){return this.update("Distribute",0,e)}},{key:"size",value:function(e){return this.update("Size",0,e)}},{key:"scale",value:function(e,t){return this.update("Scale",0,e,t)}},{key:"clearClipPath",value:function(){return this.update("ClearClipPath",0)}},{key:"editClipPath",value:function(){return this.update("EditClipPath",0)}},{key:"addClipPath",value:function(e){return this.update("AddClipPath",0,{value:e})}},{key:"cut",value:function(){return this.update("Cut",0)}},{key:"copy",value:function(){return this.update("Copy",0)}},{key:"delete",value:function(){return this.update("Delete",0)}},{key:"getType",value:function(){return this.json.type}}]),e}(),wb=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"getFontName",value:function(){return this.json.fontName}},{key:"setFont",value:function(e,t,n,i){return this.update("SetFont",1,e,t,n,i)}},{key:"hasStroke",value:function(){var e=this.getTextMode();if(1==e||2==e)return!0}},{key:"hasFill",value:function(){var e=this.getTextMode();return!(0!=e&&2!=e&&!this.json.count)}},{key:"getFontSize",value:function(){return this.json.fontSize}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setFontSize",value:function(e){return this.json.fontSize=e,this.update("SetFontSize",1,e)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",1,this.hasFill(),{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setStrokeColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",1,this.hasStroke(),{type:"Color",value:e,space:this.json.strokeColorSpace},t)}},{key:"getHorizontalScale",value:function(){return this.json.horizontalScale}},{key:"getCharSpace",value:function(){return this.json.charSpace}},{key:"getWordSpace",value:function(){return this.json.wordSpace}},{key:"canRemoveTextKerning",value:function(){return this.json.canRemoveTextKerning}},{key:"canMergeText",value:function(){return this.json.canMergeText}},{key:"canSplitText",value:function(){return this.json.canSplitText}},{key:"canText2Path",value:function(){return this.json.canText2Path}},{key:"isWordSpaceValid",value:function(){return this.json.isWordSpaceValid}},{key:"getFontIsBold",value:function(){return this.json.fontIsBold}},{key:"getFontIsItalic",value:function(){return this.json.fontIsItalic}},{key:"setHorizontalScale",value:function(e){return this.json.horizontalScale=e,this.update("SetHorizontalScale",1,e)}},{key:"setCharSpace",value:function(e){return this.json.charSpace=e,this.update("SetCharSpace",1,e)}},{key:"setWordSpace",value:function(e){return this.json.wordSpace=e,this.update("SetWordSpace",1,e)}},{key:"getTextMode",value:function(){return this.json.textMode}},{key:"setTextMode",value:function(e){return this.json.textMode=e,this.update("SetTextMode",1,e)}},{key:"removeTextKerning",value:function(){return this.update("RemoveTextKerning",1)}},{key:"mergeText",value:function(){return this.update("MergeText",1)}},{key:"splitText",value:function(e){return this.update("SplitText",1,{type:"Int32Array",value:e})}}]),n}(bb),kb=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"getLineWidth",value:function(){return this.json.lineWidth}},{key:"setLineWidth",value:function(e){return this.json.lineWidth=e,this.update("SetLineWidth",2,e)}},{key:"getMiterLimit",value:function(){return this.json.miterLimit}},{key:"setMiterLimit",value:function(e){return this.json.miterLimit=e,this.update("SetMiterLimit",2,e)}},{key:"getLineCap",value:function(){return this.json.lineCap}},{key:"setLineCap",value:function(e){return this.json.lineCap=e,this.update("SetLineCap",2,{type:"LineCap",value:e})}},{key:"getLineJoin",value:function(){return this.json.lineJoin}},{key:"setLineJoin",value:function(e){return this.json.lineJoin=e,this.update("SetLineJoin",2,{type:"LineJoin",value:e})}},{key:"getLineStyle",value:function(){return this.json.lineStyle}},{key:"setLineStyle",value:function(e){return this.json.lineStyle=e,this.update("SetLineStyle",2,{type:"FloatArray",value:e})}},{key:"getFillColor",value:function(){return this.json.fillColor}},{key:"setFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&(e="transparent"==e?0:parseInt(e.replace("#",""),16)),0==e&&1!=this.json.fillColorSpace&&(i=!1),this.json.fillColor=e,void 0!==n&&(this.json.fillColor=n),this.update("SetFillColor",2,i,{type:"Color",value:e,space:this.json.fillColorSpace},t)}},{key:"setColorSpace",value:function(e,t){this.json[e]=t}},{key:"getStrokeColor",value:function(){return this.json.strokeColor}},{key:"setStrokeColor",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.json.strokeColor=e,void 0!==n&&(this.json.strokeColor=n),this.update("SetStrokeColor",2,i,{type:"Color",value:e,space:this.json.strokeColorSpace},t)}}]),n}(bb),xb=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"changeShadingColor",value:function(e){return this.update("ChangeShadingColor",4,e)}},{key:"changeColorUndoStart",value:function(){return this.update("ChangeColorUndoStart",4)}},{key:"changeColorUndoEnd",value:function(){return this.update("ChangeColorUndoEnd",4)}},{key:"changeColorUndoCancel",value:function(){return this.update("ChangeColorUndoCancel",4)}},{key:"editReferenceLine",value:function(){return this.update("EditReferenceLine",4)}},{key:"setGridientCursorColor",value:function(e){return this.update("SetGridientCursorColor",4,e)}},{key:"getGridientCursorColor",value:function(){return this.update("GetGridientCursorColor",4)}},{key:"getGridientColorAt",value:function(e){return this.update("GetGridientColorAt",4,e)}},{key:"getGridientCursorLocation",value:function(){return this.update("GetGridientCursorLocation",4)}},{key:"getGridientCursorIndex",value:function(){return this.update("GetGridientCursorIndex",4)}},{key:"setGradientColorShowRect",value:function(e){return this.update("SetGradientColorShowRect",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoBefore",value:function(e){return this.update("AddGradientCursorInfoBefore",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoExcute",value:function(e){return this.update("AddGradientCursorInfoExcute",4,{type:"RectF",value:e})}},{key:"addGradientCursorInfoEnd",value:function(){return this.update("AddGradientCursorInfoEnd",4)}},{key:"addGradientCursorInfoDblClk",value:function(e){return this.update("AddGradientCursorInfoDblClk",4,{type:"RectF",value:e})}},{key:"delGradientCursorInfo",value:function(){return this.update("DelGradientCursorInfo",4)}},{key:"defaultGradientDataInit",value:function(){return this.update("DefaultGradientDataInit",4)}},{key:"setGradientCurrentInfo",value:function(e){return this.update("SetGradientCurrentInfo",4,{type:"ShadingColorArray",value:e})}},{key:"getGradientColor",value:function(){return this.update("GetGradientColor",4)}},{key:"renderGridient",value:function(e,t){return this.update("RenderGridient",4,e,t)}}]),n}(bb),_b=function(){function e(t){var n=this;(0,_._)(this,e),(0,X._)(this,"doc",void 0),(0,X._)(this,"notifier",void 0),(0,X._)(this,"workflow",void 0),(0,X._)(this,"filter",1),this.doc=t,t.api.registerWorkflow("out",this.workflow=function(e){var t=n.notifier[e.type];t&&t(e.msg)}),t.addDestroyHook((function(e){n.doc.api.unregisterWorkflow("out",n.workflow),n.destroy()}))}return(0,P._)(e,[{key:"createText",value:function(){return this.postOperation("CreateText")}},{key:"createPath",value:function(e){return this.postOperation("CreatePath",{type:"DrawType",value:e})}},{key:"createImage",value:function(e){var t=this;return this.postOperation("CreateImage",{type:"Image",value:e}).then((function(e){return t.postOperation("GetUndoManager",!1,!1).then((function(e){t.doc.engine.eventEmitter.emit(yb.undoRedoStoreChange,e,"pageEditor",!1)})),e})).then((function(e){return"number"==typeof e?t.doc.getPageByIndex(e).then((function(e){return t.doc.engine.eventEmitter.emit(le.graphicsUpdated,e),!0})):e}))}},{key:"createShading",value:function(e){return this.postOperation("CreateShading",{type:"DrawType",value:e})}},{key:"setObjectFilter",value:function(e){return this.filter=e,this.postOperation("SetGraphicsObjectFilter",{type:"GraphicsObjectFilter",value:e})}},{key:"text2Path",value:function(){return this.postOperation("Text2Path")}},{key:"endEdit",value:function(){return this.postOperation("EndEdit")}},{key:"startEdit",value:function(){return this.postOperation("StartEdit")}},{key:"setNotifier",value:function(e){this.notifier=e}},{key:"getActiveObject",value:function(){var e=this;return this.postOperation("GetGraphicsObjectUtils").then((function(t){return function(e,t){switch(t.type){case 1:return new wb(e,t);case 2:return new kb(e,t);case 3:case 5:return new bb(e,t);case 4:return new xb(e,t)}}(e.doc,t)}))}},{key:"getSelection",value:function(){return this.postOperation("GetSelection")}},{key:"hasSelection",value:function(){return this.postOperation("HasSelection")}},{key:"getEditingObject",value:function(){return this.postOperation("GetGraphicsObjectEditor").then((function(e){return e&&void 0!==e.type?e:void 0}))}},{key:"createEditingObjectProxy",value:function(e){return vb(this.doc,e)}},{key:"triggerPopMenuAction",value:function(e){var t=this.doc,n=t.id;return t.api.triggerPopMenuAction(n,e)}},{key:"postOperation",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc,a=o.id;return(r=o.api).handlePageEditorEvent.apply(r,[a,e,void 0].concat((0,R._)(n)))}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach((function(t){return e[t]=null}))}},{key:"copy",value:function(){return this.postOperation("Copy")}},{key:"canPaste",value:function(){return this.postOperation("CanPaste")}},{key:"paste",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.postOperation.apply(this,["Paste"].concat((0,R._)(n))).then((function(t){return e.doc.getPageByIndex(t)})).then((function(t){e.doc.engine.eventEmitter.emit(le.graphicsUpdated,t)}))}},{key:"undoRedo",value:function(e,t){var n=this;return this.postOperation("Undo",e,t).then((function(){n.postOperation("GetUndoManager",e,t).then((function(t){n.doc.engine.eventEmitter.emit(yb.undoRedoStoreChange,t,"pageEditor",e)}))}))}},{key:"getDefaultProperty",value:function(e){return this.postOperation("getDefaultProperty",e)}}]),e}(),Pb=function(){function e(t){var n=this;if((0,_._)(this,e),(0,X._)(this,"doc",void 0),(0,X._)(this,"notifier",void 0),(0,X._)(this,"workflow",void 0),t.touchup)return t.touchup;this.doc=t,t.api.registerWorkflow("touchup",this.workflow=function(e){var t=n.notifier[e.type];t&&t(e.msg)}),t.addDestroyHook((function(e){n.doc.api.unregisterWorkflow("touchup",n.workflow),n.destroy()})),t.touchup=this}return(0,P._)(e,[{key:"setNotifier",value:function(e){this.notifier=e}},{key:"handleEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleTouchUpEvent.apply(r,[o.getId(),e].concat((0,R._)(n))).then((function(e){return o.engine.eventEmitter.emit(yb.undoRedoStoreChange,e,"touchUp"),e}))}},{key:"handleFindReplaceEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o=this.doc;return(r=o.api).handleFindReplaceEvent.apply(r,[o.getId(),e].concat((0,R._)(n))).then((function(t){return"ReplaceAll"===e&&o.engine.eventEmitter.emit(yb.undoRedoStoreChange,t,"clearAll"),t}))}},{key:"triggerTUPopMenuAction",value:function(e,t){var n=this.doc,i=n.id;return n.api.triggerTUPopMenuAction(i,e,t)}},{key:"destroy",value:function(){var e=this;["doc","workflow","notifier"].forEach((function(t){return e[t]=null}))}}]),e}(),Db=function(){function e(t,n){var i=this;(0,_._)(this,e),this.engine=t,this.api=t.api,this.docId=n.id,this.pdfDoc=n,this.getArticleListPromise=this.api.construct({path:"jr/doc/article",className:"PDFArticle",wasm:16},this.docId).then((function(e){return i.objId=e.objId,i.articleList=e.json}))}return(0,P._)(e,[{key:"destroy",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.getArticleListPromise];case 1:return t.sent(),[4,e.api.destroy({path:"jr/doc/article"},e.docId,e.objId)];case 2:return t.sent(),e.engine=null,e.api=null,e.docId=null,e.pdfDoc=null,[2]}}))}))()}},{key:"getArticleList",value:function(){return this.articleList&&this.articleList.length>0?Promise.resolve(this.articleList):this.getArticleListPromise}},{key:"getThread",value:function(e){return this.getArticleList().then((function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.objNum===e)return i}}))}},{key:"getBead",value:function(e,t){return this.getThread(e).then((function(e){for(var n=e.children||[],i=0;i<n.length;i++){var r=n[i];if(r.objNum===t)return r}}))}},{key:"updateBeadRect",value:function(e,t,n){var i=this;return this.getArticleListPromise.then((function(){return i.api.updateBeadRect({path:"jr/doc/article"},i.docId,i.objId,e,t,n)}))}},{key:"insertThread",value:function(e){var t=this,n=e||{},i=n.title,r=void 0===i?"":i,o=n.subject,a=void 0===o?"":o,A=n.author,s=void 0===A?"":A,c=n.keywords,u=void 0===c?"":c;return this.pdfDoc.info.hasArticle=!0,this.getArticleListPromise.then((function(){return t.api.insertThread({path:"jr/doc/article"},t.docId,t.objId,{title:r,subject:a,author:s,keywords:u}).then((function(e){return e&&(t.articleList.push(e),t.engine.eventEmitter.emit(le.articleThreadAdded,e)),e}))}))}},{key:"updateThread",value:function(e){var t=this,n=e||{},i=n.objNum,r=n.title,o=n.subject,a=n.author,A=n.keywords;return this.getThread(i).then((function(e){return t.api.updateThread({path:"jr/doc/article"},t.docId,t.objId,{objNum:i,title:r,subject:o,author:a,keywords:A}).then((function(n){return n&&(Object.assign(e,n),t.engine.eventEmitter.emit(le.articleThreadUpdated,n)),n}))}))}},{key:"removeThread",value:function(e){var t=this;return this.getThread(e).then((function(n){return t.api.removeThread({path:"jr/doc/article"},t.docId,t.objId,e).then((function(e){return e&&(t.articleList="",t.engine.eventEmitter.emit(le.articleThreadRemoved,n)),e}))}))}},{key:"insertBead",value:function(e,t,n,i){var r=this;return this.pdfDoc.info.hasArticle=!0,this.getThread(n).then((function(o){return r.api.insertBead({path:"jr/doc/article"},r.docId,r.objId,e,n,t,i).then((function(e){return e&&(o.children||(o.children=[]),void 0===i?(o.children.push(e),r.engine.eventEmitter.emit(le.articleBeadAdded,o,[e])):(r.articleList="",r.getThread(n).then((function(e){r.engine.eventEmitter.emit(le.articleBeadAdded,e,e.children)})))),{thread:o,bead:e}}))}))}},{key:"removeBead",value:function(e,t){var n=this;return this.getThread(e).then((function(i){return n.api.removeBead({path:"jr/doc/article"},n.docId,n.objId,e,t).then((function(r){return r&&(n.engine.eventEmitter.emit(le.articleBeadRemoved,[t]),1===i.children.length?n.removeThread(e):(n.articleList="",n.getThread(e).then((function(e){n.engine.eventEmitter.emit(le.articleBeadUpdated,e,e.children)})))),r}))}))}},{key:"mergeThread",value:function(e,t){var n=this;return this.getThread(t).then((function(i){return n.api.mergeThread({path:"jr/doc/article"},n.docId,n.objId,e,t).then((function(t){return t&&(i.children=t.children,n.engine.eventEmitter.emit(le.articleThreadUpdated,t),n.removeThread(e)),t}))}))}}]),e}();const Cb=Db;var Sb,Ib="progress",Eb=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"store",new U.Store),(0,X._)(this,"cancelCallback",void 0),this.cancelCallback=t}return(0,P._)(e,[{key:"cancel",value:function(){this.cancelCallback()}},{key:"onProgress",value:function(e){var t=this;return this.store.subscribe(Ib,(function(n){e.call(t,n)}))}},{key:"updateProgress",value:function(e){this.store.dispatch(Ib,e)}},{key:"getCurrentProgress",value:function(){var e=this.store.getCurrentValue(Ib);return e?e.percent:0}}]),e}();function Rb(e,t){var n=t.getCurrentPageLabelInfo(0).then((function(e){return!0===e.hasLabel}));e.hasPageLabel=n,e.hasPageLabel.then((function(){e.hasPageLabelStatus="done"})),e.hasPageLabelStatus="pending"}function Tb(e,t){"done"===e.hasPageLabelStatus&&Rb(e,t)}!function(e){e.UNINITIALIZED="uninitialized",e.PENDING="pending",e.DONE="done"}(Sb||(Sb={}));function Mb(e){if(!e)return!1;switch(e.type){case"aplication/json":case"text/json":return!0}return!("string"!=typeof e.name||!e.name.endsWith(".json"))}function Fb(e){return!!e&&("application/vnd.fdf"===e.type||"string"==typeof e.name&&e.name.endsWith(".fdf"))}function Lb(e){if(!e)return!1;switch(e.type){case"application/vnd.xfdf":case"application/vnd.adobe.xfdf":return!0}return"string"==typeof e.name&&e.name.endsWith(".xfdf")}function Nb(e){return e>=1073741824?"".concat(Math.floor(e/1073741824)," G"):e>=1048576?"".concat(Math.floor(e/1048576)," M"):e>=1024?"".concat(Math.floor(e/1024)," KB"):"".concat(e," B")}function Ob(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD HH:mm:ss";if(!e)return"";var n="";return e.lastModified?n=Je(new Date(e.lastModified),t,""):e.lastModifiedDate&&(n=Je(e.lastModifiedDate,t,"")),n}var Bb=function(e){return new Promise((function(t){var n,i,r,o,a=null,A=document.createElement("canvas"),s=A.getContext("2d",{willReadFrequently:!0}),c=new Image;c.onload=function(){var e=c.width,u=c.height;A.width=e,A.height=u,s.drawImage(c,0,0),a=s.getImageData(0,0,e,u);for(var l=0;l<a.data.length;l+=4){n=a.data[l],i=a.data[l+1],r=a.data[l+2],o=a.data[l+3],Math.sqrt(Math.pow(n-255,2)+Math.pow(i-255,2)+Math.pow(r-255,2)+Math.pow(o-255,2))<=60&&(a.data[l]=0,a.data[l+1]=0,a.data[l+2]=0,a.data[l+3]=0)}s.putImageData(a,0,0),t(A.toDataURL("image/png"))},c.src=e}))};function jb(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n="",i=new Uint8Array(e),r=i.byteLength,o=0;o<r;o++)n+=String.fromCharCode(i[o]);return"data:".concat(t,";base64,").concat(window.btoa(n))}function Vb(e){/^data\:.*?base64,/.test(e)&&(e=e.replace(/^data\:.*?base64,/,""));for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}function Ub(e){return e<0||isNaN(e)}function Hb(){throw new Error("Param error: Index is out of the valid range.")}function zb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");if(e.forEach((function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(1!==e.length&&2!==e.length)throw new Error("Param error. Non-valid array.");1===e.length?Ub(e[0])&&Hb():2===e.length&&(Ub(e[0])||Ub(e[1]))&&Hb()})),"insert"===n){var i=Zo(e).sort((function(e,t){return e-t})),r=t+i.length;e.forEach((function(e){e.some((function(e){return e>r}))&&Hb()}))}else if("remove"===n){var o=t-1;e.forEach((function(e){e.some((function(e){return e>o}))&&Hb()}))}else e.forEach((function(e){e.some((function(e){return e>=t}))&&Hb()}))}var Wb=n(7460),Yb=n.n(Wb),Gb=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102],$b=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,_._)(this,n),(r=t.call(this)).id=e,r.engine=i,r.parameters=o,r.api=i.api,r.pageCache=[],r.pagePromiseCache=[],r.info={fileName:o.fileName,pageSizes:{},XFARemoved:!1},r.pdfaEditable=!1,r.visibleTemplates=[],r.invisibleTemplates=[],r.metadata={FileName:o.fileName},r.docModified=!1;var a=[];for(var A in le)switch(A){case"layerVisibleChange":case"layerVisibleChanged":case"drmEncryptFailed":case"docModified":case"annotationLoaded":case"annotLoaded":case"obtainsPageFromEngine":case"permissionChanged":case"formReloaded":case"paragraphTextOnActivate":case"paragraphTextOnDeactivate":case"paragraphTextEnterEdit":case"objectStartEdit":case"objectEndEdit":break;default:a.push(le[A])}var s=function(){r.engine.eventEmitter.emit(le.docModified,(0,k._)(r)),r.docModified=!0};r.docModifiedHandler=s;var c=An(100,s);return a.map((function(e){r.engine.eventEmitter.on(e,c)})),r.engine.eventEmitter.on(de.willCloseDocument,r.willCloseDocument=function(){a.map((function(e){r.engine.eventEmitter.removeListener(e,c)}))}),r.permissionFactory={},r.pageIdMap={},r.docTextSearchIdMap={},r.spawnPageExecutor=new U.QueuedAsyncTaskExecutor,r._pageLabelInfo={hasPageLabelStatus:"uninitialized",hasPageLabel:Promise.resolve(!1)},r.otherOptions={renderConfigLineWeight:!1,disableSavePrompt:!1,isOpenNewFileAfterClose:!1},r.selectedInfo=null,r.bookmarkAPI=new sb((0,k._)(r)),r}return(0,P._)(n,[{key:"checkNoAdditionPerm",value:function(e){return void 0!==this.permissionFactory.additional&&!(this.permissionFactory.additional(this)&e)}},{key:"checkPermission",value:function(e){var t=void 0!==this.permissionFactory.standard?this.permissionFactory.standard(this):-1;return this.getPermissionsSync()&t&e}},{key:"isOwner",value:function(){return this.info.isOwner}},{key:"isDocModified",value:function(){return this.docModified}},{key:"setDocModified",value:function(){this.docModifiedHandler()}},{key:"getId",value:function(){return this.id}},{key:"getNameTreeIcons",value:function(){return this.info.icons}},{key:"getFileName",value:function(){return this.info.fileName}},{key:"createCertificateFile",value:function(e){return this.api.createCertificateFile(this.id,e)}},{key:"getCertificateSerials",value:function(){return this.api.getCertificateSerials(this.id)}},{key:"parseByCertificate",value:function(e){var t=this;return this.api.parseByCertificate(this.id,e).then((function(e){return t.afterParseHandler(e)}))}},{key:"parseByPassword",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(n.encryptPassword&&(i.encryptPassword=n.encryptPassword),n.annotsJson){var r=Kt.JSONToFDF(n.annotsJson);i.fdf={file:r}}return n.fdf&&(i.fdf=n.fdf),n.drm&&(i.drm=n.drm),n.fileOpen&&(i.fileOpen=n.fileOpen),n.idJWT&&(i.idJWT=n.idJWT),n.webPluginSecurity&&(0,I._)(n.webPluginSecurity,Array)&&n.webPluginSecurity.length>0&&(i.webPluginSecurity=n.webPluginSecurity||[]),n.cdrm&&(i.cdrm=n.cdrm),this.api.parsePDFDocByPassword(this.id,e,i).then((function(e){return t.afterParseHandler(e)}))}},{key:"parse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.certificateInfo?this.parseByCertificate(e.certificateInfo,e):this.parseByPassword(e.password,e)}},{key:"afterParseHandler",value:function(e){var t=e.code,n=e.info;return 0!==t?Promise.reject(e):(this.info=Object.assign(this.info,n),this.pageCache=new Array(this.info.pageCount),this.info.action&&(this.action=this.engine.actionFactory.createAction(this.info.action,this,this.api,this.engine.eventEmitter,this)),this)}},{key:"getJsNameTree",value:function(){return this.info.jsNameTree}},{key:"getMetadata",value:function(){var e=this;return this.api.getMetadata(this.id).then((function(t){return e.metadata=Object.assign(e.metadata,t)})).catch((function(){return e.metadata}))}},{key:"getMetadataValue",value:function(e){return this.metadata[e]}},{key:"flatten",value:function(e){if(!(0!=this.info.fileType||this.checkPermission(en.annotForm)&&this.checkPermission(en.modify)&&this.checkPermission(en.assemble)))throw new Error("Permission error");for(var t=[],n=this.getPageCount(),i=0;i<n;i++){var r=this.getPageByIndex(i).then((function(t){return t.flatten(e)}));t.push(r)}return Promise.all(t)}},{key:"setMetadataValue",value:function(e,t){var n=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");var i=Promise.resolve();return this.metadata.custom&&this.metadata.custom.hasOwnProperty(e)&&(i=this.api.removeMetadata(this.id,e).then((function(){delete n.metadata.custom[e]}))),i.then((function(){n.api.setMetadataValue(n.id,e,t).then((function(e){return n.getMetadata()})).then((function(){return n.engine.eventEmitter.emit(le.metaDataChanged,n),n}))}))}},{key:"reloadPDFForm",value:function(){var e,t=this,n=Promise.resolve();return this.PDFForm&&(e=this.PDFForm.actionHandler,n=this.PDFForm.destroy(),this.PDFForm=null),n.then((function(){return t.loadPDFForm().then((function(n){var i=!0,r=!1,o=void 0;try{for(var a,A=t.pageCache[Symbol.iterator]();!(i=(a=A.next()).done);i=!0){var s=a.value;s&&s.resetWidgetsControl()}}catch(e){r=!0,o=e}finally{try{i||null==A.return||A.return()}finally{if(r)throw o}}return e&&n.setActionHandler(e),t.engine.eventEmitter.emit(le.formReloaded,t),n}))}))}},{key:"loadPDFForm",value:function(){var e=this,t=this.PDFForm;return t&&!this.emptyForm?Promise.resolve(t):(t&&t.destroy(),t=this.PDFForm=new Xy(this,this.engine),this.api.loadForm(this.id).then((function(n){return e.emptyForm=!1,t.setFormJson(n),t.setState("jsInited"),t})))}},{key:"loadEmptyPDFForm",value:function(){var e=this.PDFForm;return this.emptyForm=!0,e||(e=this.PDFForm=new Xy(this,this.engine)),Promise.resolve(e)}},{key:"getPDFForm",value:function(){return this.PDFForm}},{key:"getPageCount",value:function(){return this.info.pageCount}},{key:"getPageCountAsync",value:function(){return this.info.pageCount||this.api.getPageCountAsync(this.id)}},{key:"getFileVersion",value:function(){return this.api.getFileVersion(this.id).then((function(e){return(void 0!==e?e:14)/10}))}},{key:"isLinearized",value:function(){return this.api.isLinearized(this.id)}},{key:"hasForm",value:function(){return this.api.hasForm(this.id)}},{key:"setCustomPermission",value:function(e,t){this.permissionFactory[e]=t}},{key:"getPermission",value:function(){return this.getPermissions()}},{key:"getPermissions",value:function(){return this.getPermissionsSync()}},{key:"getPermissionsSync",value:function(){if(this.permissionFactory.replaceStandard)return this.info.userPermissions=this.permissionFactory.replaceStandard(this),this.info.userPermissions;if(this.info.isOwner)return 4294967292;var e=-1;return(this.info.sigPerms||[]).forEach((function(t){return e&=t})),(e&this.info.userPermissions)>>>0}},{key:"hasSignature",value:function(){return(this.info.sigPerms||[]).length}},{key:"getStdCipherOptions",value:function(){return this.api.getStdCipherOptions(this.id)}},{key:"getPDFDocInfo",value:function(){return this.api.getPDFDocInfoById(this.id)}},{key:"getBookmarksJson",value:function(){return this.api.getBookmarks(this.id)}},{key:"getBookmarkChildren",value:function(e){return this.api.getBookmarkChildren({path:"jr/doc"},this.id,e)}},{key:"getBookmarkAPI",value:function(){return this.bookmarkAPI}},{key:"getBlankPageIndexes",value:function(){return this.api.getBlankPageIndexes(this.id)}},{key:"getCurFileSymbolId",value:function(){return this.api.getCurFileSymbolId(this.id)}},{key:"getFadeOutBackground",value:function(e){return this.api.getFadeOutBackground(this.id,e)}},{key:"getConvertToMono",value:function(e){return this.api.getConvertToMono(this.id,e)}},{key:"convertImageToBlackWhite",value:function(e){var t=this;return(0,x._)((function(){var n,i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.getConvertToMono(e)];case 1:return n=r.sent(),i=jb(n[0]),[2,Bb(i)]}}))}))()}},{key:"getRootBookmark",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.bookmarkRoot)return Promise.resolve(this.bookmarkRoot);var t=this.engine;return this.getBookmarksJson().then((function(n){return n?e.bookmarkRoot=new ub(t,e,n):null}))}},{key:"updateRootBookmark",value:function(){var e=this;return this.bookmarkRoot?this.getBookmarksJson().then((function(t){t&&e.bookmarkRoot.updateBookmark(t)})):Promise.resolve()}},{key:"createRootBookmark",value:function(){var e=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var t=this.engine;return this.api.createRootBookmark(this.id).then((function(n){return e.bookmarkRoot=new ub(t,e,n)}))}},{key:"getLayerNodesJson",value:function(){var e=this;return this.isDestroyed?Promise.resolve():this.ocgs?Promise.resolve(this.ocgs):this.api.getLayerNodes(this.id).then((function(t){return e.ocgs=t}))}},{key:"getRootLayerNodeChildrenCount",value:function(){return this.isDestroyed?Promise.resolve(0):this.api.getRootLayerNodeChildrenCount({path:"jr/doc"},this.id)}},{key:"setLayerNodeVisible",value:function(e,t){var n=this,i=this.getLayerNodeById(e);return i.visible===t?Promise.resolve(!0):(i.visible=t,this.api.setLayerNodeVisiable(this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(le.layerVisibleChange,n),e})))}},{key:"setLayerNodeVisiable",value:function(e,t){return this.setLayerNodeVisible(e,t)}},{key:"isPageLoaded",value:function(e){return!!this.pageCache[e]||!!this.pagePromiseCache[e]}},{key:"getPageRotation",value:function(e){return this.api.getPageRotation({path:"jr/doc"},this.id,e)}},{key:"getPageByIndex",value:function(e){var t,n=this,i=this.pageCache;if(t=i[e])return Promise.resolve(t);var r=this.pagePromiseCache;return r[e]=r[e]||this.api.getPageInfoByIndex(this.id,e).then((function(t){var o=i[e]=new Uy(t,n);return n.engine.eventEmitter.emit(le.obtainsPageFromEngine,o),delete r[e],o}))}},{key:"getPageById",value:function(e){return this.pageIdMap[e]||null}},{key:"getCurrentDocTextSearch",value:function(){var e=Object.keys(this.docTextSearchIdMap);return this.docTextSearchIdMap[e[e.length-1]]||null}},{key:"getDocTextSearchById",value:function(e){return this.docTextSearchIdMap[e]||null}},{key:"destroy",value:function(){var e,t=this;(e=this.PDFForm)&&e.destroy(),this.PDFForm=null,this.pageIdMap={},this.docTextSearchIdMap={};for(var i=this.pageCache,r=0,o=i.length;r<o;r++){var a=i[r];a&&a.destroy(),i[r]=null}var A=this.HF;return A&&A.destroy(),this.HF=null,this.bookmarkRoot&&this.bookmarkRoot.destroy(),this.bookmarkRoot=null,this.permissionFactory={},this.engine.eventEmitter.off(de.willCloseDocument,this.willCloseDocument),this.willCloseDocument=null,this.pdfPortfolio=null,(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),Promise.resolve().then((function(){return t.api.destroyDoc(t.getId())}))}},{key:"releasePage",value:function(e){this.api.destroyPage({path:"jr/doc"},this.id,e)}},{key:"getDocBuffer",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.hasSignature()?1:0;n&&e.activeElement(null);var r=[];return Promise.resolve((e._saveBefore||function(){})()).then((function(){return t.getStream((function(e){var t=e.arrayBuffer;r.push(t)}),i,n).then((function(){return r}))}))}},{key:"getStream",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(this.checkNoAdditionPerm(1))throw new Error("Permission error, download disabled");return this.PDFForm?this.PDFForm.addTask().then((function(){return t.api.getPDFDocStream(t.id,e,n,i)})):this.api.getPDFDocStream(this.id,e,n,i)}},{key:"getFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flags:0,fileName:this.getFileName()},n=t.flags,i=void 0===n?0:n,r=t.fileName,o=void 0===r?this.getFileName():r;if(this.checkNoAdditionPerm(Qe.download))throw new Error("Permission denied! Missing additional download permission.");var a,A=[],s=0,c=function(e){var t=e.blob,n=e.arrayBuffer,i=e.offset,r=e.size;n?(A.push({arrayBuffer:n,offset:i}),s=Math.max(i+r,s)):a=t},u=function(){return e.api.getPDFDocStream(e.id,c,i).then((function(){if(a)return[a];var e=new Uint8Array(s);return A.forEach((function(t){var n=t.arrayBuffer,i=t.offset;e.set(new Uint8Array(n),i)})),e})).then((function(e){try{return new File([e],o,{type:"application/pdf"})}catch(n){e.name=o;var t=new Date;return e.lastModified=t.getTime(),e.lastModifiedDate=t,e.webkitRelativePath="",e}}))};return this.PDFForm?this.PDFForm.addTask().then((function(){return u()})):u()}},{key:"exportAnnotsToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);var n=arguments[2],i={};if(t)for(var r in t.forEach((function(e){var t;i[e.page.getId()]||(i[e.page.getId()]=new Set),t=i[e.page.getId()],Qb(e,t,n)})),i)i[r]=Array.from(i[r]);return this.api.exportToFDF(this.id,e,2,i)}},{key:"exportFormToFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((t|5-t)<0)throw new Error("File type error.");var n=Promise.resolve();return this.PDFForm||(n=this.loadPDFForm()),n.then((function(n){switch(t){case 0:return e.api.exportToFDF(e.id,0,1);case 1:var i=e.PDFForm.exportXFDF(),r=new Blob([i],{type:"application/vnd.adobe.xfdf"});return Promise.resolve(r);case 2:var o=e.PDFForm.exportXML(),a=new Blob([o],{type:"application/xml"});return Promise.resolve(a);case 3:var A={"":e.getFileName()||"Untitled.pdf"};e.PDFForm.enumFieldsEx([],0,(function(e,t,n){Array.isArray(n)&&(n=n.join("\n")),A[t]=n}));var s=Yb().unparse([A],{delimiter:","});return Promise.resolve(new Blob(["\ufeff"+s],{type:"text/csv,charset=UTF-8"}));case 4:var c={};e.PDFForm.enumFieldsEx([],0,(function(e,t,n){Array.isArray(n)?c[t]=n.join("\n"):c[t]=n}));var u=Yb().unparse([c],{delimiter:"\t"});return Promise.resolve(new Blob([u],{type:"text/plain"}));case 5:var l=[];e.PDFForm.enumFieldsEx([],0,(function(e,t,n){var i={};i.type=e,i.name=t,i.value=n,l.push(i)}));var d=JSON.stringify(l);return Promise.resolve(new Blob([d],{type:"application/json"}))}}))}},{key:"exportToFDF",value:function(e,t){return this.api.exportToFDF(this.id,e,2).then((function(e){return new Uint8Array(e)}))}},{key:"exportDataToFDF",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0!==e&&1!==e)throw new Error("File type error, only 0 or 1 available, current is "+e);return this.api.exportToFDF(this.id,e,t)}},{key:"exportToStardardXml",value:function(e,t){return this.api.exportToStardardXml(this.id,e,t)}},{key:"exportToImage",value:function(e,t,n,i){return this.api.exportToImage(this.id,e,t,n,i)}},{key:"exportToTxt",value:function(e,t,n){return this.api.exportToTxt(this.id,e,t,n)}},{key:"exportImageObjectToImage",value:function(e,t,n,i){return this.api.exportImageObjectToImage(this.id,e,t,n,i)}},{key:"cancelExport",value:function(){return this.api.cancelExport(this.id)}},{key:"importAnnotsFromFDF",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.checkPermission(en.annotForm))throw new Error("Permission error");return this.api.importFromFDF(this.id,e,2).then((function(){for(var e=function(e,t){var r=n[e];if(!r)return"continue";i.push(r.getUnloadedAnnots().then((function(e){return{page:r,newAnnots:e}})))},n=t.pageCache,i=[],r=0,o=n.length;r<o;r++)e(r);return Promise.all(i)})).then((function(e){t.engine.eventEmitter.emit(le.annotationImported,t,e),!n&&t.engine.eventEmitter.emit(le.annotationImportedEx,t,e)}))}},{key:"importFormFromFile",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTF-8";if(!this.checkPermission(en.annotForm+en.fillForm))throw new Error("Permission error");var r="importFieldProgress";this.engine.eventEmitter.emit(de.progressChanged,r,0,Tm.PROGRESSING),this.engine.eventEmitter.on("upadateFormValue",(function(e,t,i){n.engine.eventEmitter.emit(de.progressChanged,r,t,i),i!==Tm.SUCCESS&&i!==Tm.FAILED||(n.engine.eventEmitter.off("upadateFormValue"),i===Tm.SUCCESS&&n.engine.eventEmitter.emit(le.formFieldImported,n))}));var o=Promise.resolve();this.PDFForm||(o=this.loadPDFForm());var a=2===t;return 3===t||4==t||5==t?o=o.then((function(t){(0,I._)(e,ArrayBuffer)||(0,I._)(e,DataView)?e=new Blob([e]):(0,I._)(e,Blob)||(e=new Blob(e));var n=(0,U.createDeferred)(),r=new FileReader;return r.onloadend=function(){n.resolve(r.result)},r.onerror=n.reject,r.readAsText(e,i),n.promise})).then((function(i){var r=",";switch(t){case 3:case 5:break;case 4:r="\t";break;default:throw new Error("Unsupported file type")}if(5===t){var o=JSON.parse(i).reduce((function(e,t){return e[t.name]=t.value,e}),{});e=ab(o,n.PDFForm)}else{var a=Yb().parse(i,{delimiter:r}),A=a.data,s=a.errors;if(s.length>0)throw new Error("Parsing error: ".concat(s.join("\n")));var c=A[0].reduce((function(e,t,n){return""===t||(e[t]=A[1][n]),e}),{});e=ab(c,n.PDFForm)}})):a?(0,I._)(e,Blob)?o=new Promise((function(t,n){var i=new FileReader;i.readAsText(e),i.onload=function(n){var i=n.target.result;e=Ab(i),t()}})):(0,I._)(e,ArrayBuffer)&&(o=new Promise((function(t,n){var i=new Blob([e]),r=new FileReader;r.readAsText(i),r.onload=function(n){var i=n.target.result;e=Ab(i),t()}}))):o=Promise.resolve(),o.then((function(){var t=n.PDFForm;return n.api.importFromFDF(n.id,e,1).then((function(e){return n.api.getFieldsValue(n.id)})).then((function(e){return t.upadateValue(e),e})).then((function(e){for(var i in n.engine.eventEmitter.emit(le.docModified,n),e){var r=t.getField(i);if(r&&6===r.getType()){var o=r.getLoadedWidgets(),a=void 0,A=go.FieldValueChanged;a=o.length?o[0].getAdditionalAction(A):r.getAction(A),e[i].length>0&&a&&t.actionHandler&&t.actionHandler(a,null,r,A)}}t.calculate(null)}))}))}},{key:"importFromFDFFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(1===n)return this.PDFForm.importFDF();var i=e,r=!1;if((0,I._)(e,Uint8Array)&&e.length>52428800){var o=new Blob([e],{type:"arraybuffer"});i=URL.createObjectURL(o),r=!0}return this.api.importFromFDFFile(this.id,i,-1,n).then((function(e){for(var n=function(e,t){var n=i[e];if(!n)return"continue";r.push(n.getUnloadedAnnots().then((function(e){return{page:n,newAnnots:e}})))},i=t.pageCache,r=[],o=0,a=i.length;o<a;o++)n(o);return Promise.all(r)})).then((function(e){r&&URL.revokeObjectURL(i);var o=le.annotationImported;1==n&&(o=le.annotationImported),t.engine.eventEmitter.emit(o,t,e)}),(function(e){console.error("some error happened. Please check fdf file exists.",e)}))}},{key:"exportAnnotsToJSON",value:function(e){var t=this,n=Promise.resolve();if(e&&0!=e.length){var i={},r=e.map((function(e,t){var n=e.exportToJSON();return"stamp"!=n.type&&"fileattachment"!=n.type||(i[t]={page:n.page,index:e.getId()}),n}));n=Promise.all([r,this.getAnnotsRawData(i)])}else n=this.getAnnots().then((function(e){for(var n={},i=[],r=0,o=e.length;r<o;r++)for(var a=e[r],A=0,s=a.length;A<s;A++){var c=a[A].getType();if("widget"!=c&&"popup"!=c&&"watermark"!=c){var u=a[A].exportToJSON();i.push(u),"stamp"!=u.type&&"fileattachment"!=u.type||(n[i.length-1]={page:r,index:a[A].getId()})}}return Promise.all([i,t.getAnnotsRawData(n)])}));return n.then((function(e){var t=(0,E._)(e,2),n=t[0];return t[1].forEach((function(e){return n[e.index].raw=e.raw})),n}))}},{key:"getAnnotsRawData",value:function(e){return e.length>0?[]:this.api.getAnnotsRawData(this.id,e)}},{key:"importAnnotsFromJSON",value:function(e){if(!this.checkPermission(en.annotForm))throw new Error("Permission error");var t=Kt.JSONToFDF(e);return this.importAnnotsFromFDF(t)}},{key:"getPageAnnots",value:function(e){return Zb(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.getAnnots()}))}},{key:"getPageAnnotsIdList",value:function(e){return Zb(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return Object.keys(e.annotIdMap).map((function(e){return+e}))}))}},{key:"hasAnnots",value:function(e){return this.api.hasAnnots({path:"jr/doc"},this.id,e)}},{key:"getAllPageAnnotCount",value:function(){return this.api.getAllPageAnnotCount({path:"jr/doc"},this.id)}},{key:"getAllAnnotsData",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){return[2,e.api.getAllAnnotsData({path:"jr/doc"},e.id)]}))}))()}},{key:"getAnnots",value:function(){var e=this;return(0,x._)((function(){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.getAllPageAnnotCount()];case 1:return t=n.sent(),[2,Promise.all(Array(e.getPageCount()).fill(null).map((function(n,i){return t[i]?e.getPageAnnots(i):[]})))]}}))}))()}},{key:"addAnnots",value:function(e){var t=this;e=e.map((function(e){var n=e.page;if(void 0===n)throw"page is required.";e.type&&(e=By(e,t.engine.getUserCommentConfig()));var i=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return e.groupElements&&(e.groupElements=e.groupElements.map((function(e){e=By(e,t.engine.getUserCommentConfig());var n=t.engine.getDefaultAnnotConfig()(e.type,e.intent);return(0,U.extendOptions)({},n,e)}))),(0,U.extendOptions)({page:n},i,e)}));var n=this.getId(),i=0,r="addAnnots",o=de.progressChanged,a=e.filter((function(e){return!!e.states&&e.states.length>0})).map((function(e){return e.name}));return this.api.addAnnots(n,e,(function(e){i=e,t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Tm.PROGRESSING)})).then((function(e){var n=(100-i)/(e.length+1);return Promise.all(e.map((function(e){return t.getPageByIndex(e.page).then((function(A){return A.getUnloadedAnnots().then((function(t){return A.getAnnotsByIdArray(a).then((function(e){return e.flatMap((function(e){return e.getMarkedStates()})).reduce((function(e,t){return e[t.objectNumber]=t,e}),{})})).then((function(t){var n=A.annotIdMap;return e.annots.map((function(e){return n[e]||t[e]}))}))})).then((function(e){i+=n;for(var a=[],s=A.annotIdMap,c=t.engine.eventEmitter,u=0,l=e.length;u<l;u++){var d=e[u];d.getType()===zi.text?d.isStateAnnot()?(a.length&&(c.emit(le.annotationAdd,a,A),a=[]),c.emit(1===d.info.stateMode?le.annotationMarkedStateAnnotAdded:le.annotationReviewStateAnnotAdded,d,s[d.info.IRT]),c.emit(le.annotationUpdated,[d],A,tn.replyAdded)):d.isReplyAnnot()?(a.length&&(c.emit(le.annotationAdd,a,A),a=[]),c.emit(le.annotationReplyAdded,d,s[d.info.IRT]),c.emit(le.annotationUpdated,[d],A,tn.markedStateUpdated)):a.push(d):a.push(d)}return a.length&&c.emit(le.annotationAdd,a,A),c.emit(o,r,Number(i.toFixed(2)),Tm.PROGRESSING),e}))}))})))})).then((function(e){t.engine.eventEmitter.emit(o,r,100,Tm.SUCCESS);var n=[];return e.forEach((function(e){n=n.concat(e)})),n})).catch((function(e){throw t.engine.eventEmitter.emit(o,r,Number(i.toFixed(2)),Tm.FAIL),e}))}},{key:"getAnnotIdMap",value:function(){for(var e=this,t=[],n={},i=0,r=this.getPageCount();i<r;i++)t.push(function(t){return e.getPageByIndex(t).then((function(e){Object.assign(n,e.annotIdMap)}))}(i));return Promise.all(t).then((function(){return n}))}},{key:"getTextSearch",value:function(e,t){return new Qy(this,e,t)}},{key:"addAnnot",value:function(e,t){if(!this.checkPermission(en.annotForm))throw new Error("Permission error");return Zb(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnot(t)}))}},{key:"addAnnotGroup",value:function(e,t,n){if(!this.checkPermission(en.annotForm))throw new Error("Permission error");return Zb(e,this.getPageCount()),this.getPageByIndex(e).then((function(e){return e.addAnnotGroup(t,n)}))}},{key:"setOpenAction",value:function(e,t){var n=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.setDocOpenAction(this.getId(),e,t).then((function(e){return n.action=n.engine.actionFactory.createAction(e,n,n.api,n.engine.eventEmitter,n)}))}},{key:"getSecurityType",value:function(){return this.api.getSecurityType(this.id)}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(this.id,e,t)}},{key:"setCertificateAndPermission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zy.AES256,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.setCertificateAndPermission(this.id,e,t,n)}},{key:"setPasswordAndPermission",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4294967292,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zy.AES256,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments[5];if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.setPasswordAndPermission(this.id,e,t,i,r,o).then((function(i){return(a&&(a.userPassword||a.ownerPassword)||e&&-1!=e||t&&-1!=t)&&i&&(n.setPasswordType(t||e&&!t?3:2),n.setHasOwnerPassword(!!t),n.engine.eventEmitter.emit(le.docPasswordChanged,n)),i}))}},{key:"removeSecurity",value:function(){var e=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.removeSecurity(this.id).then((function(t){return t&&e.engine.eventEmitter.emit(le.removePwdAndPerm,e),t}))}},{key:"isCorrectPassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe;return this.checkPassword(e).then((function(e){return 0!==e}))}},{key:"getViewerPreference",value:function(){return this.preferencePromise||(this.preferencePromise=this.api.getViewerPreference(this.id).catch((function(){return{pageLayout:"Default",uiLayout:"Default",language:"Default",viewerPreference:{}}})))}},{key:"setViewPreference",value:function(e,t){return this.preferencePromise=null,this.api.setViewPreference(this.id,e,t)}},{key:"checkPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then((function(e){return 3===e&&(t.info.isOwner=!0),t.engine.eventEmitter.emit(le.permissionChanged,t),e}))}},{key:"getTypeByPassword",value:function(e){var t=this;return this.api.checkPassword(this.id,e).then((function(e){return 3===e&&(t.info.isOwner=!0),e}))}},{key:"getUserPassword",value:function(e){return this.api.getUserPassword(this.id,e)}},{key:"getPasswordType",value:function(){return Promise.resolve(this.info.passwordType)}},{key:"setPasswordType",value:function(e){return this.info.passwordType=e}},{key:"hasOwnerPassword",value:function(){return!!this.info.hasOwnerPassword}},{key:"setHasOwnerPassword",value:function(e){this.info.hasOwnerPassword=!!e}},{key:"getUserPermissions",value:function(){return this.info.userPermissions}},{key:"makeRedactByPages",value:function(e){if(!this.checkPermission(en.annotForm))throw new Error("Permission error");for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getPageByIndex(i).then((function(e){var t;if(!e.isVirtual())return t=1==e.info.rotation||3==e.info.rotation?{left:0,top:0,right:e.getHeight(),bottom:e.getWidth()}:{left:0,top:0,right:e.getWidth(),bottom:e.getHeight()},e.markRedactAnnot([t])}));t.push(r)}return Promise.all(t).then((function(e){return e.filter(Boolean)}))}},{key:"movePageTo",value:function(e,t){var n=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");this.info.pageSizes={};var i=this.getPageCount();if(e<0||t<0||e>=i||t>=i)throw new Error("Param error: PageIndex or DestIndex is out of the valid range.");return this.getPageByIndex(e).then((function(i){return n.api.movePageTo(n.id,i.getId(),t).then((function(i){if(i){var r=n.pageCache[e];n.pageCache.splice(e,1),n.pageCache.splice(t,0,r);var o=Math.min(e,t),a=Math.max(e,t);n.updatePageIndex(o,a),n.engine.eventEmitter.emit(le.pageMoved,e,t)}return n.updateRootBookmark().then((function(e){return i}))}))}))}},{key:"insertBlankPages2",value:function(e,t,n){var i=this;return(0,x._)((function(){var r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:if(!i.checkPermission(en.assemble|en.modify))throw new Error("Permission error");if(i.info.pageSizes={},i.getPageCount(),"number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return[4,i.api.insertBlankPages2(i.id,e,t,n)];case 1:return r=A.sent(),[4,i.api.getLayerNodes(i.id)];case 2:return o=A.sent(),delete i.ocgs,i.ocgs=o,a=r.reduce((function(e,t){if(!t)return!1;i.info.pageCount++;var n=new Uy(t,i),r=t.index;return i.pageCache.splice(r,0,n),i.updatePageIndex(r+1,i.info.pageCount-1),i.PDFForm&&i.PDFForm.afterInsertPage(t.index),(0,R._)(e).concat([n])}),[]),i.updatePageLabelsByAction("insertPagesByRange",[r.map((function(e){return e.index}))]),i.engine.eventEmitter.emit(le.insertPages,a),[2,a]}}))}))()}},{key:"insertPage",value:function(e,t,n){var i=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if(e<0||e>r)throw new Error("Param error: PageIndex is out of the valid range.");if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return this.api.insertPage(this.id,e,t,n).then((function(e){return delete i.ocgs,i.api.getLayerNodes(i.id).then((function(e){return i.ocgs=e})).then((function(t){return e}))})).then((function(t){if(!t)return!1;i.info.pageCount++;var n=new Uy(t,i);i.pageCache.splice(t.index,0,n),i.updatePageIndex(t.index+1,i.info.pageCount-1);var r=i.PDFForm&&i.PDFForm.afterInsertPage(e);return i.engine.eventEmitter.emit(le.pageAdded,n),i.updateRootBookmark().then((function(){return r})).then((function(e){return n}))}))}},{key:"showNameTreePageAtTheEnd",value:function(){var e=this;return this.api.showNameTreePageAtTheEnd(this.id).then((function(t){return delete e.ocgs,e.api.getLayerNodes(e.id).then((function(t){return e.ocgs=t})).then((function(n){return e.reloadPDFForm(!0).then((function(e){return t}))}))})).then((function(t){if(!t)return!1;e.info.pageCount++;var n=new Uy(t,e);return e.pageCache.splice(t.index,0,n),e.engine.eventEmitter.emit(le.pageAdded,n),e.engine.eventEmitter.emit(le.pagesLabelNeedUpdate,n),n}))}},{key:"removePage",value:function(e){var t=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(e<0||e>=n)throw new Error("Param error: PageIndex is out of the valid range.");if(1==n)throw new Error("Not allowed to remove the only page.");var i=[];return this.pageCache[e]||i.push(this.getPageByIndex(e)),Promise.all(i).then((function(n){return t.api.removePage(t.id,e).then((function(n){if(n){t.PDFForm&&t.PDFForm.afterRemovePage(e),t.info.pageCount--;var i=t.pageCache[e].info.objectNumber;t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1),t.engine.eventEmitter.emit(le.pageRemoved,e,i),t.removePageStatus=!0}return t.updateRootBookmark().then((function(e){return n}))}))}))}},{key:"hideNameTreePage",value:function(e,t){var n=this;return this.api.hideNameTreePage(this.id,e).then((function(t){if(t){var i=e;e<0&&(i=n.info.pageCount-1),n.PDFForm&&n.PDFForm.afterRemovePage(i),n.info.pageCount--;var r=n.pageCache[i]&&n.pageCache[i].info.objectNumber;n.pageCache.splice(e,1),n.updatePageIndex(e,n.info.pageCount-1),n.engine.eventEmitter.emit(le.pageRemoved,i,r),n.engine.eventEmitter.emit(le.pagesLabelNeedUpdate),n.removePageStatus=!0}return t}))}},{key:"updatePageIndex",value:function(e,t){for(var n=e;n<=t;n++)this.pageCache[n]&&(this.pageCache[n].info.index=n);this.pageCache.forEach((function(e){e&&e.annots.forEach((function(e){"link"!=e.info.type&&"screen"!=e.info.type||e._update(1)}))}))}},{key:"applyRedaction",value:function(){var e=this;if(!this.checkPermission(en.annotForm)||!this.checkPermission(en.modify))throw new Error("Permission error");return this.registerProgressFlow("applyRedaction"),this.api.applyRedaction(this.id).then((function(t){var n=function(n){var r=t[n],o=e.getPageByIndex(r.pageIndex).then((function(t){var n=t.clearAnnotIds(r.removedAnnotIds).filter((function(e){return e}));return e.engine.eventEmitter.emit(le.annotationRemoved,n,t),{pageIndex:r.pageIndex,removedAnnots:r.removedAnnotIds}}));i.push(o)};if(!t)return!1;for(var i=[],r=0;r<t.length;r++)n(r);return Promise.all(i).then((function(t){return e.engine.eventEmitter.emit(le.applyRedaction,t),t}))}))}},{key:"drmEncrypt",value:function(e){var t=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.drmEncrypt(this.getId(),e).then((function(e){return t.info=Object.assign(t.info,e),t.engine.eventEmitter.emit(le.drmEncryptSuccess,t),t}),(function(e){return t.engine.eventEmitter.emit(le.drmEncryptFailed,e,t),Promise.reject(e)}))}},{key:"getTemplates",value:function(){var e=this;if(this.isDestroyed)return Promise.resolve();this.api.getTemplates(this.id).then((function(t){t&&(e.visibleTemplates=t.visibleArr,e.invisibleTemplates=t.invisibleArr)}))}},{key:"hideTemplate",value:function(e,t){var n=this,i=this;if(!t)return this.api.hideTemplate(this.id,e,t).then((function(){i.visibleTemplates.push(e);for(var t=-1,n=0;n<i.invisibleTemplates.length;n++){var r=i.invisibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.invisibleTemplates.splice(t,1)}));for(var r=this,o=function(o){r.getPageByIndex(o).then((function(r){r.info.objectNumber===e.objNum&&i.removePage(o).then((function(){return i.api.hideTemplate(n.id,e,t).then((function(){i.invisibleTemplates=i.invisibleTemplates.push(e);for(var t=-1,n=0;n<i.visibleTemplates.length;n++){var r=i.visibleTemplates[n];if(r.name===e.name&&r.objNum===e.objNum){t=n;break}}i.visibleTemplates.splice(t,1)}))}))}))},a=this.getPageCount(),A=0;A<a;A++)o(A)}},{key:"spawnPage",value:function(e,t,n,i){var r=this,o=this.spawnPageExecutor.insert((function(){return r.api.spawnPage(r.id,e,t,n,i).then((function(e){return delete r.ocgs,r.api.getLayerNodes(r.id).then((function(e){return r.ocgs=e})).then((function(t){return e}))})).then((function(e){if(!e)return!1;r.info.pageCount++;var t=new Uy(e,r);return r.pageCache.splice(e.index,0,t),r.updatePageIndex(e.index+1,r.info.pageCount-1),t})).then((function(e){return!!e&&r.reloadPDFForm().then((function(e){return r.engine.eventEmitter.emit(de.spawnPageSuccess,e),r.PDFForm.reloadForm(e.formInfo)})).then((function(){return e}))}))}));return this.spawnPageExecutor.execInverse((function(){return o.then((function(e){var t=(0,E._)(e,1)[0];return!!t&&(r.engine.eventEmitter.emit(le.pageAdded,t),r.updateRootBookmark())}))})),o.then((function(e){return(0,E._)(e,1)[0]}))}},{key:"removeTemplate",value:function(e){var t=this;return this.api.removeTemplate(this.id,e).then((function(n){for(var i=-1,r=0;r<t.invisibleTemplates.length;r++){if(t.invisibleTemplates[r].name===e){i=r;break}}t.invisibleTemplates.splice(i,1),i=-1;for(var o=0;o<t.visibleTemplates.length;o++){if(t.visibleTemplates[o].name===e){i=o;break}}return t.visibleTemplates.splice(i,1),Promise.resolve()}))}},{key:"getPageSizes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getPageCount()-t;return t<0&&(t=0),t+n>this.getPageCount()&&(n=this.getPageCount()-t),this.api.getPageSizes(this.id,t,n).then((function(t){return Object.assign(e.info.pageSizes,t),t}))}},{key:"getPageSizesByIndex",value:function(e){return this.api.getPageSizes(this.id,e,1).then((function(e){return e}))}},{key:"getPageSize",value:function(e){var t=this.pageCache[e];if(t)return{width:t.getWidth(),height:t.getHeight()};var n=this.info.pageSizes;return n[e]?Object.assign({},n[e]):void 0}},{key:"getEstimatedPageSize",value:function(e){var t=this.info.pageSizes,n=Object.keys(t);if(n.length>0)return Object.assign({},t[n.pop()])}},{key:"getPageSizesSync",value:function(){var e=this;return 0==Object.keys(this.info.pageSizes).length&&this.pageCache.forEach((function(t,n){t&&(e.info.pageSizes[n]={width:t.getWidth(),height:t.getHeight()})})),this.info.pageSizes}},{key:"isPageSameSize",value:function(){var e=this.getPageSizesSync(),t=new Set(Object.values(e).map((function(e){return e.width})));return this.pageSameSize=1==t.size}},{key:"updatePageSize",value:function(e,t,n){var i=this.info.pageSizes;i[e]&&(i[e].width=t,i[e].height=n)}},{key:"insertPages",value:function(e){var t=this,n=e.destIndex,i=e.file,r=e.password,o=void 0===r?"":r,a=e.flags,A=void 0===a?0:a,s=e.layerName,c=void 0===s?"":s,u=e.startIndex,l=e.endIndex;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var d=this.getPageCount();if(n<0||n>d)throw new Error("Param error: Index is out of the valid range.");if(1==A&&!c)throw new Error("Param error: If parameter flags is 1, parameter layerName should not be empty");return this.api.startImportPages(this.id,n,i,o,A,c,u,l).then((function(e){return delete t.ocgs,t.api.getLayerNodes(t.id).then((function(e){return t.ocgs=e})).then((function(t){return e}))})).then((function(e){var i;t.info.pageSizes={},t.info.pageCount+=e.length;var r=[];return e.forEach((function(e){var n=new Uy(e,t);r.push(n)})),(i=t.pageCache).splice.apply(i,[n,0].concat((0,R._)(r))),t.updatePageIndex(n,t.info.pageCount-1),t.updatePageLabelsByAction("insertPages",[n,e.length]),t.engine.eventEmitter.emit(le.importPages,r),t.updateRootBookmark().then((function(e){return r}))}))}},{key:"mergePDFDoc",value:function(e){var t=e||{},n=t.insertIndex,i=t.doc,r=t.pages;if(!i)return Promise.reject(new Error("Missing required option: doc"));var o=this.getPageCount();"number"!=typeof n&&(n=o),n=Math.max(0,Math.min(o,n)),Array.isArray(r)?r.sort((function(e,t){return e>t?1:-1})):r=Array(i.getPageCount()).fill(0).map((function(e,t){return t}));var a=i.getPageCount();for(var A in r){var s=r[A];if(s<0||s>=a)return Promise.reject(new Error("Incorrect page index: ".concat(s,", it must be greater than or equal to 0 or less then total page count ").concat(a)))}return this.importPagesFromPDFDocs({destIndex:n,srcDocs:[{srcDocId:i.getId(),srcPages:r}],layerName:e.layerName})}},{key:"importPagesFromPDFDocs",value:function(e){var t=e.destIndex,n=e.srcDocs,i=void 0===n?[]:n,r=e.layerName,o=void 0===r?"":r,a=this;return(0,x._)((function(){var e,n,r,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:if(!a.checkPermission(en.assemble|en.modify))throw new Error("Permission error");if(n=a.getPageCount(),t<0||t>n)throw new Error("Param error: Index is out of the valid range.");return[4,a.api.importPagesFromPDFDocs(a.id,t,i,o)];case 1:return r=u.sent(),A=r.pagesJson,s=r.errs,0===A.length?[2,{pages:[],errs:s}]:(delete a.ocgs,[4,a.api.getLayerNodes(a.id)]);case 2:return a.ocgs=u.sent(),a.info.pageSizes={},a.info.pageCount+=A.length,c=A.map((function(e){return new Uy(e,a)})),(e=a.pageCache).splice.apply(e,[t,0].concat((0,R._)(c))),a.updatePageIndex(t,a.info.pageCount-1),a.updatePageLabelsByAction("insertPages",[t,A.length]),a.bookmarkRoot=null,a.engine.eventEmitter.emit(le.importPages,c),[2,{pages:c,errs:s}]}}))}))()}},{key:"exportPagesToPDFDocs",value:function(e){var t=e.srcPages,n=e.destDocs,i=void 0===n?[]:n,r=e.layerName,o=void 0===r?"":r,a=e.bookmarkTitle,A=void 0===a?"":a,s=this;return(0,x._)((function(){var e;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,s.api.exportPagesToPDFDocs(s.id,t,i.map((function(e){var t=e.destDoc,n=e.destIndex;return{destDocId:t.getId(),destIndex:n}})),o,A)];case 1:return e=n.sent(),[4,Promise.all(e.map((r=(0,x._)((function(e){var t,n,i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return t=e.docId,n=e.name,i={},t?[4,s.engine.getPDFDocByCacheId(t)]:[3,2];case 1:return r=o.sent(),[3,3];case 2:r=null,o.label=3;case 3:return[2,(i.doc=r,i.name=n,i)]}}))})),function(e){return r.apply(this,arguments)})))];case 2:return[2,n.sent()]}var r}))}))()}},{key:"getPDFDocById",value:function(e){return this.engine.getPDFDocByCacheId(e)}},{key:"extractPages",value:function(e){if(-4!=this.checkPermission(4294967292))throw new Error("Permission error");var t=[],n=this.getPageCount();if((0,I._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach((function(e){if((0,I._)(!e,Array))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(isNaN(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(isNaN(e[1])||e[1]<0||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.extractPages(this.id,e,(function(e){var n=e.arrayBuffer;t.push(n)}),undefined,undefined).then((function(e){return t}))}},{key:"copyPages",value:function(e,t){var n=this.getPageCount();if(!(0,U.isInteger)(t)||t>n)throw new Error("Param error: ToPageIndex is out of the valid range.");if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");return e.forEach((function(e){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length||e.length>2)throw new Error("Param error. Non-valid array.");if(!(0,U.isInteger)(e[0])||e[0]<0||e[0]>=n)throw new Error("Param error: Index is out of the valid range.");if(e[1]&&(!(0,U.isInteger)(e[1])||e[1]<=e[0]||e[1]>=n))throw new Error("Param error: Index is out of the valid range.")})),this.api.copyPages(this.id,e,t).then(this._importPagesAndUpdate.bind(this,t))}},{key:"_importPagesAndUpdate",value:function(e,t){var n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){return n.info.pageSizes={},n.info.pageCount+=t.length,r=[],t.forEach((function(e){var t=new Uy(e,n);r.push(t)})),(i=n.pageCache).splice.apply(i,[e,0].concat((0,R._)(r))),n.updatePageIndex(e,n.info.pageCount-1),n.updatePageLabelsByAction("insertPages",[e,t.length]),n.engine.eventEmitter.emit(le.importPages,r),[2,r]}))}))()}},{key:"saveCopyPagesData",value:function(e){return this.api.saveCopyPagesData(this.id,e)}},{key:"pastePages",value:function(e){return this.api.pastePages(this.id,e).then(this._importPagesAndUpdate.bind(this,e))}},{key:"embedAllPageThumbnail",value:function(e){var t=this,n=function(i){e(i),(1===i||-1===i)&&t.api.workerPromise.off("embeddingProgress",n)};return this.api.workerPromise.on("embeddingProgress",n),this.api.embedAllPageThumbnail(this.id).then((function(e){e&&t.engine.eventEmitter.emit(le.docModified,t)}))}},{key:"removeEmbeddedPageThumbnail",value:function(e){var t=this,n=function(i){e(i),1!==i&&-1!==i||t.api.workerPromise.off("removingProgress",n)};return this.api.workerPromise.on("removingProgress",n),this.api.removeEmbeddedPageThumbnail(this.id).then((function(e){e&&(t.engine.eventEmitter.emit(le.removeEmbeddedPageThumbnail),t.removePageStatus=!0)}))}},{key:"cancelEmbedAllPageThumbnail",value:function(){return this.api.cancelEmbedAllPageThumbnail(this.id)}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(){return this.api.cancelRemoveEmbeddedPageThumbnail(this.id)}},{key:"setPagesBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.indexes,n=e.width,i=e.height,r=e.offsetX,o=e.offsetY,a=e.boxes,A=e.removeWhiteMargin;if(!Array.isArray(t))return Promise.reject(new Error("Missing require parameter or incorrect type: 'indexes'"));var s=this.getPageCount();for(var c in t){var u=t[c];if(!(0,U.isNumberInRange)(u,0,s,!0,!1))return Promise.reject(new Error("Incorrect page index: ".concat(u,", it must be in the range of 0 to ").concat(s-1,". indexes: [").concat(t.join(","),"]")))}return this.setAllBoxesByIndexes(t,n,i,r,o,a||{},A)}},{key:"getAllBoxesByPageIndex",value:function(e){var t=this.getPageCount();return(0,U.isNumberInRange)(e,0,t,!0,!1)?this.api.getAllBoxes(this.id,e).then((function(e){return e})):Promise.reject(new Error("Incorrect page index: ".concat(e,", it must be in the range of 0 to ").concat(t-1)))}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a){var A=this;if(-4!==this.checkPermission(4294967292))throw new Error("Permission error");return this.api.setAllBoxesByIndexes(this.id,e,t,n,i,r,o,a).then((function(e){var t=[];return e.forEach((function(e){var n=e.index;A.updatePageSize(n,e.width,e.height);var i=A.pageCache,r=i[n];r?r._updateInfo(e):r=new Uy(e,A),i[n]=r,t.push(r)})),A.engine.eventEmitter.emit(le.pagesBoxChange,t),t}))}},{key:"getPageFormat",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if("batesNumbering"!==e&&-4!==this.checkPermission(4294967292))throw new Error("Permission error");return this.api.getPageFormat(this.id,e,t,n,i,r,o).then((function(e){return e}))}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a){if(-4!==this.checkPermission(4294967292))throw new Error("Permission error");return this.api.getPageFormatThumb(this.id,e,t,n,i,r,o,a).then((function(e){return e}))}},{key:"addPageFormat",value:function(e,t,n){var i=this;if(-4!==this.checkPermission(4294967292))throw new Error("Permission error");return this.api.addPageFormat(this.id,e,t,n).then((function(t){if(t>0&&"watermark"==e){var n=[],r=!0,o=!1,a=void 0;try{for(var A,s=i.pageCache[Symbol.iterator]();!(r=(A=s.next()).done);r=!0){var c=A.value;if(c){var u=c.getAnnots(!0);n.push(u)}}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return Promise.all(n).then((function(){return i.setDocModified(),t}))}return i.setDocModified(),t}))}},{key:"removeAllPageFormat",value:function(e){var t=this;if(-4!==this.checkPermission(4294967292))throw new Error("Permission error");return this.api.removeAllPageFormat(this.id,e).then((function(n){if(n>0&&"watermark"==e){var i=[],r=!0,o=!1,a=void 0;try{for(var A,s=t.pageCache[Symbol.iterator]();!(r=(A=s.next()).done);r=!0){var c=A.value;if(c){var u=c.getAnnots(!0);i.push(u)}}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return Promise.all(i).then((function(){return t.setDocModified(),n}))}return n>0&&t.setDocModified(),n}))}},{key:"extractPrintPages",value:function(e){return this.api.extractPrintPages(this.id,e).then((function(e){return e}))}},{key:"getHeaderFooter",value:function(){var e=this;return this.HF?Promise.resolve(this.HF):this.getPageFormat("headerfooter").then((function(t){if(t.res>0){var n=My(t.old,e.getPageCount());return e.HF=new db(n)}return null}))}},{key:"updateHeaderFooter",value:function(e){var t=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");var n=Ty(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then((function(i){var r=!1;return i.res>0&&(r=!0),t.addPageFormat("headerfooter",n,r).then((function(i){if(i>0){var r=My(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new db(r),e.json=r,t.engine.eventEmitter.emit(le.headerFooterUpdated,e.range),t.engine.eventEmitter.emit(le.docModified,t),r}return i}))}))}},{key:"addHeaderFooter",value:function(e){var t=this;if(e.isEmpty())return Promise.resolve();if(!this.checkPermission(en.modify))throw new Error("Permission error");var n=Ty(e,0,this.getPageCount());return this.getPageFormat("headerfooter").then((function(i){return t.addPageFormat("headerfooter",n).then((function(i){if(i>0){var r=My(n,t.getPageCount());return t.HF?t.HF.json=r:t.HF=new db(r),e.json=r,t.engine.eventEmitter.emit(le.headerFooterAdded,e.range),t.engine.eventEmitter.emit(le.docModified,t),r}return i}))}))}},{key:"removeHeaderFooter",value:function(){var e=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return delete this.HF,this.getPageFormat("headerfooter").then((function(t){return e.removeAllPageFormat("headerfooter").then((function(t){return e.engine.eventEmitter.emit(le.headerFooterUpdated),e.engine.eventEmitter.emit(le.docModified),t}))}))}},{key:"addWatermark",value:function(e){var t=this,n=0,i="addWatermark",r=de.progressChanged,o=e.type,a=e.text;if("text"!==o&&"bitmap"!==o)throw new Error("Param error:Type error");if("text"===o&&sn(a))throw new Error("Param error:Strings that are all space characters are invalid");if(e.useRelativeScale&&e.isMultiline)throw new Error("Param error: UseRelativeScale and isMultiline cannot be set to true at the same time");if(e.pageStart<0||e.pageStart>=this.getPageCount()||e.pageEnd<0||e.pageEnd>=this.getPageCount()||e.pageStart>e.pageEnd)throw new Error("Param error: Invalid pageStart or pageEnd");if(!this.checkPermission(en.modify))throw new Error("Permission error");this.engine.eventEmitter.emit(r,i,n,Tm.PROGRESSING);var A=Fy(e,0,e.pageStart,e.pageEnd,this.getPageCount());return this.getPageFormat("watermark").then((function(o){return t.engine.eventEmitter.emit(r,i,n+=30,Tm.PROGRESSING),t.addPageFormat("watermark",A).then((function(o){if(t.engine.eventEmitter.emit(r,i,n+=30,Tm.PROGRESSING),o>0){for(var a={},s=[],c=e.pageStart,u=e.pageEnd,l=c;l<=u;l++)s.push(t.getPageByIndex(l).then((function(e){A.isKeep&&e.annots.length>0&&(a=e.annots[e.annots.length-1].info,t.engine.eventEmitter.emit(le.annotationAdd,e.annots,e)),t.engine.eventEmitter.emit(le.watermarkAdded,e)})));return Promise.all(s).then((function(e){return t.engine.eventEmitter.emit(r,i,100,Tm.SUCCESS),a}))}return t.engine.eventEmitter.emit(r,i,n,Tm.FAIL),o}))})).catch((function(e){throw t.engine.eventEmitter.emit(r,i,n,Tm.FAIL),e}))}},{key:"removeAllWatermarks",value:function(){var e=this;return this.removeAllPageFormat("watermark").then((function(t){return t>0&&e.engine.eventEmitter.emit(le.watermarkRemoved),t>=0}))}},{key:"removeSignature",value:function(e){var t=this;if(!e)throw new Error("Invalid param fieldName: ".concat(e,"."));return(this.PDFForm?Promise.resolve():this.loadPDFForm()).then((function(){var n=t.PDFForm.getField(e);if(!n)throw new Error("Can not find field.");if(n.getType()!==pn.Sign)throw new Error("Unsupported field type: ".concat(n.getType(),"."));if(4===n.info.signatureType)return n.getControlByIndex(0).getWidgetAnnot().then((function(e){return t.removePagingSealSignature({pagingSigObjNum:e.getId()})})).then((function(){return Promise.resolve(!0)}));for(var i=0;i<n.getControlsCount();i++){var r=n.getControlByIndex(i).getWidget();if(r){var o=r.getPage();o.clearAnnotIds([r.getId()]),t.engine.eventEmitter.emit(le.annotationRemoved,[r],o),n.removeControlInfo(r.getId(),!1)}}return 0===n.getControlsCount()&&t.PDFForm.removeEngineField(e),t.api.removeControl(t.id,0,e,0)}))}},{key:"sign",value:function(e,t){var n=this,i=arguments,r=0,o="sign",a=de.progressChanged;try{if(this.engine.eventEmitter.emit(a,o,r,Tm.PROGRESSING),!this.checkPermission(en.annotForm)&&!this.checkPermission(en.fillForm))throw new Error("Permission error");var A=Promise.resolve();if(!e.fieldName&&void 0===e.pageIndex&&e.pagingSigConfig&&(A=A.then((function(){return rw(e.pagingSigConfig,n).then((function(){return ow(e.pagingSigConfig).then((function(t){e.pagingSigConfig=t}))}))}))),e.defaultContentsLength||(e.defaultContentsLength=7942),e.defaultContentsLength<4098)throw new Error("The default length of signature contents should not be less than 4098, in bytes");var s=e.rect;if(s&&!e.noCheckRect){var c=s.left,u=s.right,l=s.top,d=s.bottom;if(u<=c||l<=d)throw new Error("Signature rect error.")}if(!(e.filter&&e.subfilter||"string"==typeof e.shareVDictType))throw new Error("Filter and Subfilter can't be null.");e.timeFormat=Object.assign({},{format:"YYYY.MM.DD HH:mm:ss Z",timeZoneOptions:{separator:"'"}},e.timeFormat);var h=e.image;return void 0!==h&&(e.inkSign=h,delete e.image),this.isDynamicXFA()||(this.PDFForm||(A=A.then((function(){return n.loadPDFForm()}))),A=A.then((function(t){if(Array.isArray(e.pageIndex)&&Array.isArray(e.rect)){if(0===e.pageIndex.length||0===e.rect.length)throw new Error("pageIndex and rect should not be empty array.");if(e.pageIndex.length!==e.rect.length)throw new Error("pageIndex and rect should have the same length.");if(1!==e.pageIndex.length){var i=e.pageIndex.map((function(t,n){return{pageIndex:t,rect:e.rect[n]}}));return n.PDFForm.addSignatureBatch(i,e.shareVDictType).then((function(t){return n.engine.eventEmitter.emit(a,o,r+=20,Tm.PROGRESSING),delete e.pageIndex,delete e.rect,delete e.fieldName,e.fieldNames=t.map((function(e){return e.getName()})),new Promise((function(e){return setTimeout((function(){e()}),50)}))}))}e.pageIndex=e.pageIndex[0],e.rect=e.rect[0]}var A;if(A=e.fieldName){var s=n.PDFForm.getField(A);if(!s||s.getType()!=pn.Sign)throw new Error("Field type error: not a signature.")}var c=e.pageIndex;if(void 0!==c){Zb(c,n.getPageCount());var u={mkRotate:(e.rotation||0)/90%4,useExistedSignFieldName:e.useExistedSignFieldName};return n.PDFForm.addSignature(c,e.rect,A,u).then((function(t){return n.engine.eventEmitter.emit(a,o,r+=20,Tm.PROGRESSING),delete e.pageIndex,delete e.rect,e.fieldName=t.getName(),new Promise((function(e){return setTimeout((function(){e()}),50)}))}))}}))),A.then((function(t){return n.api.signDoc(n.id,e,i[2])})).then((function(t){return n.engine.eventEmitter.emit(a,o,r+=20,Tm.PROGRESSING),"pageIndex"in e?n.getPageByIndex(e.pageIndex).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];n.engine.eventEmitter.emit(le.annotationAdd,r,i)})).then((function(e){return t})):t})).then((function(i){if(n.engine.eventEmitter.emit(a,o,r+=20,Tm.PROGRESSING),e.native)return[i];if(0===e.shareVDictType)return[];for(var A=[],s=0,c=0;c<i.byteRange.length;c+=2){var u=i.byteRange[c],l=i.byteRange[c+1];s||(s=u+l+1);var d=i.buffer.slice(u,u+l);A.push(d)}var h=new Blob(A);return Promise.all([i,t(e,h),s])})).then((function(t){var i=(0,E._)(t,3),r=i[0],A=i[1],s=i[2];if(e.native)return n.engine.eventEmitter.emit(a,o,100,Tm.SUCCESS),r;if(0!==e.shareVDictType){if(A.byteLength>e.defaultContentsLength)throw new Error("Signed data is larger than the default length, in bytes");var c=new Uint8Array(A).reduce((function(e,t){return e.push(Gb[(240&t)>>>4]),e.push(Gb[15&t]),e}),[]);return n.engine.eventEmitter.emit(a,o,100,Tm.SUCCESS),new Blob([r.buffer.slice(0,s),new Uint8Array(c),r.buffer.slice(s+c.length)],{type:"application/pdf"})}n.engine.eventEmitter.emit(a,o,100,Tm.SUCCESS)})).catch((function(e){throw n.engine.eventEmitter.emit(a,o,r,Tm.FAIL),e}))}catch(e){throw this.engine.eventEmitter.emit(a,o,r,Tm.FAIL),e}}},{key:"signForESignCN",value:function(e,t){var n=this;if(!this.checkPermission(en.annotForm)&&!this.checkPermission(en.fillForm))throw new Error("Permission error");var i=new Xy(this,this.engine);if(e.fields.forEach((function(e){var t;if(t=e.fieldName){var n=i.getField(t);if(!n||n.getType()!=pn.Sign)throw new Error("Field type error: not a signature.")}})),!e.config.filter||!e.config.subfilter)throw new Error("Filter and Subfilter can't be null.");var r=[Promise.resolve()];return e.fields.forEach((function(e,t){var o=e.pageIndex;if(void 0!==o){Zb(o,n.getPageCount());var a=Promise.resolve();if(!e.fieldName&&e.fieldId)return void(r[t]=a);a=i.addSignature(o,e.rect,e.fieldName,{isESignCN:!0}).then((function(t){return e.fieldName=t.getName(),new Promise((function(e){return setTimeout((function(){e()}),50)}))})),r[t]=a}})),Promise.all(r).then((function(t){return n.api.signDocForESignCN(n.id,e)})).then((function(t){var i=[Promise.resolve()];return e.fields.forEach((function(e,r){if("pageIndex"in e){var o=n.getPageByIndex(e.pageIndex).then((function(e){return Promise.all([e,e.getUnloadedAnnots()])})).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];n.engine.eventEmitter.emit(le.annotationAdd,r,i)})).then((function(e){return t}));i[r]=o}else i[r]=Promise.resolve()})),Promise.all(i).then((function(e){return t}))})).then((function(n){for(var i=[],r=0,o=0;o<n.byteRange.length;o+=2){var a=n.byteRange[o],A=n.byteRange[o+1];r||(r=a+A+1);var s=n.buffer.slice(a,a+A);i.push(s)}var c=new Blob(i);return Promise.all([n,t(e,c),r])})).then((function(t){var n=(0,E._)(t,3),i=n[0],r=n[1],o=n[2];if(r.byteLength>e.defaultContentsLength)throw new Error("Signed data is larger than the default length, in bytes");var a=new Uint8Array(r).reduce((function(e,t){return e.push(Gb[(240&t)>>>4]),e.push(Gb[15&t]),e}),[]);return new Blob([i.buffer.slice(0,o),new Uint8Array(a),i.buffer.slice(o+a.length)],{type:"application/pdf"})}))}},{key:"isESignCNSignature",value:function(e,t){return this.api.isESignCNSignature(this.id,e,t)}},{key:"addPagingSealSignature",value:function(e){var t=this;this.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",0,Tm.PROGRESSING);var n=(e||{}).pagingSigConfig;return rw(n,this).then((function(){return ow(n)})).then((function(e){return t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",20,Tm.PROGRESSING),t.api.addPagingSealSignature(t.id,{pagingSigConfig:e})})).then((function(e){if(e&&e.pagingSigObjNum){t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",40,Tm.PROGRESSING);var i=e.pagingSigObjNum,r=e.addedObjNums;return t.reloadPDFForm().then((function(){t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",60,Tm.PROGRESSING);var e=[],o=!0,a=!1,A=void 0;try{for(var s,c=function(){var i=s.value;if(!i)return"continue";var o=i.getIndex();if(o+1<n.pageRange[0]||o+1>n.pageRange[1])return"continue";var a=i.getUnloadedAnnots().then((function(e){var n=e.filter((function(e){return r.includes(e.getId())}));t.engine.eventEmitter.emit(le.annotationAdded,n,i)}));e.push(a)},u=t.pageCache[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c()}catch(e){a=!0,A=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw A}}return t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",80,Tm.PROGRESSING),Promise.all(e).then((function(){return t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",100,Tm.SUCCESS),i}))}))}t.engine.eventEmitter.emit(de.progressChanged,"addPagingSealSignature",40,Tm.FAIL)}))}},{key:"updatePagingSealSignature",value:function(e){var t=this,n=e||{},i=n.pagingSigConfig,r=n.pagingSigObjNum;return rw(i,this).then((function(){if(!r)throw new Error("Invalid param pagingSigObjNum: ".concat(r,"."));return t.getAllPagingSealSignatures(r).then((function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(r," associated paging seal signature in current document."))}))})).then((function(){return ow(i)})).then((function(e){return t.api.updatePagingSealSignature(t.id,{pagingSigConfig:e,pagingSigObjNum:r})})).then((function(e){if(e&&e.pagingSigObjNum){var n=e.pagingSigObjNum,i=e.removedObjNums,r=e.addedObjNums;return t.reloadPDFForm().then((function(){var e=[],o=!0,a=!1,A=void 0;try{for(var s,c=function(){var n=s.value;if(!n)return"continue";var o=n.getAnnots().then((function(e){var r=e.filter((function(e){return i.includes(e.getId())}));r.length&&t.engine.eventEmitter.emit(le.annotationRemoved,r,n)}));e.push(o);var a=n.getAnnots(!0).then((function(e){var i=e.filter((function(e){return r.includes(e.getId())}));i.length&&t.engine.eventEmitter.emit(le.annotationAdded,i,n)}));e.push(a)},u=t.pageCache[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c()}catch(e){a=!0,A=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw A}}return Promise.all(e).then((function(){return n}))}))}}))}},{key:"getAllPagingSealSignatures",value:function(e){return this.api.getAllPagingSealSignatures(this.id,e)}},{key:"removePagingSealSignature",value:function(e){var t=this;if(!this.checkPermission(en.annotForm)&&!this.checkPermission(en.fillForm))throw new Error("Permission error");var n=(e||{}).pagingSigObjNum;if(!n)throw new Error("Invalid param pagingSigObjNum: ".concat(n,"."));return this.getAllPagingSealSignatures(n).then((function(e){if(!e.length)throw new Error("Can not find param pagingSigObjNum: ".concat(n," associated paging seal signature in current document."))})).then((function(){return t.api.removePagingSealSignature(t.id,{pagingSigObjNum:n})})).then((function(e){if(e&&e.removedObjNums){var n=e.removedObjNums;return t.reloadPDFForm().then((function(){var e=[],i=!0,r=!1,o=void 0;try{for(var a,A=function(){var i=a.value;if(!i)return"continue";var r=i.getAnnots().then((function(e){var r=e.filter((function(e){return n.includes(e.getId())}));return r.length&&t.engine.eventEmitter.emit(le.annotationRemoved,r,i),i.getAnnots(!0)}));e.push(r)},s=t.pageCache[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)A()}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return Promise.all(e).then((function(){}))}))}}))}},{key:"getAllPagingSigsInfo",value:function(e){return this.api.getAllPagingSigsInfo(this.id,e)}},{key:"getOriginalStream",value:function(){return this.api.getOriginalStream(this.id)}},{key:"verifySignature",value:function(e,t){return this.api.getOriginalStream(this.id).then((function(e){return(0,I._)(e,Blob)?new Promise((function(t,n){var i=new FileReader;i.onloadend=function(e){t(i.result)},i.readAsArrayBuffer(e)})):Promise.resolve(e)})).then((function(n){var i=e.getByteRange();if(4!=i.length)return Promise.resolve(64);for(var r=new Uint8Array(n),o=new Uint8Array(i[1]+i[3]),a=0,A=0;A<i.length;A+=2){var s=i[A],c=i[A+1];o.set(r.slice(s,s+c),a),a+=c}for(var u=i[2]-i[1]-2,l=i[0]+i[1]+1,d=[],h=l;h<l+u;h+=2){var f=parseInt(String.fromCharCode(r[h]),16)<<4,p=parseInt(String.fromCharCode(r[h+1]),16);d.push(f+p)}return t(e,o,new Uint8Array(d),r.byteLength>i[2]+i[3])})).then((function(e){return+e}))}},{key:"attachFile",value:function(e){if(!this.checkPermission(en.modify))throw new Error("Permission error");return this.api.attachFile(this.id,e).then((function(e){return e}))}},{key:"getFontsInfo",value:function(){return this.api.getFontsInfo(this.id)}},{key:"getLayerNodeByIdBAK",value:function(e){var t=(e=e.toString()).split("-");try{for(var n=this.ocgs,i=0;i<t.length;i++)n=n.children[t[i]];return n}catch(e){return null}}},{key:"getLayerNodeById",value:function(e){if(!e&&0!==e)return"";var t,n=function(i){if(i&&i.id===e+"")t=i;else if(i.children&&i.children.length>0)for(var r=0;r<i.children.length&&!t;r++){var o=i.children[r];n(o)}};return n(this.ocgs),t}},{key:"getAdditionalAction",value:function(e){return this.AdditionalActions[e]}},{key:"loadAdditionalActions",value:function(){var e=this;return this.api.getDocAdditionalActions(this.id).then((function(t){for(var n in e.AdditionalActions={},t)e.AdditionalActions[n]=ao.createAction(t[n],e);return e.AdditionalActions}))}},{key:"hasArticle",value:function(){return this.info.hasArticle}},{key:"getPdfArticle",value:function(){return this.pdfArticle||(this.pdfArticle=new Cb(this.engine,this)),this.pdfArticle}},{key:"getStructureRoles",value:function(){var e=this.getId();return this.api.getStructureRoles(e)}},{key:"resetEngineInstance",value:function(e){var t=this,n=(this.engine,this.parameters),i={range:{docId:this.id},headers:{}};n.idJWT&&(i.headers.jwt=n.idJWT),n.password&&(i.headers["x-auth-doc"]=btoa(n.password));var r,o,a=this.api,A=(0,U.createDeferred)();return a.resetEngine(this.id).then((function(t){var o=(0,E._)(t,2),a=o[0],A=o[1];return r=A,i.range.url=a,e.getPDFDocByHttpRangeRequest(i,n)})).then((function(e){return e.parse(n)})).then((function(n){return o=n,e.api.syncDataCache(t.id,r)})).then((function(){t.engine=e,t.api=e.api,A.resolve(o)}),(function(){A.reject(t)})),A.promise}},{key:"setColors",value:function(e){var t=this;return this.api.setDocColors(this.getId(),e).then((function(){t.info.readColors=e}))}},{key:"getColors",value:function(){return this.info.readColors||{background:4294967295,foreground:4278190080}}},{key:"setPageDisplayPreferences",value:function(e){return this.api.setPageDisplayPreferences(this.getId(),e)}},{key:"renderTemplatesByObjNum",value:function(e){return this.api.renderTemplatesByObjNum(this.id,Number(e))}},{key:"getNameTree",value:function(e){return this.api.getNameTree(this.id,Number(e))}},{key:"addNameTreeObj",value:function(e,t,n){return this.api.addNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"removeNameTreeObj",value:function(e,t){return this.api.removeNameTreeObj(this.id,Number(e),String(t))}},{key:"replaceNameTreeObj",value:function(e,t,n){return this.api.replaceNameTreeObj(this.id,Number(e),String(t),Number(n))}},{key:"renameNameTreeObj",value:function(e,t,n){return this.api.renameNameTreeObj(this.id,Number(e),String(t),String(n))}},{key:"getPageIndexByObjNum",value:function(e){return this.api.getPageIndexByObjNum(this.id,Number(e))}},{key:"nameTreeTemplatesToPages",value:function(e){return this.api.nameTreeTemplatesToPages(this.id,String(e))}},{key:"nameTreePagesToTemplates",value:function(e){return this.api.nameTreePagesToTemplates(this.id,String(e))}},{key:"addFileSpec",value:function(e,t,n){return this.api.addFileSpec(this.id,String(e),t,n)}},{key:"setFileSpecDesc",value:function(e,t){var n=this;return this.api.setFileSpecDesc(this.id,String(e),Number(t)).then((function(i){return i&&n.engine.eventEmitter.emit(le.documentAttachmentModify,{desc:e,objNum:t}),i}))}},{key:"getFileSpecStream",value:function(e){var t=[];return this.api.getFileSpecStream(this.id,Number(e),(function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)})).then((function(){return t}))}},{key:"getFileSpecStreamByName",value:function(e){var t=[];return this.api.getFileSpecStreamByName(this.id,e,(function(e){var n=e.arrayBuffer,i=e.blob;e.offset,e.size;i?t=i:t.push(n)})).then((function(){return t}))}},{key:"addEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.addEmbeddedFileByAttachments(this.id,String(e),Number(t)).then((function(e){return e&&n.engine.eventEmitter.emit(le.documentAttachmentAdd),e}))}},{key:"setEmbeddedFileByAttachments",value:function(e,t){var n=this;return this.api.setEmbeddedFileByAttachments(this.id,String(e),Number(t)).then((function(e){return e&&n.engine.eventEmitter.emit(le.documentAttachmentModify),e}))}},{key:"removeEmbeddedFileByAttachments",value:function(e){var t=this;return this.api.removeEmbeddedFileByAttachments(this.id,String(e)).then((function(e){return e&&t.engine.eventEmitter.emit(le.documentAttachmentRemove),e}))}},{key:"moveAnnotsToPage",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object.keys(n).map((function(e){return+e})),a=o.map((function(t){return e.annotIdMap[t]})).filter((function(e){return!!e})),A="widget"!=a[0].getType();return this.api.moveAnnotsToPage(this.id,e.getId(),t.getId(),n).then((function(s){return Promise.resolve(e.clearAnnotIds(o)).then((function(e){return t.getUnloadedAnnots()})).then((function(o){if("popup"===o[0].info.type){var s=o[0];o[0]=o[1],o[1]=s}var c=i.engine.eventEmitter;return c.emit(le.annotationRemoved,a,e),c.emit(le.annotationAdd,o,t),r||(c.emit(le.moveAnnotsToPages,e,t,n,A),c.emit(le.annotationMovedPosition,o,t,o[o.length-1])),c.emit("updatePageAnnot",e,a,t,o),o}))}))}},{key:"getInfo",value:function(){var e=this;return this.api.getPDFDictInfo(this.id).then((function(t){return new Sy(e,t.id,e.engine)}))}},{key:"getInfos",value:function(){return this.api.getInfos(this.id)}},{key:"hasDocIsWrapped",value:function(){return this.api.hasDocIsWrapped(this.id)}},{key:"getPageLabels",value:function(e){return this.api.getPageLabels(this.id,e)}},{key:"autoRecognitionForm",value:function(){var e=this,t=0,n="autoRecognitionForm",i=de.progressChanged;return this.engine.eventEmitter.emit(i,n,t+=30,Tm.PROGRESSING),this.api.autoRecognitionForm(this.id).then((function(r){var o=[];return 0===r?(e.engine.eventEmitter.emit(i,n,100,Tm.SUCCESS),r):(e.engine.eventEmitter.emit(le.recognitionForm,e),e.reloadPDFForm().then((function(a){e.engine.eventEmitter.emit(i,n,t+=30,Tm.PROGRESSING);var A=!0,s=!1,c=void 0;try{for(var u,l=function(){var t=u.value;if(!t)return"continue";var n=t.getUnloadedAnnots().then((function(n){return n&&n.length>0&&e.engine.eventEmitter.emit(le.annotationAdd,n,t),Promise.resolve()}));o.push(n)},d=e.pageCache[Symbol.iterator]();!(A=(u=d.next()).done);A=!0)l()}catch(e){s=!0,c=e}finally{try{A||null==d.return||d.return()}finally{if(s)throw c}}return Promise.all(o).then((function(){return e.engine.eventEmitter.emit(i,n,100,Tm.SUCCESS),e.engine.eventEmitter.emit(le.permissionChanged,e),r}))})))}))}},{key:"isStaticXFA",value:function(){return 1==this.info.fileType}},{key:"isDynamicXFA",value:function(){return 2==this.info.fileType}},{key:"isXFA",value:function(){return Promise.resolve(0!=this.info.fileType)}},{key:"isXFARemoved",value:function(){return this.info.XFARemoved}},{key:"removeXFA",value:function(){var e=this;return this.api.removeXFA(this.id).then((function(t){return!!t&&(e.info.XFARemoved=!0,e.reloadPDFForm().then((function(t){return e.PDFForm.reloadForm(t.formInfo)})).then((function(){return!0})))}))}},{key:"pdfPortfolio",get:function(){if(this.isPortfolio())return this._pdfPortfolio||(this._pdfPortfolio=new gb(this.engine,this)),this._pdfPortfolio},set:function(e){this._pdfPortfolio=e}},{key:"isPortfolio",value:function(){return this.info.isPortfolio}},{key:"startPageEdit",value:function(e,t,n,i){return this.pageEditing?Promise.resolve():(this.pageEditing=!0,this.engine.eventEmitter.emit(le.objectStartEdit),this.api.handlePageEditorEvent(this.id,"StartEdit",!1,e,t,n,i))}},{key:"endPageEdit",value:function(){return this.pageEditing=!1,this.engine.eventEmitter.emit(le.objectEndEdit),this.api.handlePageEditorEvent(this.id,"EndEdit")}},{key:"startFormDesignerAssit",value:function(){return this.api.startFormDesignerAssit(this.id)}},{key:"stopFormDesignerAssit",value:function(){return this.api.stopFormDesignerAssit(this.id)}},{key:"reversePages",value:function(e){var t=this;return this.api.reversePages(this.id,e).then((function(e){var n=e.length;if(n>0){for(var i=0,r=n-1;i<r;i++,r--){var o=t.pageCache[i];t.pageCache[i]=t.pageCache[r],t.pageCache[r]=o}t.updatePageIndex(0,n-1);for(var a=0,A=n-1;a<A;a++,A--)t.engine.eventEmitter.emit(le.pagesMoved,e)}})).then((function(e){return t.getPageSizes()}))}},{key:"reversePagesWithMovePages",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:if(!((n=e.length)>1))return[3,6];i=0,r=n-1,A.label=1;case 1:return i<r?(o=Math.min(e[i],e[r]),a=Math.max(e[i],e[r]),[4,t.movePagesTo([[a]],0)]):[3,6];case 2:return A.sent(),[4,t.movePagesTo([[o+1]],a+1)];case 3:return A.sent(),[4,t.movePagesTo([[0]],o+1)];case 4:A.sent(),A.label=5;case 5:return i++,r--,[3,1];case 6:return t.updatePageLabelsByAction("reversePages",[Array.from(e,(function(e,t){return t}))]),[2]}}))}))()}},{key:"movePagesTo",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.getPageCount();if(!e||0===e.length||(t=Math).min.apply(t,(0,R._)(e.flat()))<0||(n=Math).max.apply(n,(0,R._)(e.flat()))>o-1)throw new Error("Param error: pageRange is out of the valid range.");if(isNaN(r)||r<0||r>o)throw new Error("Param error: Index is out of the valid range.");var a=[];return e.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)a.push(t)})),e=Array.from(new Set(a.sort((function(e,t){return e-t})))),this.api.movePagesTo(this.id,e,r).then((function(t){if(t){var n=Zo(e).sort((function(e,t){return e-t}));return i.pageCache=t.reduce((function(e,t,n){var r=i.pageIdMap[t];return r&&(r.info.index=n),e[n]=r,e}),[]),i.updatePageIndex(Math.min(r,n[0]),Math.max(r,n[n.length-1])),i.engine.eventEmitter.emit(le.pagesMoved,e,r,t),i.updateRootBookmark().then((function(e){return i.getPageSizes()})).then((function(e){return t}))}}))}},{key:"movePagesToThenUpdatePageLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.movePagesTo(e,t)];case 1:return i=o.sent(),r=e.reduce((function(e,t){var n=(0,E._)(t,2),i=n[0],r=n[1];if(void 0===r)e.push(i);else{for(var o,a=[];i<=r;)a.push(i++);(o=e).push.apply(o,(0,R._)(a))}return e}),[]),e=Array.from(new Set(r.sort((function(e,t){return e-t})))),n.updatePageLabelsByAction("movePages",[e,t]),[2,i]}}))}))()}},{key:"startReplacePages",value:function(e,t,n,i){var r=this,o=[];return i.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)o.push(t)})),i=Array.from(new Set(o.sort((function(e,t){return e-t})))),this.api.startReplacePages(this.id,e,t,n,i).then((function(n){var i;if(n&&n.error)return n;r.info.pageSizes={},r.info.pageCount-=t,r.info.pageCount+=n.length;var o=[];n.forEach((function(e){var t=new Uy(e,r);o.push(t)})),(i=r.pageCache).splice.apply(i,[e,t].concat((0,R._)(o))),r.updatePageIndex(e,r.info.pageCount-1);var a=new Array(t).fill(0).map((function(t,n){return e+n}));return r.engine.eventEmitter.emit(le.pagesReplace,{delPageRange:a,pages:o}),n}))}},{key:"setPageTransition",value:function(e,t,n,i){var r=[];return i.forEach((function(e){for(var t=e[0];t<=e[e.length-1];t++)r.push(t-1)})),i=Array.from(new Set(r.sort((function(e,t){return e-t})))),this.api.setPageTransition(this.id,e,t,n,i)}},{key:"getPageTransitionByIndex",value:function(e){return this.api.getPageTransitionByIndex(this.id,e)}},{key:"getStampTypeByPageIndex",value:function(e){return this.api.getStampTypeByPageIndex(this.id,e)}},{key:"removePages",value:function(e){var t=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");this.info.pageSizes={};var n=this.getPageCount();if(1===n)throw new Error("Not allowed to remove the only page.");zb(e,n,"remove");for(var i=Zo(e).sort((function(e,t){return t-e})),r=[],o=0;o<i.length;o++){var a=i[o];this.pageCache[a]||r.push(this.getPageByIndex(a))}return Promise.all(r).then((function(n){return t.api.removePages(t.id,e).then((function(n){var r=[];return i.forEach((function(e){t.PDFForm&&t.PDFForm.afterRemovePage(e),t.info.pageCount--,r.push(t.pageCache[e].info.objectNumber),t.pageCache.splice(e,1),t.updatePageIndex(e,t.info.pageCount-1)})),t.updatePageLabelsByAction("deletePages",[e]),t.engine.eventEmitter.emit(le.pagesRemoved,e,r),t.removePageStatus=!0,t.updateRootBookmark().then((function(e){return t.getPageSizes()})).then((function(e){return n}))}))}))}},{key:"insertBlankPages",value:function(e,t,n){var i=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");this.info.pageSizes={};var r=this.getPageCount();if("number"!=typeof t||"number"!=typeof n)throw new Error("param error. Only number is available.");return zb(e,r,"insert"),this.api.insertBlankPages(this.id,e,t,n).then((function(e){var t=[];return e.forEach((function(e){t.push(Promise.resolve((delete i.ocgs,i.api.getLayerNodes(i.id).then((function(e){return i.ocgs=e})).then((function(t){return e})).then((function(e){if(!e)return!1;i.info.pageCount++;var t=new Uy(e,i);return i.pageCache.splice(e.index,0,t),i.updatePageIndex(e.index+1,i.info.pageCount-1),i.PDFForm&&i.PDFForm.afterInsertPage(e.index),t})))))})),tw(t).then((function(t){return i.updatePageLabelsByAction("insertPagesByRange",[e.map((function(e){return e.index}))]),i.engine.eventEmitter.emit(le.insertPages,t),t})).then((function(e){return i.getPageSizes().then((function(t){return i.updateRootBookmark().then((function(t){return e}))}))}))}))}},{key:"rotatePages",value:function(e,t){var n=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");if(Object.values(ft).every((function(e){return e!==t})))throw new Error("rotation parameter error");var i=this.getPageCount();zb(e,i,"get");var r=Zo(e);return ew(this,r).then((function(i){var r=i.map((function(e){return e.getRotation()}));return n.api.rotatePages(n.id,e,t).then((function(e){var o=[];return i.forEach((function(e){n.pageCache[e.getIndex()].info.rotation=t,o.push(e.updateInfo()),o.push(n.getPageSizes())})),Promise.all(o).then((function(e){n.engine.eventEmitter.emit(le.pagesRotated,i,t,r)}))}))}))}},{key:"checkDocHasPageLabel",value:function(){return function(e,t){return"uninitialized"===e.hasPageLabelStatus&&Rb(e,t),e.hasPageLabel}(this._pageLabelInfo,this)}},{key:"checkDocIsUseLogicPage",value:function(){return this.api.checkDocIsUseLogicPage(this.id)}},{key:"getPageIndexByLabelText",value:function(e){return this.api.getPageIndexByLabelText(this.id,e)}},{key:"getCurrentPageLabelInfo",value:function(e){return this.api.getCurrentPageLabelInfo(this.id,e)}},{key:"formatPageNumbers",value:function(e,t){var n=this;return this.api.formatPageNumbers(this.id,!1,e,t).then((function(e){return Tb(n._pageLabelInfo,n),n.engine.eventEmitter.emit(le.pagesLabelChange),e}))}},{key:"formatPageNumbersExtendNumbering",value:function(e){var t=this;return this.api.formatPageNumbers(this.id,!0,e).then((function(e){return Tb(t._pageLabelInfo,t),t.engine.eventEmitter.emit(le.pagesLabelChange),e}))}},{key:"updatePageLabelsByAction",value:function(e,t){var n=this;return(0,x._)((function(){var i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.api.updatePageLabelsByAction(n.id,e,t)];case 1:return i=r.sent(),Tb(n._pageLabelInfo,n),n.engine.eventEmitter.emit(le.pagesLabelChange),[2,i]}}))}))()}},{key:"getPageEditor",value:function(){return this.pageEditor?this.pageEditor:this.pageEditor=new _b(this)}},{key:"getTouchup",value:function(){return new Pb(this)}},{key:"getJoinSplit",value:function(){return new Pb(this)}},{key:"getSpellCheck",value:function(){return new Pb(this)}},{key:"isCPDF",value:function(){return this.api.isCPDF(this.id)}},{key:"getDocURI",value:function(){return this.api.getDocURI(this.id)}},{key:"getVersionID",value:function(){return this.api.getVersionID({path:"jr/doc"},this.id)}},{key:"convertToCPDF",value:function(e,t,n,i){return this.api.convertToCPDF(this.id,e,t,n,i).then()}},{key:"removeCDocId",value:function(e,t,n,i){return this.api.removeCDocId(this.id,e,t,n,i).then()}},{key:"removeLayerNode",value:function(e){var t=this;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");if(!e&&0!==e)return Promise.resolve(!1);var n=this.getLayerNodeById(e);if(n.isLocked)throw new Error("The destination layer node is locked");return(n.hasLayer?this.getLayerRelatedAnnots(e).then((function(n){return n&&n.length>0&&aw(t,n).then((function(e){e.forEach((function(e){e.page.removeAnnotById(e.id)}))})),t.api.removeLayerNode(t.id,e)})):this.api.removeLayerNode(this.id,e)).then((function(n){return n&&(t.engine.eventEmitter.emit(le.layerRemoved,t),t.engine.eventEmitter.emit(le.layerVisibleChange,t),iw(t.ocgs,[e])),n}))}},{key:"flattenLayers",value:function(){var e=this,t=[],n=function(e){if(e&&e.hasLayer&&!1===e.visible&&t.push(e),e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++)n(e.children[i])};n(this.ocgs);var i=[];return t.forEach((function(t){i.push(e.getLayerRelatedAnnots(t.id))})),Promise.all(i).then((function(t){return t&&t.length>0&&(t=t.reduce((function(e,t){return e=e.concat(t)}),[]),aw(e,t).then((function(e){e.forEach((function(e){e.page.removeAnnotById(e.id)}))}))),e.api.flattenLayers(e.id)})).then((function(t){return t&&(e.ocgs.children=[]),t}))}},{key:"getVisiblePageLayers",value:function(e){var t=this,n=[];return e.forEach((function(e){var i=t.pageCache[e];i&&n.push(t.api.getLayersByPage(t.id,i.getId()))})),Promise.all(n).then((function(e){var t=[];return e.forEach((function(e){t=t.concat(e)})),t}))}},{key:"updateLayerInfo",value:function(e){if(!e.id&&0!==e.id)return Promise.resolve(!1);var t=this.getLayerNodeById(e.id);return this.api.updateLayerInfo(this.id,e).then((function(n){return n&&Object.assign(t,e),n}))}},{key:"mergeLayers",value:function(e,t){var n=this;return e&&0!==e.length&&t?(e=e.filter((function(e){return e!==t})),this.api.mergeLayers(this.id,e,t).then((function(i){return i&&(iw(n.ocgs,e),n.engine.eventEmitter.emit(le.layerMerged,e,t)),i}))):Promise.resolve(!1)}},{key:"getLayerRelatedAnnots",value:function(e){return this.api.getLayerRelatedAnnots(this.id,e)}},{key:"layerMoveTo",value:function(e,t,n){var i=this;return this.api.layerMoveTo(this.id,e,t,n).then((function(e){return e?(i.ocgs="",i.getLayerNodesJson().then((function(){return e}))):e}))}},{key:"addLayerNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.index,r=n.name,o=n.hasLayer,a=void 0!==o&&o;if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var A=this.getLayerNodeById(e);if(!A)throw new Error("ParentLayerId is invalid");if(A.isLocked)throw new Error("The destination layer node is locked");if(!r)throw new Error("name is required");if(i<0||i>A.children.length)throw new Error("index is invalid");return this.api.addChild({path:"jr/doc/layer"},this.id,e,{index:i,name:r,hasLayer:a}).then((function(e){return i>=A.children.length?A.children.push(e):(A.children.splice(i,0,e),A.children.forEach((function(e,t){A.isRoot?e.id=t+"":e.id=A.id+"-"+t}))),t.engine.eventEmitter.emit(le.layerAdded,e),e}))}},{key:"addLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.addGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then((function(e){return e})):Promise.resolve(!1)}},{key:"removeLayerGraphicObject",value:function(e,t,n){if(!this.checkPermission(en.assemble|en.modify))throw new Error("Permission error");var i=this.getLayerNodeById(e);if(!i)throw new Error("LayerNodeId is invalid");if(i.isLocked)throw new Error("The destination layer node is locked");if("number"!=typeof t)return Promise.reject(new Error("Options missing: 'pageIndex'"));var r=this.getPageCount();return t<0||t>=r?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(r-1,"(inclusive), but actual: ").concat(t,"."))):i.hasLayer?this.api.removeGraphicObject({path:"jr/doc/layer"},this.id,e,t,n).then((function(e){return e})):Promise.resolve(!1)}},{key:"removeMetadata",value:function(e){var t=this;if(e&&0!==e.length){var n=[];return e.forEach((function(e){n.push(t.api.removeMetadata(t.id,e).then((function(){t.metadata.hasOwnProperty(e)&&delete t.metadata[e],t.metadata.custom&&t.metadata.custom.hasOwnProperty(e)&&delete t.metadata.custom[e]})))})),Promise.all(n).then((function(e){return t.engine.eventEmitter.emit(le.metaDataChanged,t),!0}))}}},{key:"getDestinationsArray",value:function(){var e=this.getId();return this.api.getDestinationsArray(e)}},{key:"getTabOrder",value:function(e){return this.api.getTabOrder(this.id,e)}},{key:"setTabOrder",value:function(e,t){var n=this;return this.api.setTabOrder(this.id,e,t).then((function(e){return n.engine.eventEmitter.emit(le.docModified,n),e}))}},{key:"setStructureOrder",value:function(e,t){var n=this,i=function(t){if(0!==t.length)return n.api.setStructureOrder(n.id,e,t).then((function(e){return n.engine.eventEmitter.emit(le.docModified,n),e}))};return t?i(t):this.getPageAnnotsIdList(e).then(i)}},{key:"getEmbeddedFontData",value:function(){return this.api.getEmbeddedFontData(this.id)}},{key:"computeAuditSpace",value:function(){return this.api.computeAuditSpace(this.id)}},{key:"optimizer",value:function(e,t){var n=this;return this.api.optimizer(this.id,e,t).then((function(e){return{fileName:n.info.fileName,buffer:e}}))}},{key:"optimizeScannedPDF",value:function(e,t){var n=this,i=this.getPageCount(),r=e.pageRange;if(r){(r+="").endsWith(",")&&(r=r.slice(0,r.length-1));var o=r.split(",").map((function(e){var t=e.split("-");if(t.length>1){var n,r;e=[];for(var o=(n=Math).min.apply(n,(0,R._)(t)),a=Math.min((r=Math).max.apply(r,(0,R._)(t)),i),A=o;A<=a;A++)e.push(A);e=e.join(",")}return e}));o=o.join(",").split(",").map((function(e){return e-1})),r=Array.from(new Set(o.sort((function(e,t){return e-t})))),e.pageRange=r}return this.api.optimizeScannedPDF(this.id,e,t).then((function(e){return!!e&&{fileName:n.info.fileName,buffer:e}}))}},{key:"importAsLayer",value:function(e){var t=this;return e.targetFileName||(e.targetFileName=this.metadata.FileName||this.metadata.Title),this.api.importAsLayer(this.id,e).then((function(e){return e&&(t.ocgs=e,t.engine.eventEmitter.emit(le.layerVisibleChange,t)),e}))}},{key:"previewImportLayer",value:function(e){return this.api.previewImportLayer(this.id,e)}},{key:"reloadLayer",value:function(){return this.api.reloadLayer(this.id)}},{key:"exportMeasureData",value:function(e){var t=this;return this.api.exportMeasureData(this.id,e).then((function(e){var n=t.info.fileName||"Untitled.pdf";return{fileName:n=n.substr(0,n.lastIndexOf("."))+".csv",buffer:e}}))}},{key:"setRenderConfigLineWeight",value:function(e){return this.api.setRenderConfigLineWeight(this.id,e)}},{key:"search",value:function(e,t,n,i){return this.api.searchDoc(this.id,e,t,n,i)}},{key:"generateDocHash",value:function(e){return this.api.generateDocHash(this.id,e)}},{key:"getSignIdForEvidence",value:function(){return this.api.getSignIdForEvidence(this.id)}},{key:"getDocAuditTrail",value:function(e){var t=this;return this.getAssignInfoForESignCN().then((function(n){var i=[],r=n&&n.recipients;return r&&r.length>0&&(i=r.reduce((function(e,t){var n=t.annots&&t.annots.map((function(e){return(0,w._)((0,b._)({},e),{assignUserName:t.userName,assignUserEmail:t.email,company:t.company})}))||[];return(0,R._)(e).concat((0,R._)(n))}),[]).filter((function(e){return"FullSignature"===e.type}))),t.api.getDocAuditTrail(t.id,e,i).then((function(e){return e}))}))}},{key:"updatePropAuthDictForESignCN",value:function(e){var t=e.fieldName,n=e.willingnessInfo;return this.api.updatePropAuthDictForESignCN(this.id,t,n)}},{key:"assignSignerForESignCN",value:function(e){return e=function(e){return e.recipients=e.recipients.map((function(e){var t,n=e.email,i=e.mobile,r=e.company,o=e.companyId;n&&(t="Email"),i&&(t="Phone"),r&&(t="Company"),o&&(t="EnterpriseId");var a=[n,i,r,o].filter((function(e){return!!e}));return a.length>1&&(t="All"),e.authType=t,e})),e}(e),this.api.assignSignerForESignCN(this.id,e)}},{key:"getAssignInfoForESignCN",value:function(){return this.api.getAssignInfoForESignCN(this.id)}},{key:"checkFieldWhetherFill",value:function(e){return this.api.checkFieldWhetherFill(this.id,e)}},{key:"getOrderOfSignFlowFile",value:function(){return this.api.getOrderOfSignFlowFile(this.id)}},{key:"setESignCNFlowSignMode",value:function(e){return this.api.setESignCNFlowSignMode(this.id,e)}},{key:"getESignCNFlowSignMode",value:function(){return this.api.getESignCNFlowSignMode(this.id)}},{key:"isESignCNFile",value:function(){return this.api.isESignCNFile(this.id)}},{key:"getESignCNMode",value:function(e){return this.api.getESignCNMode(this.id,e)}},{key:"setSignatureAP",value:function(e){var t=e.pageIndex,n=e.annotId,i=e.inkSignBuffer,r=e.pagingSigObjNum;return this.api.setSignatureAP(this.id,t,n,i,r)}},{key:"getFlowSignInfo",value:function(){return this.api.getFlowSignInfo(this.id)}},{key:"addAuditTrail",value:function(){return this.api.addAuditTrail(this.id)}},{key:"convertToTextMarkup",value:function(e){var t=this;return this.api.convertToTextMarkup(this.id,e).then((function(e){e.forEach((function(e){var n=t.pageCache[e];n&&n.getUnloadedAnnots().then((function(e){return t.engine.eventEmitter.emit(le.annotationAdd,e,n)}))}))}))}},{key:"redactSearch",value:function(e,t,n,i,r){var o=this;return this.api.redactSearch(this.id,e,t,n,i,r).then((function(e){var t=[];return e.forEach((function(e){var n=o.pageCache[e];n&&t.push(n.getUnloadedAnnots().then((function(e){o.engine.eventEmitter.emit(le.annotationAdd,e,n)})))})),Promise.all(t)}))}},{key:"isScannedDoc",value:function(){return this.api.isScannedDoc(this.id)}},{key:"getCompareFileFilterNums",value:function(){return this.api.getCompareFileFilterNums(this.id)}},{key:"readonly",value:function(){var e=this;return(0,x._)((function(){var t,n,i;return(0,F.Jh)(this,(function(r){return t=e.info.pdfaid,n=!1,(i=window.localStorage.getItem("PREFERENCES-DOCUMENTS"))&&"onlyForPDFA"===JSON.parse(i).vieMode&&(n=!0),[2,t&&n&&!e.pdfaEditable]}))}))()}},{key:"isPdfaDoc",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return e.metadata.pdfaid?[3,2]:[4,e.getMetadata()];case 1:t.sent(),t.label=2;case 2:return[2,!!e.metadata.pdfaid]}}))}))()}},{key:"setPdfaEditable",value:function(e){e&&this.api.removePDFAID(this.id),this.pdfaEditable=e}},{key:"getText",value:function(e){var t=this;if(!this.checkPermission(en.extract))throw new Error("Permission error");if(this.isStaticXFA())throw new Error("File type error, current is Static documents");var n=this.getPageCount();nw(e,n-1);var i=(0,U.getUniqueId)("task_progress"),r=new Eb((function(){t.api.cancelTaskProgress(t.id,i)}));return this.api.getText(this.id,e,i,(function(e){r.updateProgress(e)})),r}},{key:"createSummarizeComments",value:function(e,t){var n=this,i=this.getId();return this.PDFForm?this.PDFForm.addTask().then((function(){return n.api.createSummarizeComments(n.id,e,t)})):this.api.createSummarizeComments(i,e,t)}},{key:"hiddenDataSanitizeDocument",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.api.hiddenDataSanitizeDocument(e.id)];case 1:return t.sent(),e.otherOptions.disableSavePrompt=!0,[2]}}))}))()}},{key:"hiddenDataRemoveHiddenInfo",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.api.hiddenDataRemoveHiddenInfo(t.id,e)];case 1:return n.sent(),t.otherOptions.disableSavePrompt=!0,[2]}}))}))()}},{key:"getLRContentForChatWithDoc",value:function(e){return this.api.getLRContentForChatWithDoc(this.id,e)}},{key:"getDocPurText",value:function(){return this.api.getDocPurText(this.id)}},{key:"docCanDoOcr",value:function(){return this.api.docCanDoOcr(this.id)}},{key:"fetchContentByType",value:function(e){return this.api.fetchContentByType(this.id,e)}},{key:"searchText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getPageCount();return nw(e,i-1),this.search(e,t,n,!1).then((function(e){var t={},n=!0,i=!1,r=void 0;try{for(var o,a=Object.entries(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var A=(0,E._)(o.value,2),s=A[0],c=A[1],u=[],l={};c.forEach((function(e){var t=e.rects,n=e.word;l={rects:t,word:n},u.push(l)})),t[s]=u}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t}))}},{key:"loadThumbnailTemp",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A,s,c,u,l,d,h,f;return(0,F.Jh)(this,(function(p){switch(p.label){case 0:return n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,A=e.height,"number"!=typeof n?[2,Promise.reject(new Error("Options missing: 'pageIndex'"))]:(s=t.getPageCount(),n<0||n>=s?[2,Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(s-1,"(inclusive), but actual: ").concat(n,".")))]:i?[3,2]:[4,t.api.getPageSize({path:"jr/doc"},t.id,n)]);case 1:c=p.sent(),u=(0,H.F2)(c.width),l=(0,H.F2)(c.height),a||A||(a=200,A=300),d=a/u,h=A/l,i=isNaN(d)?h:isNaN(h)?d:Math.min(d,h),f=Math.min(Ve/u,Ue/l),i/=f,p.label=2;case 2:return[2,t.api.getThumbTemp({path:"jr/doc",transfer:!0},t.id,n,r||0,i).then((function(e){switch(o||"canvas"){case"canvas":return Kb(e);case"image":return qb(e).then((function(e){return t.addDestroyHook((function(){URL.revokeObjectURL(e.src)})),e}));case"buffer":return Jb(e);default:throw new Error("Invalid options.type: ".concat(o))}}))]}}))}))()}},{key:"loadThumbnail",value:function(e){var t=this,n=e.pageIndex,i=e.scale,r=e.rotation,o=e.type,a=e.width,A=e.height;if("number"!=typeof n)return Promise.reject(new Error("Options missing: 'pageIndex'"));var s=this.getPageCount();return n<0||n>=s?Promise.reject(new Error("Range of 'pageIndex' must be between 0 to ".concat(s-1,"(inclusive), but actual: ").concat(n,"."))):this.getPageByIndex(n).then((function(e){if(!e)throw new Error("Cannot obtains the page of index: ".concat(n));if(!i){var s=e.getPxWidth(),c=e.getPxHeight();a||A||(a=200,A=300);var u=a/s,l=A/c;i=isNaN(u)?l:isNaN(l)?u:Math.min(u,l);var d=Math.min(Ve/s,Ue/c);i/=d}return e.getThumb(r||0,i).then((function(e){switch(o||"canvas"){case"canvas":return Kb(e);case"image":return qb(e).then((function(e){return t.addDestroyHook((function(){URL.revokeObjectURL(e.src)})),e}));case"buffer":return Jb(e);default:throw new Error("Invalid options.type: ".concat(o))}}))}))}},{key:"verifyDocSignature",value:function(e){var t=this,n=this.getId();return this.engine.ensureSideModeLoaded().then((function(i){return t.api.verifyDocSignature(n,e)}))}},{key:"setSelectedInfo",value:function(e){this.selectedInfo=e}},{key:"clearSelectedInfo",value:function(e){this.selectedInfo=null,e&&(e.getStore().dispatch(Ce.SELECTION_INFO,null),e.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()})))}},{key:"updateTextSelectInfo",value:function(){if(!this.selectedInfo||this.selectedInfo.type!=Lt.Text)return Promise.resolve([]);var e=this.selectedInfo.selectedPages,t=[],n=!0,i=!1,r=void 0;try{for(var o,a=function(){var e=o.value,n=e.pageRender.getPDFPage().then((function(t){return t.getTextByIndex(e.characterIndexStart,e.characterIndexEnd)})).then((function(t){e.text=t}));t.push(n)},A=e[Symbol.iterator]();!(n=(o=A.next()).done);n=!0)a()}catch(e){i=!0,r=e}finally{try{n||null==A.return||A.return()}finally{if(i)throw r}}return Promise.all(t)}},{key:"addTextSelectedInfo",value:function(e,t,n,i){var r=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,s={pageRender:e,characterIndexStart:t,characterIndexEnd:n,rectArray:i,text:arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0};if(this.selectedInfo&&this.selectedInfo.type==Lt.Text){this.selectedInfo.e=o,this.selectedInfo.panStartEvent=a,this.selectedInfo.panMoveArr=A;var c=this.selectedInfo.selectedPages,u=!1;for(var l in c)if(c[l].pageRender.index==e.index)return void(c[l]=s);for(var d in c)if(c[d].pageRender.index>e.index){c.splice(Number(d),0,s),u=!0;break}u||c.push(s)}else this.selectedInfo={type:Lt.Text,selectedPages:[s],e:o,panStartEvent:a,panMoveArr:A,getText:function(){var e="";return r.selectedInfo.selectedPages.forEach((function(t){e=(""==e?"":e+"\r\n")+t.text})),e}}}},{key:"clearAllDesignerAssistCache",value:function(){return this.api.clearAllDesignerAssistCache(this.getId())}},{key:"removeEmbeddedFileByName",value:function(e){return this.removeEmbeddedFileByAttachments(e)}},{key:"removeAllEmbeddedFiles",value:function(){var e=this;return this.api.removeAllEmbeddedFiles(this.getId()).then((function(t){return t&&e.engine.eventEmitter.emit(le.documentAttachmentRemove),t}))}},{key:"getEmbeddedFileNames",value:function(){return this.api.getEmbeddedFileNames(this.getId())}},{key:"addEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return!(!t||!t.data)&&this.api.addEmbeddedFile({path:"jr/doc"},this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(le.docAttachmentAdded),e}))}},{key:"setEmbeddedFile",value:function(e,t){var n=this;if(!this.checkPermission(en.modify))throw new Error("Permission error");return!(!e||0===e.length||!t)&&this.api.setEmbeddedFile({path:"jr/doc"},this.id,e,t).then((function(e){return e&&n.engine.eventEmitter.emit(le.documentAttachmentModify),e}))}},{key:"getEmbeddedFile",value:function(e){return e&&0!==e.length?this.api.getEmbeddedFile({path:"jr/doc"},this.id,e):null}},{key:"compareWith",value:function(e,t,n){var i=this;this._validateCompareWithParams(e,t);var r="function"==typeof n,o=r?(0,U.getUniqueId)("compare-progress"):null;if(t.stringResource=t.stringResource||{},r){var a=function(e){100===e&&i.api.workerPromise.off(o,a),n(e)};this.api.workerPromise.on(o,a)}return this.api.comparePDFDocuments(this.getId(),e.getId(),t,o).then((function(e){var n=e.docId,r=e.parameters;return i.engine.createPDFDocById(n,Object.assign({},{fileName:t.resultFileName||"The result of Comparison.pdf"},r))}))}},{key:"_validateCompareWithParams",value:function(e,t){var n=this.getPageCount(),i=e.getPageCount(),r=t.basePageRange,o=t.otherPageRange,a=function(e,t,n){var i=e.from,r=e.end;(0,U.assertThat)((0,U.isNumberInRange)(i,0,t,!0,!1),"[".concat(n,"]: The starting page index must be between 0 and ").concat(t)),(0,U.assertThat)((0,U.isNumberInRange)(r,0,t,!0,!1),"[".concat(n,"]: The ending page index must be between 0 and ").concat(t)),(0,U.assertThat)((0,U.isValidRange)(i,r,!0),"[".concat(n,"]: The starting page index must be less than or equal to the ending page index: from: ").concat(i,", end: ").concat(r))};r?Array.isArray(r)?(t.basePageRange={from:r[0],end:r[1]},a(t.basePageRange,n,"basePageRange")):a(r,n,"basePageRange"):t.basePageRange={from:0,end:n-1},o?Array.isArray(o)?(t.otherPageRange={from:o[0],end:o[1]},a(t.otherPageRange,n,"otherPageRange")):a(o,i,"otherPageRange"):t.otherPageRange={from:0,end:i-1}}},{key:"isCompareDoc",value:function(){return this.info.isCompareDoc}},{key:"getComparisonFilterCountSummary",value:function(){return this.getCompareFileFilterNums()}},{key:"hasFixedPageFields",value:function(e){return this.api.hasFixedPageFields(this.getId(),e)}},{key:"signForESignUS",value:function(e,t,n){var i=this;if(!this.checkPermission(en.annotForm)&&!this.checkPermission(en.fillForm))throw new Error("Permission error");return this.api.signForESignUS({path:"jr/doc",transfer:!0},this.id,e,t).then((function(e){for(var t=[],n=0,i=0;i<e.byteRange.length;i+=2){var r=e.byteRange[i],o=e.byteRange[i+1];n||(n=r+o+1);var a=e.buffer.slice(r,r+o);t.push(a)}var A=new Blob(t),s=new FileReader;return Promise.all([new Promise((function(t,n){s.onload=function(){t(new Uint8Array(s.result))},s.onerror=function(e){return n(e)},s.readAsArrayBuffer(e.buffer)})),A.arrayBuffer(),n])})).then((function(e){var t=(0,E._)(e,3),r=t[0],o=t[1],a=t[2];return i.generateDocHash(o).then((function(e){var t=function(e){for(var t,n=e.split(""),i=new Uint8Array(e.length/2),r=function(e){for(var t,n=e.length,i=new Array(n),r=0;r<n;r++)48<=(t=e.charCodeAt(r))&&t<58?t-=48:t=(223&t)-65+10,i[r]=t;return i.reduce((function(e,t){return 16*e+t}),0)},o="",a=0,A=0;A<n.length;A++)o+=n[A],A>0&&A%2==1&&(i[a++]=r(o),o="");return window.btoa((t=String).fromCharCode.apply(t,(0,R._)(i)))}(e);return Promise.all([n(t),r,a])})).then((function(e){var t=(0,E._)(e,3),n=t[0],i=t[1],r=t[2],o=i,a=Vb(n).reduce((function(e,t){return e.push(Gb[(240&t)>>>4]),e.push(Gb[15&t]),e}),[]);o.set(a,r);var A=jb(o,"").replace("data:;base64,","");return[new Blob([o],{type:"application/pdf"}),A]}))}))}},{key:"getFontCount",value:function(){return this.api.getFontCount({path:"jr/doc"},this.id)}},{key:"getFont",value:function(e){return this.api.getFont({path:"jr/doc"},this.id,e)}},{key:"addFillSignSignaturesToDoc",value:function(e,t,n){return(0,x._)((function(){var i,r,o,a,A,s,c,u,l,d,h,f,p,g,v,m,y,b,w,k,x,_,P,D,C,S,I,E,T,M;function L(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(n);n--;)i[n]=t.charCodeAt(n);return i}function N(){var e=window.localStorage.getItem("CurFileSymbolId");if(e){var t=JSON.parse(window.sessionStorage.getItem("signedList")||"[]");if(t.length){var n=JSON.parse(window.localStorage.getItem("signedFileList")||"[]");n.find((function(t){return t.fileId===e}))?n.forEach((function(n){n.fileId===e&&(n.signedList=(0,R._)(new Set((0,R._)(n.signedList).concat((0,R._)(t)))))})):n.push({fileId:e,signedList:t}),window.localStorage.setItem("signedFileList",JSON.stringify(n))}}}return(0,F.Jh)(this,(function(F){switch(F.label){case 0:if(i=e.viewerUI.rootComponent.pdfUI,r=e.getOnlineSignList(),t||(t=r),"string"==typeof t&&(o=r.find((function(e){return e.id===t})),t=o?[o]:[]),!t.length)return[2];a={},A=!0,s=!1,c=void 0,F.label=1;case 1:F.trys.push([1,12,13,14]),u=t[Symbol.iterator](),F.label=2;case 2:if(A=(l=u.next()).done)return[3,11];d=l.value,d.signType,h=d.styleId,f=d.id,d.groupId,p=d.dataURL,g=d.rect,v=d.pageIndex,m=JSON.parse(window.sessionStorage.getItem("signedList")||"[]"),y=!1,b=e.getPDFPageRender(v),F.label=3;case 3:return F.trys.push([3,8,,9]),[4,b.getPDFPage()];case 4:return(w=F.sent())?(k=L(p.replace(/^data\:.*?base64,/,"")),[4,b.getSignaturePDFRect(f,a)]):[3,7];case 5:return x=(x=F.sent())||g,[4,w.addImage(k,x,b.getRotation())];case 6:F.sent(),y=!0,F.label=7;case 7:return[3,9];case 8:return F.sent(),e.eventEmitter.emit("needSomeTipToShow","noPermission"),n&&n(),[2];case 9:y&&(b.$handler.find("#".concat(f)).remove(),m.push(h),_=(0,R._)(new Set(m)),window.sessionStorage.setItem("signedList",JSON.stringify(_))),F.label=10;case 10:return A=!0,[3,2];case 11:return[3,14];case 12:return P=F.sent(),s=!0,c=P,[3,14];case 13:try{A||null==u.return||u.return()}finally{if(s)throw c}return[7];case 14:if(a=null,L=null,r.length===t.length)e.getOnlineSignManger().clear(),e.getStateHandlerManager().switchTo(yA.getStateName());else{D=!0,C=!1,S=void 0;try{for(I=function(){var t=T.value,n=r.findIndex((function(e){return e.id===t.id}));e.getOnlineSignManger().delete(n)},E=t[Symbol.iterator]();!(D=(T=E.next()).done);D=!0)I()}catch(e){C=!0,S=e}finally{try{D||null==E.return||E.return()}finally{if(C)throw S}}}return e.getOnlineSignList().length||(i.eventEmitter.emit("no-sign-apply"),window.sessionStorage.removeItem("curMouseClickSignRecord")),M=!1,JSON.parse(window.localStorage.getItem("pdfSignConfig")||"{}").isFlatteDocumentWhenApplyingAllSignatures&&"fill-sign"===i.activeMainPageTab.name&&(M=!0),M&&i.eventEmitter.emit("flatten-from-apply-all-fillSign"),N(),N=null,n&&n(),[2]}}))}))()}},{key:"getLastSaveFlags",value:function(){return this.api.getLastSaveFlags({path:"jr/doc"},this.id)}},{key:"saveWinlessData",value:function(){var e=[];return this.pageEditor&&e.push(this.pageEditor.endEdit()),this.touchup&&this.touchup.handleEvent("generateContent"),Promise.all(e)}},{key:"customProtectDoc",value:function(e){return this.api.customProtectDoc(this.getId(),e)}},{key:"drawTextString",value:function(e){if(e)return this.api.drawTextString(this.id,e)}},{key:"getWordCount",value:function(){return this.registerProgressFlow("getWordCount"),this.api.getAllWordCount({path:"jr/doc"},this.id)}},{key:"registerProgressFlow",value:function(e){var t=this,n=de.progressChanged,i=function(r){!function(r){var o;switch(r.state){case"start":case"progress":o=Tm.PROGRESSING;break;case"end":o=Tm.SUCCESS;break;case"error":o=Tm.FAIL}t.engine.eventEmitter.emit(n,e,r.progress,o),"end"!==r.state&&"error"!==r.state||t.api.unregisterWorkflow(e,i)}(r.msg)};this.api.registerWorkflow(e,i)}},{key:"loadAdvEditorConfigFile",value:function(e,t){var n=this;return this.advEditorConfigFile&&this.advEditorConfigFile[t]?Promise.resolve(!0):(this.advEditorConfigFile=this.advEditorConfigFile||{},this.advEditorConfigFile[t]=e,this.api.loadAdvEditorConfigFile(this.getId(),this.advEditorConfigFile[t],t).then((function(e){return!e&&delete n.advEditorConfigFile[t],e})))}},{key:"setAdvEditorTextToolStyle",value:function(e){return this.api.setAdvEditorTextToolStyle(this.getId(),e)}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e){return this.api.setAdvEditorEditingObjectToolStyle(this.getId(),e)}},{key:"insertXfaPage",value:function(e){this.info.pageCount++;var t=new Uy(e,this);this.pageCache.splice(e.index,0,t),this.updatePageIndex(e.index+1,this.info.pageCount-1),this.engine.eventEmitter.emit(le.pageAdded,t)}},{key:"removeXfaPage",value:function(e){var t;this.info.pageCount--,this.pageCache[e]&&(t=this.pageCache[e].info.objectNumber,this.pageCache.splice(e,1),this.updatePageIndex(e,this.info.pageCount-1)),this.engine.eventEmitter.emit(le.pageRemoved,e,t)}},{key:"has3DAnnots",value:function(){return this.api.has3DAnnots({path:"jr/doc"},this.id)}}]),n}(U.Disposable);function Kb(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return Xb(e).then(sy).then((function(e){return n.drawImage(e,0,0),URL.revokeObjectURL(e.src),t}))}function qb(e){return Xb(e).then(sy)}function Jb(e){return Xb(e).then((function(e){var t=new FileReader;return new Promise((function(n){t.onloadend=function(){n(t.result)},t.readAsArrayBuffer(e)}))}))}function Xb(e){if(e.buffer){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d"),i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),new Promise((function(e){t.toBlob(e)}))}return e.image?Promise.resolve(e.image):Promise.reject(e)}var Qb=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.add(e.getId()),e.isMarkup()){var i=e.getReplies();i.forEach((function(e){return Qb(e,t)})),(i=e.getMarkedStates()).forEach((function(e){return t.add(e.getId())})),(i=e.getReviewStates()).forEach((function(e){return t.add(e.getId())})),n&&e.isReplace&&e.isReplace()&&(i=e.getGroupElements()).forEach((function(e){return t.add(e.getId())}))}},Zb=function(e,t){if((e|t-1-e)<0)throw new Error("Page range error.")},ew=function(e,t){var n=[];return t.forEach((function(t){n.push(e.getPageByIndex(t))})),Promise.all(n)},tw=function(e){var t=[];return e.reduce((function(n,i,r){return n.then((function(n){return i.then((function(n){return t[r]=n,r==e.length-1?t:i}))}))}),Promise.resolve())},nw=function(e,t){if(!Array.isArray(e))throw new Error("Param error. Only array is available.");if(0===e.length)throw new Error("Param error. Non-valid array.");e.forEach((function(e){if(isNaN(e)||e<0||e>t)throw new Error("Param error: Index is out of the valid range.")}))},iw=function(e,t){var n=function(e){if(e.children&&e.children.length>0)for(var i=e.children.length-1;i>-1;i--){n(e.children[i])&&e.children.splice(i,1)}return t.indexOf(e.id)>-1?e:null},i=function(e){e.children&&e.children.length>0&&e.children.forEach((function(t,n){t.id=e.id+"-"+n,i(t)}))};n(e),i(e)},rw=function(e,t){if(!t.checkPermission(en.annotForm)&&!t.checkPermission(en.fillForm))throw new Error("Permission error");if(!e)throw new Error("Invalid param pagingSigConfig: ".concat(e,"."));if(!e.pageRange||"number"!=typeof e.pageRange[0]||e.pageRange[0]<1||"number"!=typeof e.pageRange[1]||e.pageRange[1]>t.getPageCount()||e.pageRange[0]>=e.pageRange[1])throw new Error("Invalid param pagingSigConfig.pageRange: ".concat(e.pageRange,"."));if(!["left","top","right","bottom"].includes(e.position))throw new Error("Invalid param pagingSigConfig.position: ".concat(e.position,"."));if("number"!=typeof e.width||e.width<0)throw new Error("Invalid param pagingSigConfig.width: ".concat(e.width,"."));if("number"!=typeof e.height||e.height<0)throw new Error("Invalid param pagingSigConfig.height: ".concat(e.height,"."));if("number"!=typeof e.offset||e.offset<0)throw new Error("Invalid param pagingSigConfig.offset: ".concat(e.offset,"."));if("number"!=typeof e.firstPagePercent||e.firstPagePercent<=0||e.firstPagePercent>=1)throw new Error("Invalid param pagingSigConfig.firstPagePercent: ".concat(e.firstPagePercent,"."));if(e.isDisplayMultipleSeal&&("number"!=typeof e.pageCountForEachSeal||e.pageCountForEachSeal<2))throw new Error("Invalid param pagingSigConfig.pageCountForEachSeal: ".concat(e.pageCountForEachSeal,"."));var n=e.pageRange[0]-1;return t.getPageSizesByIndex(n).then((function(t){var i=t[n];if(("left"===e.position||"right"===e.position?e.offset+e.height>i.height:e.offset+e.width>i.width)||e.width>i.width||e.height>i.height)throw new Error("Paging seal signature out of page.")}))},ow=function(e){var t,n;e=(0,w._)((0,b._)({},e),{sealPosition:null!==(t=e.position)&&void 0!==t?t:e.sealPosition,sealOffset:null!==(n=e.offset)&&void 0!==n?n:e.sealOffset});var i=Promise.resolve(e);return"string"==typeof e.image&&e.image.length>0&&(i=fetch(e.image).then((function(e){return e.blob().then((function(e){return new Promise((function(t){var n=new Image;n.src=URL.createObjectURL(e),n.onload=function(){URL.revokeObjectURL(n.getAttribute("src"));var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){t(i.result)}},n.onerror=function(){URL.revokeObjectURL(n.getAttribute("src")),t()}}))}))})).then((function(t){return t&&(e.inkSign=t),e}))),delete e.position,delete e.offset,delete e.image,i},aw=function(e,t){return e.getAnnots().then((function(e){for(var n=[],i=0;i<e.length&&n.length!==t.length;i++)for(var r=e[i],o=0;o<r.length&&n.length!==t.length;o++){var a=r[o];t.indexOf(a.objectNumber)>-1&&n.push(a)}return n}))};const Aw=$b;var sw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return n}(Cm);const cw=sw;var uw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"isReplace",value:function(){return"Replace"===this.info.typeAlias}}]),n}(Cm);const lw=uw;var dw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return n}(Cm);const hw=dw;var fw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return n}(Cm);const pw=fw;var gw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getEndPoint",value:function(){return this.info.endPoint}},{key:"setEndPoint",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setLineEndPoint(i.getId(),n.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(tn.endPointUpdated)})).then((function(){t.info.endPoint=e,t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"getStartPoint",value:function(){return this.info.startPoint}},{key:"setStartPoint",value:function(e){var t=this;this.checkModidyPerm();var n=!arguments[1],i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setLineStartPoint(r.getId(),i.getId(),this.getId(),e.x,e.y).then((function(e){return t.update(n&&tn.startPointUpdated)})).then((function(){t.info.startPoint=e,n&&t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],i)}))}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then((function(e){return n.update(tn.endingStyleUpdated)})).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],i)}))}},{key:"flip",value:function(){var e=this,t=this.getStartPoint(),n=this.getEndPoint(),i=new rn.Z;return i.rotateAt(-(t.x+n.x)/2,-(t.y+n.y)/2,Math.PI,!1),t=i.transformPoint(t.x,t.y),n=i.transformPoint(n.x,n.y),this.setStartPoint({x:t[0],y:t[1]},!0).then((function(t){return e.setEndPoint({x:n[0],y:n[1]})}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"getCaptionPoint",value:function(){var e=this.getCaptionOffset(),t=this.getLeaderLinePoints(),n=t.start,i=t.end,r=new vu(n.x,n.y),o=new vu(i.x,i.y),a=this.getLeaderLineOffset();if(a>0){var A=this.getLeaderLineLength()>0?1:-1,s=r.move(a,o),c=o.move(a,r);r=s.rotate(A*-Math.PI/2,r),o=c.rotate(A*Math.PI/2,o)}var u=r.distanceTo(o),l=r.move(u/2,o),d=l;if(0!==e.x||0!==e.y){var h=l.move(e.y,r).rotate(Math.PI/2,l),f=Math.PI/2;f=e.y>0?-Math.PI/2:Math.PI/2,d=h.move(e.x,l).rotate(f,h)}return d}},{key:"setContent",value:function(e){var t=this;return(0,D._)((0,C._)(n.prototype),"setContent",this).call(this,e).then((function(e){return e&&t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info),e}))}},{key:"getStyleFillColor",value:function(){return this.info.styleFillColor}},{key:"setStyleFillColor",value:function(e){var t=this;this.checkModidyPerm(),0!==e&&(e=(0,U.colorConvertor)(e,"int"));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i&&(t.info.styleFillColor=e,t.info.fillColor=e,t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.styleFillColorUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)),t.updateInfo(t.info),i}))}},{key:"getLeaderLineLength",value:function(){return this.info.leaderLineLength||0}},{key:"getLeaderLineExtend",value:function(){return this.info.leaderLineExtensionLength||0}},{key:"setLeaderLineExtend",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineExtend(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.leaderLineExtendUpdated)})).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"getLeaderLineOffset",value:function(){return this.info.leaderLineOffset}},{key:"setLeaderLineOffset",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineOffset(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.leaderLineOffsetUpdated)})).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"getCaptionPos",value:function(){return this.info.capPos}},{key:"calculateLeaderLine",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=this.k=-1/(n/i),o=Math.atan(r),a=this.getLeaderLineLength(),A=1,s=1;isFinite(r)?0==i?A=s=a<0?n>0?1:-1:n<0?1:-1:i>0?n>0?(A=a>0?-1:1,s=a>0?1:-1):s=A=a>0?1:-1:n>0?s=A=a>0?-1:1:(A=a>0?1:-1,s=a>0?-1:1):A=s=a>0?i>0?1:-1:i<0?1:-1;var c=A*Math.abs(Math.cos(o)*a),u=s*Math.abs(Math.sin(o)*a);this.leaderSartPoit={x:e.x+c,y:e.y+u},this.leaderEndPoint={x:t.x+c,y:t.y+u},this.Sb=this.leaderSartPoit.y-this.k*this.leaderSartPoit.x,this.Eb=this.leaderEndPoint.y-this.k*this.leaderEndPoint.x}},{key:"getLeaderLinePoints",value:function(){return this.leaderSartPoit||this.calculateLeaderLine(),{start:this.leaderSartPoit,end:this.leaderEndPoint}}},{key:"_update",value:function(){var e=this;return(0,D._)((0,C._)(n.prototype),"_update",this).call(this).then((function(t){return e.calculateLeaderLine(),e}))}},{key:"update",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._update().then((function(){var i=t.getPDFPage();return n&&e&&t.eventEmitter.emit(le.annotationUpdated,[t],i,e),t}))}},{key:"setLeaderLineLength",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotLeaderLineLength(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.leaderLineLengthUpdated)})).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"getCaptionOffset",value:function(){return this.info.captionOffset}},{key:"setCaptionOffset",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotCaptionOffset(r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(tn.leaderCaptionOffsetUpdated)})).then((function(){n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],i)}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.startPoint,i=this.info.endPoint,r=this.info.leaderLineLength,o=this.info.leaderLineExtensionLength,a=this.info.leaderLineOffset,A=this.info.captionOffset,s=this.hasCaption()?"yes":"no",c=this.getCaptionColor();if(c=(0,U.convertFromNumberToHex)(16777215&c),this.info.styleFillColor){var u=(0,U.convertFromNumberToHex)(16777215&this.info.styleFillColor);e["interior-color"]=u,e.interiorColor=u}return Object.assign({},e,{start:t.x+","+t.y,end:i.x+","+i.y,head:we[this.info.startStyle],tail:we[this.info.endingStyle],leaderLength:r,leaderExtend:o,leaderOffset:a,captionOffset:A,caption:s,captionColor:c})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?"inch":s;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(bi);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.update(tn.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(le.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.measureUnitUpdated)})).then((function(){t.info.measureUnit=e;var n=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,U.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.captionColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),n}(Pm);const vw=gw;var mw=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"startPoint",void 0),(0,X._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,P._)(e,[{key:"isEmpty",value:function(){return 0===this.points.length}},{key:"optimize",value:function(){var t=Array.from(new Set(this.points.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}));if(1===t.length){var n=t[0];"lineTo"===n.type&&n.x===this.startPoint.x&&n.y===this.startPoint.y&&(t.length=0)}return new e(this.startPoint,t)}}]),e}(),yw=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"startPoint",void 0),(0,X._)(this,"points",void 0),this.startPoint=t,this.points=n}return(0,P._)(e,[{key:"getSegments",value:function(){return this.points.reduce((function(e,t){var n=e[e.length-1];return"lineTo"===t.type||"cubicBezierTo"==t.type?n.points.push(t):e.push(new mw(t,[])),e}),[new mw(this.startPoint,[])])}},{key:"toPointArray",value:function(){return[this.startPoint].concat(this.points)}},{key:"toVertexesArray",value:function(){return this.toPointArray().flatMap((function(e){return"cubicBezierTo"===e.type?e.operands.map((function(e){return{type:e.closeFigure?ye.BEZIER_TO_CLOSE_FIGURE:ye.BEZIER_TO,x:e.x,y:e.y}})):[{x:e.x,y:e.y,type:"lineTo"===e.type?e.closeFigure?ye.LINE_TO_CLOSE_FIGURE:ye.LINE_TO:ye.MOVE_TO}]}))}},{key:"updatePoint",value:function(e,t){!function(e){if((0,U.isValidNumber)(e.x)&&(0,U.isValidNumber)(e.y))return!0;throw new Error("Incorrect point: ".concat(JSON.stringify(e)))}(t);var n=[this.startPoint].concat(this.points.flatMap((function(e){return"cubicBezierTo"===e.type?e.operands:e})));n[e].x=t.x,n[e].y=t.y}},{key:"toGSDKPath",value:function(e){var t=new e.Path,n=e.PointF;return this.toPointArray().forEach((function(e){switch(e.type){case"moveTo":t.MoveTo(new n(e.x,e.y));break;case"lineTo":t.LineTo(new n(e.x,e.y)),e.closeFigure&&t.CloseFigure();break;case"cubicBezierTo":var i=e.operands;t.CubicBezierTo(new n(i[0].x,i[0].y),new n(i[1].x,i[1].y),new n(i[2].x,i[2].y));break;default:throw new Error("Incorrect point: ".concat(JSON.stringify(e),", its type must be one of 'moveTo', 'lineTo' or 'cubicBezier'"))}})),t}}],[{key:"fromGSDKPath",value:function(t,n){var i=t.GetPointCount();if(0===i)return null;for(var r=n.PointType,o=[],a=0;;){var A=t.GetPointType(a),s=t.GetPoint(a);switch(A){case r.e_TypeLineTo:case r.e_TypeLineToCloseFigure:o.push({type:"lineTo",x:s.x,y:s.y,closeFigure:A===r.e_TypeLineToCloseFigure}),a++;break;case r.e_TypeMoveTo:o.push({type:"moveTo",x:s.x,y:s.y}),a++;break;case r.e_TypeBezierTo:for(var c=[],u=a+3;a<u;a++){var l=t.GetPoint(a);c.push({x:l.x,y:l.y,closeFigure:t.GetPointType(a)===r.e_TypeBezierToCloseFigure})}o.push({type:"cubicBezierTo",operands:c})}if(a>=i-1)break}return new e(o[0],o.slice(1))}},{key:"fromPointArray",value:function(t){if(t.length<2)throw new Error("Invalid path point array! The point count must be greater than 2");if("moveTo"!==t[0].type)throw new Error("Invalid path point array!, The type of first point must be 'moveTo'");return new e(t[0],t.slice(1))}}]),e}();function bw(e){return!e||e.length<1?"":e.map((function(e){return"moveTo"===e.type||"lineTo"===e.type?[e.x,e.y].join(","):e.operands.flatMap((function(e){return[e.x,e.y]})).join(",")})).join(";")}var ww=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"getStyleFillColor",value:function(){return this.info.fillColor}},{key:"setStyleFillColor",value:function(e){return this.checkModidyPerm(),(0,D._)((0,C._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"updateVertexes",value:function(e,t){var n=this,i=t.x,r=t.y;this.checkModidyPerm();var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(a.getId(),o.getId(),this.getId(),e,i,r).then((function(){return n.info[e]={x:i,y:r},n.update(tn.vertexesUpdated)})).then((function(){n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage())}))}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(tn.vertexesUpdated)})).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"getEndingStyle",value:function(){return this.info.endingStyle}},{key:"setEndingStyle",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotEndingStyle(r.getId(),i.getId(),this.getId(),e,t).then((function(){e?n.info.startStyle=t:n.info.endingStyle=t,n.eventEmitter.emit(le.annotationUpdated,[n],i,tn.endingStyleUpdated),n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage())})).then((function(e){return n._update()}))}},{key:"getStartStyle",value:function(){return this.info.startStyle}},{key:"exportToJSON",value:function(){for(var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.vertexes,i="",r=0;r<t.length;r++)i+=t[r].x+","+t[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,U.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolyLineDimension"===this.getIntent()){e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,U.convertFromNumberToHex)(16777215&a)}return Object.assign({},e,{head:we[this.info.startStyle],tail:we[this.info.endingStyle],vertices:i,path:bw(this.info.path)})}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?"inch":s;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(bi);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.update(tn.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(le.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(tn.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,U.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.captionColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?yw.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(tn.pathUpdated).then((function(){n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],i)}))}))}}]),n}(Pm);const kw=ww;var xw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getVertexes",value:function(){return this.info.vertexes}},{key:"updateVertexes",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.updateAnnotVertexes(r.getId(),i.getId(),this.getId(),e,t.x,t.y).then((function(){return n.update(tn.vertexesUpdated)})).then((function(){n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage())}))}},{key:"setVertexes",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotVertexes(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.vertexes=e,t.update(tn.vertexesUpdated)})).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getMeasureInfo",value:function(){return""}},{key:"exportToJSON",value:function(){for(var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.vertexes,i="",r=0;r<t.length;r++)i+=t[r].x+","+t[r].y+";";if(i=i.substr(0,i.length-1),this.info.fillColor){var o=(0,U.convertFromNumberToHex)(16777215&this.info.fillColor);e["interior-color"]=o,e.interiorColor=o}if("PolygonDimension"===this.getIntent()){e.measureRatio=this.info.measureRatio,e.measureConversionFactor=this.info.measureConversionFactor,e.measureUnit=this.info.measureUnit,e.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();e.captionColor=(0,U.convertFromNumberToHex)(16777215&a)}var A=bw(this.info.path);return Object.assign({},e,{vertices:i,path:A})}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,D._)((0,C._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?"inch":r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?"inch":s;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(bi);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.update(tn.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(le.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(tn.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,U.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.captionColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}},{key:"getPath",value:function(){return this.info.path?yw.fromPointArray(this.info.path):null}},{key:"getPathVertexes",value:function(){var e=this.getPath();return e?e.toVertexesArray():[]}},{key:"updatePathVertex",value:function(e,t){var n=this,i=this.getPDFPage(),r=i.getPDFDoc();return this.api.updatePathPoint({path:"jr/doc/page/annot"},r.getId(),i.getId(),this.getId(),e,t).then((function(){return n.update(tn.pathUpdated).then((function(){n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],i)}))}))}}]),n}(Pm);const _w=xw;var Pw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getFlags",value:function(){return(0,D._)((0,C._)(n.prototype),"getFlags",this).call(this)}},{key:"getIconName",value:function(){return this.info.iconName||"Note"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.iconNameUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"getState",value:function(){return this.info.state}},{key:"setState",value:function(e){var t=this;if(this.checkModidyPerm(),!this.isStateAnnot())return Promise.reject(new Error("Cannot set state name if it is not a state type annotation!"));if(this.getState()===e)return Promise.resolve(!0);var n=this.info.state,i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setStateName(r.getId(),i.getId(),this.getId(),e).then((function(i){return t.info.state=e,t.eventEmitter.emit(le.stateAnnotNameUpdated,t,t.getPDFPage(),n,e),i}))}},{key:"isStateAnnot",value:function(){return this.info.isStateAnnot}},{key:"isReplyAnnot",value:function(){return!this.isStateAnnot()&&"R"===this.info.RT}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t={icon:this.info.iconName};if(this.info.isStateAnnot){t.statemodel=1==this.info.stateMode?"Marked":"Review";var i=this.page.annotIdMap[this.info.IRT];t.inreplyto=i&&i.getName();var r=this.info.state;t.state=r.charAt(0).toUpperCase()+r.slice(1),delete e.contents,delete e.color}return Object.assign({},e,t)}}]),n}(Pm);const Dw=Pw;var Cw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return this.checkModidyPerm(),(0,D._)((0,C._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r={fringe:[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString()};if(this.info.fillColor){var o=(0,U.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}if("CircleDimension"===this.getIntent()){r.measureRatio=this.getMeasureRatio(),r.measureConversionFactor=this.getMeasureConversionFactor(),r.measureUnit=this.getMeasureUnit(),r.caption=this.hasCaption()?"yes":"no";var a=this.getCaptionColor();r.captionColor=(0,U.colorConvertor)(16777215&a,"#")}return Object.assign({},e,r)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?bi.inch:r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?bi.inch:s;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(bi);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.update(tn.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(le.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e,2).then((function(){return t.update(tn.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}},{key:"hasCaption",value:function(){return!!this.info.hasCaption}},{key:"enableCaption",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.enableCaption({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.enableCaptionUpdated)})).then((function(){t.info.hasCaption=e,t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"setCaptionColor",value:function(e){var t=this;if(null==e)return Promise.resolve(!1);this.checkModidyPerm(),isNaN(e)&&(e=(0,U.colorConvertor)(e,"int",1));var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCaptionColor({path:"jr/doc/page/annot"},i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.captionColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getCaptionColor",value:function(){return this.info.captionColor}}]),n}(Pm),Sw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),(r=t.call(this,e,i)).updateFileSpec(),r}return(0,P._)(n,[{key:"getIconName",value:function(){return this.info.iconName||"PushPin"}},{key:"setIconName",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotIconName(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.iconNameUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t={icon:this.info.iconName};return Object.assign({},e,t)}},{key:"update",value:function(e){var t=this;return(0,D._)((0,C._)(n.prototype),"update",this).call(this,e).then((function(e){return t.updateFileSpec(),e}))}},{key:"updateFileSpec",value:function(){var e=this.info;this.fileSpec=e.fileSpec&&new jr(e.fileSpec)||null}},{key:"getFileSpec",value:function(){return this.fileSpec}},{key:"getFileattachmentStream",value:function(){var e=this.getPDFPage(),t=e.getPDFDoc(),n=[];return this.page.doc.api.getFileattachmentStream(t.getId(),e.getId(),this.getId(),(function(e){var t=e.arrayBuffer,i=e.blob;i?n=i:n.push(t)})).then((function(){return n}))}}]),n}(Pm);const Iw=Sw;var Ew=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r=[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString();return delete e.style,delete e.width,delete e.dashPhase,delete e.intensity,Object.assign({},e,{fringe:r})}},{key:"moveRectByCharIndex",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveCaretRectByCharIndex(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.rectUpdated).then((function(){return t.eventEmitter.emit(le.annotationMovedPosition,[t],t.getPDFPage(),t),e})):e}))}}]),n}(Pm);const Rw=Ew;var Tw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getFillColor",value:function(){return this.info.fillColor}},{key:"setFillColor",value:function(e){return(0,D._)((0,C._)(n.prototype),"setFillColor",this).call(this,e)}},{key:"getInnerRect",value:function(){return this.info.innerRect}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.rect,i=this.info.innerRect,r=[i.left-t.left,i.bottom-t.bottom,t.right-i.right,t.top-i.top].toString();if(this.info.fillColor){var o=(0,U.colorConvertor)(16777215&this.info.fillColor,"#");e["interior-color"]=o,e.interiorColor=o}var a={fringe:r};return"CustomDimension"===this.getIntent()&&(a.measureRatio=this.getMeasureRatio(),a.measureConversionFactor=this.getMeasureConversionFactor(),a.measureUnit=this.getMeasureUnit()),Object.assign({},e,a)}},{key:"getMeasureRatio",value:function(){return this.info.measureRatio}},{key:"setMeasureRatio",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.userSpaceValue,i=void 0===n?1:n,r=t.userSpaceUnit,o=void 0===r?bi.inch:r,a=t.realValue,A=void 0===a?1:a,s=t.realUnit,c=void 0===s?bi.inch:s;this.checkModidyPerm();var u=this.getPDFPage(),l=u.getPDFDoc(),d=Object.keys(bi);if(!d.includes(o)||!d.includes(c))throw new Error("Param error. Please refer to Annot_Unit_Type");return this.page.doc.api.setMeasureRatio(l.getId(),u.getId(),this.getId(),{userSpaceValue:i,userSpaceUnit:o,realValue:A,realUnit:c}).then((function(){return e.update(tn.measureRatioUpdated)})).then((function(){var t=e.getPDFPage();e.eventEmitter.emit(le.annotationAppearanceUpdated,[e],t)}))}},{key:"getMeasureUnit",value:function(){return this.info.measureUnit}},{key:"setMeasureUnit",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureUnit(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.measureUnitUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}},{key:"getMeasureConversionFactor",value:function(){return this.info.measureConversionFactor}},{key:"setMeasureConversionFactor",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setMeasureConversionFactor(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.measureConversionFactorUpdated)})).then((function(){var e=t.getPDFPage();t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],e)}))}}]),n}(Pm),Mw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){(0,_._)(this,n);var r=t.call(this,e,i);return-1===e.borderColor&&"FreeTextTypewriter"!==e.intent&&(e.borderColor=16711680),r}return(0,P._)(n,[{key:"setIsEditting",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.setAnnotIsEditing({path:"jr/doc/page"},n.getId(),t.getId(),this.getId(),e)}},{key:"setAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAlignment(i.getId(),n.getId(),this.getId(),e).then((function(){return t.info.justification=e,t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.alignmentUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info),e}))}},{key:"getAlignment",value:function(){return this.info.justification}},{key:"getInnerRect",value:function(){return Object.assign({},this.info.innerRect)}},{key:"setInnerRectNoAction",value:function(e){var t=this;this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then((function(){var e=t.getGroupElements();0==e.length&&(e=[t]);for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n[i]=o._update()}return Promise.all(n)}))}},{key:"getIntent",value:function(){var e=(0,D._)((0,C._)(n.prototype),"getIntent",this).call(this);return e||(e="FreeTextTextbox"),e}},{key:"setInnerRect",value:function(e){var t=this;this.checkModidyPerm(),this.info.innerRect=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotInnerRect(i.getId(),n.getId(),this.getId(),e).then((function(e){return e?t.update(tn.innerRectUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"getFillColor",value:function(){return"FreeTextTypewriter"==this.info.intent?0:this.info.fillColor}},{key:"setFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=0===e?0:(0,U.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotFillColor(i.getId(),n.getId(),this.getId(),e).then((function(i){return i&&(t.info.fillColor=e,t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.fillColorUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),t.updateInfo(t.info)),i}))}},{key:"getCalloutLinePoints",value:function(){return this.info.calloutLinePoints}},{key:"setCalloutLinePoints",value:function(e){var t=this;return this._setCalloutLinePoints(e).then((function(e){return t._update()})).then((function(e){var n=t.getPDFPage();t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.calloutLinePointsUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n)}))}},{key:"_setCalloutLinePoints",value:function(e){var t=this;this.checkModidyPerm(),this.info.calloutLinePoints=e;var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLinePoints(i.getId(),n.getId(),this.getId(),e).then((function(e){return t._update()}))}},{key:"updateCalloutFigure",value:function(e,t,n){var i=this;this.checkModidyPerm(),this.info.calloutLinePoints=n;var r=this.getPDFPage(),o=r.getPDFDoc();return this.page.doc.api.updateCalloutFigure(o.getId(),r.getId(),this.getId(),e,t,n).then((function(){var e=i.getGroupElements();0==e.length&&(e=[i]);for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];t[n]=o.updateRectData()}return Promise.all(t)})).then((function(){var e=i.getPDFPage();i.eventEmitter.emit(le.annotationUpdated,[i],i.getPDFPage(),tn.rectUpdated),i.eventEmitter.emit(le.annotationUpdated,[i],i.getPDFPage(),tn.innerRectUpdated),i.eventEmitter.emit(le.annotationUpdated,[i],i.getPDFPage(),tn.calloutLinePointsUpdated),i.eventEmitter.emit(le.annotationAppearanceUpdated,[i],e)}))}},{key:"updateRectFigure",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.info.rect,r=this.info.innerRect;e=cn(e),this.info.rect=e,this.info.innerRect=t;var o=this.getPDFPage(),a=o.getPDFDoc();return this.page.doc.api.updateRectFigure(a.getId(),o.getId(),this.getId(),e,t).then((function(e){return e?n.update(tn.rectUpdated).then((function(e){return n.eventEmitter.emit(le.annotationAppearanceUpdated,[n],n.getPDFPage()),!0})):(n.info.rect=i,n.info.innerRect=r,e)}))}},{key:"getCalloutLineEndingStyle",value:function(){return this.info.calloutLineEndingStyle}},{key:"setEndingStyle",value:function(e,t){return this.setCalloutLineEndingStyle(t)}},{key:"setCalloutLineEndingStyle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setCalloutLineEndingStyle(i.getId(),n.getId(),this.getId(),e).then((function(){t.info.calloutLineEndingStyle=e,t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.calloutLineEndingStyleUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage()),t.updateInfo(t.info)}))}},{key:"_setRect",value:function(e,t){var i=this,r=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(o){return[2,(0,D._)((0,C._)(n.prototype),"_setRect",i).call(r,e,t)]}))}))()}},{key:"setTextSize",value:function(e){var t=this.getDefaultAppearance();return t.textSize=e,this.setDefaultAppearance(t)}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),e).then((function(){return t._update()})).then((function(){t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.defaultAppearanceUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"getFontColor",value:function(){return 0==this.info.defaultAppearance.textColor?"#000000":(0,U.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0)}},{key:"setFontColor",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e=(0,U.colorConvertor)(e,"int",1),this.info.defaultAppearance.textColor=e,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),this.info.defaultAppearance).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this);e.justification=this.info.justification;var t="";this.info.fontName&&(t+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(t+=this.info.defaultAppearance.textSize+" Tf ");var i=(0,U.convertFromNumberToRGBA)(this.getBorderColor());switch(t+=(i.r/255).toFixed(2)+" "+(i.g/255).toFixed(2)+" "+(i.b/255).toFixed(2)+" rg",e.defaultappearance=t,e.fontColor=(0,U.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),this.info.fillColor&&(i=(0,U.convertFromNumberToHex)(16777215&this.info.fillColor),e["interior-color"]=i,e.interiorColor=i),this.info.intent){case"FreeTextCallout":var r=this.info.rect,o=this.info.innerRect,a=[o.left-r.left,o.bottom-r.bottom,r.right-o.right,r.top-o.top].toString(),A=this.info.calloutLinePoints,s=A[0].x+","+A[0].y;s+=","+A[1].x+","+A[1].y,s+=","+A[2].x+","+A[2].y;var c=we[this.info.calloutLineEndingStyle];return Object.assign({},e,{fringe:a,callout:s,head:c});case"FreeTextTypewriter":break;default:var u=this.info.rect,l=this.info.innerRect,d=[l.left-u.left,l.bottom-u.bottom,u.right-l.right,u.top-l.top].toString();return Object.assign({},e,{fringe:d})}return e}},{key:"getContent",value:function(){var e="";if(this.info.RC.length>0){var t,i=(new DOMParser).parseFromString(this.info.RC,"text/xml");i.children&&i.children[0]?t=i.children.item(0):i.childNodes&&i.childNodes.length>0&&(t=i.childNodes.item(0)),e=t?t.innerText||t.textContent:e}else e=(0,D._)((0,C._)(n.prototype),"getContent",this).call(this);return e}},{key:"setContent",value:function(e){var t=this;return this.checkModidyPerm(),this.info.RC="",this._setContent(e).then((function(e){return t.getPDFPage().getAnnotsByObjectNumArray([e])})).then((function(e){return t.update(tn.contentUpdated).then((function(e){return t.eventEmitter.emit(le.annotationAppearanceUpdated,e,t.getPDFPage()),e}))}))}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getAnnotWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}},{key:"getRotation",value:function(){return this.info.rotation||0}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){var i=0;for(n.length;i--;)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var A,s=e[Symbol.iterator]();!(r=(A=s.next()).done);r=!0){var c=A.value;i.push(c.update())}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return Promise.all(i).then((function(i){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.rotationUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}))}},{key:"setAppearanceWithoutFontFamily",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=(e=Object.assign({},this.info.defaultAppearance,e)).textColor,o=e.textSize;if("number"!=typeof r||"number"!=typeof o)throw new Error("param error. Only number is available.");if(r=(4278190080|r)>>>0,this.engine.configuration.annotation.syncTextScaling){if(o<=0||!isFinite(o))throw new Error("Text size is overflow, it should not be negative and infinite.")}else if(o<6||o>40)throw new Error("Text size is overflow. Available range is 6 to 40.");return e.textColor=r,e.textSize=o,this.page.doc.api.setDefaultAp(i.getId(),n.getId(),this.getId(),Object.assign({},e,{font:void 0})).then((function(){return t._update()})).then((function(){t.info.defaultAppearance=e,t.eventEmitter.emit(le.annotationUpdated,[t],n,tn.defaultAppearanceUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))}}]),n}(Pm);const Fw=Mw;var Lw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getInnerRect",value:function(){return this.getRect()}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this);return e.icon=this.info.iconName,e}},{key:"getIconName",value:function(){return this.info.iconName||""}},{key:"setImage",value:function(e){var t=this;return function(e){return fetch(e).then((function(e){return e.blob().then((function(e){return{url:URL.createObjectURL(e),size:e.size}}))})).catch((function(e){throw new Error("Could not load image!")}))}(e).then((function(e){var n=t.getPDFPage(),i=n.getPDFDoc(),r=e.url,o=e.size;return t.page.doc.api.setAnnotAPBitmap(i.getId(),n.getId(),t.getId(),r,o).then((function(e){t.update(tn.imageUpdated)}))}))}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then((function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return cy(t);case"image":return uy(t);case"buffer":return ly(t);default:throw new Error("Invalid options.type: ".concat(e))}}))}},{key:"getRotation",value:function(){return this.info.rotation<0&&(this.info.rotation+=360),this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return e<0&&(e+=360),this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){for(var i=0;i<n.length;i++)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){var i=[],r=!0,o=!1,a=void 0;try{for(var A,s=e[Symbol.iterator]();!(r=(A=s.next()).done);r=!0){var c=A.value;i.push(c.update())}}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return Promise.all(i).then((function(i){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.rotationUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}))}}]),n}(Pm);const Nw=Lw;var Ow=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,k._)(r))),r}return(0,P._)(n,[{key:"getFlags",value:function(){return-2&(0,D._)((0,C._)(n.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.action}},{key:"getActionPromise",value:function(){return Promise.resolve(this.action)}},{key:"getHighlightingMode",value:function(){return this.info.highlightingMode}},{key:"setHighlightingMode",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setHighlightingMode(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]._update());return Promise.all(t)})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.highlightingModeUpdated),t.eventEmitter.emit(le.annotationMovedPosition,e,n,t),e}))}},{key:"hasPA",value:function(){return this.api.linkHasPA(this.page.doc.getId(),this.page.getId(),this.getId())}},{key:"resetAByPA",value:function(){var e=this;return this.api.linkResetAByPA(this.page.doc.getId(),this.page.getId(),this.getId()).then((function(t){if(t)return e.update(tn.actionDataUpdated).then((function(){e.action=e.page.doc.engine.actionFactory.createAction(e.info.action,e.page.doc,e.page.doc.api,e.eventEmitter,e)}))}))}},{key:"setAction",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go.AnnotMouseButtonReleased,i=arguments.length>2?arguments[2]:void 0;this.checkModidyPerm();var r=this.getPDFPage(),o=r.getPDFDoc();return e=e.info?e.info:e,this.page.doc.api.setAction(o.getId(),r.getId(),this.getId(),e,n,i).then((function(e){return t.action?e.type!==t.action.getType()?t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t):t.action.updateAction(e):t.action=t.page.doc.engine.actionFactory.createAction(e,t.page.doc,t.page.doc.api,t.eventEmitter,t),t.update(tn.addAction)})).then((function(){return t.eventEmitter.emit(le.actionAdd,t),!0}))}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then((function(){return n.update(tn.actionDataUpdated),!0}))}},{key:"removeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1?arguments[1]:void 0,i=0,r=0;n&&(i=0,r=n.info.objNumber),delete this.info.action,delete this.action;var o=this.page,a=o.doc;return a.api.removeAction(a.getId(),o.getId(),this.getId(),t,i,r).then((function(t){var n=t[0];return n&&(e.info.action=n,e.action=ao.createAction(n,e.page.getPDFDoc())),e.eventEmitter.emit(le.annotationUpdated,[e],e.getPDFPage(),tn.actionDataUpdated),e.eventEmitter.emit(le.actionRemove,e),!0}))}},{key:"moveAction",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.moveAction)}))}}]),n}(ln);const Bw=Ow;var jw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getInkList",value:function(){return this.info.inkList}},{key:"setInkList",value:function(e){var t=this;if(this.isDeleted())return Promise.resolve();this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setInkList(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.inkListUpdated).then((function(){t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],t.getPDFPage())}))})).then((function(){return!0}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this),t=this.info.inkList,i="[";if(t.length>0){for(var r=0;r<t.length;r++)0!=r&&1==t[r].type&&(i=i.substr(0,i.length-1),i+="],["),i+=t[r].x+","+t[r].y+";";i=i.substr(0,i.length-1)+"]"}else i="[]";return Object.assign({},e,{inklist:i})}}]),n}(Pm);const Vw=jw;var Uw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,k._)(r))),r}return(0,P._)(n,[{key:"getFlags",value:function(){return-2&(0,D._)((0,C._)(n.prototype),"getFlags",this).call(this)}},{key:"getAction",value:function(){return this.action}},{key:"getActionPromise",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getAction(n.getId(),t.getId(),this.getId()).then((function(t){return e.action=e.page.doc.engine.actionFactory.createAction(t,n,e.page.doc.api,e.eventEmitter,e),e.action}))}},{key:"getOpacity",value:function(){return this.info.opacity}},{key:"getRotation",value:function(){return this.info.rotation}},{key:"setRotation",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setAnnotRotation(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){var i=0;for(n.length;i--;)n[i].info.rotation=e;return t.info.rotation=e,n})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.rotationUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}},{key:"setOpacity",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return e=+e,this.page.doc.api.setAnnotOpacity(i.getId(),n.getId(),this.getId(),e).then((function(e){return n.getAnnotsByObjectNumArray(e)})).then((function(n){var i=0;for(n.length;i--;)n[i].info.opacity=e;return t._update().then((function(){return n}))})).then((function(e){return t.eventEmitter.emit(le.annotationUpdated,e,n,tn.opacityUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,e,n),e}))}},{key:"setRect",value:function(e){var t=this,n=this.info.rect;this.info.rect=e;var i=this.getPDFPage(),r=i.getPDFDoc();return this.page.doc.api.setAnnotRect(r.getId(),i.getId(),this.getId(),e).then((function(r){return t.eventEmitter.emit(le.invalidRect,new Zt(n.left,n.bottom,n.right,n.top),new Zt(e.left,e.bottom,e.right,e.top),t.info.type,t.info,i),r?(t.eventEmitter.emit(le.annotationUpdated,[t],i,tn.rectUpdated),t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],i),!0):r}))}},{key:"moveTo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.left,i=t.top,r=Object.assign({},this.info.rect),o=r.right,a=r.bottom,A=n-r.left,s=i-r.top,c=this.info.rect={left:n,top:i,right:o+A,bottom:a+s},u=this.getPDFPage(),l=u.getPDFDoc().getId(),d=u.getId(),h=this.getId();return this.page.doc.api.moveAnnotTo(l,d,h,{left:n,top:i}).then((function(e){return u.getAnnotsByObjectNumArray(e)})).then((function(t){e.eventEmitter.emit(le.invalidRect,new Zt(r.left,r.bottom,r.right,r.top),new Zt(c.left,c.bottom,c.right,c.top),e.info.type,e.info,u),e.eventEmitter.emit(le.annotationUpdated,t,u,tn.rectUpdated),e.eventEmitter.emit(le.annotationMovedPosition,t,u,e)}))}},{key:"removeAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=arguments.length>1?arguments[1]:void 0,i=0,r=0;n?(i=0,r=n.info.objNumber):delete this.info.AA[t],"-1"==t?(delete this.info.action,delete this.action):(delete this.info.AA[t],this.engineActions&&delete this.engineActions[t]);var o=this.page,a=o.doc;return a.api.removeAction(a.getId(),o.getId(),this.getId(),t,i,r).then((function(n){var i=n[0];return i&&("-1"==t?(e.info.action=i,e.action=ao.createAction(i,e.page.getPDFDoc())):(e.info.AA[t]=i,e.engineActions[t]=ao.createAction(i,e.page.getPDFDoc()))),e.eventEmitter.emit(le.annotationUpdated,[e],e.getPDFPage(),tn.actionDataUpdated),e.eventEmitter.emit(le.actionRemove,e),!0}))}},{key:"setImage",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setImage(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),t.update(tn.imageUpdated),e}))}},{key:"setTitle",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setTitle(i.getId(),n.getId(),this.getId(),e).then((function(){return t.update(tn.titleUpdated)}))}},{key:"getAdditionalAction",value:function(e){if(-1==e)return this.action;if(!this.engineActions)for(var t in this.engineActions={},this.info.AA)this.engineActions[t]=ao.createAction(this.info.AA[t],this.page.getPDFDoc());return this.engineActions[e]}},{key:"setAdditionalAction",value:function(e,t){return this.setAction(t,e)}},{key:"setAction",value:function(e,t,n){var i=this;if(!e)throw new Error("No Action!");var r=this.page,o=r.doc;return this.engineActions||this.getAdditionalAction(11),this.page.doc.api.setAction(o.getId(),r.getId(),this.getId(),e.info,t,n).then((function(a){e.init(a,i.page.doc.engine.actionFactory,o,i.page.doc.api,i.page.doc.engine.eventEmitter,i);var A=!1;return-1==t&&i.info.action&&(A=!0),-1!=t&&i.engineActions[t]&&(A=!0),n&&A?-1==t?i.action.appendSubAction(e):i.engineActions[t].appendSubAction(e):-1==t?(i.info.action=e.info,i.action=e):(i.info.AA[t]=e.info,i.engineActions[t]=e),i.eventEmitter.emit(le.annotationUpdated,[i],r,tn.addAction),a}))}},{key:"setActionData",value:function(e,t){var n=this;return e.setActionData(t).then((function(){return n.update(tn.actionDataUpdated),!0}))}},{key:"getImage",value:function(e){var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.getBitmapBuffer(n.getId(),t.getId(),this.getId()).then((function(t){if(!t.width||!t.height)return null;switch(e||"canvas"){case"canvas":return cy(t);case"image":return uy(t);case"buffer":return ly(t);default:throw new Error("Invalid options.type: ".concat(e))}}))}},{key:"moveAction",value:function(e){var t=this,n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.moveAction(i.getId(),n.getId(),this.getId(),e).then((function(e){return t.update(tn.moveAction).then((function(e){t.updateAdditionalAction()}))}))}},{key:"updateAdditionalAction",value:function(){for(var e in this.engineActions={},this.info.AA)this.engineActions[e]=ao.createAction(this.info.AA[e],this.page.getPDFDoc())}}]),n}(ln),Hw=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;return(0,_._)(this,n),r=t.call(this,e,i),e.action&&(r.action=r.page.doc.engine.actionFactory.createAction(e.action,i.doc,r.page.doc.api,r.eventEmitter,(0,k._)(r))),r}return(0,P._)(n,[{key:"getIconName",value:function(){return this.info.iconName||"Speaker"}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this);return e.rate=this.info.soundObj&&this.info.soundObj.sampleRate,e}}]),n}(Pm);const zw=Hw;var Ww=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"getFlags",value:function(){return-2&(0,D._)((0,C._)(n.prototype),"getFlags",this).call(this)}},{key:"getOpenStatus",value:function(){return this.info.openStatus}},{key:"setOpenStatus",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setPopupOpenStatus(i.getId(),n.getId(),this.getId(),e).then((function(){t.info.openStatus=e;var i=[t];return t.eventEmitter.emit(le.annotationAppearanceUpdated,i,n),i}))}},{key:"exportToJSON",value:function(){var e=this.info.flag,t="";for(var n in _e)e&1<<parseInt(n)&&(t+=_e[n]+",");var i=this.info.name,r=this.page.getIndex(),o=this.info.openStatus?"yes":"no",a=this.info.rect;return{flags:t,name:i,page:r,open:o,rect:a.left+","+a.bottom+","+a.right+","+a.top,type:"popup"}}}]),n}(ln),Yw={Courier:0,"Courier-Bold":1,"Courier-BoldOblique":2,"Courier-Oblique":3,Helvetica:4,"Helvetica-Bold":5,"Helvetica-BoldOblique":6,"Helvetica-Oblique":7,"Times-Roman":8,"Times-Bold":9,"Times-BoldItalic":10,"Times-Italic":11,Symbol:12,ZapfDingbats:13};function Gw(e){return Yw[e]}function $w(e){for(var t in Yw)if(Yw[t]==e)return t;return""}var Kw={FoxitFixedOTF:"Courier",FoxitSansMM:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},qw=[{name:"Times Roman",value:"Times-Roman"},{name:"Times Bold",value:"Times-Bold"},{name:"Times Italic",value:"Times-Italic"},{name:"Times BoldItalic",value:"Times-BoldItalic"},{name:"Helvetica",value:"Helvetica"},{name:"Helvetica Bold",value:"Helvetica-Bold"},{name:"Helvetica Oblique",value:"Helvetica-Oblique"},{name:"Helvetica BoldOblique",value:"Helvetica-BoldOblique"},{name:"Courier",value:"Courier"},{name:"Courier Bold",value:"Courier-Bold"},{name:"Courier Oblique",value:"Courier-Oblique"},{name:"Courier BoldOblique",value:"Courier-BoldOblique"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],Jw=function(e){return qw.some((function(t){return t.value===e}))},Xw=[{name:"Courier",value:"Courier"},{name:"Helvetica",value:"Helvetica"},{name:"Times Roman",value:"Times-Roman"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],Qw=[{name:"黑体",value:"SimHei,STHeiti,Noto Serif Hebrew"},{name:"楷体",value:"CESI_KT_GB2312,KaiTi,STKaiti"},{name:"仿宋",value:"FangSong,STFangSong,CESI_FS_GB13000"},{name:"宋体",value:"SimSun,STSong,CESI_SS_GB13000"}],Zw=[{name:"Noto Sans SC Regular",family:"Noto Sans SC Regular"},{name:"Noto Sans",family:"Noto Sans"},{name:"Noto Sans Tibetan",family:"Noto Sans Tibetan"},{name:"Noto Sans CJK TC Medium",family:"Noto Sans CJK TC Medium"},{name:"Noto Sans Mono CJK KR Regular",family:"Noto Sans Mono CJK KR Regular"},{name:"Noto Sans CJK KR DemiLight",family:"Noto Sans CJK KR DemiLight"},{name:"Noto Sans Thai",family:"Noto Sans Thai"},{name:"Noto Sans Cherokee",family:"Noto Sans Cherokee"},{name:"Noto Sans CJK JP Regular",family:"Noto Sans CJK JP Regular"},{name:"Noto Sans CJK JP Thin",family:"Noto Sans CJK JP Thin"},{name:"Noto Sans CJK TC Thin",family:"Noto Sans CJK TC Thin"},{name:"Noto Sans SC Thin",family:"Noto Sans SC Thin"},{name:"Noto Sans Tai Le",family:"Noto Sans Tai Le"},{name:"Noto Sans Thaana",family:"Noto Sans Thaana"},{name:"Noto Sans SC Light",family:"Noto Sans SC Light"},{name:"Noto Sans SC Medium",family:"Noto Sans SC Medium"},{name:"Noto Sans CJK KR Medium",family:"Noto Sans CJK KR Medium"},{name:"Noto Serif Lao",family:"Noto Serif Lao"},{name:"Noto Sans TC Light",family:"Noto Sans TC Light"},{name:"Noto Sans Phags Pa",family:"Noto Sans Phags Pa"},{name:"Noto Sans Telugu",family:"Noto Sans Telugu"},{name:"Noto Sans Yi",family:"Noto Sans Yi"},{name:"Noto Sans Canadian Aboriginal",family:"Noto Sans Canadian Aboriginal"},{name:"Noto Sans Khmer",family:"Noto Sans Khmer"},{name:"Noto Sans Syriac Eastern",family:"Noto Sans Syriac Eastern"},{name:"Noto Serif Thai",family:"Noto Serif Thai"},{name:"Noto Sans Hebrew",family:"Noto Sans Hebrew"},{name:"Noto Sans CJK JP Medium",family:"Noto Sans CJK JP Medium"},{name:"Noto Sans SC Black",family:"Noto Sans SC Black"},{name:"Noto Sans Lao",family:"Noto Sans Lao"},{name:"Noto Sans Tamil",family:"Noto Sans Tamil"},{name:"Noto Sans Gujarati",family:"Noto Sans Gujarati"},{name:"Noto Sans Sinhala",family:"Noto Sans Sinhala"},{name:"Noto Sans CJK TC DemiLight",family:"Noto Sans CJK TC DemiLight"},{name:"Noto Sans Ethiopic",family:"Noto Sans Ethiopic"},{name:"Noto Sans Gujarati",family:"Noto Sans Gujarati"},{name:"Noto Serif Khmer",family:"Noto Serif Khmer"},{name:"Noto Sans CJK TC Light",family:"Noto Sans CJK TC Light"},{name:"Noto Sans CJK KR Light",family:"Noto Sans CJK KR Light"},{name:"Noto Sans CJK KR Thin",family:"Noto Sans CJK KR Thin"},{name:"Noto Sans CJK KR",family:"Noto Sans CJK KR"},{name:"Noto Sans CJK SC DemiLight",family:"Noto Sans CJK SC DemiLight"},{name:"Noto Sans CJK JP Light",family:"Noto Sans CJK JP Light"},{name:"Noto Sans Mono CJK SC Regular",family:"Noto Sans Mono CJK SC Regular"},{name:"Noto Sans Mono CJK TC Regular",family:"Noto Sans Mono CJK TC Regular"},{name:"Noto Naskh Arabic",family:"Noto Naskh Arabic"},{name:"Noto Sans Mongolian",family:"Noto Sans Mongolian"},{name:"Noto Sans Mono CJK JP Regular",family:"Noto Sans Mono CJK JP Regular"},{name:"Noto Sans CJK JP DemiLight",family:"Noto Sans CJK JP DemiLight"}],ek=[{text:"Helvetica",value:4},{text:"Courier",value:0},{text:"Courier-Bold",value:1},{text:"Courier-BoldOblique",value:2},{text:"Courier-Oblique",value:3},{text:"Helvetica-Bold",value:5},{text:"Helvetica-BoldOblique",value:6},{text:"Helvetica-Oblique",value:7},{text:"Times-Bold",value:9},{text:"Times-BoldItalic",value:10},{text:"Times-Italic",value:11}],tk=[{text:"宋体",name:"SimSun",style:34,charset:134},{text:"楷体",name:"KaiTi",style:32,charset:134}],nk=function(){return"Helvetica"},ik=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){return(0,_._)(this,n),t.call(this,e,i)}return(0,P._)(n,[{key:"isArea",value:function(){return this.info.isArea}},{key:"getRects",value:function(){var e=[];return this.info.quadPoints&&this.info.quadPoints.length>0?this.info.quadPoints.forEach((function(t){e.push({left:t[0].x,top:t[0].y,right:t[3].x,bottom:t[3].y})})):e.push(this.info.rect),e}},{key:"apply",value:function(){var e=this,t=this.getPDFPage(),n=t.getPDFDoc();if(!n.checkPermission(en.annotForm)||!n.checkPermission(en.modify))throw new Error("Permission error");return this.page.doc.api.redactApply(n.getId(),t.getId(),this.getId()).then((function(n){var i=t.clearAnnotIds(n);e.page.doc.engine.eventEmitter.emit(le.annotationRemoved,i,t);var r=[{pageIndex:t.getIndex(),removedAnnots:n}];return e.eventEmitter.emit(le.applyRedaction,r),r}))}},{key:"getOverlayText",value:function(){return this.info.overlayText}},{key:"setOverlayText",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayText(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(tn.overlayTextUpdated).then((function(){return t.info.overlayText=e,n})):n}))}},{key:"removeOverlayText",value:function(){var e=this;this.checkModidyPerm();var t=this.getPDFPage(),n=t.getPDFDoc();return this.page.doc.api.removeRedactOverlayText(n.getId(),t.getId(),this.getId()).then((function(t){return t?e.update(tn.overlayTextUpdated).then((function(){return delete e.info.overlayText,t})):t}))}},{key:"getOverlayTextAlignment",value:function(){return this.info.justification}},{key:"setOverlayTextAlignment",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactOverlayTextAlignment(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(tn.overlayTexAlignmentUpdated).then((function(){return t.info.justification=e+"",n})):n}))}},{key:"getRepeat",value:function(){return this.info.isRepeat}},{key:"setRepeat",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactRepeat(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(tn.repeatUpdated).then((function(){return t.info.isRepeat=e,n})):n}))}},{key:"setAutoFontSize",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactAutoFontSize(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(tn.autoFontSizeUpdated).then((function(){return t.info.isAutoFontSize=e,n})):n}))}},{key:"getAutoFontSize",value:function(){return this.info.isAutoFontSize}},{key:"getDefaultAppearance",value:function(){var e=Object.assign({},this.info.defaultAppearance);return delete e.flags,e}},{key:"setDefaultAppearance",value:function(e){var t=this;this.checkModidyPerm();var n=this.getPDFPage(),i=n.getPDFDoc(),r=Object.assign({},this.info.defaultAppearance,e);return e.textColor&&(r.textColor=(0,U.colorConvertor)(e.textColor,"int",1)),e.textSize&&"number"==typeof e.textSize&&e.textSize<0&&(r.textSize=0),void 0===Yw[r.fontName]&&(r.fontName="Helvetica"),this.page.doc.api.setRedactDefaultAppearance(i.getId(),n.getId(),this.getId(),r).then((function(e){return e?t.update(tn.redactDefaultAppearanceUpdated).then((function(){return t.info.fontName=r.fontName,delete r.fontName,t.info.defaultAppearance=r,e})):e}))}},{key:"setOpacity",value:function(e,t){var n=this;this.checkModidyPerm();var i=this.getPDFPage(),r=i.getPDFDoc();return this.info.onlyForFill=t,this.page.doc.api.setRedactOpacity(r.getId(),i.getId(),this.getId(),e,t).then((function(t){return t&&(n.info.opacity=e,n.eventEmitter.emit(le.annotationUpdated,[n],i,tn.opacityUpdated)),n.updateInfo(n.info),t}))}},{key:"getFillColor",value:function(){return(0,D._)((0,C._)(n.prototype),"getFillColor",this).call(this)}},{key:"setFillColor",value:function(e){var t=this;e=0===e?0:(0,U.colorConvertor)(e,"int");var n=this.getPDFPage(),i=n.getPDFDoc();return i.api.setRedactAnnotFillColor(i.getId(),n.getId(),this.getId(),e,this.info.onlyForFill).then((function(e){return e?t.update(tn.fillColorUpdated).then((function(){return t.eventEmitter.emit(le.annotationAppearanceUpdated,[t],n),e})):e}))}},{key:"getApplyFillColor",value:function(){return this.info.applyFillColor}},{key:"setRedactApplyFillColor",value:function(e){var t=this;this.checkModidyPerm(),e=(0,U.colorConvertor)(e,"int",1);var n=this.getPDFPage(),i=n.getPDFDoc();return this.page.doc.api.setRedactApplyFillColor(i.getId(),n.getId(),this.getId(),e).then((function(n){return n?t.update(tn.applyFillColorUpdated).then((function(){return t.info.applyFillColor=e,n})):n}))}},{key:"exportToJSON",value:function(){var e=(0,D._)((0,C._)(n.prototype),"exportToJSON",this).call(this);e["interior-color"]=(0,U.convertFromNumberToHex)(16777215&this.getApplyFillColor()),e.interiorColor=e["interior-color"];for(var t=this.info.quadPoints,i="",r=0;r<t.length;r++){var o=t[r];i+=o[0].x+","+o[0].y+",",i+=o[1].x+","+o[1].y+",",i+=o[2].x+","+o[2].y+",",i+=o[3].x+","+o[3].y+","}e.coords=i.substr(0,i.length-1),e["overlay-text"]=this.info.overlayText,e.overlayText=this.info.overlayText;var a="";this.info.fontName&&(a+="/"+this.info.fontName+" "),null!=this.info.defaultAppearance.textSize&&(a+=this.info.defaultAppearance.textSize+" Tf ");var A=(0,U.convertFromNumberToRGBA)(this.info.defaultAppearance.textColor);return a+=(A.r/255).toFixed(2)+" "+(A.g/255).toFixed(2)+" "+(A.b/255).toFixed(2)+" RG",e.defaultappearance=a,e.fontColor=(0,U.colorConvertor)(16777215&this.info.defaultAppearance.textColor,"#",0),e.justification=this.info.justification,e.repeat=this.info.isRepeat?"yes":"no",e}},{key:"getRedactionCode",value:function(){return this.info.overlayCode}},{key:"getRedactAppearance",value:function(){return this.info}},{key:"setRedactAppearance",value:function(e){var t=this,n=e.applyFillColor,i=e.isAutoFontSize,r=e.textColor,o=e.defaultAppearance,a=e.textSize,A=e.fontName,s=e.justification,c=e.isRepeat,u=e.overlayText,l=e.redactionCode;this.checkModidyPerm(),!r&&o&&(r=o.textColor),!a&&o&&(a=o.textSize),void 0!==n&&(n=(0,U.colorConvertor)(n,"int",1)),void 0!==r&&(r=(0,U.colorConvertor)(r,"int",1));var d=this.getPDFPage(),h=d.getPDFDoc(),f={applyFillColor:n,isAutoFontSize:i,textColor:r,textSize:a,fontName:A,overlayText:u,justification:s,isRepeat:c,redactionCode:l};return this.page.doc.api.setRedactAppearance(h.getId(),d.getId(),this.getId(),f).then((function(e){if(e){var o="";return void 0!==n&&(o=tn.fillColorUpdated),void 0===A&&void 0===r&&void 0===a&&void 0===u||(o=tn.redactDefaultAppearanceUpdated),void 0!==i&&(o=tn.autoFontSizeUpdated),void 0!==s&&(o=tn.overlayTexAlignmentUpdated),void 0!==l&&(t.info.overlayCode=l),void 0!==c&&(o=tn.repeatUpdated),void 0!==u&&(o=tn.overlayTextUpdated),o&&t.update(o).then((function(){return e}))}return e}))}}]),n}(Pm);const rk=ik;var ok=function(){function e(t){(0,_._)(this,e)}return(0,P._)(e,[{key:"get",value:function(e,t){switch(e.type){case zi.highlight:return new cw(e,t);case zi.squiggly:return new pw(e,t);case zi.strikeOut:return new lw(e,t);case zi.underline:return new hw(e,t);case zi.line:return new vw(e,t);case zi.polyLine:return new kw(e,t);case zi.polygon:return new _w(e,t);case zi.fileAttachment:return new Iw(e,t);case zi.text:return new Dw(e,t);case zi.circle:return new Cw(e,t);case zi.caret:return new Rw(e,t);case zi.freeText:return new Fw(e,t);case zi.ink:return new Vw(e,t);case zi.sound:return new zw(e,t);case zi.square:return new Tw(e,t);case zi.stamp:return new Nw(e,t);case zi.link:return new Bw(e,t);case zi.widget:return new ho(e,t);case zi.screen:return new Uw(e,t);case zi.popup:return new Ww(e,t);case zi.redact:return new rk(e,t);default:return new ln(e,t)}}}]),e}();const ak=ok;var Ak={0:{id:"0",name:"StandardID_e_StdIDCourier",isBold:!1,isItalic:!1},1:{id:"1",name:"StandardID_e_StdIDCourierB",isBold:!0,isItalic:!1},2:{id:"2",name:"StandardID_e_StdIDCourierBI",isBold:!0,isItalic:!0},3:{id:"3",name:"StandardID_e_StdIDCourierI",isBold:!1,isItalic:!0},4:{id:"4",name:"StandardID_e_StdIDHelvetica",isBold:!1,isItalic:!1},5:{id:"5",name:"StandardID_e_StdIDHelveticaB",isBold:!0,isItalic:!1},6:{id:"6",name:"StandardID_e_StdIDHelveticaBI",isBold:!0,isItalic:!0},7:{id:"7",name:"StandardID_e_StdIDHelveticaI",isBold:!1,isItalic:!0},8:{id:"8",name:"StandardID_e_StdIDTimes",isBold:!1,isItalic:!1},9:{id:"9",name:"StandardID_e_StdIDTimesB",isBold:!0,isItalic:!1},10:{id:"10",name:"StandardID_e_StdIDTimesBI",isBold:!0,isItalic:!0},11:{id:"11",name:"StandardID_e_StdIDTimesI",isBold:!1,isItalic:!0},12:{id:"12",name:"StandardID_e_StdIDSymbol",isBold:!1,isItalic:!1},13:{id:"13",name:"StandardID_e_StdIDZapfDingbats",isBold:!1,isItalic:!1}},sk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){return(0,_._)(this,n),t.call(this,e,i,r)}return(0,P._)(n,[{key:"put",value:function(e){}},{key:"isBold",value:function(){var e=this.info.textState.font;if(e.isStandard){if(Ak[e.standardId])return Ak[e.standardId].isBold;console.warn("No configuration found for standard font: ",e)}return e.isBold||262144==(262144&e.styles)}},{key:"isItalic",value:function(){var e=this.info.textState.font;if(e.isStandard){if(Ak[e.standardId])return Ak[e.standardId].isItalic;console.warn("No configuration found for standard font: ",e)}return e.isItalic||64==(64&e.styles)}},{key:"getText",value:function(){return this.info.textState.text}},{key:"getFontInfo",value:function(){return this.info.textState.font}},{key:"setText",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");if(this.getText()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectChar(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setItalic",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");if(this.isItalic()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectItalic(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setBold",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");if(this.isBold()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectBold(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"getFontSize",value:function(){return this.info.textState.size}},{key:"setFontSize",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");if(this.getFontSize()===e)return Promise.resolve();var n=this.getPDFPage();return n.doc.api.setTextObjectFontSize(n.getPDFDoc().getId(),n.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setStandardFont",value:function(e){var t=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.info.textState.font;if(!n||n.isStandard&&e===n.stardardId)return Promise.resolve();var i=this.getPDFPage();return i.doc.api.setTextObjectStandardFont(i.getPDFDoc().getId(),i.getId(),this.getId(),e).then((function(e){t.afterUpdated(e)}))}},{key:"setFontByName",value:function(e,t,n){var i=this;if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");if(!this.info.textState.font)return Promise.resolve();var r=this.getPDFPage();return r.doc.api.setTextObjectFontByName(r.getPDFDoc().getId(),r.getId(),this.getId(),e,t,n).then((function(e){i.afterUpdated(e)}))}},{key:"getWoff",value:function(){var e=this.getPDFPage();return e.doc.api.getTextObjectWoff(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),n}(hy);const ck=sk;var uk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){return(0,_._)(this,n),t.call(this,e,i,r)}return(0,P._)(n,[{key:"getFillMode",value:function(){return this.info.fillMode}},{key:"setBorderColor",value:function(e){if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");return this.info.needStroke=0!==e,(0,D._)((0,C._)(n.prototype),"setBorderColor",this).call(this,e)}},{key:"getPathPoints",value:function(){return this.info.path}},{key:"needStroke",value:function(){return this.info.needStroke}}]),n}(hy),lk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){return(0,_._)(this,n),t.call(this,e,i,r)}return(0,P._)(n,[{key:"setRotation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!t)return Promise.resolve(this.info);if(!this.doc.checkPermission(en.modify))throw new Error("Permission error");var n=this.getPDFPage();return n.doc.api.setImageObjectRotation(n.getPDFDoc().getId(),n.getId(),this.getId(),t).then((function(t){return e.afterUpdated(t)}))}},{key:"getStream",value:function(){var e=this.getPDFPage();return e.doc.api.getImageObjectStream(e.getPDFDoc().getId(),e.getId(),this.getId())}}]),n}(hy),dk=function(){function e(t){(0,_._)(this,e),this.engine=t}return(0,P._)(e,[{key:"get",value:function(e,t){if(!e)return null;var n=this.engine;switch(e.type){case 1:return new ck(e,t,n);case 2:return new uk(e,t,n);case 3:return new lk(e,t,n);case void 0:return null;default:return new hy(e,t,n)}}}]),e}(),hk="foxit-default-annot-prop",fk=function(){function e(t,n,i){(0,_._)(this,e),this.api=new Py.Z(t),this.storage=i.storage,this.annotManager=new ak,this.actionFactory=ao,this.graphicsObjectManager=new dk(this),this.eventEmitter=n,this.userName=null,this.userConfig={},this.pdfDocCacheMap=new Map,this.defaultAnnotConfig=function(){}}return(0,P._)(e,[{key:"init",value:function(){return this.api.init().catch((function(e){return Promise.reject(e.error)}))}},{key:"setIcons",value:function(e){return this.api.setIcons(e)}},{key:"addIcon",value:function(e){return this.api.addIcon(e)}},{key:"removeIcon",value:function(e,t,n){return this.api.removeIcon(e,t,n)}},{key:"removePDFDocById",value:function(e){if(this.pdfDocCacheMap.has(e)){var t=this.pdfDocCacheMap.get(e);t&&(this.pdfDocCacheMap.delete(e),t.destroy())}}},{key:"createPDFDocById",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pdfDocCacheMap.has(e)?t=this.pdfDocCacheMap.get(e):(t=new Aw(e,this,n),this.pdfDocCacheMap.set(e,t)),t}},{key:"getPDFDocByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.fileName=n.fileName||e.name||"",this.api.getPDFDocIdByFile(e,{jwt:n.jwt,ReadBlockOption:n.ReadBlockOption}).then((function(e){return t.createPDFDocById(e,n)}))}},{key:"checkCertificatePassword",value:function(e,t){return this.api.checkCertificatePassword(e,t)}},{key:"getCertificateInfo",value:function(e,t){return this.api.getCertificateInfo(e,t)}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595};return this.api.createNewDoc(t,n,i).then((function(n){return e.getPDFDocByFile(n,{fileName:t})})).then((function(e){return e.parse({password:""})}))}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.api.createNewPortfolioDoc(e,t,i).then((function(e){return n.getPDFDocByFile(e,{fileName:i})})).then((function(e){return e.parse({password:""})}))}},{key:"getPDFDocByChunk",value:function(e,t,n){var i=this;return this.api.getPDFDocIdByChunk(e,t).then((function(e){return i.createPDFDocById(e,n)}))}},{key:"getPDFDocByHttpRangeRequest",value:function(e,t){var n=this;return this.api.getPDFDocIdByHttpRangeRequest(e,{jwt:t.jwt}).then((function(e){return n.createPDFDocById(e,t)}))}},{key:"getPDFDocByArrayBuffer",value:function(e,t){var n=this;return this.api.getPDFDocIdByArrayBuffer(e).then((function(e){return n.createPDFDocById(e,t)}))}},{key:"getPDFDocByCacheId",value:function(e,t){return this.pdfDocCacheMap.has(e)?Promise.resolve(this.pdfDocCacheMap.get(e)):this.getPDFDocById(e,t)}},{key:"getPDFDocById",value:function(e,t){return Promise.resolve(this.createPDFDocById(e,t))}},{key:"setUserConfig",value:function(e){this.userConfig=e||{}}},{key:"getUserConfig",value:function(){return this.userConfig}},{key:"getUserCommentConfig",value:function(){return this.userConfig.commentPreference||{}}},{key:"setUserName",value:function(e){var t=this;return this.api.setUserName(e).then((function(n){t.userName=e}))}},{key:"getUserName",value:function(){var e=this;return this.userName?Promise.resolve(this.userName):this.api.getUserName().then((function(t){return e.userName=t,t}))}},{key:"setDynamicInfoFormula",value:function(e,t){return this.api.setDynamicInfoFormula(e,t)}},{key:"getDynamicInfoFormula",value:function(){return this.api.getDynamicInfoFormula()}},{key:"setDigitalTimeFormat",value:function(e){return this.api.setDigitalTimeFormat(e)}},{key:"setDigitalInfo",value:function(e){return this.api.setDigitalInfo(e)}},{key:"getUtils",value:function(){return a}},{key:"getDefaultAnnotConfig",value:function(){var e=this;return function(t,n){var i=e.defaultAnnotConfig(t,n),r=e.getAnnotDefaultProperty(t,n);return(0,U.extendOptions)({},i,r)}}},{key:"setDefaultAnnotConfig",value:function(e){this.defaultAnnotConfig=e}},{key:"initADPs",value:function(){return this.ADPs||(this.ADPs=this.storage.getItem(hk)||{}),this.ADPs}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.initADPs(),this.ADPs[e+t]||{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.initADPs(),Object.assign(this.ADPs,(0,X._)({},e+t,n)),this.storage.setItem(hk,this.ADPs)}},{key:"setTabOrder",value:function(e,t,n){return this.api.setTabOrder(e,t,n)}},{key:"getTabOrder",value:function(e,t){return this.api.getTabOrder(e,t)}},{key:"setStructureOrder",value:function(e,t,n){return this.api.setStructureOrder(e,t,n)}},{key:"getAllModuleLicenseRight",value:function(){return this.api.getAllModuleLicenseRight().then((function(e){return e}))}},{key:"getPDFDocFromImageFile",value:function(e){var t,n,i,r,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.fileName=a.fileName||e.name||"",this.api.getPDFDocFromImageFile(e).then((function(e){var t=e.docId;return n=e.width,i=e.height,r=e.buffer,o.createPDFDocById(t,a).parse({password:""})})).then((function(e){return t=e,e.getPageByIndex(0)})).then((function(e){return e.addImage(r,{left:0,top:i,right:n,bottom:0})})).then((function(e){if(e)return t;throw new Error("faied to insert image")})).catch((function(e){return e&&console.error(e),Promise.reject(e)}))}},{key:"ensureSideModeLoaded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"openssl";return this.api.ensureSideModeLoaded(e)}}]),e}();const pk=fk;var gk,vk=n(1551),mk=n.n(vk),yk=function(){function e(){(0,_._)(this,e),this.container=document.createElement("div"),this.printArea=new(mk())(this.container),this.imageCache=[]}return(0,P._)(e,[{key:"appendImage",value:function(e){return this.imageCache.push(this.createImageDOM(this.imageCache.length,e))}},{key:"getImageCache",value:function(){return this.imageCache}},{key:"clearImageCache",value:function(){this.imageCache=[]}},{key:"createImageDOM",value:function(e,t){var n=document.createElement("div");n.setAttribute("data-index",e),n.style.cssText="width: 100%;height: 100%; page-break-after: always;";var i=document.createElement("img");i.style.cssText="max-width: 100%; max-height: 100%;";var r=new Promise((function(e,t){i.onload=function(){e(n)},i.onerror=function(){t(n)}}));return i.src=t,n.appendChild(i),r}},{key:"print",value:function(e,t,n){var i=this;U.isIE&&e&&function(){var e="HKEY_CURRENT_USER",t="\\Software\\Microsoft Internet Explorer\\PageSetup ";try{var n,i=new ActiveXObject("WScript.Shell");n="header",i.RegWrite(e+t+n,""),n="footer",i.RegWrite(e+t+n,"")}catch(e){console.error(e)}}(),(t||this.imageCache).reduce((function(e,t){return e.then((function(){return t})).then((function(e){e&&i.container.appendChild(e)}))}),Promise.resolve()).then((function(){i.imageCache=[],i.printArea.getHead=function(){return"\n                <head>\n                <style>\n                    *{ margin: 0; padding: 0; }\n                </style>\n                ".concat(e?'\n                    <style type="text/css" media="print">\n                        @page {\n                            /* hide header and footer */\n                            size: auto;\n                            margin: 0;\n                        }\n                        a[href]:after { content: none !important; }\n                        img[src]:after { content: none !important; }\n                    </style>\n                ':"","\n                </head>\n            ")},i.printArea.print(),i.container.innerHTML=""}))}}]),e}();function bk(e,t){var n,i=(0,R._)(e.data.annots);if(t.action===yo.REMOVE_ANNOT){for(var r=t.data.slice(0),o=0;o<r.length;){for(var a=r[o],A=a.annotId,s=a.pageIndex,c=!1,u=0;u<i.length;){var l=i[u];l.name===A&&l.page===s?(i.splice(u,1),c=!0):u++}c?r.splice(o,1):o++}var d=[];return i.length>0&&d.push({version:Math.min(e.version,t.version),fileId:e.fileId,action:yo.UPDATE_ANNOT,data:{annots:i}}),r.length>0&&d.push({version:Math.max(e.version,t.version),fileId:e.fileId,action:t.action,data:r}),d}return(n=i).push.apply(n,(0,R._)(t.data.annots)),[{version:Math.max(e.version,t.version),fileId:e.fileId,action:yo.UPDATE_ANNOT,format:e.format,data:{annots:i}}]}function wk(e){var t=e;return!(t.action!==yo.UPDATE_ANNOT&&t.action!==yo.CREATE_ANNOT||t.format&&t.format!==gk.json)}function kk(e){return e.action===yo.REMOVE_ANNOT}!function(e){e.json="json",e.fdf="fdf"}(gk||(gk={}));var xk=n(8490);var _k=n(548);function Pk(e){var t="function"==typeof Map?new Map:void 0;return Pk=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return(0,xk.L)(e,arguments,(0,C.X)(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,_k.b)(i,e)},Pk(e)}var Dk,Ck=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).name="CollaborationDataError",i}return n}(Pk(Error)),Sk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,'No handler found for collaboration action: "'.concat(e.action,'", that will be ignored!'))).name="NoHandlerFoundForCollaborationDataError",i}return n}(Pk(Error)),Ik=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),(e=t.call(this,"No files area currently open, cannot handling the received collaboration data")).name="PDFDocumentNotOpeningError",e}return n}(Pk(Error)),Ek=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"handler",void 0),this.handler=t.reduce((function(e,t){return new Rk(t,e)}))}return(0,P._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,t)}}]),e}(),Rk=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"handler",void 0),(0,X._)(this,"prevHandler",void 0),this.handler=t,this.prevHandler=n}return(0,P._)(e,[{key:"accept",value:function(e){return Promise.resolve(!0)}},{key:"receive",value:function(e,t){return this.handler.receive(e,this.prevHandler||t)}}]),e}();function Tk(e){var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(t.result)},t.onerror=i,t.readAsDataURL(e)}))}function Mk(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,o=new Uint8Array(r);r--;)o[r]=i.charCodeAt(r);return new Blob([o],{type:n})}!function(e){e.FROM_FILE="from-file",e.FROM_URL="from-url"}(Dk||(Dk={}));var Fk=U.LoggerFactory.getLogger("Collaboration");function Lk(e,t){return e<15}var Nk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;(0,_._)(this,n),r=t.call(this),(0,X._)((0,k._)(r),"pdfViewer",void 0),(0,X._)((0,k._)(r),"builtInHandlerInstances",void 0),(0,X._)((0,k._)(r),"userHandlerInstances",void 0),(0,X._)((0,k._)(r),"version",void 0),(0,X._)((0,k._)(r),"queuedExecutor",void 0),(0,X._)((0,k._)(r),"sessionDefer",void 0),(0,X._)((0,k._)(r),"isOpenedFromOtherClient",void 0),(0,X._)((0,k._)(r),"localDataOnDisconnected",void 0),(0,X._)((0,k._)(r),"communicator",void 0),(0,X._)((0,k._)(r),"continueToConnect",void 0),(0,X._)((0,k._)(r),"annotationDataFormat",void 0),r.pdfViewer=e,r.builtInHandlerInstances=[],r.userHandlerInstances=[],r.version=0,r.queuedExecutor=new U.QueuedAsyncTaskExecutor,r.sessionDefer=(0,U.createDeferred)(),r.isOpenedFromOtherClient=!1,r.localDataOnDisconnected=[],r.communicator=i.communicator,r.annotationDataFormat=i.annotationFormat||"json",r.continueToConnect=i.continueToConnect||Lk;var o=i.handlerClasses;return Array.isArray(o)&&o.forEach((function(e){r.registerUserHandler(e)})),r}return(0,P._)(n,[{key:"registerBuiltInHandler",value:function(e){this.builtInHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerUserHandler",value:function(e){this.userHandlerInstances.push(new e(this.pdfViewer))}},{key:"registerCollabDataHandler",value:function(e,t){if("function"==typeof e){if(!e.prototype.accept||!e.prototype.receive)throw new Error("Illegal collaboration data handler: "+e);this.registerUserHandler(e)}else"string"==typeof e&&"function"==typeof t&&this.registerUserHandler(function(){function n(){(0,_._)(this,n)}return(0,P._)(n,[{key:"accept",value:function(t){return Promise.resolve(t.action===e)}},{key:"receive",value:function(e,n){return t.call(this,e,(function(e){return n?n.receive(e):Promise.resolve()}))}}]),n}())}},{key:"prepare",value:function(){var e=this;this.communicator.registerMessageReceiver((function(t){e.queuedExecutor.exec((function(){return e.handleServerMessage(t)}))}));var t=function(t){e.collaborateAddAnnotation(t)},n={},i=function(e){var t,i=e.annot;"link"!==i.info.type&&"screen"!==i.info.type&&(t=i.isGrouped&&i.isGrouped()?i.getGroupElements():[i],n[i.getId()]={action:yo.REMOVE_ANNOT,data:t.map((function(e){return{annotId:e.getUniqueID(),pageIndex:e.getPDFPage().getIndex()}}))})},r=function(t,i){var r=i.getId(),o=n[r];o&&e.send(o),delete n[r]},o=function(t){var n=t.annot;e.collaborateUpadteAnnotation(n)},a=function(t,n){e.shareAndSyncCurrentFile(t,n)},A=function(){e.isOpenedFromOtherClient=!1,e.version=0,e.communicator.disconnect(),e.sessionDefer=(0,U.createDeferred)()},s=function(e){e.normalize()},c=this.pdfViewer.eventEmitter;c.on(de.addAnnotSuccess,t),c.on(de.removeActionAnnotationBefore,i),c.on(de.removeActiveAnnotationSuccess,r),c.on(de.updateActiveAnnotation,o),c.on(de.openFileSuccess,a),c.on(de.willCloseDocument,A),c.on(de.obtainsPageFromEngine,s),this.addDestroyHook((function(){c.off(de.addAnnotSuccess,t),c.off(de.removeActionAnnotationBefore,i),c.off(de.removeActiveAnnotationSuccess,r),c.off(de.updateActiveAnnotation,o),c.off(de.openFileSuccess,a),c.off(de.willCloseDocument,A),c.off(de.obtainsPageFromEngine,s)}))}},{key:"shareAndSyncCurrentFile",value:function(e,t){var n=this;return this.isOpenedFromOtherClient?this.sessionDefer.promise.then((function(t){return n.sync().then((function(){return n.communicator.connect(t.shareId),e}))})):(delete t.options.password,this.communicator.createSession(e,t).then((function(e){return n.sessionDefer.resolve({shareId:e,openFileParams:t}),n.communicator.connect(e)})).then((function(){return n.sync()})))}},{key:"collaborateUpadteAnnotation",value:function(e){var t,n=this;if(t=(t=e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type})),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then((function(e){n.send({action:yo.UPDATE_ANNOT,format:gk.json,data:{annots:e}})}));else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?ct.xfdf:ct.fdf,t).then((function(e){return Tk(e)})).then((function(e){n.send({action:yo.UPDATE_ANNOT,format:gk.fdf,data:{fdf:e,annots:t.map((function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}}))}})}))}}},{key:"collaborateAddAnnotation",value:function(e){var t,n=this;if(t=(t="function"==typeof e.isGrouped&&e.isGrouped()?e.getGroupElements():[e]).filter((function(e){return"screen"!==e.info.type&&"link"!==e.info.type})),0!==t.length)if("json"===this.annotationDataFormat)e.page.doc.exportAnnotsToJSON(t).then((function(e){n.send({action:yo.CREATE_ANNOT,data:{annots:e}})}));else{var i="xfdf"===this.annotationDataFormat;e.page.doc.exportAnnotsToFDF(i?ct.xfdf:ct.fdf,t).then((function(e){return Tk(e)})).then((function(e){n.send({action:yo.CREATE_ANNOT,format:gk.fdf,data:{fdf:e,annots:t.map((function(e){return{page:e.page.getIndex(),id:e.getUniqueID()}}))}})}))}}},{key:"getSessionInfo",value:function(){return this.sessionDefer.promise}},{key:"getShareId",value:function(){return this.sessionDefer.promise.then((function(e){return e.shareId}))}},{key:"send",value:function(e){var t=this;return this.communicator?this.queuedExecutor.exec((function(){return t.reconnectIfNecessary().then((function(){return t.sessionDefer.promise})).then((function(e){return t.localDataOnDisconnected.length>0?t.sync().then((function(){return e})):e})).then((function(n){var i=t.localDataOnDisconnected.concat(e).map((function(e){var i=t.pdfViewer.getCurrentPDFDoc(),r=(0,w._)((0,b._)({},e),{version:++t.version,fileId:i.info.fileID});return t.communicator.send(n,JSON.stringify(r))}));return t.localDataOnDisconnected.length=0,Promise.all(i)}),(function(n){return t.localDataOnDisconnected.push(e),Promise.reject(n)}))})):Re}},{key:"openFileByShareId",value:function(e){var t,n=this;return this.communicator.getSessionInfo(e).then((t=(0,x._)((function(e){var t,i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:if(!e)throw(t=new Error("Unexpected session info for opening file: "+JSON.stringify(e))).error=Xe.collaborationSession,t;switch(n.sessionDefer.resolve(e),(i=e.openFileParams).type){case Dk.FROM_FILE:return[3,1];case Dk.FROM_URL:return[3,3]}return[3,4];case 1:return n.isOpenedFromOtherClient=!0,[4,i.file()];case 2:return r=a.sent(),[2,n.pdfViewer.openPDFByFile(r,i.options||{})];case 3:return n.isOpenedFromOtherClient=!0,[2,n.pdfViewer.openPDFByHttpRangeRequest({range:i.range,size:i.size},i.options)];case 4:throw(o=new Error("Unexpected session info for opening file:"+JSON.stringify(i))).error=Xe.collaborationSession,o;case 5:return[2]}}))})),function(e){return t.apply(this,arguments)}))}},{key:"destroy",value:function(){(0,D._)((0,C._)(n.prototype),"destroy",this).call(this),this.communicator.destroy()}},{key:"reconnectIfNecessary",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(n){if(!e.continueToConnect(t,n))throw new Error("Failed to reconnect to the collaboration server");return e.reconnectIfNecessary(t+1)};return this.communicator.isConnected().then((function(t){return!!t||e.sessionDefer.promise.then((function(t){var i=t.shareId;return e.communicator.connect(i).then((function(){return e.communicator.isConnected()})).then((function(e){if(!e)return n(i)}),(function(e){return U.LoggerFactory.getLogger("COLLABORATION").error("An error occurred while connect to the collaboration server",e),n(i)}))}))}))}},{key:"sync",value:function(){var e=this;return this.sessionDefer.promise.then((function(t){var n=t.shareId;return e.communicator.getLostData(n,e.version)})).then((function(t){if(t&&0!==t.length)return e.version=t[t.length-1].version,function(e){if(e.length<1)return e;for(var t=[e[0]],n=1,i=e.length;n<i;n++){var r,o=t[t.length-1],a=e[n];wk(o)&&(wk(a)||kk(a))?((r=t).splice.apply(r,[t.length-1,1].concat((0,R._)(bk(o,a)))),0===t.length&&(n<i-1&&t.push(e[n+1]),n++)):t.push(a)}return t.forEach((function(e){e.action===yo.UPDATE_ANNOT&&(e.data.annots=e.data.annots.reduceRight((function(e,t){var n=e.findIndex((function(e){return e.name===t.name}));return-1===n&&e.push(t),e}),[]))})),t}(t).reduce((function(t,n){return e.findHandler(n).then((function(e){var i=(0,E._)(e,2),r=i[0],o=i[1];return r?t.finally((function(){return r.receive(n,o)})):(Fk.warn(new Sk(n)),t)}))}),Re)}))}},{key:"findHandlerAsync",value:function(e,t,n){var i=function(e,t,r){return r>=e.length?Promise.resolve(void 0):e[r].accept(t).then((function(o){if(o&&n(e[r]))return;return i(e,t,r+1)}))};return i(e,t,0)}},{key:"findFirstHandlerAsync",value:function(e,t){var n=(0,U.createDeferred)();return this.findHandlerAsync(e,t,(function(e){return n.resolve(e),!0})),n.promise}},{key:"findAllMatchHandlersAsync",value:function(e,t){var n=[];return this.findHandlerAsync(e,t,(function(e){return n.push(e),!1})).then((function(){return n}))}},{key:"findHandler",value:function(e){var t=this;return this.findAllMatchHandlersAsync(this.userHandlerInstances,e).then((function(n){return t.findFirstHandlerAsync(t.builtInHandlerInstances,e).then((function(e){switch(n.length){case 0:return[e,e];case 1:return[n[0],e]}return[new Ek(n),e]}))}))}},{key:"handleServerMessage",value:function(e){var t=this,n=this.pdfViewer.getCurrentPDFDoc();if(!n)throw new Ik;var i=n.info.fileID,r=JSON.parse(e);if(!this.isSameFileID(r.fileId,i))throw new Ck("File id not match! remote: ".concat(r.fileId,", local: ").concat(i));return this.findHandler(r).then((function(n){var i=(0,E._)(n,2),o=i[0],a=i[1];if(o)return r.version-t.version!=1?t.sync():(t.version=r.version,o.receive(r,a));throw new Ck("No handler found for the collaboration data: "+e)}))}},{key:"isSameFileID",value:function(e,t){return e.length===t.length&&!e.some((function(e){return-1===t.indexOf(e)}))}}]),n}(U.Disposable),Ok=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"action",void 0),this.action=t}return(0,P._)(e,[{key:"accept",value:function(e){return Promise.resolve(e.action===this.action)}}]),e}(),Bk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.CREATE_ANNOT),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===gk.fdf}(e)){var r=Mk(e.data.fdf);return i.importAnnotsFromFDF(r).then((function(){e.data.annots.forEach((function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);r&&r.redraw(!1,!0)}))}))}var o=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return i.importAnnotsFromJSON(o)}}]),n}(Ok);var jk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.REMOVE_ANNOT),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all(e.data.map((function(e){return n.getPageByIndex(e.pageIndex).then((function(t){return"string"==typeof e.annotId?t.removeAnnotById(e.annotId):t.removeAnnotByObjectNumber(e.annotId)}))}))).then(Gi)}}]),n}(Ok),Vk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.UPDATE_ANNOT),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc();if(function(e){return e.format===gk.fdf}(e)){var r=Mk(e.data.fdf);return i.importAnnotsFromFDF(r).then((function(){e.data.annots.forEach((function(e){var t=e.page,i=e.id,r=n.pdfViewer.getAnnotRender(t,i);if(r){r.redraw(!1,!0);var o=r.component;o&&o.isActive&&o.active()}}))}))}var o=e.data.annots.filter((function(e){return"link"!==e.type&&"screen"!==e.type}));return i.importAnnotsFromJSON(o).then((function(e){o.forEach((function(e){var t=n.pdfViewer.getAnnotRender(e.page,e.name);if(t){t.redraw(!1,!0);var i=t.component;i&&i.isActive&&i.active()}}))}))}}]),n}(Ok);var Uk,Hk,zk,Wk,Yk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.PPO_INSERT_PAGE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.width,a=i.height;return n.insertPage(r,o,a)}}]),n}(Ok),Gk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.PPO_REMOVE_PAGE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePage(e.data.pageIndex)}}]),n}(Ok),$k=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.PPO_ROTATE_PAGE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=Math.floor((e.data.angle%360+360)%360/90)%4;return n.getPageByIndex(e.data.pageIndex).then((function(e){return e.setRotation(i)}))}}]),n}(Ok),Kk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.PPO_MOVE_PAGE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this,i=this.pdfViewer.getCurrentPDFDoc(),r=e.data,o=r.sourceIndex,a=r.destIndex;return i.movePageTo(o,a).then((function(){n.pdfViewer.goToPage(a,0,0,!1)}))}}]),n}(Ok),qk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.ADD_REPLY),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.reply;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,E._)(e,1)[0];if(t)return t.addReply(o)}))}}]),n}(Ok),Jk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.REMOVE_REPLY),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc(),i=e.data,r=i.pageIndex,o=i.replyId;return n.getPageByIndex(r).then((function(e){return"string"==typeof o?e.removeAnnotById(o):e.removeAnnotByObjectNumber(o)}))}}]),n}(Ok),Xk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.ADD_REVIEW_STATE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,E._)(e,1)[0];if(t)return t.addReviewState(o)}))}}]),n}(Ok),Qk=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.UPDATE_ANNOT_CONTENT),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.content;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return"string"==typeof r?e.getAnnotsByIdArray([r]):e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,E._)(e,1)[0];if(t)return t.setContent(o)}))}}]),n}(Ok),Zk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,_._)(this,e),(0,X._)(this,"permissions",void 0),(0,X._)(this,"noPermission",void 0),this.permissions=t,this.noPermission=n}return(0,P._)(e,[{key:"has",value:function(e){return!this.noPermission&&(0===this.permissions.length||(this.permissions.indexOf(ld.fully)>-1||this.permissions.indexOf(e)>-1))}},{key:"ignorable",value:function(){return!this.noPermission&&0===this.permissions.length}},{key:"isModifiable",value:function(){return this.has(ld.modifiable)}},{key:"isPlayable",value:function(){return this.has(ld.playable)}},{key:"isAdjustable",value:function(){return this.has(ld.adjustable)}},{key:"isEditable",value:function(){return this.has(ld.editable)}},{key:"isDeletable",value:function(){return this.has(ld.deletable)}},{key:"isAttachmentDownloadable",value:function(){return this.has(ld.attachmentDownloadable)}},{key:"isRedactionApplicable",value:function(){return!0}},{key:"isReplyable",value:function(){return this.has(ld.replyable)}},{key:"equalsTo",value:function(t){if(!t||!(0,I._)(t,e))return!1;var n=this.permissions,i=t.permissions;return n.length===i.length&&(this.noPermission===t.noPermission&&!n.some((function(e){return-1===i.indexOf(e)})))}}],[{key:"fully",value:function(){return Uk||(Uk=new e([ld.fully])),Uk}},{key:"ignorable",value:function(){return Hk||(Hk=new e([])),Hk}},{key:"none",value:function(){return zk||(zk=new e([],!0)),zk}},{key:"union",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.every((function(e){return e.ignorable()})))return e.ignorable();if(n.some((function(e){return e.noPermission})))return e.none();var r=Array.from(new Set(n.map((function(e){return e.permissions})).flat())).filter((function(e){return n.every((function(t){return t.has(e)}))}));return new e(r)}}]),e}(),ex=U.LoggerFactory.getLogger("AnnotationAuthorityManager"),tx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i){var r;(0,_._)(this,n),r=t.call(this),(0,X._)((0,k._)(r),"pdfViewer",void 0),(0,X._)((0,k._)(r),"getAnnotPermissionCallback",void 0),(0,X._)((0,k._)(r),"store",void 0),(0,X._)((0,k._)(r),"cachedAnnots",void 0),(0,X._)((0,k._)(r),"isUpdateAllAfterImport",void 0),r.pdfViewer=e,r.getAnnotPermissionCallback=i,r.store=new U.Store,r.cachedAnnots={},r.isUpdateAllAfterImport=!1;var o=function(e){Array.isArray(e)&&e.length>0&&e.forEach((function(e){var t=r.generateKey(e);delete r.cachedAnnots[t]}))},a=function(e){e.forEach((function(e){return r.update(e)}))},A=function(e){r.update(e)},s=function(e,t){r.isUpdateAllAfterImport?r.updateAll():t.forEach((function(e){e.newAnnots.forEach((function(e){return r.update(e)}))}))},c=function(e,t,n){t.forEach((function(e){r.update(e)}))},u=function(e){e.forEach((function(e){r.update(e)}))};return e.eventEmitter.on(de.annotationRemoved,o),e.eventEmitter.on(de.annotationAdd,a),e.eventEmitter.on(de.annotationImported,s),e.eventEmitter.on(de.annotationLoaded,c),e.eventEmitter.on(de.annotationReplyAdd,A),e.eventEmitter.on(de.annotationUpdated,u),r.addDestroyHook((function(){e.eventEmitter.off(de.annotationRemoved,o),e.eventEmitter.off(de.annotationAdd,a),e.eventEmitter.off(de.annotationImported,s),e.eventEmitter.off(de.annotationLoaded,c),e.eventEmitter.off(de.annotationReplyAdd,A),e.eventEmitter.on(de.annotationUpdated,u),r.clear(),r.store.destroy()})),r}return(0,P._)(n,[{key:"getPermission",value:function(e){if(!e.page||e.isDestroyed)return Promise.resolve(Zk.none());var t=this.generateKey(e);return this.store.has(t)||this.update(e),this.store.takeWhile(t)}},{key:"update",value:function(e){var t=this;if(!e||e.isDestroyed)return Promise.resolve(Zk.none());var n=this.generateKey(e);if(e.isDeleted()){var i=Promise.resolve(Zk.ignorable());return this.store.dispatch(n,i),delete this.cachedAnnots[n],i}var r=this.store.getCurrentValue(n)||Re,o=(this.getAnnotPermissionCallback(e)||Re).then((function(n){var i;return i=n?0===n.length?Zk.none():new Zk(n):Zk.ignorable(),r.then((function(n){if(!i.equalsTo(n))try{t.pdfViewer.eventEmitter.emit(de.annotationPermissionChanged,e,i,n)}catch(e){ex.error("An error occurred inside the listener of ViewerEvents.annotationPermissionChanged",e)}})),i}));return this.store.dispatch(n,o),this.cachedAnnots[n]=e,o}},{key:"setAnnotPermissionCallback",value:function(e){this.getAnnotPermissionCallback=e}},{key:"subscribe",value:function(e,t){var n=this.generateKey(e);return this.store.subscribe(n,(function(n){n.then((function(n){t(n,e)}))}))}},{key:"updateAll",value:function(){var e=this;return Promise.all(Object.keys(this.cachedAnnots).filter((function(t){var n=e.cachedAnnots[t].isDeleted();return n&&delete e.cachedAnnots[t],!n})).map((function(t){return e.update(e.cachedAnnots[t])})))}},{key:"generateKey",value:function(e){return"".concat(e.page.getId(),"/").concat(e.getId())}},{key:"clear",value:function(){this.store.clear(),this.cachedAnnots={}}},{key:"setUpdateAllAfterImported",value:function(e){this.isUpdateAllAfterImport=e}}]),n}(U.Disposable),nx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.MOVE_ANNOTS_BETWEEN_PAGES),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=this.pdfViewer.getCurrentPDFDoc();return Promise.all([n.getPageByIndex(e.data.fromPageIndex),n.getPageByIndex(e.data.toPageIndex)]).then((function(t){var i=(0,E._)(t,2),r=i[0],o=i[1],a=e.data.annots,A=Object.keys(a);return r.getAnnotsByIdArray(A).then((function(e){var t=e.reduce((function(e,t){return e[t.getObjectNumber()]=a[t.getUniqueID()],e}),{});return n.moveAnnotsToPage(r,o,t)}))}))}}]),n}(Ok),ix=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.ADD_MARKED_STATE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){var n=e.data,i=n.pageIndex,r=n.annotId,o=n.stateAnnotJSON;return this.pdfViewer.getCurrentPDFDoc().getPageByIndex(i).then((function(e){return e.getAnnotsByObjectNumArray([r])})).then((function(e){var t=(0,E._)(e,1)[0];if(t)return t.addMarkedState(o)}))}}]),n}(Ok),rx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.IMPORT_ANNOTATIONS_FILE),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){for(var n=e.data.file,i=atob(n),r=new Uint8Array(new ArrayBuffer(i.length)),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return this.pdfViewer.getCurrentPDFDoc().importAnnotsFromFDF(r)}}]),n}(Ok),ox=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"set",value:function(e){(0,D._)((0,C._)(n.prototype),"dispatch",this).call(this,"change",e)}},{key:"get",value:function(){return(0,D._)((0,C._)(n.prototype),"getCurrentValue",this).call(this,"change")}},{key:"onchange",value:function(e){return(0,D._)((0,C._)(n.prototype),"subscribe",this).call(this,"change",(function(t){e(t)}))}}]),n}(U.Store);!function(e){e.playing="playing",e.paused="paused",e.stopped="stopped"}(Wk||(Wk={}));var ax=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.call(this),(0,X._)((0,k._)(e),"status",Wk.stopped),(0,X._)((0,k._)(e),"currentPlayingOptions",void 0),(0,X._)((0,k._)(e),"statusStore",new ox),e}return(0,P._)(n,[{key:"pause",value:function(){this.status===Wk.playing&&(this.status=Wk.paused,this.statusStore.set(this.status),this.doPause())}},{key:"resume",value:function(){this.status===Wk.paused&&(this.status=Wk.playing,this.statusStore.set(this.status),this.doResume())}},{key:"stop",value:function(){this.status!==Wk.stopped&&(this.status=Wk.stopped,this.statusStore.set(this.status),this.currentPlayingOptions=void 0,this.doStop())}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{rate:1,pitch:1,volume:1};this.currentPlayingOptions=n,this.status=Wk.playing,this.statusStore.set(this.status);var i,r,o=[],a=new U.QueuedAsyncTaskExecutor,A=new U.QueuedAsyncTaskExecutor,s=!1,c=!1,u=this.statusStore.onchange((function(e){(c=e===Wk.stopped)&&(clearTimeout(r),a.cancel(),A.cancel(),u&&u())})),l=!0,d=!1,h=void 0;try{for(var f,p=function(){var e=f.value;a.exec((function(){if(!c)return e.then((function(e){var t;if(!c){var n=e.text.split(" ");if(0===n.length){if(!i)return;n[0]=i,i=void 0}else i&&("-"===i[i.length-1]?n[0]=i.substr(0,i.length-1)+n[0]:n.unshift(i),i=void 0);i=n[n.length-1],n.splice(-1,1),(t=o).push.apply(t,(0,R._)(n))}}))}))},g=e[Symbol.iterator]();!(l=(f=g.next()).done);l=!0)p()}catch(e){d=!0,h=e}finally{try{l||null==g.return||g.return()}finally{if(d)throw h}}return a.waitForCurrentRunningTasks().then((function(){s=!0,i&&(o.push(i),i=void 0)})),new Promise((function(e,n){var i=function(){if(c)A.waitForCurrentRunningTasks().then(e,n);else{if(o.length>0){var a=function(e){var t=[];return e.split(/[\n\t\.。;，]+|\s{2}/).forEach((function(e){var n;-1===e.indexOf(",")?t.push(e):(n=t).push.apply(n,(0,R._)(e.replace(/\d+(,\d{3})+|,/g,(function(e){return","===e?",,":e})).split(",,")))})),t}(o.join(" "));a.forEach((function(n){n&&A.exec((function(){return t.speakText(n,t.currentPlayingOptions)})).finally((function(){c&&e()}))}))}o.length=0,s?A.waitForCurrentRunningTasks().then(e,n):r=setTimeout(i)}};r=setTimeout(i)}))}},{key:"updateOptions",value:function(e){this.currentPlayingOptions&&(Object.assign(this.currentPlayingOptions,e),this.onCurrentPlayingOptionsUpdated())}}],[{key:"extend",value:function(e){var t=function(t){(0,S._)(i,t);var n=(0,M._)(i);function i(){return(0,_._)(this,i),n.apply(this,arguments)}return(0,P._)(i,[{key:"init",value:function(){return this.safeCall("init")}},{key:"supported",value:function(){var t=e.supported;if("function"==typeof t)return t.apply(this);throw new Error("Method not implementated: supported")}},{key:"beforePlay",value:function(){this.safeCall("beforePlay")}},{key:"getVoices",value:function(){return this.safeCall("getVoices")}},{key:"doPause",value:function(){return this.safeCall("doPause")}},{key:"doResume",value:function(){return this.safeCall("doResume")}},{key:"doStop",value:function(){return this.safeCall("doStop")}},{key:"speakText",value:function(e,t){return this.safeCall("speakText",e,t)}},{key:"onCurrentPlayingOptionsUpdated",value:function(){return this.safeCall("onCurrentPlayingOptionsUpdated")}},{key:"safeCall",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=e[t];if("function"==typeof o)return o.apply(this,i)}}]),i}(n);for(var i in e)i in t.prototype||(t.prototype[i]=e[i]);return t}}]),n}(function(){function e(){(0,_._)(this,e),this.init()}return(0,P._)(e,[{key:"init",value:function(){}}]),e}());var Ax=window.speechSynthesis,sx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"prepared",!1),(0,X._)((0,k._)(e),"loadedVoicesPromise",void 0),e}return(0,P._)(n,[{key:"prepare",value:function(){return this.prepared?Promise.resolve():(this.prepared=!0,this.supported()?this.loadVoices().then((function(){var e=new SpeechSynthesisUtterance(" ");Ax.speak(e),Ax.cancel()})):Promise.resolve())}},{key:"getVoices",value:function(){return this.loadVoices().then((function(e){return e.map((function(e){return{name:e.name,lang:e.lang}}))}))}},{key:"beforePlay",value:function(){var e=new SpeechSynthesisUtterance(" ");Ax.speak(e)}},{key:"play",value:function(e,t){var i=this;return this.prepare().finally((function(){return(0,D._)((0,C._)(n.prototype),"play",i).call(i,e,t)}))}},{key:"supported",value:function(){return"object"==typeof window.speechSynthesis&&"function"==typeof window.SpeechSynthesisUtterance}},{key:"doPause",value:function(){Ax.pause()}},{key:"doResume",value:function(){Ax.resume()}},{key:"doStop",value:function(){Ax.cancel()}},{key:"speakText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPlayingOptions,i=new SpeechSynthesisUtterance(e);return new Promise((function(e,r){var o=function(){i.removeEventListener("end",a),i.removeEventListener("error",r)},a=function(){e(),o()};i.addEventListener("end",a),i.addEventListener("error",(function(e){r(e),o()}));var A=Promise.resolve();if(n){i.rate=n.rate,i.pitch=n.pitch,i.lang=n.lang||i.lang;var s=n.voice;switch(void 0===s?"undefined":(0,T._)(s)){case"string":A=A.then((function(){return t.getVoiceByName(s)})).then((function(e){e&&(i.voice=e)}));break;case"object":i.voice=s}i.volume=n.volume}A.then((function(){switch(Ax.speak(i),t.status){case Wk.stopped:e(),Ax.cancel();break;case Wk.paused:Ax.pause()}}))}))}},{key:"onCurrentPlayingOptionsUpdated",value:function(){}},{key:"getVoiceByName",value:function(e){return this.loadVoices().then((function(t){return t.find((function(t){return t.name===e||t.voiceURI===e}))}))}},{key:"loadVoices",value:function(){var e=this;return(0,x._)((function(){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return e.loadedVoicesPromise?[4,e.loadedVoicesPromise]:[3,2];case 1:if((t=n.sent()).length>0)return[2,t];n.label=2;case 2:return[2,e.loadedVoicesPromise=new Promise((function(e){var t=0;!function n(){if(!Ax)return e([]);var i=Ax.getVoices();i&&i.length>0?e(i):t<20?(t++,setTimeout(n,100)):e([])}()}))]}}))}))()}}]),n}(ax),cx=function(){},ux="viewer--read-page-start",lx="viewer--read-page-end",dx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"pdfViewer",void 0),(0,X._)((0,k._)(i),"speechSynthesis",void 0),(0,X._)((0,k._)(i),"defaultOptions",void 0),(0,X._)((0,k._)(i),"stopHook",void 0),(0,X._)((0,k._)(i),"statusStore",void 0),(0,X._)((0,k._)(i),"eventEmitter",void 0),i.pdfViewer=e,i.speechSynthesis=new sx,i.defaultOptions={rate:1,pitch:1,volume:1,external:{}},i.stopHook=cx,i.statusStore=new ox,i.eventEmitter=new Vs,i}return(0,P._)(n,[{key:"setSpeechSynthesis",value:function(e){this.speechSynthesis.stop(),this.speechSynthesis=e,this.statusStore.set(Wk.stopped)}},{key:"supported",value:function(){return this.speechSynthesis.supported()}},{key:"getVoices",value:function(){return this.speechSynthesis.getVoices?this.speechSynthesis.getVoices():Promise.resolve([])}},{key:"beforeRead",value:function(){if(this.speechSynthesis.beforePlay)return this.speechSynthesis.beforePlay()}},{key:"afterRead",value:function(){}},{key:"readPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.readPages([e],t)}},{key:"readPages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.pdfViewer.getCurrentPDFDoc().getPageCount()-1;e.forEach((function(e){if(e<0||e>i)throw new Error("Invalid page index: ".concat(e,",page index should range between 0 and ").concat(i))}));var r=new U.QueuedAsyncTaskExecutor;return this.stopHook=function(){t.stopHook=cx,r.cancel()},this.speechSynthesis.status=Wk.playing,this.statusStore.set(this.status),e.forEach((function(e){r.exec((function(){return t.eventEmitter.emit(ux,e),t.doReadPage(e,n).finally((function(){t.eventEmitter.emit(lx,e)}))}))})),r.waitForCurrentRunningTasks().finally((function(){t.isStopped()||t.stop()}))}},{key:"readText",value:function(e,t){var n=this,i=Object.assign({},this.defaultOptions,t,{external:Object.assign({},this.defaultOptions.external,(null==t?void 0:t.external)||{})}),r=function(){return n.isStopped()};return this.speechSynthesis.status=Wk.playing,this.statusStore.set(this.status),this.speechSynthesis.play(function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return r()?[2]:[4,Promise.resolve({text:e.text,pageIndex:e.pageIndex,rect:e.rect})];case 1:return t.sent(),[2]}}))}(),i).finally((function(){if(!r())return n.stop()}))}},{key:"pause",value:function(){this.speechSynthesis.pause(),this.statusStore.set(this.status)}},{key:"resume",value:function(){this.speechSynthesis.resume(),this.statusStore.set(this.status)}},{key:"stop",value:function(){this.speechSynthesis.stop(),this.statusStore.set(this.status),this.stopHook()}},{key:"status",get:function(){return this.speechSynthesis.status}},{key:"setDefaultOptions",value:function(e){Object.assign(this.defaultOptions,e)}},{key:"setVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.volume;this.defaultOptions.volume=e,this.isStopped()||this.speechSynthesis.updateOptions({volume:e})}},{key:"setRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultOptions.rate;this.defaultOptions.rate=e,this.isStopped()||this.speechSynthesis.updateOptions({rate:e})}},{key:"setVoice",value:function(e){this.defaultOptions.voice=e,this.isStopped()||this.speechSynthesis.updateOptions({voice:e})}},{key:"updatePlayingOptions",value:function(e){return!this.isStopped()&&(this.speechSynthesis.updateOptions(e),!0)}},{key:"isStopped",value:function(){return this.status===Wk.stopped}},{key:"isPlaying",value:function(){return this.status===Wk.playing}},{key:"onStatusChange",value:function(e){return this.statusStore.onchange(e.bind(this))}},{key:"onReadPageStart",value:function(e){var t=this;return this.eventEmitter.addListener(ux,e),function(){t.eventEmitter.removeListener(ux,e)}}},{key:"onReadPageEnd",value:function(e){var t=this;return this.eventEmitter.on(lx,e),function(){t.eventEmitter.removeListener(lx,e)}}},{key:"doReadPage",value:function(e,t){var n=this,i=function(){return n.isStopped()};if(i())return Re;var r=this.pdfViewer.getCurrentPDFDoc(),o=r.getPageCount();return e>=o?Re:r.getPageByIndex(e).then((function(r){if(r&&!i())return r.getTextRectCount().then((function(o){var a=Object.assign({},n.defaultOptions,t,{external:Object.assign({},n.defaultOptions.external,t.external||{})});try{return n.speechSynthesis.play(function(){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return o<=0?[4,Promise.resolve().then((function(){return{text:"blank",pageIndex:e,rect:{}}}))]:[3,2];case 1:return n.sent(),[3,6];case 2:t=0,n.label=3;case 3:return t<o?i()?[2]:[4,r.getTextByRectIndex(t).then((function(t){return{text:t.text,pageIndex:e,rect:t.rect}}))]:[3,6];case 4:n.sent(),n.label=5;case 5:return t++,[3,3];case 6:return[2]}}))}(),a)}finally{n.statusStore.set(n.status)}}))}))}}]),n}(U.Disposable),hx=function(){function e(){(0,_._)(this,e),(0,X._)(this,"service",void 0),(0,X._)(this,"executor",new U.QueuedAsyncTaskExecutor),(0,X._)(this,"viewer",void 0)}return(0,P._)(e,[{key:"allInjected",value:function(){this.service=new dx(this.viewer)}},{key:"supported",value:function(){return this.service.supported()}},{key:"setSpeechSynthesis",value:function(e){this.service.setSpeechSynthesis(e)}},{key:"readPages",value:function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readPages(e,t)}))}},{key:"readText",value:function(e,t){var n=this;return this.stop(),this.executor.exec((function(){return n.service.readText(e,t)}))}},{key:"stop",value:function(){this.executor.cancel(),this.service.stop()}},{key:"pause",value:function(){this.service.pause()}},{key:"resume",value:function(){this.service.resume()}},{key:"setVolume",value:function(e){this.service.setVolume(e)}},{key:"setRate",value:function(e){this.service.setRate(e)}},{key:"setVoice",value:function(e){this.service.setVoice(e)}},{key:"getVoices",value:function(){return this.service.getVoices()}},{key:"beforeRead",value:function(){return this.service.beforeRead()}},{key:"afterRead",value:function(){return this.service.afterRead()}},{key:"status",get:function(){return this.service.status}},{key:"onStatusChange",value:function(e){return this.service.onStatusChange(e)}},{key:"updatePlayingOptions",value:function(e){return this.service.updatePlayingOptions(e)}},{key:"onReadPageStart",value:function(e){return this.service.onReadPageStart(e)}},{key:"onReadPageEnd",value:function(e){return this.service.onReadPageEnd(e)}}],[{key:"inject",value:function(){return{viewer:T_}}}]),e}(),fx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"execute",value:function(e){var t=e.keyboard;t.setup(Do);var n=function(){},i=function(e){n(),n=t.activeContext(e.getStateName())};e.eventEmitter.on(de.switchStateHandler,i),this.addDestroyHook((function(){e.eventEmitter.off(de.switchStateHandler,i)})),t.activeContext(mn)}}]),n}(U.Disposable),px=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"undoActivation",(function(){})),e}return(0,P._)(n,[{key:"execute",value:function(e){var t=this,n=e.getKeyboard();n.withContext(wo.SELECTION,(function(n){t.addDestroyHook(n.keyup(bo.SELECT_ALL,(function(){t.selectAllAnnotOrWidget(e)}),{interceptors:[(0,U.excludeEditableElementInterceptor)(),(0,U.preventDefaultInterceptor)()]}))})),n.withContext(Zn,(function(n){t.isDestroyed||t.addDestroyHook(n.keyup(bo.SELECT_ALL,(function(n){t.selectAllAnnotOrWidget_selection_state_handler(e)}),{interceptors:[(0,U.excludeEditableElementInterceptor)(),(0,U.preventDefaultInterceptor)()]}))})),n.withContext(wo.ACTIVATION_ANY,(function(n){t.addDestroyHook(n.keyup(bo.UNSELECT_OBJECT,(function(){e.activateElement(),t.undoActivation()})),n.keyup(bo.SELECT_ALL,(function(){e.getStateHandlerManager().getCurrentStates().getStateName()===Zn?t.selectAllAnnotOrWidget_selection_state_handler(e):t.selectAllAnnotOrWidget(e)}),{interceptors:[(0,U.excludeEditableElementInterceptor)(),(0,U.preventDefaultInterceptor)()]}),n.keydown(bo.COPY_ACTIVATE_ELEMENT,(function(t){e.isShortcutKeyEnabled()&&(e.currentPDFDoc.checkPermission(en.extract)&&e.copy());t.preventDefault()}),{interceptors:[(0,U.excludeEditableElementInterceptor)()]}),n.keydown(bo.CUT_ACTIVATE_ELEMENT,(function(t){e.isShortcutKeyEnabled()&&e.cut(),t.preventDefault()}),{interceptors:[(0,U.excludeEditableElementInterceptor)()]}))}));var i=function(){t.handleOnActivationChanged(e,n)},r=e.eventEmitter;r.on(de.activeElementChanged,i),this.addDestroyHook((function(){r.off(de.activeElementChanged,i)}))}},{key:"selectAllAnnotOrWidget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Z;if(t.length){var i=[];return t.forEach((function(t){if(!t.isGrouped||!t.isGrouped()){var r=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;r&&n.add(r)}"widget"===t.getType()&&i.push(t)})),void e.eventEmitter.emit("active-widgets-for-multi-select",{widgets:i,activationGroup:n})}this.getAnnotsOfCurrentPage(e).then((function(t){if(t&&!(t.length<1)){var i=e.getStateHandlerManager().getCurrentStates().getStateName();if(Object.keys(li).indexOf(i)>=0){t.forEach((function(t){if(!(t.getType()!==li[i]||t.isGrouped&&t.isGrouped())){var r=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;r&&n.add(r)}})),e.bindMultiSelectActiveEvents(n),e.activationManager.active(n),e.getPDFDocRender().setCurrentAnnotHandler();var r=e.getAllActivatedElements().map((function(e){return e.annotsRender.getAnnotRender(e.getId())}));if(r.length){if(1===r.length)return e.eventEmitter.emit(de.activeAnnotation,r[0]);e.eventEmitter.emit(de.activeMultipleAnnotations,r)}}else if(Object.keys(di).indexOf(i)>=0){var o=[];t.forEach((function(e){"widget"===e.getType()&&e.info.fieldType===di[i]&&o.push(e)})),o.length&&e.eventEmitter.emit("active-widgets-for-multi-select",{widgets:o,activationGroup:n})}e.eventEmitter.emit(de.activeElementChanged)}}))}},{key:"selectAllAnnotOrWidget_selection_state_handler",value:function(e){this.getAnnotsOfCurrentPage(e).then((function(t){if(t&&!(t.length<1)){var n=new Z,i=[],r=[];if(t.forEach((function(t){if(!i.find((function(e){return e===t})))if(t.isGrouped&&t.isGrouped()){var o=t.getGroupElements()||[];if(o.length){var a=new Z;o.forEach((function(t){var n=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;n&&a.add(n)})),n.add(a),i=(0,R._)(i).concat((0,R._)(o))}}else if("widget"===t.getType())r.push(t);else{var A=e.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;A&&n.add(A)}})),r.length)e.eventEmitter.emit("active-widgets-for-multi-select",{widgets:r,activationGroup:n});else{e.bindMultiSelectActiveEvents(n),e.activationManager.active(n),e.getPDFDocRender().setCurrentAnnotHandler();var o=e.getAllActivatedElements().map((function(e){return e.annotsRender.getAnnotRender(e.getId())}));if(o.length){if(1===o.length)return e.eventEmitter.emit(de.activeAnnotation,o[0]);e.eventEmitter.emit(de.activeMultipleAnnotations,o)}}}}))}},{key:"handleOnActivationChanged",value:function(e,t){var n=e.getAllActivatedElements();if(0===n.length)this.undoActivation();else{var i=0,r=0,o=0;n.forEach((function(e){e.editingMgr?i++:e.annot?r++:e.graphicsObject&&o++}));var a,A=[i,r,o].filter((function(e){return 0!==e})).length;1===A?i>0?a=wo.ACTIVATION_WIDGET:r>0?a=wo.ACTIVATION_ANNOTATION:o>0&&(a=wo.ACTIVATION_GRAPH_OBJ):A>1&&(a=wo.ACTIVATION_ANY),a&&(this.undoActivation(),this.undoActivation=t.activeContext(a))}}},{key:"getAnnotsOfCurrentPage",value:function(e){var t,n=e.currentPDFDoc;if(!n)return Promise.resolve([]);var i=e.getPDFDocRender().getCurrentPageIndex(),r=null===(t=e.getPDFPageRender(i))||void 0===t?void 0:t.annotsRender;return n.getPageByIndex(i).then((function(e){return e.getAnnots().then((function(e){return e.filter((function(e){return"popup"!==e.getType()&&"watermark"!==e.getType()&&"R"!==e.info.RT&&!e.info.IRT&&(!r.annotFiltered||r.showAnnots.has(e.id))}))}))}))}}]),n}(U.Disposable),gx="font-map-list",vx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"execute",value:function(e){e.getKeyboard().withContext(wo.BASIC_STATE_HANDLER,(function(t){t.keydown(bo.SWITCH_TO_HAND_STATE,(function(){e.getStateHandlerManager().switchTo(mn)}))}))}}]),n}(U.Disposable);new Date;var mx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"level",-1),(0,X._)((0,k._)(i),"componentClasses",[]);return e.eventEmitter.on(de.openFileSuccess,(function(e){i.componentClasses.forEach((function(t){i.getComponentInstance(t,e)}))})),e.eventEmitter.on(de.willCloseDocument,(function(){i.destroyComponents()})),i}return(0,P._)(n,[{key:"onInject",value:function(e){}},{key:"generateInstanceName",value:function(){return(0,U.getUniqueId)("pdf-doc-lifecycle")}},{key:"define",value:function(e){this.componentClasses.indexOf(e)>-1||this.componentClasses.push(e)}}]),n}(U.BasicIoCStrategy),yx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"execute",value:function(e){var t=e.getIoC(),n=t.getStrategy(U.IoCScope.SINGLETON),i={PDFViewer:e,Keyboard:e.keyboard,EventEmitter:e.eventEmitter,Store:e.store,AnnotManager:e.annotManager,StateHandlerManager:e.stateHandlerManager,ViewerUI:e.viewerUI,LifeCycleManager:e.lifeCycleManager,ActivationManager:e.activationManager};for(var r in i)n.registerComponentInstance(i[r]),n.registerComponentInstanceByName(i[r],r);t.setStrategy("PDF_DOC_LIFE_CYCLE_SCOPE_STRATEGY",new mx(e))}}]),n}(U.Disposable);var bx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage;(0,_._)(this,e),(0,X._)(this,"prefix",void 0),(0,X._)(this,"storage",void 0),this.prefix=t,this.storage=n}return(0,P._)(e,[{key:"setItem",value:function(e,t){this.storage.setItem(this.getKey(e),JSON.stringify(t))}},{key:"getItem",value:function(e){var t=this.storage.getItem(this.getKey(e));return t&&JSON.parse(t)}},{key:"getKey",value:function(e){return this.prefix+e}}]),e}(),wx=function(){function e(){(0,_._)(this,e),(0,X._)(this,"viewer",void 0)}return(0,P._)(e,[{key:"loadPDFDocByHttpRangeRequest",value:function(e,t){var n=this,i=e.range.url;if(!t.fileName&&i.endsWith(".pdf")){var r=i.lastIndexOf("/"),o=i.substring(r+1);o=decodeURIComponent(o),t.fileName=o}if(!qs(i)){var a=Hs();e.range.url=Ws(a).join(i).absolute()}return this.viewer.getWebPDFJR().then((function(i){return i.getPDFDocByHttpRangeRequest(e,t).then((function(e){return n._parseDoc(e,t)}))}))}},{key:"loadPDFDocByFile",value:function(e,t){var n=this;return this.viewer.getWebPDFJR().then((function(i){return i.getPDFDocByFile(e,t).then((function(e){return n._parseDoc(e,t)}))}))}},{key:"_parseDoc",value:function(e,t){return Promise.resolve(function(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}(t)).then((function(n){t.idJWT=n||t.jwt;var i=t.errorHandler||function(e,t,n){throw n},r=function(t){return e.parse(t).catch((function(n){return i(e,t,n,r)}))};return r(t)}))}}],[{key:"inject",value:function(){return{viewer:T_}}}]),e}();var kx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this,yo.PPO_REMOVE_PAGES),(0,X._)((0,k._)(i),"pdfViewer",void 0),i.pdfViewer=e,i}return(0,P._)(n,[{key:"receive",value:function(e,t){return this.pdfViewer.getCurrentPDFDoc().removePages(e.data.pageRange)}}]),n}(Ok),xx=(n(9520),function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;if(this.pageRender=e,U.isIOS)0===e.index&&(setTimeout((function(){t.pdfViewer.getStateHandlerManager().switchTo("hand")}),100),this.pdfViewer.viewerUI.alert("Unsupported now. Comming soon."));else{var n=e.$handler;n.addClass(this.cursorStyle);var i=this.$imageInput=N()('<input id="imageInput" type="file" style="visibility: hidden;" accept=".gif,.jpeg,.jpg,.png,.svg"/>');n.append(i);var r,o=n[0],a=this.hammer=new(gr().Manager)(o,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});a.on("panstart",(function(e){var t=eA(o,e);r=[t.x,t.y]})),a.on("panmove",(function(e){var t=o.getBoundingClientRect(),i=e.srcEvent,a=_x(r,t,i),A=["top:"+a.top+"px","left:"+a.left+"px","height:"+(a.bottom-a.top)+"px","width:"+(a.right-a.left)+"px"].join(";"),s=n.find(".fv__mark-image-blank");if(0===s.length){var c=N()(document.createDocumentFragment());c.append('<div class="fv__mark-image-blank" style="'+A+'"></div>'),n.append(c)}else s.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),a.on("panend",(function(t){var i=o.getBoundingClientRect(),a=t.srcEvent,A=_x(r,i,a);n.find(".fv__mark-image-blank").remove(),n.find("#imageInput").off("click"),n.find("#imageInput").off("change").on("change",(function(t){var n=t.target.files[0];return e.getPDFPage().then((function(i){var r=e.getRotation(),o=new FileReader,a=i.reverseDeviceRect(A,e.getScale(),r);o.readAsArrayBuffer(n),o.onload=function(){var n=new Uint8Array(o.result),A=((i.getRotationAngle()+r)%360+360)%360;0!=A&&(A=(360-A)%360),i.addAnnot({flags:4,type:"screen",rect:a,rotation:A,buffer:n}).then((function(n){t.target.value="";var i=n[0];n[0].info.annotScreenDetailType="screen_img";var r=e.annotsRender.getAnnotRender(i.getId()).component;e.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,r.annot),e.annotsRender.activeAnnot(i.getId())})).catch((function(e){}))}})).catch((function(e){}))})).click()}))}}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.$imageInput&&this.$imageInput.remove()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Cn}}]),n}(za));function _x(e,t,n){var i,r=Qa(n),o=Za(n),a=[r-t.left,o-t.top],A=e[0],s=e[1],c=a[0],u=a[1];return c<A&&(i=A,A=c,c=i),u<s&&(i=s,s=u,u=i),{left:A,top:s,right:c,bottom:u}}var Px=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).file=null,i}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this,n=this;this.pageRender=e;var i=this.$handler=e.$handler,r=i[0],o=this.hammer=new(gr().Manager)(r,{recognizers:[[gr().Tap],[gr().Pan,{direction:gr().DIRECTION_ALL}]]}),a=N()('<img style="position: absolute;top:-'+i.height()+"px;left:-"+i.width()+'px;border:2px solid transparent"></img>');i.append(a);var A=0,s=0;this.pdfViewer.eventEmitter.on(de.addEditImage,this.loadFile=function(e){var n=new FileReader;t.file=e,n.readAsDataURL(e),n.onload=function(e){a.prop({src:e.target.result});var t=new Image;t.onload=function(){a.css({top:-t.height,left:-t.width}),A=t.width,s=t.height},t.src=e.target.result}}),i.on("mousemove mousewheel",(function(e){var t=r.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;a.css({top:i,left:n})})),i.on("mouseleave",(function(e){a.css({top:-s,left:-A})})),e.getPDFPage().then((function(t){e.getScale();var i=e.getRotation();o.on("tap",(function(r){var o={},A=a.width(),s=a.height();o.top=parseFloat(a.css("top")),o.left=parseFloat(a.css("left")),o.right=o.left+A*e.getScale(),o.bottom=o.top+s*e.getScale(),a.remove();var c=new FileReader;c.readAsArrayBuffer(n.file),c.onload=function(r){var a=new Uint8Array(r.target.result),A=t.reverseDeviceRect(o,e.getScale(),e.getRotation());t.addImage(a,A,i).then((function(){n.pdfViewer.getStateHandlerManager().switchTo(yA.getStateName())}))}}))}))}},{key:"destroyPageHandler",value:function(){this.$handler.off("mousemove mousewheel mouseleave"),this.$handler.empty(),this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pdfViewer.eventEmitter.off(de.addEditImage,this.loadFile)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Sn}}]),n}(za);n(1582);var Dx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler;n.addClass(this.cursorStyle);var i,r=n[0],o=this.hammer=new(gr().Manager)(r,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});o.on("panstart",(function(e){var t=eA(r,e);i=[t.x,t.y]})),o.on("panmove",(function(e){var t=r.getBoundingClientRect(),o=e.srcEvent,a=Cx(i,t,o),A=["top:"+a.top+"px","left:"+a.left+"px","width:"+(a.bottom-a.top)+"px","height:"+(a.right-a.left)+"px"].join(";"),s=n.find(".fv__mark-link-blank");if(0===s.length){var c=N()(document.createDocumentFragment());c.append('<div class="fv__mark-link-blank" style="'+A+'"></div>'),n.append(c)}else s.css({top:a.top,left:a.left,width:a.right-a.left,height:a.bottom-a.top})})),o.on("panend",(function(o){var a=r.getBoundingClientRect(),A=o.srcEvent,s=Cx(i,a,A);return e.getPDFPage().then((function(i){var r=i.reverseDeviceRect(s,e.getScale(),e.getRotation()),o=t.pdfViewer.getDefaultAnnotConfig()("link");i.addAnnot({type:"link",rect:r,color:o.color?o.color:"0000FF"}).then((function(i){n.find(".fv__mark-link-blank").remove();var r=t.pageRender.getAnnotRender(i[0].getId()).component;r.showCreateDialog();t.pdfViewer;U.isMobile&&t.pdfViewer.getStateHandlerManager().switchTo(yA.getStateName()),e.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,r.annot)}))}))}))}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle)}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return In}}]),n}(za);function Cx(e,t,n){var i,r=Qa(n),o=Za(n),a=[r-t.left,o-t.top],A=e[0],s=e[1],c=a[0],u=a[1];return c<A&&(i=A,A=c,c=i),u<s&&(i=s,s=u,u=i),{left:A,top:s,right:c,bottom:u}}n(4027);var Sx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).throttleTaskExecutor=new U.ThrottleAsyncTaskExecutor(100,!0),i}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.doc,i=this.pdfViewer=e.pdfViewer,r=i.viewerUI.rootComponent.pdfUI,o=e.$handler.addClass("fv__select-text-image-state-handler"),a=o[0];this.eventEmitter=i.eventEmitter;var A=this.tooltip=i.viewerUI.createTextSelectionTooltip(e),s=this.hammer=new(gr().Manager)(a,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL,threshold:0}]]});s.add(new(gr().Tap)({event:"doubletap",taps:2})),s.add(new(gr().Tap)({event:"singletap"})),s.get("doubletap").recognizeWith("singletap"),s.get("singletap").requireFailure("doubletap"),s.on("singletap",(function(e){t.textSelectionHandler.lookUpQuick||pA(i),A&&A.hide()})),s.on("doubletap",(function(e){return t.eventEmitter.emit(de.doubleTapPage,e)}));var c=N()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>'),u=o.find(".fv__mark-selection-blank");u&&u.length>0?c.insertBefore(u[0]):o.append(c),c.data("hand-state",this),this.$contextmenuContainer=c,o.on("mousemove",this.mousemove.bind(this)),this.textSelectionHandler=new gA(s,e,A,Xn),r.openDialog("fv--selected-image-contextmenu").then((function(r){var a="click.image.".concat(e.index);N()(r.element).find("[component-type=contextmenu-item]").off(a).on(a,(function(r){var o=n.selectedInfo;if(o&&o.pageRender===e&&!N()(r.currentTarget).hasClass("disabled"))switch(N()(r.currentTarget).attr("component-name")){case"fv--contextmenu-item-copy":t.doImageCopy();break;case"fv--contextmenu-item-saveImageAs":t.doExportImageObjAs();break;case"fv--contextmenu-item-bookmark":t.textSelectionHandler.createBookmark(e);break;case"fv--contextmenu-item-editImage":pA(i),A&&A.hide(),i.stateHandlerManager.switchTo("page-editor"),t.pdfViewer.getEventEmitter().once("pageeditor-started",(function(n){setTimeout((function(){e.docRender.stateHandler.triggerClick(t.lastEvent,1)}),300)}))}})),o.on("contextmenu",".fv__mark-selection-blank[type=".concat(Lt.Image,"]"),(function(e){e.preventDefault();var n=r.getComponentByName("fv--contextmenu-item-bookmark");t.hasModifyPermissions(t.pageRender)?n.unlock():n.lock(),r.showAt(e.pageX,e.pageY)})),o.on("mouseup",t.mouseup=function(e){3===e.which&&t.eventEmitter.emit(de.rightClickPage,e)})})),r.openDialog("fv--selected-rectangle-contextmenu").then((function(i){var r="click.rectangle.".concat(e.index);N()(i.element).find("[component-type=contextmenu-item]").off(r).on(r,(function(i){var r=n.selectedInfo;if(r&&r.pageRender===e&&!N()(i.currentTarget).hasClass("disabled")&&"fv--contextmenu-item-exportSelectionAs"===N()(i.currentTarget).attr("component-name"))t.doExportSelectionRectangle()})),o.on("contextmenu",".fv__mark-selection-blank[type=rectangle]",(function(e){e.preventDefault();var n=t.checkPerm("checkExtractAccess"),r=i.getComponentByName("fv--contextmenu-item-exportSelectionAs");n?r.enable():r.disable(),i.showAt(e.pageX,e.pageY)}))})),r.eventEmitter.on("text-tooltip-click",(function(e){"highlight"===e.type&&t.pdfViewer.getPDFDocRender().pagesRender.pageRenders.forEach((function(e){e.$handler.find(".fv__mark-selection-blank").remove()}))}))}},{key:"offHammer",value:function(){this.hammer&&this.hammer.off("panstart"),this.hammer&&this.hammer.off("panmove"),this.hammer&&this.hammer.off("panend")}},{key:"destroy",value:function(){this.throttleTaskExecutor.cancel()}},{key:"destroyPageHandler",value:function(){this.tooltip&&this.tooltip.hide(),this.hammer&&this.hammer.destroy(),this.pageRender&&this.pageRender.$handler.removeClass("fv__select-text-image-state-handler"),this.pageRender.$handler.off("mouseup",this.mouseup),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.tooltip&&this.tooltip.destroy(),this.eventEmitter.off("text-tooltip-click"),this.textSelectionHandler.destroy(),this.pageRender.$handler.off("mousemove")}},{key:"docHandler",value:function(e){var t=this;(0,D._)((0,C._)(n.prototype),"docHandler",this).call(this,e);var i=this.pdfViewer,r=e.doc;i.getKeyboard().withContext(Xn,(function(e){t.__off__copy__event__&&t.__off__copy__event__(),t.__off__copy__event__=e.keydown(bo.COPY_TEXT_IMAGE,(function(){if(r.selectedInfo){var e=r.selectedInfo.type;e===Lt.Text?t.doTextCopy():e===Lt.Image&&t.doImageCopy()}})),t.offSelectAllEvent&&t.offSelectAllEvent(),t.offSelectAllEvent=e.keydown(bo.SELECT_ALL,(function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t.textSelectionHandler.doTextSelectAll(e,r.selectedInfo)}),{interceptors:[(0,U.preventDefaultInterceptor)()]}),t.offAddBookmarkEvent&&t.offAddBookmarkEvent(),t.offAddBookmarkEvent=e.keydown(bo.ADD_BOOKMARK,(function(){var e=i.getPDFDocRender().getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t.hasModifyPermissions(e)&&r.checkPermission(fa.checkAssemble)&&t.textSelectionHandler.createBookmark(e)}),{interceptors:[(0,U.preventDefaultInterceptor)()]})}));var o=null;e.$container.on("mouseleave",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",(function(e){clearTimeout(o),o=setTimeout((function(){var e=i.getPDFDocRender();if(e){var t=e.getPDFPageRender(i.getPDFDocRender().getCurrentPageIndex());t&&t.stateHandler&&t.stateHandler.tooltip&&t.stateHandler.tooltip.hide()}}),1e3)})).on("mouseenter",".fv__mark-selection-blank, .fv--ui-text-selection-tooltip",(function(e){clearTimeout(o)}))}},{key:"destroyDocHandler",value:function(){var e=this;(0,D._)((0,C._)(n.prototype),"destroyDocHandler",this).call(this),this.__off__copy__event__&&this.__off__copy__event__(),this.__off__copy__event__=Gi,["offCopyEvent","offSelectAllEvent","offAddBookmarkEvent","undoSwitchKbBinder"].forEach((function(t){e[t]&&e[t](),e[t]=Gi}))}},{key:"out",value:function(){this.destroyPageHandler()}},{key:"doImageCopy",value:function(){var e=this.pdfViewer.currentPDFDoc;e.selectedInfo&&e.selectedInfo.graphicsObject&&e.selectedInfo.graphicsObject.getStream().then((function(e){var t=new Blob([e],{type:"image/png"}),n=[new ClipboardItem((0,X._)({},t.type,t))];navigator.clipboard.write(n)}))}},{key:"doExportImageObjAs",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0))){var t=this.pageRender.doc;t.selectedInfo&&e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-png","",t.selectedInfo)}}},{key:"doExportSelectionRectangle",value:function(){var e=this.pdfViewer.viewerUI.rootComponent.pdfUI;if(!(e.customs&&e.customs.isAccountExpired&&e.customs.isAccountExpired(!0,{btnName:"fv--contextmenu-item-exportSelectionAs",tabName:"convert_tab"}))){var t=this.pageRender,n=t.$handler.get(0).getBoundingClientRect(),i=t.$handler.find(".fv__mark-selection-blank.rectangle").get(0).getBoundingClientRect();t.reverseDeviceRect({left:i.left-n.left,right:i.right-n.left,top:i.top-n.top,bottom:i.bottom-n.top}).then((function(n){var i;i=[n],e.customs&&e.customs.showSaveAsDialog&&e.customs.showSaveAsDialog("convert-pdf-to-word",JSON.stringify([{pageIndex:t.index,rectArray:i}]))}))}}},{key:"hasModifyPermissions",value:function(e){var t=e.doc.getPermissions();return 8&t&&32&t}},{key:"checkPerm",value:function(e){return this.pageRender.docRender.getUserPermission()[e]()}},{key:"doTextCopy",value:function(){var e=this,t=this.pdfViewer.currentPDFDoc,n=t.selectedInfo.getText?t.selectedInfo.getText():void 0;void 0!==n&&(0,U.copyText)(n).then((function(t){e.pdfViewer.eventEmitter.emit(t?de.copyTextSuccess:de.copyTextFailed,n)}))}},{key:"mousemove",value:function(e){var t=this;this.textSelectionHandler&&this.textSelectionHandler.isTextSelectionToolEnabledInHandState()&&(this.textSelectionHandler.isTextSelecting()||(this.mousemoveEvent=e,this.throttleTaskExecutor.exec((function(){return t.mousemoveHandler(e)}))))}},{key:"mousemoveHandler",value:function(e){var t=this,n=this.pageRender,i={x:e.originalEvent.layerX,y:e.originalEvent.layerY};return n.getTextContinueRectAtDevicePoints([i.x,i.y],[i.x+5,i.y+5],-1,-1).then((function(i){if(i[0]){var r={x:e.originalEvent.layerX,y:e.originalEvent.layerY};if(r.x!=t.mousemoveEvent.originalEvent.layerX&&r.y!=t.mousemoveEvent.originalEvent.layerY)return;n.$handler.removeClass("fv__cursor-grab").addClass("fv__cursor-text"),t.pdfViewer.eventEmitter.emit("can-scroll",!1)}else n.$handler.removeClass("fv__cursor-text")}))}}],[{key:"getStateName",value:function(){return Xn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),n}(za),Ix=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).cursorStyle="fv__cursor-crosshair",i}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);n.classList.add(this.cursorStyle);var i=new Hammer.Manager(n);this.hammer=i,i.add(new Hammer.Pan),e.getPDFPage().then((function(r){t.page=r,i.on("panstart",(function(i){var o=eA(n,i),a={x:o.x+i.deltaX,y:o.y+i.deltaY},A=t._resolvePointsToRect(r,o,a);t.pdfViewer.eventEmitter.emit(de.createSnapshotArea,e,A),t.startPoint={x:A.left,y:A.top}})),i.on("panmove",(function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(de.updateSnapshotArea,e,o)})),i.on("panend",(function(n){var i={x:t.startPoint.x+n.deltaX,y:t.startPoint.y+n.deltaY},o=t._resolvePointsToRect(r,t.startPoint,i);t.pdfViewer.eventEmitter.emit(de.stabilizedSnapshotArea,e,o)}))}))}},{key:"_resolvePointsToRect",value:function(e,t,n){var i=this.pageRender.getShowWidth(),r=this.pageRender.getShowHeight();return{left:Math.max(0,Math.min(t.x,n.x)),right:Math.min(i,Math.max(t.x,n.x)),top:Math.max(0,Math.min(t.y,n.y)),bottom:Math.min(r,Math.max(t.y,n.y))}}},{key:"destroyPageHandler",value:function(){(this.hammer&&this.hammer.destroy(),this.pageRender)&&this.pageRender.$handler.get(0).classList.remove(this.cursorStyle)}}],[{key:"getStateName",value:function(){return"snapshot-tool"}}]),n}(za);var Ex=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e)).destroyHooks=[],i.destroyDocHooks=[],i.cursorStyle="fv__cursor-loupe",i.offsetX=0,i.offsetY=0,i.updatePosition=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null;return function(){var i=this,r=arguments;n||(n=setTimeout((function(){e.apply(i,r),n=null}),t))}}(i.updatePosition.bind((0,k._)(i))),i}return(0,P._)(n,[{key:"docHandler",value:function(){var e,t,n=this,i=null;U.isChrome&&(e="wheel",t=function(e){var t=e.screenX,r=e.screenY,o=document.elementFromPoint(t,r);if(o&&o.className.indexOf(n.cursorStyle)&&i!==o){var a=new MouseEvent("mouseover");o.dispatchEvent(a),i=o}},document.addEventListener(e,t),n.destroyHooks.push((function(){document.removeEventListener(e,t)})))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.removeClass("fv__cursor-grab").addClass(this.cursorStyle);var i=this.areaRenderer=e.getPageAreaRenderer(255,400,1,!1),r=(document.getElementsByClassName("fv__pdf-viewer-layout"),function(e,i){n.addEventListener(e,i),t.destroyHooks.push((function(){n.removeEventListener(e,i)}))});r("click",(function(e){t.pdfViewer.eventEmitter.emit(de.startUpdatePageAreaRenderer,i),t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()})),r("mouseover",(function(e){t.pdfViewer.eventEmitter.emit(de.createPageAreaRenderer,i),setTimeout((function(){t.pdfViewer.eventEmitter.emit(de.switchPageAreaRenderer,i)}))})),r("mousemove",(function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()})),r("wheel",(function(e){t.offsetX=e.offsetX,t.offsetY=e.offsetY,t.updatePosition()}))}},{key:"updatePosition",value:function(){this.areaRenderer.setPosition(this.offsetX,this.offsetY),this.areaRenderer.update()}},{key:"destroyDocHandler",value:function(){this.destroyDocHooks.forEach((function(e){return e()})),this.pdfViewer.eventEmitter.emit(de.destroyPageAreaRenderer),this.destroyPageHandler()}},{key:"destroyPageHandler",value:function(){this.pageRender&&this.pageRender.$handler.removeClass(this.cursorStyle),this.destroyHooks.forEach((function(e){return e()})),this.updatePosition=null}}],[{key:"getStateName",value:function(){return qn}}]),n}(za),Rx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){return(0,_._)(this,n),t.call(this,e)}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e,this.pdfViewer=e.pdfViewer,this.selectMarkIsVisible=!1;var n=this.tooltip=this.pdfViewer.viewerUI.createTextSelectionTooltip(e),i=e;e.$ui.addClass("fv__annot-container-zindex-up");var r=i.$handler;r.addClass("fv__select-text-annotation-state-handler");var o,a=r[0],A=e.pdfViewer.eventEmitter;o=function(i){i==e&&t.pdfSelectRectArray&&t.selectMarkIsVisible&&e.getPDFPage().then((function(i){var r=e.transformRectArray(i,t.pdfSelectRectArray);t.showSelectMark(r);var o=r[0];o&&n.showAt((o.left+o.right)/2,o.top,t.selectText,r)}))},A.on(de.renderPageSuccess,o),t.removeRenderPageSuccessEvent=function(){A.off(de.renderPageSuccess,o)};var s,c=this.hammer=new(gr().Manager)(a,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});c.add(new(gr().Tap)({event:"doubletap",taps:2})),c.add(new(gr().Tap)({event:"singletap"})),c.get("doubletap").recognizeWith("singletap"),c.get("singletap").requireFailure("doubletap"),c.on("singletap",(function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),A.emit(de.tapPage,i)):A.emit(de.tapPage,i)})),c.on("doubletap",(function(i){t.hideSelectMark(),n.hide();var r=e.annotsRender;r?(r.unActiveAnnot(),A.emit(de.doubleTapPage,i)):A.emit(de.doubleTapPage,i)})),n.on("hide",(function(){t.hideSelectMark()}));var u,l,d=-1,h=-1;c.on("panstart",(function(n){if(!1!==t.panStart(n,t)){d=-1,h=-1,u=void 0;var i=e.annotsRender;i&&i.unActiveAnnot();var r=eA(a,n);s=[r.x,r.y],t.hideSelectMark(),l=new fe}})),c.on("panmove",(function(e){!1!==t.panMove(e,t)&&l.push((function(){var n=t.pageRender,i=[s[0]+e.deltaX,s[1]+e.deltaY];return t.getTextRect(s,i,d,h).then((function(e){var t;return(t=e[0])&&"string"==typeof t.text&&(d=t.start,h=t.end),Promise.all([n.getPDFPage(),e])})).then((function(e){var t=(0,E._)(e,2),i=t[0],r=t[1];return n.transformRectArray(i,r)})).then((function(e){t.showSelectMark(e)}))}))})),c.on("panend",(function(i){if(!1!==t.panEnd(i,t)){l.end(),l=null;var r=Ya(s,i.deltaX,i.deltaY),o=[s[0]+i.deltaX,s[1]+i.deltaY];return t.getTextRect(s,o,d,h).then((function(t){var n;return(n=t[0])&&"string"==typeof n.text&&(d=n.start,h=n.end,u=n.text),Promise.all([e.getPDFPage(),t])})).then((function(o){var a=(0,E._)(o,2),A=a[0],s=a[1];t.pdfSelectRectArray=s;var c=e.transformRectArray(A,s);t.showSelectMark(c),("string"==typeof u?Promise.resolve(u):t.getTextChar(r)).then((function(e){t.pdfViewer.getStore().dispatch(Ce.SELECTION_INFO,{page:A,text:e,rectArray:s}),t.selectText=e,t.pdfViewer.eventEmitter.emit(de.selectText,{page:A,text:e,rectArray:s,e:i})}));var l=c[0];l&&n.showAt((l.left+l.right)/2,l.top,t.selectText,c)}))}}));var f=N()('<div class="fv__selection-state-contextmenu-container fv__contextmenu-container"></div>');r.append(f),f.data("hand-state",this),this.$contextmenuContainer=f}},{key:"getTextRect",value:function(e,t,n,i){return this.pageRender.getTextContinueRectAtDevicePoints(e,t,n,i)}},{key:"getTextChar",value:function(e){return this.pageRender.getTextContinuousCharAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){this.selectMarkIsVisible=!0;var t=this.pageRender.$handler;t.find(".fv__mark-selection-blank").remove();for(var n=N()(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","height:"+(o.bottom-o.top)+"px","width:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="fv__mark-selection-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.selectMarkIsVisible=!1,this.pdfViewer.getStore().dispatch(Ce.SELECTION_INFO,null),this.pageRender.$handler.find(".fv__mark-selection-blank").remove()}},{key:"copyText",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$ui.removeClass("fv__annot-container-zindex-up"),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-annotation-state-handler"),this.$contextmenuContainer&&this.$contextmenuContainer.remove(),this.pageRender.annotsRender&&this.pageRender.annotsRender.unActiveAnnot(),this.hideSelectMark(),this.tooltip.destroy(),this.removeRenderPageSuccessEvent()}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Jn}},{key:"getDefaultContextMenuConfig",value:function(){return{selector:".fv__selection-state-contextmenu-container"}}}]),n}(za),Tx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){return(0,_._)(this,n),t.call(this,e)}return(0,P._)(n,[{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n,i=e.$handler[0],r=this.hammer=new(gr().Manager)(i,{recognizers:[[gr().Pan,{direction:gr().DIRECTION_ALL}]]});r.on("panstart",(function(e){if(!1!==t.panStart(e,t)){var r=e.srcEvent,o=Qa(r),a=Za(r);n=Wa(i,o,a),t.hideToolTip(),t.hideSelectMark()}})),r.on("panmove",(function(e){!1!==t.panMove(e,t)&&t.getTextRect(Ya(n,e.deltaX,e.deltaY)).then((function(e){t.showSelectMark(e)}))})),r.on("panend",(function(e){!1!==t.panEnd(e,t)&&t.getTextRect(Ya(n,e.deltaX,e.deltaY)).then((function(e){t.showToolTip(e)}))}))}},{key:"getTextRect",value:function(e){return this.pageRender.getTextContinueRectAtDeviceRect(e)}},{key:"showSelectMark",value:function(e){var t=this.pageRender.$handler;t.find(".mark-select-text-blank").remove();for(var n=$(document.createDocumentFragment()),i=0,r=e.length;i<r;i++){var o=e[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.bottom-o.top)+"px","height:"+(o.right-o.left)+"px"].join(";");n.append('<mark class="mark-highlight-blank" style="'+a+'"></mark>')}t.append(n)}},{key:"hideSelectMark",value:function(){this.pageRender.$handler.find(".mark-highlight-blank").remove()}},{key:"showToolTip",value:function(){}},{key:"hideToolTip",value:function(){}},{key:"panStart",value:function(){}},{key:"panMove",value:function(){}},{key:"panEnd",value:function(){}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.off("mouseup",this.mouseup).removeClass("fv__select-text-state-handler"),this.hideToolTip();try{this.hideSelectMark()}catch(e){}}},{key:"out",value:function(){this.destroyPageHandler()}}],[{key:"getStateName",value:function(){return Qn}}]),n}(za);const Mx=Tx;var Fx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),(i=t.call(this,e,"square")).pdfViewer=e,i.cursorStyle="fv__cursor-marquee",i.destroyHooks=[],i}return(0,P._)(n,[{key:"start",value:function(e,t){var n=t.left,i=t.top;this.shapeControl||(this.shapeControl=new qc({resizable:!1,enableDiagonally:!0}),this.shapeControl.active(e.$handler,{left:n,top:i,width:0,height:0},{left:n,top:i,right:n,bottom:i}))}},{key:"pageHandler",value:function(e){var t=this;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var i,r=this.hammer=new(gr().Manager)(n);e.$handler;r.add(new(gr().Pan)({direction:gr().DIRECTION_ALL}));var o,a=!1,A=this;r.on("panstart",(o=(0,x._)((function(t){var r,o,s,c,u,l;return(0,F.Jh)(this,(function(d){switch(d.label){case 0:return r=A.pdfViewer.getPDFViewerRender(),a=!0,[4,r.getScaleRatio()];case 1:return o=d.sent(),a=!1,t.srcEvent.ctrlKey||t.srcEvent.metaKey?(s=A.pdfViewer.config.minScale,o<=s&&(a=!0)):(c=A.pdfViewer.config.maxScale,o>=c&&(a=!0)),a||(r&&r.disableDragToScroll(),A.startPoint=eA(n,t),u=A.startPoint.x,l=A.startPoint.y,A.start(e,{left:u,top:l}),i=new fe),[2]}}))})),function(e){return o.apply(this,arguments)})),r.on("panmove",(function(n){if(!a){var r=e.$handler[0].getClientRects()[0],o=r.width,A=r.height;t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:o}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:A})},i.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)}))}})),r.on("panend",(function(n){if(!a){var r=t.pdfViewer.getPDFViewerRender();r&&r.enableDragToScroll();var o=e.$handler[0].getClientRects()[0],A=o.width,s=o.height;if(!t.isStart&&t.shapeControl){var c=(0,E._)(n.pointers,1)[0];t.currentPoint={x:t.calibrationNumber({num:t.startPoint.x+n.deltaX,max:A}),y:t.calibrationNumber({num:t.startPoint.y+n.deltaY,max:s})},t.isStart=!0,setTimeout((function(){t.isStart=!1}),500),i.push((function(){return t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})),c.ctrlKey||c.metaKey?t.pdfViewer.eventEmitter.emit(de.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(de.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}}})),r.on("pancancel",(function(e){var n=t.pdfViewer.getPDFViewerRender();n&&n.enableDragToScroll(),i.end(),t.shapeControl.destroy(),t.shapeControl=null}));var s=function(e,i){n.addEventListener(e,i),t.destroyHooks.push((function(){n.removeEventListener(e,i)}))};s("click",(function(n){if(!t.isStart&&!a){t.isStart=!0,setTimeout((function(){t.isStart=!1}),500);var i=n.layerX,r=n.layerY;t.start(e,{left:i,top:r}),t.shapeControl.shape.shape.clientX=n.clientX,t.shapeControl.shape.shape.clientY=n.clientY,n.ctrlKey||n.metaKey?t.pdfViewer.eventEmitter.emit(de.marqueeZoomOut,t.shapeControl.shape.shape,t.pageRender.index):t.pdfViewer.eventEmitter.emit(de.marqueeZoomIn,t.shapeControl.shape.shape,t.pageRender.index),t.shapeControl.destroy(),t.shapeControl=null}})),s("contextmenu",(function(e){e.stopPropagation(),e.preventDefault()}))}},{key:"adjust",value:function(e,t,n){var i=t.x,r=t.y,o=n.x,a=n.y;if(e){var A,s,c=Math.abs(i-o),u=Math.abs(r-a),l={left:A=Math.min(i,o),top:s=Math.min(r,a),width:c=Math.max(c,1),height:u=Math.max(u,1)},d={left:A,top:s,right:A+c,bottom:s+u};e._applyAnnotBoundary(l),e.shape.boundary=d,e.shape.shape=l,e._updatePreviewer()}}},{key:"calibrationNumber",value:function(e){var t=e.num,n=e.min,i=void 0===n?0:n,r=e.max;return t<0?i:t>r?r:t}},{key:"docHandler",value:function(e){document.addEventListener("keydown",this.keydownEventListener=function(t){(t.ctrlKey||t.metaKey)&&e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cssText+="cursor: -webkit-zoom-out;cursor: zoom-out"}))},{capture:!0}),document.addEventListener("keyup",this.keyupEventListener=function(t){switch(t.keyCode){case U.KeyCodes.Ctrl:case U.KeyCodes.Meta:e.pagesRender.pageRenders.forEach((function(e){e.$handler.get(0).style.cursor=null}))}},{capture:!0})}},{key:"destroyDocHandler",value:function(){document.removeEventListener("keydown",this.keydownEventListener,{capture:!0}),document.removeEventListener("keyup",this.keyupEventListener,{capture:!0})}},{key:"destroyPageHandler",value:function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle),this.pageRender.$handler.off("mousedown"),this.destroyHooks.forEach((function(e){return e()}))}}],[{key:"getStateName",value:function(){return $n}}]),n}(za),Lx=n(973),Nx=n.n(Lx),Ox=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"execute",value:function(e){var t=this,n=e.getStore(),i=e.ioc.getInstanceByClass(Ji).onMeasurementInfoChange((function(e){var r=t.getMeasurementInfo(e),o=r.displayUnit,a={distance:0,deltaX:0,deltaY:0,scale:r.scale,angle:0,displayUnit:o,perimeter:0,area:0,userSpaceUnit:r.userSpaceUnit};n.dispatch("measurementData",a),i()}))}},{key:"getMeasurementInfo",value:function(e){var t=e[Vi],n=e[ji],i=e[Ui],r=e.realUnit;return{userSpaceScale:t,userSpaceUnit:n,scale:"".concat(t," ").concat(n.name," = ").concat(i," ").concat(r.name),displayUnit:r,realScale:i,realUnit:r}}}]),n}(U.Disposable);function Bx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return e/t.length})).reduce((function(e,t){return e+t}))}var jx=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"isWhite",value:function(){return!this.a||255===this.r&&255===this.g&&255===this.b}},{key:"averageLightnessColor",value:function(){return Bx(this.r,this.g,this.b)}},{key:"lightnessAverageWith",value:function(e){return Bx(this.averageLightnessColor(),e.averageLightnessColor())}},{key:"mix",value:function(e,t,i){return new n(this.r*t+e.r*(1-t),this.g*t+e.g*(1-t),this.b*t+e.g*(1-t),i)}},{key:"cloneRGB",value:function(e){return new n(this.r,this.g,this.b,e)}},{key:"clone",value:function(){return new n(this.r,this.g,this.b,this.a)}},{key:"asArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"grey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.a,t=this.averageRGB()/2,i=Math.ceil(127.5)+t;return new n(i,i,i,e)}},{key:"averageRGB",value:function(){return Bx(this.r,this.g,this.b)}}],[{key:"fromHSLA",value:function(e,t,i,r){var o=(0,E._)(U.Color.convertHSL2rgb(e,t,i),3);return new n(o[0],o[1],o[2],r)}},{key:"fromRGB",value:function(e){return n.fromRGBA(e,255)}},{key:"fromARGB",value:function(e){if(e<=16777215)return n.fromRGBA(e,255);var t=255&e>>24,i=16777215&e;return n.fromRGBA(i,t)}},{key:"fromRGBA",value:function(e,t){return new n(e>>16&255,e>>8&255,255&e,t)}},{key:"fromColor",value:function(e){return(0,I._)(e,n)?e:new n(e.r,e.g,e.b,e.a)}}]),n}(U.Color);(0,X._)(jx,"TRANSPARENT",jx.fromARGB(0)),(0,X._)(jx,"WHITE",jx.fromARGB(4294967295));var Vx=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"toChannelIndex",value:function(){return-1}},{key:"toPixelIndex",value:function(){return-1}},{key:"toCoords",value:function(){return{x:-1,y:-1,width:-1}}},{key:"isValid",value:function(){return!1}}]),e}(),Ux=function(){function e(t,n,i){(0,_._)(this,e),(0,X._)(this,"x",void 0),(0,X._)(this,"y",void 0),(0,X._)(this,"width",void 0),this.x=t,this.y=n,this.width=i}return(0,P._)(e,[{key:"toChannelIndex",value:function(){return new Hx(this.toPixelIndex(),this.width).toChannelIndex()}},{key:"toPixelIndex",value:function(){return this.y*this.width+this.x}},{key:"toCoords",value:function(){return{x:this.x,y:this.y,width:this.width}}},{key:"isValid",value:function(){return!0}}]),e}(),Hx=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"pixelIndex",void 0),(0,X._)(this,"width",void 0),this.pixelIndex=t,this.width=n}return(0,P._)(e,[{key:"toChannelIndex",value:function(){return 4*this.pixelIndex}},{key:"toPixelIndex",value:function(){return this.pixelIndex}},{key:"toCoords",value:function(){var e=this.pixelIndex,t=this.width;return{x:e%t,y:Math.floor(e/t),width:t}}},{key:"isValid",value:function(){return!0}}]),e}(),zx=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"channelIndex",void 0),(0,X._)(this,"width",void 0),this.channelIndex=t,this.width=n}return(0,P._)(e,[{key:"toChannelIndex",value:function(){return this.channelIndex}},{key:"toPixelIndex",value:function(){return Math.floor(this.channelIndex/4)}},{key:"toCoords",value:function(){var e=this.toPixelIndex();return new Hx(e,this.width).toCoords()}},{key:"isValid",value:function(){return!0}}]),e}(),Wx=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"data",void 0),t.buffer?this.data={data:new(Uint8ClampedArray||Uint8Array)(t.buffer),width:t.width,height:t.height}:this.data=t}return(0,P._)(e,[{key:"coords",value:function(e,t){return e>=this.data.width||t>=this.data.height?new Vx:new Ux(e,t,this.data.width)}},{key:"pixelIndex",value:function(e){return 4*e>=this.data.data.length?new Vx:new Hx(e,this.data.width)}},{key:"forEach",value:function(e){var t=this;this.forEachLocation((function(n){var i=t.getPixelColorAt(n);e(n,i)}))}},{key:"forEachLocation",value:function(e){for(var t=this.data.data,n=this.data.width,i=0;i<t.length;i+=4)e(new zx(i,n))}},{key:"getCoordsByPixelIndex",value:function(e){var t=this.data.width;return{x:e%t,y:Math.floor(e/t)}}},{key:"getPixelColorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jx.WHITE;if(!e.isValid())return t;var n=this.data.data,i=e.toChannelIndex();return new jx(n[i],n[i+1],n[i+2],n[i+3])}},{key:"updatePixelColor",value:function(e,t){if(e.isValid()){var n=e.toCoords(),i=n.x,r=n.y;this.data.data.set(t.asArray(),this.coords(i,r).toChannelIndex())}}}]),e}();function Yx(e,t,n){var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=e,i.height=t,i.style.width="".concat(e/n,"px"),i.style.height="".concat(t/n,"px"),i.style.backgroundColor="white",r.fillStyle="white",i}var Gx,$x=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"x",void 0),(0,X._)(this,"y",void 0),this.x=t,this.y=n}return(0,P._)(e,[{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"negate",value:function(){return new e(-this.x,-this.y)}},{key:"substract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"normalize",value:function(){var t=this.length();return 0===t?new e(0,0):new e(this.x/t,this.y/t)}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"perp",value:function(){return new e(this.y,-this.x)}},{key:"segment",value:function(t){return{from:this,to:t,dir:new e(t.x-this.x,t.y-this.y)}}},{key:"rotate",value:function(t){var n=Math.sin(t),i=Math.cos(t);return new e(this.x*i+this.y*n,-this.x*n+this.y*i)}}]),e}(),Kx=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"resolveDiffColor",value:function(e,t,n,i){var r=i.sourceOpacity,o=i.targetOpacity;if(i.showDiffColor){var a=t.lightnessAverageWith(n),A=a*((Math.abs(t.r-n.r)+Math.abs(t.g-n.g)+Math.abs(t.b-n.b))/255/3),s=a+A,c=Math.max(r,o);return new U.Color(s,a-A,s,c)}if(o>r){var u=r;return t.mix(n,u,o)}return n.cloneRGB(r)}},{key:"combinePixels",value:function(e,t,n){var i=this,r=t.width,o=t.height,a=n.showDiffColor,A=n.targetOpacity,s=n.sourceOpacity,c=n.canvasMultiplier,u=jx.fromRGB(n.targetDiffColor),l=jx.fromRGB(n.sourceDiffColor),d=new Wx(e),h=new Wx(t),f=Yx(Math.max(t.width,e.width),Math.max(t.height,e.height),c),p=f.getContext("2d"),g=p.createImageData(f.width,f.height),v=new Wx(g),m=jx.fromARGB(n.backgroundColor),y=function(e,t,c){var d=e.x,h=e.y;if(c.isSameAs(m)&&t.isSameAs(m))return c.cloneRGB(0);if(a&&t.isSameAs(c))return c.grey(c.a);if(d<=r&&h<=o){if(t.isSameAs(m)){var f=A;return a?i.handleDiffColor(u,c,f):c.cloneRGB(f)}if(c.isSameAs(m)){var p=s;return a?i.handleDiffColor(l,t,p):t.cloneRGB(p)}return jx.fromColor(i.resolveDiffColor(e,t,c,n))}return c},b=y;if("function"==typeof n.blendColorResolver){var w=n.blendColorResolver,k=function(e){return y(e.pos,jx.fromColor(e.sourceColor),jx.fromColor(e.targetColor))};b=function(e,t,i){var r=w({pos:e,sourceColor:t,targetColor:i,combinePixelsOptions:n,callBuiltin:k});return"number"==typeof r?jx.fromARGB(r):jx.fromColor(r)}}return v.forEachLocation((function(e){var t=e.toCoords(),n=h.getPixelColorAt(h.coords(t.x,t.y),m),i=d.getPixelColorAt(d.coords(t.x,t.y),m),r=b(t,n,i);v.updatePixelColor(e,r)})),p.putImageData(g,0,0),f}},{key:"handleDiffColor",value:function(e,t,n){var i=t.averageRGB(),r=Math.min(e.r,e.g,e.b);return new jx(e.r==r?i:e.r,e.g==r?i:e.g,e.b==r?i:e.b,n)}},{key:"transformBitmap",value:function(e,t,n,i){var r=this;if(!n)return{bitmap:e,expandX:0,expandY:0};var o=n.rotate,a=void 0===o?0:o,A=n.translateX,s=void 0===A?0:A,c=n.translateY,u=void 0===c?0:c,l=n.contentX,d=void 0===l?0:l,h=n.contentY,f=void 0===h?0:h;if(i=i||{width:0,height:0},0===a){var p=Math.max(i.width,e.width+Math.abs(s)),g=Math.max(i.height,e.height+Math.abs(u)),v=Yx(p,g,1).getContext("2d",{willReadFrequently:!0});v.fillStyle=jx.fromRGB(t).toCSS_Hex(),v.fillRect(0,0,p,g);var m=this.createImageDataByPageBitmap(v,e),y=Math.max(0,s),b=Math.max(0,u);return v.putImageData(m,y,b),{bitmap:v.getImageData(0,0,p,g),expandX:s<0?-s:0,expandY:u<0?-u:0}}var w=function(){var t=Yx(e.width,e.height,1),n=t.getContext("2d"),i=r.createImageDataByPageBitmap(n,e);return n.putImageData(i,0,0),t}(),k=this.getTransformedBox(e.width,e.height,{rotate:a,translateX:s,translateY:u,contentX:d,contentY:f}),x=k.width,_=k.height,P=k.expandX,D=k.expandY,C=k.renderX,S=k.renderY,I=Math.max(x,i.width),E=Math.max(_,i.height),R=Yx(I,E,1).getContext("2d",{desynchronized:!1,willReadFrequently:!0});return R.fillStyle=jx.fromRGB(t).toCSS_Hex(),R.fillRect(0,0,I,E),R.translate(C,S),R.rotate(a),R.translate(-d,-f),R.drawImage(w,0,0),{bitmap:R.getImageData(0,0,I,E),expandX:P,expandY:D}}},{key:"createImageDataByPageBitmap",value:function(e,t){if((0,I._)(t,ImageData))return t;var n=e.createImageData(t.width,t.height);return t.buffer?n.data.set(new(Uint8ClampedArray||Uint8Array)(t.buffer),0):n.data.set(t.data),n}},{key:"getTransformedBox",value:function(e,t,n){var i,r,o,a,A=n.rotate,s=n.translateY,c=n.translateX,u=n.contentX,l=n.contentY,d=new $x(u=u||0,l=l||0),h=d.mult(-1),f=new $x(e,0).substract(d),p=new $x(e,t).substract(d),g=[h,f,new $x(0,t).substract(d),p].map((function(e){return e.rotate(-A)})),v=g.map((function(e){return e.x})),m=g.map((function(e){return e.y})),y=(i=Math).min.apply(i,(0,R._)(v)),b=(r=Math).max.apply(r,(0,R._)(v)),w=(o=Math).min.apply(o,(0,R._)(m)),k=(a=Math).max.apply(a,(0,R._)(m))-w,x=b-y+Math.abs(c),_=k+Math.abs(s),P=Math.abs(y)+(c<0?0:c),D=Math.abs(w)+(s<0?0:s),C=(y<0?-y:0)+(c<0?-c:0),S=(w<0?-w:0)+(s<0?-s:0);return s>0&&s<S?(S-=s,_-=s,D-=s):s>0&&s>S&&(_-=S,D-=S,S=0),c>0&&c<C?(C-=c,x-=c,P-=c):c>0&&c>C&&(x-=C,P-=C,C=0),{width:x,height:_,renderX:P,renderY:D,expandX:C,expandY:S}}}]),e}();!function(e){e[e.RED=16711680]="RED",e[e.GREEN=65280]="GREEN",e[e.BLUE=255]="BLUE",e[e.MAGENTA=16711935]="MAGENTA",e[e.YELLOW=16776960]="YELLOW",e[e.CYAN=65535]="CYAN"}(Gx||(Gx={}));var qx=function(){function e(){(0,_._)(this,e),(0,X._)(this,"showDiffColor",void 0),(0,X._)(this,"targetOpacity",void 0),(0,X._)(this,"sourceOpacity",void 0),(0,X._)(this,"targetDiffColor",void 0),(0,X._)(this,"sourceDiffColor",void 0),(0,X._)(this,"backgroundColor",void 0),(0,X._)(this,"blendColorResolver",void 0),(0,X._)(this,"store",new U.Store),this.resetToDefault()}return(0,P._)(e,[{key:"setShowDiffColor",value:function(e){this.showDiffColor=e,this.store.dispatch("showDiffColor",e)}},{key:"setTargetOpacity",value:function(e){this._set("targetOpacity",e)}},{key:"setSourceOpacity",value:function(e){this._set("sourceOpacity",e)}},{key:"setTargetDiffColor",value:function(e){this._set("targetDiffColor",e)}},{key:"setSourceDiffColor",value:function(e){this._set("sourceDiffColor",e)}},{key:"setBlendColorResolver",value:function(e){this._set("blendColorResolver",e)}},{key:"_set",value:function(e,t){this[e]=t,this.store.dispatch(e,t)}},{key:"onChange",value:function(e,t){return this.store.subscribe(e,t)}},{key:"extractAllOptions",value:function(){return{showDiffColor:this.showDiffColor,targetOpacity:this.targetOpacity,sourceOpacity:this.sourceOpacity,sourceDiffColor:this.sourceDiffColor,targetDiffColor:this.targetDiffColor,backgroundColor:this.backgroundColor,blendColorResolver:this.blendColorResolver}}},{key:"resetToDefault",value:function(){this.setShowDiffColor(!1),this.setTargetOpacity(255),this.setSourceOpacity(255),this.setTargetDiffColor(Gx.BLUE),this.setSourceDiffColor(Gx.RED),this.setBlendColorResolver(void 0),this.backgroundColor=4294967295}}],[{key:"scope",value:function(){return U.IOC_SHARED_SINGLETON}}]),e}(),Jx=function(){function e(){(0,_._)(this,e)}return(0,P._)(e,[{key:"createCompareResultDoc",value:function(e){var t=e.pdfViewer,n=e.sourceDoc,i=e.targetDoc,r=e.fileName,o=e.onprogress,a=this;return(0,x._)((function(){var e,A,s,c,u,l,d,h,f;return(0,F.Jh)(this,(function(p){switch(p.label){case 0:return[4,t.getWebPDFJR()];case 1:return e=p.sent(),"function"!=typeof o&&(o=function(){}),A=a.getPageSize(n,i,0),o(0),[4,e.createNewDoc(r,t.getUserName(),A)];case 2:s=p.sent(),c=Math.max(n.getPageCount(),i.getPageCount()),o(1/c),u=1,p.label=3;case 3:return u<c?(l=s.getPageCount(),[4,a.getPageSize(n,i,u)]):[3,7];case 4:return d=p.sent(),h=d.width,f=d.height,[4,s.insertPage(l-1,h,f)];case 5:p.sent(),o(u/c),p.label=6;case 6:return u++,[3,3];case 7:return s.info.isOverlayComparisonDoc=!0,s.fromDoc=n,s.otherDoc=i,o(1),[2,s]}}))}))()}},{key:"comparePageBitmap",value:function(e,t){var n=e.getIoC().getInstanceByClass(Kx),i=e.getIoC().getInstanceByClass(qx),r=(0,U.extendOptions)({canvasMultiplier:1},i.extractAllOptions(),t.combinePixelsOptions),o=n.transformBitmap(t.targetBitmap,r.backgroundColor,t.transformation),a=o.bitmap,A=o.expandX,s=o.expandY,c=n.transformBitmap(t.sourceBitmap,r.backgroundColor,{translateX:A,translateY:s},{width:a.width,height:a.height}).bitmap;return n.combinePixels(a,c,r)}},{key:"getPageSize",value:function(e,t,n){var i=this;return(0,x._)((function(){var r,o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:return[4,i.getPageByIndex(e,n)];case 1:return r=u.sent(),[4,i.getPageByIndex(t,n)];case 2:return o=u.sent(),a=null==r?void 0:r.getWidth(),A=null==r?void 0:r.getHeight(),s=null==o?void 0:o.getWidth(),c=null==o?void 0:o.getHeight(),[2,{width:Math.max(a,s),height:Math.max(A,c)}]}}))}))()}},{key:"getPageByIndex",value:function(e,t){var n=e.getPageCount();if(!(t<0||t>n))return e.getPageByIndex(t)}}],[{key:"scope",value:function(){return U.IOC_SHARED_SINGLETON}}]),e}(),Xx=function(){function e(){(0,_._)(this,e),(0,X._)(this,"pdfViewer",void 0)}return(0,P._)(e,[{key:"compareImageData",value:function(e){return this.getSharedOverlayComparisonService().comparePageBitmap(this.pdfViewer,e)}},{key:"getSharedOverlayComparisonService",value:function(){return this.pdfViewer.getIoC().getInstanceByClass(Jx)}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),e}(),Qx=function(){function e(){(0,_._)(this,e),(0,X._)(this,"pdfViewerInstances",new Set),(0,X._)(this,"usedInstanceIds",new Set)}return(0,P._)(e,[{key:"addPDFViewerInstance",value:function(e){var t=this;return this.pdfViewerInstances.add(e),this.usedInstanceIds.add(e.instanceId),function(){t.removePDFViewerInstance(e)}}},{key:"removePDFViewerInstance",value:function(e){this.pdfViewerInstances.delete(e)}},{key:"isMultipleCase",value:function(){return this.pdfViewerInstances.size>1}},{key:"hasPDFViewerInstance",value:function(){return this.pdfViewerInstances.size>0}},{key:"isUsedInstanceId",value:function(e){return Array.from(this.pdfViewerInstances).some((function(t){return t.instanceId===e}))}},{key:"getNextInstanceId",value:function(){if(this.pdfViewerInstances.size>0)return"pdfviewer-instance-"+this.usedInstanceIds.size}}],[{key:"scope",value:function(){return U.IoCScope.SHARED_SINGLETON}}]),e}(),Zx=["de-DE","en-US","es-419","fr-FR","it-IT","ja-JP","ko-KR","nl-NL","zh-CN","zh-TW"],e_=Zx.map((function(e){return e.toLowerCase().split("-")}));function t_(e){if("string"!=typeof e)return"en-US";var t,n=e.toLowerCase();if(n.indexOf("-")>-1){var i=n.split("-");t=function(e){return e[0]===i[0]&&e[1]===i[1]}}else t=function(e){return e[0]===n||e[1]===n};var r=e_.findIndex(t);return-1!==r?Zx[r]:"en-US"}var n_=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"events",void 0),this.events={}}return(0,P._)(e,[{key:"setCallback",value:function(e,t){this.events[e]=t}},{key:"getCallback",value:function(e){return this.events[e]}},{key:"removeCallback",value:function(e){delete this.events[e]}},{key:"clear",value:function(){this.events={}}},{key:"setEmbeddedGotoCallback",value:function(e){this.setCallback(at.gotoE,e)}},{key:"setSubmitFormCallback",value:function(e){this.setCallback(at.submitForm,e)}}]),e}(),i_=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"execute",value:function(e){var t=U.CLIPBOARD_DATA_TYPES.PLAIN,n=U.CLIPBOARD_DATA_TYPES.HTML,i=U.CLIPBOARD_DATA_TYPES.FILES,r=function(r){if(!(0,U.isEditableElement)(document.activeElement)&&e.isShortcutKeyEnabled()&&r.clipboardData&&r.clipboardData.items){if(U.keyboardStatus.isShiftDown)return r.preventDefault(),!1;var o=e.getStateHandlerManager().getCurrentStates(),a=e.getStateHandlerManager().getStateHandlerConfig(o.getStateName());if(!a||!1!==a.enablePasting){var A=[],s=r.clipboardData;if(s&&s.items){var c=s.items,u=s.types,l=u[0],d=0;if(u.length>1){var h=u.indexOf(n);h>-1&&(d=h,l=n)}switch(l){case t:c[d].getAsString((function(t){var n;try{if("number"==typeof(n=JSON.parse(t)))throw new Error("Pure number")}catch(e){n=[{type:"string",value:t}]}n.some((function(e){var t=e.value;return"string"===e.type&&"widget"===t.type&&7===t.fieldType}))?e.viewerUI.alert({message:"form-designer:dialog.typeError",level:"warning"}):e.paste(n).then((function(){var t=e.getCurrentPDFDoc();t&&t.reloadPDFForm()}))}));break;case n:var f=s.getData(n);if(f){var p=[{type:"html",value:f}];e.paste(p).then((function(){var t=e.getCurrentPDFDoc();t&&t.reloadPDFForm()}))}break;case i:A=[{type:"file",value:c[d].getAsFile()}],e.paste(A)}}}}};document.addEventListener("paste",r),this.addDestroyHook((function(){document.removeEventListener("paste",r)}))}}]),n}(U.Disposable),r_=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"viewer",void 0),(0,X._)((0,k._)(e),"eventEmitter",new Vs.EventEmitter),e}return(0,P._)(n,[{key:"allInjected",value:function(){var e=this;this.ownsTo(this.viewer),this.eventEmitter.emit("change"),this.addDestroyHook((function(){e.eventEmitter.removeAllListeners()}))}},{key:"updateGetAnnotComponentConfig",value:function(e){if("function"!=typeof e)throw new Error("The 'getAnnotComponentConfig' option must be a function.");this.viewer.customs.getAnnotComponentConfig=e,this.eventEmitter.emit("change")}},{key:"onGetAnnotComponentConfigUpdated",value:function(e){var t=this,n=function(){e(t.viewer)};return this.eventEmitter.on("change",n),function(){t.eventEmitter.off("change",n)}}}],[{key:"inject",value:function(){return{viewer:T_}}}]),n}(U.Disposable),o_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FoxitWebPDFSDKForWeb";(0,_._)(this,e),(0,X._)(this,"defaultDatabaseName",void 0),(0,X._)(this,"STORE_NAME",void 0),(0,X._)(this,"databasePromise",void 0),(0,X._)(this,"removeEventListeners",void 0),(0,X._)(this,"changeEventListeners",void 0),(0,X._)(this,"pdfViewer",void 0),(0,X._)(this,"isClosed",void 0),(0,X._)(this,"notConnected",void 0),(0,X._)(this,"databaseDefer",void 0),(0,X._)(this,"waitQueue",void 0),this.defaultDatabaseName=t,this.STORE_NAME="data",this.removeEventListeners=new Set,this.changeEventListeners=new Set,this.isClosed=!1,this.notConnected=!0,this.waitQueue=new U.QueuedAsyncTaskExecutor}return(0,P._)(e,[{key:"connectDB",value:function(){var e,t,n=this,i=(null===(t=this.pdfViewer)||void 0===t||null===(e=t.customs)||void 0===e?void 0:e.storageDatabaseName)||this.defaultDatabaseName,r=window.indexedDB.open(i,1);this.databaseDefer=(0,U.createDeferred)(),this.databasePromise=this.databaseDefer.promise,this.notConnected=!1,r.onerror=function(){n.databaseDefer.reject(r.error)},r.onsuccess=function(){n.databaseDefer.resolve(r.result),r.result.onclose=function(){n.notConnected=!0}},r.onupgradeneeded=function(){r.result.createObjectStore(n.STORE_NAME).createIndex("id,feature,key",["id","feature","key"],{unique:!0})}}},{key:"useStore",value:function(e){var t=this;return(0,x._)((function(){var n,i;return(0,F.Jh)(this,(function(r){if(t.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");var o;return t.notConnected&&t.connectDB(),o=(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.databasePromise];case 1:return n=i.sent(),[2,e((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return n.transaction([t.STORE_NAME],e?"readonly":"readwrite").objectStore(t.STORE_NAME)}))]}}))})),n=function(){return o.apply(this,arguments)},i=n(),t.waitQueue.exec((function(){return i})),[2,i]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(i){return[2,n.useStore((function(i){return n.getValue(i(!0),e,t)}))]}))}))()}},{key:"onChange",value:function(e){var t=this,n={callback:e};return this.changeEventListeners.add(n),function(){t.changeEventListeners.delete(n)}}},{key:"remove",value:function(e,t){var n=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return[4,n.useStore((r=(0,x._)((function(i){var r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return r=i().delete(IDBKeyRange.only(n.generateKeyArray(e,t))),o=(0,U.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve()},[4,o.promise];case 1:return a.sent(),n.dispatchRemoveEvent(e,t),[2]}}))})),function(e){return r.apply(this,arguments)}))];case 1:return i.sent(),[2]}var r}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){switch(n.label){case 0:return[4,t.useStore((i=(0,x._)((function(n){var i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.getAllKeys(n(!0),e)];case 1:return i=r.sent(),[4,Promise.all(i.map(function(){var i=(0,x._)((function(i){var r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return r=n().delete(IDBKeyRange.only(i)),o=(0,U.createDeferred)(),r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve()},[4,o.promise];case 1:return a.sent(),t.dispatchRemoveEvent(e,i),[2]}}))}));return function(e){return i.apply(this,arguments)}}()))];case 2:return r.sent(),[2]}}))})),function(e){return i.apply(this,arguments)}))];case 1:return n.sent(),[2]}var i}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return[4,i.useStore((o=(0,x._)((function(r){var o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:return[4,i.has(e,t)];case 1:return(o=u.sent())?[4,i.getValue(r(!0),e,t)]:[3,3];case 2:return A=u.sent(),[3,4];case 3:A=void 0,u.label=4;case 4:return(a=A)===n||JSON.stringify(a)===JSON.stringify(n)?[2]:(s=o?r().put(n,i.generateKeyArray(e,t)):r().add(n,i.generateKeyArray(e,t)),c=(0,U.createDeferred)(),s.onerror=function(){return c.reject(s.error)},s.onsuccess=function(){return c.resolve()},[4,c.promise]);case 5:return u.sent(),i.dispatchChangeEvent({context:e,key:t,oldValue:a,newValue:n}),[2]}}))})),function(e){return o.apply(this,arguments)}))];case 1:return r.sent(),[2]}var o}))}))()}},{key:"getAll",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){return[2,t.useStore((i=(0,x._)((function(n){var i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.getAllKeys(n(),e)];case 1:return i=o.sent(),r={},i.length?[4,Promise.all(i.map(function(){var e=(0,x._)((function(e){var t,i,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return t=n(),i=t.get(IDBKeyRange.only(e)),o=(0,U.createDeferred)(),i.onerror=function(){return o.reject(i.error)},i.onsuccess=function(){return o.resolve(i.result)},[4,o.promise];case 1:return a=A.sent(),r[e[2]]=a,[2]}}))}));return function(t){return e.apply(this,arguments)}}()))]:[2,r];case 2:return o.sent(),[2,r]}}))})),function(e){return i.apply(this,arguments)}))];var i}))}))()}},{key:"onRemove",value:function(e){var t=this,n={type:"remove",callback:e};return this.removeEventListeners.add(n),function(){t.removeEventListeners.delete(n)}}},{key:"close",value:function(){var e=this;return(0,x._)((function(){var t;return(0,F.Jh)(this,(function(n){switch(n.label){case 0:if(e.isClosed)return[2];e.isClosed=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.databasePromise];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[4,e.waitQueue.waitForCurrentRunningTasks()]:[2];case 5:return n.sent(),[4,e.waitQueue.waitUntilQuiet(10)];case 6:return n.sent(),t.close(),[2]}}))}))()}},{key:"has",value:function(e,t){var n=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(i){return[2,n.useStore((function(i){var r=i().getKey(IDBKeyRange.only(n.generateKeyArray(e,t))),o=(0,U.createDeferred)();return r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(!!r.result)},o.promise}))]}))}))()}},{key:"generateKeyArray",value:function(e,t){return[e.id||"",e.feature||""].concat(2===arguments.length?[t||""]:[])}},{key:"getValue",value:function(e,t,n){var i=IDBKeyRange.only(this.generateKeyArray(t,n)),r=e.get(i),o=(0,U.createDeferred)();return r.onerror=function(){return o.reject(r.error)},r.onsuccess=function(){return o.resolve(r.result)},o.promise}},{key:"getAllKeys",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A;return(0,F.Jh)(this,(function(s){switch(s.label){case 0:return i=e.getAllKeys(IDBKeyRange.lowerBound(n.generateKeyArray(t))),r=(0,U.createDeferred)(),i.onerror=function(){return r.reject(i.error)},i.onsuccess=function(){return r.resolve(i.result)},[4,r.promise];case 1:return o=s.sent(),a=t.id||"",A=t.feature||"",[2,o.filter((function(e){return e[0]===a&&e[1]===A}))]}}))}))()}},{key:"dispatchRemoveEvent",value:function(e,t){this.removeEventListeners.forEach((function(n){(0,n.callback)({context:e,key:t})}))}},{key:"dispatchChangeEvent",value:function(e){this.changeEventListeners.forEach((function(t){(0,t.callback)((0,b._)({},e))}))}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),e}(),a_=function(){function e(){(0,_._)(this,e),(0,X._)(this,"pdfViewer",void 0)}return(0,P._)(e,[{key:"getAll",value:function(e){return this.getStorageDriverImpl().getAll(e)}},{key:"get",value:function(e,t){return this.getStorageDriverImpl().get(e,t)}},{key:"set",value:function(e,t,n){return this.getStorageDriverImpl().set(e,t,n)}},{key:"removeAll",value:function(e){return this.getStorageDriverImpl().removeAll(e)}},{key:"remove",value:function(e,t){return this.getStorageDriverImpl().remove(e,t)}},{key:"onChange",value:function(e){return this.getStorageDriverImpl().onChange(e)}},{key:"onRemove",value:function(e){return this.getStorageDriverImpl().onRemove(e)}},{key:"getStorageDriverImpl",value:function(){var e=this.pdfViewer.customs.storageDriver;if(e)return this.getStorageDriverImpl=function(){return e},e;var t=this.pdfViewer.getIoC().getInstanceByClass(o_);return this.getStorageDriverImpl=function(){return t},t}},{key:"close",value:function(){return this.getStorageDriverImpl().close()}},{key:"isClosed",get:function(){return this.getStorageDriverImpl().isClosed}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),e}(),A_=function(){function e(){(0,_._)(this,e),(0,X._)(this,"pdfViewer",void 0),(0,X._)(this,"driverWrapper",void 0)}return(0,P._)(e,[{key:"driver",get:function(){if(this.driverWrapper.isClosed)throw new Error("Unable to execute storage operations after the driver has been closed!");return this.driverWrapper}},{key:"getAll",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){return n=t.getContext(e),[2,t.driver.getAll(n)]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,x._)((function(){var i;return(0,F.Jh)(this,(function(r){return i=n.getContext(e),[2,n.driver.get(i,t)]}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,x._)((function(){var r;return(0,F.Jh)(this,(function(o){return r=i.getContext(e),[2,i.driver.set(r,t,n)]}))}))()}},{key:"remove",value:function(e,t){var n=this;return(0,x._)((function(){var i;return(0,F.Jh)(this,(function(r){return i=n.getContext(e),[2,n.driver.remove(i,t)]}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){return n=t.getContext(e),[2,t.driver.removeAll(n)]}))}))()}},{key:"getContext",value:function(e){return{feature:e,id:this.pdfViewer.getInstanceId(),pdfViewer:this.pdfViewer}}},{key:"onChange",value:function(e){return this.driver.onChange((function(t){e((0,b._)({},t))}))}},{key:"onRemove",value:function(e){return this.driver.onRemove((function(t){e((0,b._)({},t))}))}},{key:"destroy",value:function(){if(!this.driverWrapper.isClosed)return this.driver.close()}}],[{key:"inject",value:function(){return{pdfViewer:T_,driverWrapper:a_}}}]),e}(),s_="bookmark-added-event",c_="bookmark-deleted-event",u_="bookmark-moved-event",l_="bookmark-properties-updated-event",d_=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.apply(this,arguments),(0,X._)((0,k._)(e),"pdfViewer",void 0),(0,X._)((0,k._)(e),"rootBookmarksPromise",void 0),(0,X._)((0,k._)(e),"permissionStore",new U.ValueStore(!1)),(0,X._)((0,k._)(e),"bookmarkChildrenStore",new U.ValueStore),(0,X._)((0,k._)(e),"bookmarkDataMap",new Map),(0,X._)((0,k._)(e),"currentCutBookmarkNodeInfo",void 0),(0,X._)((0,k._)(e),"pasteBookmarkStore",new U.ValueStore),(0,X._)((0,k._)(e),"pdfDocDefer",new U.Defer),(0,X._)((0,k._)(e),"eventEmitter",new Vs.EventEmitter),(0,X._)((0,k._)(e),"updateDestination",e.setDestination),e}return(0,P._)(n,[{key:"allInjected",value:function(){var e=this;this.addDestroyHook(this.pdfViewer.addEventListener(de.willCloseDocument,(function(){e.rootBookmarksPromise=void 0,e.pdfDocDefer=new U.Defer,e.bookmarkDataMap.clear(),e.pasteBookmarkStore.remove(),e.clearCutBookmark()})),this.pdfViewer.addEventListener(de.openFileSuccess,(function(t){e.pdfDocDefer.resolve(t);var n=t.checkPermission(en.assemble);e.permissionStore.dispatch(!!n)})),this.pdfViewer.addEventListener(de.permissionChanged,(function(){var t=e.pdfViewer.getCurrentPDFDoc();if(t){var n=t.checkPermission(en.assemble);e.permissionStore.dispatch(!!n)}})));var t=this.pdfViewer.getCurrentPDFDoc();t&&this.pdfDocDefer.resolve(t)}},{key:"onPermissionChange",value:function(e){return this.permissionStore.subscribe(e)}},{key:"onBookmarkChildrenReloaded",value:function(e){return this.bookmarkChildrenStore.subscribe((function(t){if(t)return e(t.parentId,t.children)}))}},{key:"reloadBookmarkChildren",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return void 0===e&&(t.rootBookmarksPromise=t.getBookmarkChildren(e)),[4,t.getBookmarkChildren(e)];case 1:return n=i.sent(),[4,t.bookmarkChildrenStore.dispatch({parentId:e,children:n})];case 2:return i.sent(),[2]}}))}))()}},{key:"getBookmarkChildren",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return[4,t.getBookmarkAPI()];case 1:return(n=a.sent())?[4,n.getBookmarkChildren(e)]:[2,[]];case 2:return i=a.sent(),r=i.map((function(e){var n=t.bookmarkDataMap.get(e.id),i=(0,b._)({},n||{},e);return t.bookmarkDataMap.set(e.id,i),i})),e&&(o=t.bookmarkDataMap.get(e))&&(r.length>0&&(o.hasChild=!0),o.children=r),[2,r]}}))}))()}},{key:"getBookmarkData",value:function(e){return this.bookmarkDataMap.get(e)}},{key:"getParentBookmarkId",value:function(e){var t=Array.from(this.bookmarkDataMap.values()).find((function(t){var n;return!!(null===(n=t.children)||void 0===n?void 0:n.find((function(t){return t.id===e})))}));return null==t?void 0:t.id}},{key:"getFirstLevelBookmarks",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){return[2,e.rootBookmarksPromise=e.rootBookmarksPromise||e.getBookmarkChildren(void 0)]}))}))()}},{key:"getDestination",value:function(){var e=this;return(0,x._)((function(){var t,n,i,r,o,a,A,s,c,u,l,d,h;return(0,F.Jh)(this,(function(f){switch(f.label){case 0:if(8,t=e.pdfViewer.getPDFDocRender(),n=e.pdfViewer.getDeviceCurrentPosition(),i=n.top,r=n.left,o=n.pageIndex,r=Math.max(0,r),i=Math.max(i,Math.max(8,i))-8,!e.pdfViewer.pdfViewerRender)throw new Error("BookmarkService.getDestination failed: PDFViewer.pdfViewerRender is not defined!");return a=e.pdfViewer.getPDFPageRender(o),A=a.getScale(),s=a.getRotation(),[4,a.getPDFPage()];case 1:return c=f.sent(),u=(0,E._)(c.reverseDevicePoint([r,i],A,s),2),r=u[0],i=u[1],l=t.scale,h=0,"fitWidth"===l?d=tb.ZoomFitHorz:"fitPage"===l||"fitHeight"===l?d=tb.ZoomFitPage:"fitVisible"===l?d=tb.ZoomFitBHorz:(d=tb.ZoomXYZ,h=l),[2,{top:i,left:r,pageIndex:o,zoomMode:d,zoomFactor:h}]}}))}))()}},{key:"addBookmark",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:if("number"!=typeof e.destId)switch(e.relationship){case eb.FIRST_CHILD:case eb.LAST_CHILD:break;default:throw new Error("When destId is not defined, relationship must be 'BookmarkRelationship.FIRST_CHILD' or 'BookmarkRelationship.LAST_CHILD'")}return t.pdfViewer.getCurrentPDFDoc()?[4,t.getBookmarkAPI()]:[2];case 1:return(n=u.sent())?(i=localStorage.getItem("bookmark_default_appearance"),r=e.title||t.pdfViewer.i18n.t("sidebar.bookmark.untitled"),[4,t.getDestination()]):[2];case 2:return o=u.sent(),a=(0,b._)({},o,e.destination||{}),A=t.pdfViewer.getPDFDocRender().scale,"zoomFactor"in a||(a.zoomFactor=isFinite(A)?A:0),[4,n.insertBookmark({newBookmarkId:e.newBookmarkId,destId:e.destId,relationship:e.relationship,title:r,destination:a,color:e.color?(0,U.colorConvertor)(e.color,"int"):void 0,style:e.style})];case 3:return s=u.sent(),i?[4,n.setProperties(s,JSON.parse(i))]:[3,5];case 4:u.sent(),u.label=5;case 5:return[4,n.getBookmarkData(s)];case 6:return c=u.sent(),t.bookmarkDataMap.set(s,c),t.emitEvent(s_,{bookmarkId:s,data:c,options:e}),t.triggerDocModified(),[2,s]}}))}))()}},{key:"deleteBookmark",value:function(e){var t=this;return(0,x._)((function(){var n,i,r,o,a,A;return(0,F.Jh)(this,(function(s){switch(s.label){case 0:return[4,t.getBookmarkAPI()];case 1:return(r=s.sent())?(o=t.getParentBookmarkId(e),[4,r.remove(e)]):[2];case 2:if(!s.sent())throw new Error("Unable to delete bookmark for unknown reason!");return a=t.getBookmarkData(e),A=function(e){var n,i=t.getBookmarkData(e);i&&(null===(n=i.children)||void 0===n||n.forEach((function(e){return A(e.id)})),t.bookmarkDataMap.delete(e))},A(e),(null===(n=t.currentCutBookmarkNodeInfo)||void 0===n?void 0:n.id)!==e&&(null===(i=t.currentCutBookmarkNodeInfo)||void 0===i?void 0:i.parentId)!==e||t.clearCutBookmark(),t.reloadBookmarkChildren(o),t.emitEvent(c_,{bookmarkId:e,data:a}),t.triggerDocModified(),[2]}}))}))()}},{key:"setDestination",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A;return(0,F.Jh)(this,(function(s){switch(s.label){case 0:return[4,n.getBookmarkAPI()];case 1:return s.sent()?[4,n.getBookmarkData(e)]:[2];case 2:return i=s.sent(),r=i?{pageIndex:i.page,top:i.top,left:i.left,zoomMode:i.zoomMode,zoomFactor:i.zoomFactor}:{},t?[3,4]:[4,n.getDestination()];case 3:t=s.sent(),s.label=4;case 4:return o=(0,b._)({},r,t),[4,n.setProperties(e,{destination:o})];case 5:return a=s.sent(),(A=n.bookmarkDataMap.get(e))&&(A.page=o.pageIndex,A.top=o.top||0,A.left=o.left||0,A.zoomMode=o.zoomMode,A.zoomFactor=o.zoomFactor),[2,a]}}))}))()}},{key:"performAction",value:function(e){var t=this;return(0,x._)((function(){var n,i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.getBookmarkAPI()];case 1:return(n=o.sent())?[4,n.getAction(e)]:[2];case 2:return(r=o.sent())?[3,4]:[4,n.getDestination(e)];case 3:r=o.sent(),o.label=4;case 4:return(i=r)?[4,t.pdfViewer.actionManager.get(i,t).active()]:[2];case 5:return o.sent(),[2]}}))}))()}},{key:"renameBookmark",value:function(e,t){var n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.getBookmarkAPI()];case 1:return o.sent()?(i=n.bookmarkDataMap.get(e))&&i.title===t?[2]:[4,n.setProperties(e,{title:t})]:[2];case 2:return r=o.sent(),(i=n.bookmarkDataMap.get(e))&&(i.title=t),[2,r]}}))}))()}},{key:"setColor",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getBookmarkAPI()];case 1:return a.sent()?(i=n.bookmarkDataMap.get(e))&&i.color===t?[2]:[4,n.setProperties(e,{color:(0,U.colorConvertor)(t,"int")})]:[2];case 2:return r=a.sent(),(i=n.bookmarkDataMap.get(e))&&(o=r.newProperties.color,i.color=void 0===o?void 0:(0,U.colorConvertor)(o,"#")),[2,r]}}))}))()}},{key:"setFontStyle",value:function(e,t){var n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return[4,n.getBookmarkAPI()];case 1:return o.sent()?[4,n.setProperties(e,{style:t})]:[2];case 2:return i=o.sent(),(r=n.bookmarkDataMap.get(e))&&(r.style=t),[2,i]}}))}))()}},{key:"setProperties",value:function(e,t){var n=this;return(0,x._)((function(){var i,r,o,a,A,s;return(0,F.Jh)(this,(function(c){switch(c.label){case 0:return[4,n.getBookmarkAPI()];case 1:return[4,(i=c.sent()).setProperties(e,t)];case 2:return r=c.sent(),o=r.oldProperties,a=r.newProperties,[4,i.getBookmarkData(e)];case 3:return(A=c.sent())&&n.bookmarkDataMap.set(e,A),n.rootBookmarksPromise?[4,n.rootBookmarksPromise]:[3,5];case 4:s=c.sent(),n.rootBookmarksPromise=Promise.resolve(s.map((function(e){return n.getBookmarkData(e.id)}))),c.label=5;case 5:return n.emitEvent(l_,{bookmarkId:e,oldProperties:o,newProperties:a}),n.triggerDocModified(),[2,{oldProperties:o,newProperties:a}]}}))}))()}},{key:"cutBookmark",value:function(e,t){this.currentCutBookmarkNodeInfo={id:e,parentId:t}}},{key:"clearCutBookmark",value:function(){this.currentCutBookmarkNodeInfo=void 0}},{key:"getCurrentCutBookmarkNodeInfo",value:function(){return this.currentCutBookmarkNodeInfo}},{key:"pasteCutBookmark",value:function(e,t,n){var i=this;return(0,x._)((function(){var r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return i.currentCutBookmarkNodeInfo?(r=i.currentCutBookmarkNodeInfo,o=r.id,a=r.parentId,[4,i.moveBookmark(o,a,e,t,n)]):[2];case 1:return A.sent(),[4,i.pasteBookmarkStore.dispatch({destId:e,srcId:o,relationship:n,srcParentId:a,destParentId:t})];case 2:return A.sent(),i.clearCutBookmark(),[2]}}))}))()}},{key:"moveBookmark",value:function(e,t,n,i,r){var o=this;return(0,x._)((function(){var a,A;return(0,F.Jh)(this,(function(s){switch(s.label){case 0:return[4,o.getBookmarkAPI()];case 1:return(a=s.sent())&&o.bookmarkDataMap.get(e)?[4,a.moveTo({destId:n,srcId:e,relationship:r})]:[2];case 2:switch(s.sent(),A=[],r){case eb.FIRST_CHILD:case eb.LAST_CHILD:A.push(o.reloadBookmarkChildren(n));break;case eb.FIRST_SIBLING:case eb.LAST_SIBLING:case eb.NEXT_SIBLING:case eb.PREVIOUS_SIBLING:i!==t&&A.push(o.reloadBookmarkChildren(i))}return A.push(o.reloadBookmarkChildren(t)),[4,Promise.all(A)];case 3:return s.sent(),o.emitEvent(u_,{destId:n,srcId:e,relationship:r,srcParentId:t,destParentId:i}),o.triggerDocModified(),[2]}}))}))()}},{key:"onPasteCutBookmark",value:function(e){return this.pasteBookmarkStore.subscribe(e)}},{key:"getBookmarkAPI",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.pdfDocDefer.promise];case 1:return[2,t.sent().getBookmarkAPI()]}}))}))()}},{key:"onBookmarkDeleted",value:function(e){return this.registerEvent(c_,e)}},{key:"onBookmarkAdded",value:function(e){return this.registerEvent(s_,e)}},{key:"onBookmarkMoved",value:function(e){return this.registerEvent(u_,e)}},{key:"onBookmarkPropertiesUpdated",value:function(e){return this.registerEvent(l_,e)}},{key:"registerEvent",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){n.eventEmitter.off(e,t)}}},{key:"emitEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r;(r=this.eventEmitter).emit.apply(r,[e].concat((0,R._)(n)))}},{key:"triggerDocModified",value:function(){var e=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.pdfDocDefer.promise];case 1:return[4,t.sent().setDocModified()];case 2:return t.sent(),[2]}}))}))()}}],[{key:"inject",value:function(){return{pdfViewer:T_}}}]),n}(U.Disposable);const h_={ActionCallback:{alert:function(e){var t=e.message;e.title,e.type,e.icon;return function(e,t,n,i){return new Promise((function(t){window.alert(e),t(1)}))}(t)},response:function(e){e.question,e.title,e.defaultValue,e.label,e.isPassword}}},f_={XFAAppProvider:{msgBox:function(e){var t=e.message;e.title,e.iconType,e.buttonType;return new Promise((function(e){window.alert(t),e(1)}))},response:function(e){e.question,e.title,e.defaultAnswer,e.isPassword}}};var p_=U.LoggerFactory.getLogger("ServiceWorker");var g_,v_=n(9901),m_=n.n(v_),y_=n(2843),b_=n.n(y_),w_=[".mp3",".wav",".ogg"],k_=w_.concat([".mp4",".m4a",".mov",".avi"]),x_=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e,i,r){var o;return(0,_._)(this,n),o=t.call(this),(0,X._)((0,k._)(o),"eContainer",void 0),(0,X._)((0,k._)(o),"annot",void 0),(0,X._)((0,k._)(o),"pdfViewer",void 0),(0,X._)((0,k._)(o),"$container",void 0),(0,X._)((0,k._)(o),"eventEmitter",void 0),(0,X._)((0,k._)(o),"rendition",void 0),(0,X._)((0,k._)(o),"player",void 0),(0,X._)((0,k._)(o),"blob",void 0),o.eContainer=e,o.annot=i,o.pdfViewer=r,o.pdfViewer=r,o.annot=i,o.$container=N()(o.eContainer),o.eventEmitter=new(Us()),o}return(0,P._)(n,[{key:"isSupport",value:function(e){if("fileName"in e){var t=this.getFileExt(e.fileName);return Promise.resolve(k_.indexOf(t)>-1)}return Promise.resolve(!1)}},{key:"init",value:function(e){var t=this;return this.rendition=e,this.isSupport({buffer:e.buffer,fileName:e.fileName}).then((function(n){if(n){var i=t.createUrlfromData(e);t.createDom(t.getFileExt(e.fileName),i),t.updatePlayerRect()}else t.alertUnsupportMsg();return Promise.resolve()}))}},{key:"getFileExt",value:function(e){var t=e.substr(e.lastIndexOf(".")).toLowerCase();return t.indexOf("?")>0&&(t=t.substr(0,t.indexOf("?"))),t}},{key:"createUrlfromData",value:function(e){var t=e.buffer,n=e.fileName,i=e.contentType;if(!t)return n;var r=this.pdfViewer.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL).expose().URL,o=t;return this.blob=new Blob([o.buffer],{type:i}),r.createObjectURL(this.blob)}},{key:"createDom",value:function(e,t){var n=this,i="";if(w_.indexOf(e)>-1){var r=U.isMobile||U.isSafari?"":"fv__hide";this.$container.addClass(r),i=m_()({type:"audio",url:t})}else i=b_()({url:t});this.$container.append(i),this.player=this.$container[0].querySelector(".fv__player"),(U.isIE||U.isEdge)&&this.$container.addClass("IE-player");var o=this.$container[0].querySelector(".fv__close-video").parentNode;o.addEventListener("click",(function(e){n.player&&n.player.pause&&n.player.pause(),n.$container.hide(),e.stopPropagation()})),o.addEventListener("mousedown",(function(e){e.stopPropagation()})),o.addEventListener("pointerdown",(function(e){e.stopPropagation()})),o.addEventListener("touchstart",(function(e){e.stopPropagation()}));var a=function(e){n.eventEmitter.emit("play",n.annot)},A=function(e){n.eventEmitter.emit("pause",n.annot)},s=function(e){n.eventEmitter.emit("ended",n.annot)},c=function(e){e.preventDefault()};this.player.addEventListener("play",a),this.player.addEventListener("pause",A),this.player.addEventListener("ended",s),this.player.addEventListener("click",c),this.addDestroyHook((function(){n.player.removeEventListener("play",a),n.player.removeEventListener("pause",A),n.player.removeEventListener("ended",s),n.player.removeEventListener("click",c)}))}},{key:"on",value:function(e,t){var n=this;return this.eventEmitter.on(e,t),function(){return n.eventEmitter.off(e,t)}}},{key:"play",value:function(){var e=this;if(this.player)if(this.player.paused){var t=this.player.play();void 0!==t&&t.then((function(){U.isSafari&&e.player.play()})).catch((function(t){U.isSafari||(e.alertUnsupportMsg(),e.$container.remove())}))}else this.player.pause()}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"updatePlayerRect",value:function(){var e=this.pdfViewer.getPDFPageRender(0),t=e.getScale(),n=e.getRotation(),i=this.annot.getDeviceRect(t,n);return this.player?(this.$container.css({left:i.left+"px",top:i.top+"px",width:i.right-i.left+"px",height:i.bottom-i.top+"px"}),i):i}},{key:"alertUnsupportMsg",value:function(){this.pdfViewer.viewerUI.alert({message:this.pdfViewer.i18n.t("viewer_:contextmenu.annot.noSptPlayPlsDownload_websdk"),level:"warning",isHTML:!0})}},{key:"download",value:function(){if(!this.blob)return this.alertUnsupportMsg();this.rendition&&this.rendition.fileName&&this.blob.type&&Fa(this.blob,this.rendition.fileName,this.blob.type)}}]),n}(U.Disposable),__=function(){},P_=function(){return-1},D_="JR",C_="canvas",S_={annotRenderingMode:{square:C_,highlight:C_,caret:C_,squiggly:C_,underline:C_,strikeout:C_,choiceButton:C_,pushButton:C_,radioButton:C_,textField:C_,comboBox:C_,note:C_,fileAttachment:C_,sound:C_,freetext:C_,redact:C_},highPerformance:!1,enableSignature:!1},I_="undefined",E_={destroyCurrentDoc:!0},R_=function(e){(0,S._)(i,e);var t=(0,M._)(i);function i(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(r.preloadJR,r.preloadSR,r.libPath),a=r.jr,A=r.sr,s=r.i18n,c=r.i18nOptions,u=r.eventEmitter,l=void 0===u?new(Us()):u,d=r.minScale,h=void 0===d?.01:d,f=r.maxScale,p=void 0===f?10:f,g=r.defaultScale,v=void 0===g?"fitWidth":g,m=r.scaleFrequency,y=void 0===m?0:m,b=r.tileSize,w=void 0===b?1e6:b,x=r.tileCache,P=void 0===x?2:x,D=r.getTileSize,C=void 0===D?null:D,S=r.StateHandlers,I=void 0===S?[]:S,E=r.customs,M=void 0===E?{}:E,F=(r.keymap,r.Viewmodes),L=void 0===F?[]:F,N=r.enableJS,O=r.enableSafeMode,B=r.stateHandlerConfig,j=r.watermarkConfig,V=r.actionOptions,H=void 0===V?{}:V,z=r.defaultViewMode,W=void 0===z?"continuous-view-mode":z,Y=r.snapshotServer,G=void 0===Y?new bm({uploadSnapshotAPIPath:"snapshot/upload"}):Y,$=r.collaboration,K=void 0===$?{enable:!1,annotationFormat:"fdf",communicator:null,handlerClasses:[],continueToConnect:function(e,t){return e<15}}:$,q=r.highPerformance,J=void 0!==q&&q,X=r.annotRenderingMode,Q=(r.defaultKeyboardEventBinder,r.defaultAnnotConfig),Z=r.enableSignature,te=r.enableShortcutKey,ne=void 0===te||te,ie=r.enable3DInteraction,re=void 0===ie||ie,oe=r.enableLoad3DModule,ae=void 0===oe||oe,Ae=r.engineMode,se=void 0===Ae?D_:Ae,ce=r.sharedWorker,ue=void 0!==ce&&ce,le=r.noJSFrame,he=void 0!==le&&le,fe=r.showCommentList,pe=void 0!==fe&&fe,ge=r.showAnnotTooltip,ve=void 0!==ge&&ge,me=r.showFormFieldTooltip,ye=void 0!==me&&me,be=r.showMeasurementInfoPanel,we=void 0===be||be,ke=r.viewerUI,xe=r.applicationContext,_e=r.instanceId,Pe=r.messageSyncServiceWorker;(0,_._)(this,i),(n=t.call(this)).enableOpenAction=!0,n.enablePageAction=!0,n.ioc=xe||new U.ApplicationContextImpl,n.keyboard=new U.KeyboardImpl,n.$constructorOptions=arguments[0],n.tileCache=Number(P)>0?!0===P?Number.MAX_VALUE:Number(P):0;var De=n.ioc.getInstanceByClass(Qx);if(!("instanceId"in arguments[0])&&De.hasPDFViewerInstance()&&(_e=De.getNextInstanceId()),De.isUsedInstanceId(_e))throw new Error("There are already instances of PDFViewer that use this instanceId: ".concat(_e,", please change it to other value."));if(n.instanceId=_e,n.localStorage=new bx(_e),n.addDestroyHook(De.addPDFViewerInstance((0,k._)(n))),De.isMultipleCase()&&(he&&U.LoggerFactory.getLogger("PDFViewer").warn("There are currently multiple PDFViewer instances being constructed, the noJSFrame option is forced to false!"),he=!1),o)if(qs(o));else{o=Ws(Hs()).join(o).absolute(!1)}else o=Ws(Hs()).absoluteDir();"/"!==o[o.length-1]&&(o+="/"),n.libPath=o;var Ce="jr-engine/gsdk";(a=a||{}).licenseKey=a.licenseKey||"",a.licenseSN=a.licenseSN||"",a.l=a.l||"";var Se=a.workerPath||"";Se?qs(Se)||(Se=$s(o,Se)):Se=o;var Ie=a.enginePath;a.workerPath=Se,a.enginePath=Ie,a.enginePath=a.enginePath||Ce,Ie?qs(Ie)||(Ie=$s(o,Ie)):Ie=o+Ce,a.enginePath=Ie;var Ee=a.fontPath;Ee?qs(Ee)||(Ee=$s(o,Ee)):Ee=$s(o,"../external/brotli"),a.brotli=Object.assign({core:!0},a.brotli),a.fontPath=Ee,a.fontInfoPath&&(a.fontInfoPath=$s(o,a.fontInfoPath)),Pe=Pe||{};var Re=location.href.match(/^\w+\:\/\//)?location:window.parent.location,Te=new URL(Pe.syncBaseUrl||"/__foxitwebsdk-syncmsg__",Re).href;Pe.syncBaseUrl=Te,Pe.url=Pe.url||Ks(Se,"MessageWorker.js")+"?b="+Te,a.syncBaseUrl=Te,n.snapshotServer=G;var Me=(A=A||{}).workerPath||"";Me=Me?qs(Me)?Se:$s(o,Me):o,A.workerPath=Me;var Fe=(c=(0,U.extendOptions)({initOption:{ns:"viewer_"}},c)).path;Fe?qs(Fe)||(Fe=$s(o,Fe)):Fe=o+"locales",c.absolutePath=c.absolutePath||Fe,n.i18n=s||Os(c),function(e){if(!e.$$overrided){e.$$overrided=!0;var t=e.t;e.t=function(n,i){if(!n)return n;switch(void 0===n?"undefined":(0,T._)(n)){case"number":case"symbol":case"bigint":case"boolean":case"function":return n;case"string":break;default:if(!Array.isArray(n))return n}return e.exists(n,i)?t.call(e,n,i):n}}}(n.i18n),se=se.toUpperCase(),-1===[D_,"SR","MIX"].indexOf(se)&&(se=D_);var Le={},Ne=!0;switch(n.customs=Object.assign({closeDocBefore:__,closeDocAfter:__,getDocPermissions:P_,beforeRenderPDFDoc:__,executeNavigationAction:__,getAnnotComponentConfig:__,storageDriver:void 0,cemicircleCloudy:!1,syncTextScaling:!1},M),se){case"SR":X||(Le=S_.annotRenderingMode),(void 0===J?"undefined":(0,T._)(J))!==I_&&J,Ne=(void 0===Z?"undefined":(0,T._)(Z))!==I_&&Z,document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR();break;case"MIX":document.body.classList.add("fv__viewer-sr__"),n.pdfEngine=n.getWebPDFSR(),n.mixPdfJREngine=n.getWebPDFJR();break;default:n.pdfEngine=n.getWebPDFJR()}var Oe=(0,k._)(n);n.actionOptions=Object.assign({remoteGotoActionInit:function(){var e=window.opener;if(e){var t=function(e){if(e.source!==window){var t=e.data,n=t.foxitSdkActionType,i=t.foxitSdkActionUrl,r=t.foxitSdkActionFileName,o=t.top,a=(t.bottom,t.left),A=(t.right,t.pageIndex),s=t.zoomFactor,c=t.zoomMode;"TypeGoToR"===n&&Oe.openPDFByHttpRangeRequest({range:{url:i}},{fileName:r}).then((function(){l.once(de.renderPageSuccess,(function(){switch(c){case"ZoomXYZ":var e=s;0===e?Oe.goToPage(A,o,a,0!==o):Oe.zoomTo(e,!1).then((function(){Oe.goToPage(A,o,a,0!==o)}));break;case"ZoomFitHorz":Oe.zoomTo("fitWidth",!1).then((function(){Oe.goToPage(A,o,a,0!==o)}));break;case"ZoomFitPage":Oe.zoomTo("fitHeight",!1).then((function(){Oe.goToPage(A,o,a,0!==o)}))}}))}))}};e.postMessage({isReady:!0},window.location.origin),window.addEventListener("message",t,!1),Oe.addDestroyHook((function(){window.removeEventListener("message",t,!1)}))}}},H),ne?n.keyboard.enable():n.keyboard.disable(),n.keyboardListeners=[];for(var Be=n.viewModeManager=new ec((0,k._)(n)),je=0,Ve=L.length;je<Ve;je++)Be.register(L[je]);n.defaultAnnotConfig=Q||function(){return{}},O=void 0===O||O,n.config={sr:A,jr:a,minScale:h,maxScale:p,defaultScale:v,tileSize:w,getTileSize:C,enableJS:N,enableSafeMode:O,defaultViewMode:W,stateHandlerConfig:B,watermarkConfig:j,scaleFrequency:y,highPerformance:!1,annotRenderingMode:Object.assign({highlight:"canvas",choiceButton:"native",pushButton:"native",textField:"native",comboBox:"native",note:"native",fileAttachment:"native",sound:"native",freetext:"native",square:"canvas"},Le,X),enableSignature:Ne,sizeCount:10,enableShortcutKey:ne,enable3DInteraction:re,enableLoad3DModule:ae,engineMode:se,sharedWorker:ue,noJSFrame:he,printSetting:{quality:100,showHeaderFooter:!0},autoCompleteSetting:{level:"off",rememberNumericalData:!0},showCommentList:pe,showAnnotTooltip:ve,showFormFieldTooltip:ye,showMeasurementInfoPanel:we,messageSyncServiceWorker:Pe},n.eventEmitter=l,n.store=new U.Store,n.mementoManager=new Lm((0,k._)(n));var Ue=n.annotManager=new dp((0,k._)(n));"SR"===se&&Ue.setViewerAnnotFlag((function(e){var t=e.getType();return-1===["text","caret","freetext","fileattachment","highlight","ink","line","circle","square","polygon","polyline","squiggly","strikeout","underline","widget","redact","stamp"].indexOf(t)?nn.locked|nn.readOnly:0})),n.actionManager=new Xp((0,k._)(n)),n.JSEngine=new im((0,k._)(n)),n.inkSignManager=new am((0,k._)(n)),n.onlineSignManager=new sm((0,k._)(n)),n.viewerUI=ke||new ay;var He=n.stateHandlerManager=new rm((0,k._)(n));n.viewerUI.prepare((0,k._)(n)),n.customRenderManager=new km((0,k._)(n));var ze=[xx,Px,Dx,Sx,Ix,Ex,Rx,Mx,Fx];(e=I).push.apply(e,(0,R._)(ze));for(var We=0,Ye=I.length;We<Ye;We++)He.register(I[We]);return n.annotsEventMaps=[],n._annotMouseEventCallback=n._annotMouseEventCallback.bind((0,k._)(n)),n._runtimeColor=["RGB",.55,.55,1],n._runtimeColorOpacity=.5,n._runtimeColorRequired=["RGB",.55,.55,1],n._runtimeColorOpacityRequired=1,n._highlightControls=!0,n._highlightControlsUI=!0,n.lifeCycleManager=new vy,n.lifeCycleManager.registerLifecycle(new _y),n.lifeCycleManager.registerLifecycle(new wy((0,k._)(n))),n.lifeCycleManager.registerLifecycle(new ky((0,k._)(n))),n.lifeCycleManager.registerResourceGenerator(Bf.OBJECT_URL,xy),n.activationManager=new ee,n.collaborationOptions=K,n._collaborationDefer=(0,U.createDeferred)(),n.initializers=[new yx,new fx,new px,new vx,new Ox,new i_],n.initializers.forEach((function(e){e.execute((0,k._)(n))})),n.multimediaPlayers=[x_],n}return(0,P._)(i,[{key:"resourceGenerator",value:function(e,t){return this.lifeCycleManager.generator(e,t)}},{key:"getDefaultAnnotConfig",value:function(){return(this.webPDFJR||this.webPDFSR).getDefaultAnnotConfig()||__}},{key:"setDefaultAnnotConfig",value:function(e){(this.webPDFJR||this.webPDFSR).setDefaultAnnotConfig(e)}},{key:"_annotMouseEventCallback",value:function(e){this.annotsEventMaps.map((function(t){t&&t(e)}))}},{key:"startListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.addEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"stopListenAnnotMouseEvent",value:function(){this.cleanListenAnnotMouseEvent(),document.removeEventListener("mouseup",this._annotMouseEventCallback,{capture:!0})}},{key:"addListenAnnotMouseEvent",value:function(e){var t=this;return this.annotsEventMaps.push(e),function(){t.offListenAnnotMouseEvent(e)}}},{key:"offListenAnnotMouseEvent",value:function(e){for(var t=this.annotsEventMaps,n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}},{key:"cleanListenAnnotMouseEvent",value:function(){this.annotsEventMaps=[]}},{key:"changeLanguage",value:function(e){var t=this,n=t_(e);return e!==n&&(LOGGER.warn("You have entered an illegal language code: ".concat(e,", which will be automatically converted to a valid language code: ").concat(n)),e=n),new Promise((function(n,i){t.i18n.changeLanguage(e,(function(r){if(r)return i(r),void t.eventEmitter.emit("change-language-failed");t.eventEmitter.emit("change-language-success",e),n()}))}))}},{key:"getCurrentLanguage",value:function(){return this.i18n.language?this.i18n.language:this.i18n.options.fallbackLng?this.i18n.options.fallbackLng[0]:t_(navigator.language)}},{key:"takeSnapshot",value:function(e,t,n,i,r){var o=this.getPDFPageRender(e);if(!o)throw new Error("page not found: ".concat(e));return o.getSnapshot(t,n,i,r)}},{key:"uploadImage",value:function(e){var t=this;return this.snapshotServer.uploadImage(e).then((function(e){return t.snapshotServer.render,t.snapshotServer.render(e),Promise.resolve(e)})).catch((function(e){return console.warn(t.i18n.t("viewer_:error.snapshotServer")),Promise.reject(e)}))}},{key:"copySnapshot",value:function(e){isSecureContext||console.error("Access clipboard data requires a secure origin, either HTTPS or localhost.");try{return fetch(e).then((function(e){return e.blob()})).then((function(e){return navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then((function(){return Promise.resolve(!0)}),(function(){return Promise.resolve(!1)}))}))}catch(e){return console.error(e),Promise.resolve(!1)}}},{key:"copyImage",value:function(e){this.copySnapshot(e)}},{key:"getKeyboardEventBinder",value:function(e){var t=this.keyboard.getBinder(e);if(!t)throw new Error("event binder not found error: ".concat(e));return t}},{key:"switchKeyboardEventBinder",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.keyboard.activeBinder(e,t)}},{key:"addKeyboardShortcutEventListener",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getDefaultKeyboardEventBinder();return(n=(0,I._)(i,mm)?i:this.keyboard.getBinder(i))?n.on(e,t):__}},{key:"addEventListener",value:function(e,t){var n={};if(Array.isArray(e))e.forEach((function(e){n[e]=t}));else if(e&&"object"==typeof e)Object.keys(e).forEach((function(t){a(e[t]),n[t]=e[t]}));else{if("string"!=typeof e)throw new Error("Incorrect arguments: the arguments of addEventListener must be (string, Function) or (Record<string, Function>) or (Array<string, Function)");a(t),n[e]=t}var i=this.eventEmitter;for(var r in n)i.on(r,n[r]);var o=function(){for(var e in n)i.off(e,n[e])};return function(){o(),o=__};function a(e){if("function"!=typeof e)throw new Error("Illegal argument! Event listener should be a function, but actual: "+(void 0===e?"undefined":(0,T._)(e)))}}},{key:"getDefaultKeyboardEventBinder",value:function(){return this.keyboard.getDefaultKeyboardEventBinder()}},{key:"getWebPDFJR",value:function(){var e=this;if(this.webPDFJRPromise)return this.webPDFJRPromise;var t=(0,U.createDeferred)();return Promise.resolve().then(n.bind(n,302)).then((function(n){var i=new(n.default(pk))(e.config.jr,e.eventEmitter,{storage:e.getDeprecatedStorage(),configuration:{annotation:{cemicircleCloudy:e.customs.cemicircleCloudy,syncTextScaling:e.customs.syncTextScaling}}});e.webPDFJR=i;var r="viewer_:error.initEngine.c2";return i.setDefaultAnnotConfig(e.defaultAnnotConfig),i.init().then((function(e){return e})).then((function(n){var o,a,A,s,c,u=n.other,l={"viewer  component":{version:Ay},"core component":{version:n.version},JR:{version:!0}};if(u){var d=location.href,h=!0;if(u.h){h=!1;for(var f=u.h,p=f.length;p--;){var g=f[p];if(new RegExp(g).test(d)){h=!0;break}}}if(!h)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var v=Date.now(),m=u.b;if(m&&!(h=v>m))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));var y=u.e;if(y&&!(h=v<y))return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"));if(!h)return e.viewerUI.alert(r),void t.reject(new Error("failed to initialize WebPDF JR Engine"))}return n.clientId&&(o=e.config.messageSyncServiceWorker,a=n.clientId,A=e.customs.syncMsg,c=Object.assign({},h_,f_,A),"serviceWorker"in navigator&&((o.registration?Promise.resolve(o.registration):navigator.serviceWorker.register(o.url,Object.assign({scope:"/"},o.options))).then((function(e){s=e}),(function(e){p_.warn("Your service worker registration has failed, potentially resulting in the inability to utilize features like XFA and 3D. Please confirm whether your current environment supports service workers, and double-check the configuration of the scope option and Service-Worker-Allowed response header. Original reason: ",e)})),navigator.serviceWorker.addEventListener("message",(function(e){if(s&&(e.source===s.installing||e.source===s.waiting||e.source===s.active)){var t=e.data||{};if(t.clientId===a){var n=t.type,i=c[n],r=t.action;if(i&&i[r]){var o=t.id;Promise.resolve(i[r](t.data)).then((function(t){e.source.postMessage({id:o,data:t})}),(function(t){e.source.postMessage({id:o,error:t})}))}}}})))),console.table&&console.table(l),e.eventEmitter.emit(de.jrLicenseSuccess),e.getModuleLicenseRight(),t.resolve(i)}),(function(n){e.isDestroyed||e.viewerUI.alert(e.i18n.t("viewer_:error.initEngine.c"+n||0)),t.reject(n)})),i})),this.webPDFJRPromise=t.promise}},{key:"getWebPDFSR",value:function(){var e=this;return this.webPDFSRPromise?this.webPDFSRPromise:this.webPDFSRPromise=Promise.resolve().then(__.bind(null,n)).catch(__).then((function(t){var n=new(t.default(pk))(e.config.sr,e.eventEmitter,{storage:e.storage});return e.webPDFSR=n,n.setDefaultAnnotConfig(e.defaultAnnotConfig),n.init().then((function(){var t={"viewer  component":{version:Ay},SR:{version:!0}};console.table&&console.table(t),e.isWebPDFSR=!0,e.scaleFrequency=4,e.config.scaleFrequency=4,e.eventEmitter.emit(de.srLicenseSuccess)}),(function(t){alert(e.i18n.t(["viewer_:error.initEngine.c1","viewer_:error.initEngine.c2"][t-1]||"viewer_:error.c-1"))})),n}))}},{key:"initAnnotationIcons",value:function(e){var t=this,n=arguments;Array.isArray(e)&&(e=e.reduce((function(e,t,n){var i=t.annotType||"stamp",r=t.category,o=t.name;if(!r)throw new Error("Missing category for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));if(!o)throw new Error("Missing name for icon at ".concat(n,": ").concat(JSON.stringify(t,null,2)));var a=e[i]=e[i]||{},A=a[r]=a[r]||{},s={url:t.url,fileType:t.fileType,width:t.width>0?t.width:150,height:t.height>0?t.height:45};return A[o]=s,e}),{}));var i=e.stamp;return i&&Object.keys(i).forEach((function(e){N_({key:"category",value:e,notSpecialChar:!0}),Object.keys(i[e]).forEach((function(e){return N_({key:"name",value:e,notSpecialChar:!0})}))})),this.pdfEngine.then((function(t){return t.setIcons(e)})).then((function(i){return!n[1]&&t.eventEmitter.emit(de.iconInited,e)}))}},{key:"addAnnotationIcon",value:function(e){var t=this;if(["url","annotType","fileType"].forEach((function(t){if(!e[t])throw new Error("Icon property lost: "+t)})),N_({key:"category",value:e.category,notSpecialChar:!0}),N_({key:"name",value:e.name,notSpecialChar:!0}),0==["png","bmp","jpg","jpeg","pdf"].filter((function(t){return e.fileType.toLowerCase()==t})).length)throw new Error("The fileType is wrong");return e.fileType=e.fileType.toLowerCase(),this.pdfEngine.then((function(t){return t.addIcon(e)})).then((function(n){n&&t.eventEmitter.emit(de.iconAdded,e)}))}},{key:"removeAnnotationIcon",value:function(e,t,n){var i=this;t||(n=null);var r=arguments[3];return this.pdfEngine.then((function(i){return i.removeIcon(e,t,n,r)})).then((function(o){return i.eventEmitter.emit(de.iconRemoved,{type:e,category:t,name:n,index:r})}))}},{key:"init",value:function(e){var t=this;this.$ui=N()(e),this.element=this.eUi=this.$ui.get(0);var n,i=this.viewModeManager.get(this.config.defaultViewMode);(this.pdfViewerRender=new PA(this.$ui,i,this),this.collaborationOptions)&&(this.collaborationOptions.enable?this.initCollaboration():this._collaborationDefer.resolve(null));n="function"!=typeof this.customs.getAnnotPermissions?function(){return Re}:this.customs.getAnnotPermissions,this.annotationAuthorityManager=new tx(this,n),this.actionCallbackManager=new n_(this);var r,o=function(){t.annotationAuthorityManager.clear()},a=this;this.progressHandler=(r=(0,x._)((function(e,t,n){var i;return(0,F.Jh)(this,(function(e){switch(e.label){case 0:return a.progressHandler.status||n!==Tm.PROGRESSING?[3,4]:a.progress?[3,2]:[4,a.viewerUI.progress(t,document.body)];case 1:return a.progress=e.sent(),[3,3];case 2:a.progress.show(document.body),a.progress.updateProgress(t,n),e.label=3;case 3:return a.progressHandler.status="start",[3,5];case 4:a.progress&&a.progress.updateProgress(t,n),n!==Tm.FAIL&&n!==Tm.SUCCESS||(i=setTimeout((function(){a.progress&&a.progress.hide()}),500),a.addDestroyHook((function(){clearTimeout(i)})),delete a.progressHandler.status),e.label=5;case 5:return[2]}}))})),function(e,t,n){return r.apply(this,arguments)});var A,s=function(e,n,i){t.progressHandler(e,n,i)};this.eventEmitter.on(de.openFileSuccess,o),this.eventEmitter.on(de.progressChanged,s),this.addDestroyHook((function(){t.annotationAuthorityManager.destroy(),t.eventEmitter.off(de.openFileSuccess,o),t.eventEmitter.off(de.progressChanged,s)}));var c=function(){clearTimeout(A),A=setTimeout((function(){var e=t.getAllActiveElements();if(e.length){var n=t.stateHandlerManager.currentStateHandler.getStateName();if(!(n!==Zn&&n!=mn&&Object.keys(li).indexOf(n)<0&&Object.keys(di).indexOf(n)<0)){var i=!e.find((function(e){var t=e.annot;if(!t)return!1;var n=t.getType(),i=!!t.isArea&&t.isArea();return"highlight"===n&&!i||"strikeout"===n||"underline"===n||"squiggly"===n||"caret"===n}));e.forEach((function(e){var t=e.shapeControl;t&&t.moveEnable&&t.moveDisable&&(i&&t.moveable?t.moveEnable():t.moveDisable())}))}}}),0)};this.eventEmitter.on(de.activeElementChanged,c),this.addDestroyHook((function(){return t.eventEmitter.off(de.activeElementChanged,c)}))}},{key:"setAnnotPermissionCallback",value:function(e){this.customs.getAnnotPermissions=e,this.annotationAuthorityManager.setAnnotPermissionCallback(e)}},{key:"getCollaboration",value:function(){return this._collaborationDefer.promise}},{key:"getAnnotAuthorityManager",value:function(){return this.annotationAuthorityManager}},{key:"getActionCallbackManager",value:function(){return this.actionCallbackManager}},{key:"collaborate",value:function(e,t){return this.getCollaboration().then((function(n){if(n)return("function"==typeof t?Promise.resolve(t()):Promise.resolve(t)).then((function(t){return n.send({action:e,data:t})}))}))}},{key:"initCollaboration",value:function(){var e=new Nk(this,this.collaborationOptions);e.registerBuiltInHandler(Vk),e.registerBuiltInHandler(Bk),e.registerBuiltInHandler(jk),e.registerBuiltInHandler(nx),e.registerBuiltInHandler(qk),e.registerBuiltInHandler(Jk),e.registerBuiltInHandler(Xk),e.registerBuiltInHandler(ix),e.registerBuiltInHandler(Qk),e.registerBuiltInHandler(rx),e.registerBuiltInHandler(Kk),e.registerBuiltInHandler(Yk),e.registerBuiltInHandler(Gk),e.registerBuiltInHandler($k),e.registerBuiltInHandler(kx),this.addDestroyHook((function(){e.destroy()})),e.prepare(),this._collaborationDefer.resolve(e)}},{key:"redraw",value:function(e){var t=this,n=arguments;return this.pdfViewerRender&&this.pdfViewerRender.pdfDocRender?(this.redrawTask||Promise.resolve()).then((function(i){var r=t.pdfViewerRender.pdfDocRender;try{var o=r.pagesRender;if(!o)return Promise.resolve(!1);e&&o.setRenderFlags(7);var a=[],A=n[1];return void 0===A&&(A=!0),A?(t.getScrollWrap().disable(1),t.store.dispatch("force-redraw",!0),a.push(t.zoomTo(o.scale,null,0).finally((function(){t.store.dispatch("force-redraw",!1)})))):a.push(o.renderVisiblePages()),t.redrawTask=Promise.all(a).then((function(e){t.getScrollWrap().disable(0),o.renderVisiblePages()})).finally((function(){delete t.redrawTask}))}catch(e){return Promise.reject(e)}})):Promise.resolve(!1)}},{key:"redrawContent",value:function(){if(!this.pdfViewerRender||!this.pdfViewerRender.pdfDocRender)return Promise.resolve(!1);try{var e=this.pdfViewerRender.pdfDocRender.pagesRender;return e.setRenderFlags(2),e.renderVisiblePages()}catch(e){return Promise.reject(e)}}},{key:"rotateTo",value:function(e,t){return(0,U.assertThat)((0,U.isValidRotationAngle)(e),"Incorrect rotation degree: ".concat(e,", It should be 0, 90, 180 or 270")),this.pdfViewerRender.rotateTo(e,t)}},{key:"getRotation",value:function(){return this.pdfViewerRender.getRotation()}},{key:"getScrollWrap",value:function(){return this.pdfViewerRender.scrollWrap}},{key:"openPDFByFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine;if(this.customs.isSupportFileType&&!this.customs.isSupportFileType(e))return Promise.reject();n.isOpenNewFileAfterClose&&this.currentPDFDoc&&this.currentPDFDoc.otherOptions&&(this.currentPDFDoc.otherOptions.isOpenNewFileAfterClose=!0);var r=(0,b._)({},E_,n);return this.openFileOptions=r,e.name&&!r.fileName&&(r.fileName=e.name),void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),this.close().then((function(){var n=t.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL).expose().URL;return t.eventEmitter.emit(de.beforeOpenFile,n.createObjectURL(new Blob([e],{type:"application/pdf"}))),i?Promise.resolve(i):t.getWebPDFJR()}),(function(e){return U.LoggerFactory.getLogger("PDFViewer").warn("An error occurred while opening a pdf file: ",e),Promise.reject({error:-3})})).then((function(n){t.eventEmitter.emit(de.beforeLoadPDFDoc,"memory",e,r,i);var o=n.getPDFDocByFile(e,r);return r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),o})).then((function(n){return t._reopenPDFDoc(n,r,{type:Dk.FROM_FILE,fileName:r.fileName,file:e,options:r})}),(function(e){return t.eventEmitter.emit(de.openFileFailed,e),Promise.reject(e)})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))}},{key:"openPDFByHttpRangeRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pdfEngine,r=(0,b._)({},E_,n);this.openFileOptions=r;var o=e.range.url;if(!r.fileName&&o.endsWith(".pdf")){var a=o.lastIndexOf("/"),A=o.substring(a+1);A=decodeURIComponent(A),r.fileName=A}if(void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0),"function"!=typeof r.beforeRenderPDFDoc&&(r.beforeRenderPDFDoc=this.customs.beforeRenderPDFDoc),!qs(o)){var s=Hs();e.range.url=Ws(s).join(o).absolute()}return this.close().then((function(){var e;return t.eventEmitter.emit(de.beforeOpenFile,o),e=i?Promise.resolve(i):t.getWebPDFJR(),r.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(n){return t.eventEmitter.emit(de.beforeLoadPDFDoc,"http",e,r,i),n.getPDFDocByHttpRangeRequest(e,r)})).then((function(n){return t._reopenPDFDoc(n,r,{type:Dk.FROM_URL,range:e.range,size:e.size,options:r})}),(function(e){throw t.eventEmitter.emit(de.openFileFailed,e),e})).finally((function(){r.isRenderOnDocLoaded&&t.pdfViewerRender&&t.pdfViewerRender.rendered()}))}},{key:"getPDFDocByFileNoOpen",value:function(e){var t=this;return(0,x._)((function(){var n,i;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:return o=(0,x._)((function(e){var t,n,i=arguments;return(0,F.Jh)(this,(function(r){switch(r.label){case 0:t=i.length>1&&void 0!==i[1]?i[1]:"",n=i.length>2&&void 0!==i[2]?i[2]:{},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.parse((0,w._)((0,b._)({},n),{password:t}))];case 2:return r.sent(),[2,e];case 3:return[2,r.sent()];case 4:return[2]}}))})),n=function(e){return o.apply(this,arguments)},[4,t.getWebPDFJR()];case 1:return[4,r.sent().getPDFDocByFile(e)];case 2:return i=r.sent(),[4,n(i)];case 3:return[2,r.sent()]}var o}))}))()}},{key:"openPDFById",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""};return void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this.close().then((function(){var e;return t.eventEmitter.emit(de.beforeOpenFile),e=t.getWebPDFSR(),n.isRenderOnDocLoaded&&t.pdfViewerRender.rendering(),e}),(function(e){throw e})).then((function(e){return Promise.all([e,M_(n)])})).then((function(i){var r=(0,E._)(i,2),o=r[0],a=r[1];return n.idJWT=a||n.jwt,t.eventEmitter.emit(de.beforeLoadPDFDoc,"id",e,n),o.getPDFDocById(e,n)})).then((function(e){return t._reopenPDFDoc(e,n)}),(function(e){return t.eventEmitter.emit(de.openFileFailed,e),Promise.reject(e)})).finally((function(){n.isRenderOnDocLoaded&&t.pdfViewerRender.rendered()}))}},{key:"openPDFByExistsDocId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fileName:""},n=this;return(0,x._)((function(){var i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return[4,n.getWebPDFJR()];case 1:return[4,a.sent().getPDFDocById(e)];case 2:return[4,a.sent().getDocBuffer(n)];case 3:return i=a.sent(),r=new Blob(i),o=new File([r],"".concat(t.fileName),{type:"application/pdf"}),[2,n.openPDFByFile(o,t)]}}))}))()}},{key:"createNewDoc",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"untitled.pdf",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{height:842,width:595},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isRenderOnDocLoaded:!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.pdfEngine;void 0===r.isRenderOnDocLoaded&&(r.isRenderOnDocLoaded=!0);var a=(0,b._)({},E_,r);return this.openFileOptions=a,this.close().then((function(){return o?Promise.resolve(o):e.getWebPDFJR()}),(function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)})).then((function(e){return e.createNewDoc(t,n,i)})).then((function(n){return r.password=Fe,r.fileName=t,e.reopenPDFDoc(n,r,{type:Dk.FROM_FILE,options:r,file:function(){var e=[];return n.getStream((function(t){e.push(t)})).then((function(){return new Blob(e,{type:"application/pdf"})}))}})}))}},{key:"loadPDFDocByFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByFile(e,t)}},{key:"loadPDFDocByHttpRangeRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getPDFDocParserService().loadPDFDocByHttpRangeRequest(e,t)}},{key:"createNewPortfolioDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Portfolio.pdf";return this.close().then((function(){return n.pdfEngine?Promise.resolve(n.pdfEngine):n.getWebPDFJR()}),(function(e){return e||(e=new Error("An unknown error occurred while closing the current opening document!")),e.error=-3,Promise.reject(e)})).then((function(n){return n.createNewPortfolioDoc(e,t,i)})).then((function(e){var t={isRenderOnDocLoaded:!0,password:"",fileName:i};return n.reopenPDFDoc(e,t,{type:Dk.FROM_FILE,options:t,file:function(){var t=[];return e.getStream((function(e){t.push(e)})).then((function(){return new Blob(t,{type:"application/pdf"})}))}})}))}},{key:"convertImageToPDFDoc",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(arguments.length>5&&void 0!==arguments[5]||this.pdfEngine,[]),a=null,A=(0,I._)(e,ArrayBuffer),s=null;return new Promise((function(n,i){var r=new Image;if(r.onload=function(){var e=(0,U.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},A){var a=new Blob([e]);r.src=s=URL.createObjectURL(a)}else r.src=e?s=URL.createObjectURL(e):t})).then((function(e){return n.createNewDoc(i,r,{height:e[1],width:e[0]},{isRenderOnDocLoaded:!1},n.pdfEngine)})).then((function(e){return(a=e).getPageByIndex(0)})).then((function(n){var i=A?Promise.resolve(e):Bs(e?s:t);return Promise.all([Promise.resolve(n),i])})).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];s&&URL.revokeObjectURL(s);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)})).then((function(e){if(e)return a;throw new Error("faied to insert image")})).catch((function(e){return n.eventEmitter.emit(de.openFileFailed,null),e&&console.error(e),Promise.reject(e)}))}},{key:"getPDFDocFromImageFile",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"untitled.pdf",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=[],a=null,A=(0,I._)(e,ArrayBuffer),s=null;return new Promise((function(n,i){var r=new Image;if(r.onload=function(){var e=(0,U.getDPI)(),t=r.width/e.x*72,i=r.height/e.y*72;n(o=[t,i])},r.onerror=function(){i(new Error("The input file could not be loaded as an supported image."))},A){var a=new Blob([e]);r.src=s=URL.createObjectURL(a)}else r.src=e?s=URL.createObjectURL(e):t})).then((function(e){return n.pdfEngine.then((function(t){return t.createNewDoc(i,r,{height:e[1],width:e[0]})}))})).then((function(e){return(a=e).getPageByIndex(0)})).then((function(n){var i=A?Promise.resolve(e):Bs(e?s:t);return Promise.all([Promise.resolve(n),i])})).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];s&&URL.revokeObjectURL(s);var r={left:0,top:o[1],right:o[0],bottom:0};return n.addImage(i,r)})).then((function(e){if(e)return a;throw new Error("faied to insert image")})).catch((function(e){return e&&console.error(e),Promise.reject(e)}))}},{key:"renderDoc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config.defaultScale;if(this.pdfViewerRender.pdfDocRender){var i=this.pdfViewerRender.pdfDocRender.pagesRender;if(e==this.currentPDFDoc&&i&&i.isPageDOMsLoaded)return Promise.resolve(!0)}return this.pdfViewerRender.rendering(),this.pdfViewerRender.renderDoc(e,n).then((function(){return t.eventEmitter.emit(de.openFileSuccess,e,{type:Dk.FROM_FILE,options:{fileName:e.info.fileName}}),t.eventEmitter.emit(de.renderFileSuccess,e),!0}),(function(n){return t.eventEmitter.emit(de.renderFileFailed,e),n||(n=new Error("An unknown error occurred while closing the current opening document!")),n.error=-3,Promise.reject(n)})).finally((function(){t.pdfViewerRender.rendered()}))}},{key:"reopenPDFDoc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t),i=arguments[2];return this.eventEmitter.emit(de.beforeOpenFile),void 0===n.isRenderOnDocLoaded&&(n.isRenderOnDocLoaded=!0),this._reopenPDFDoc(e,n,i)}},{key:"_reopenPDFDoc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.startListenAnnotMouseEvent();var r=!1,o=!1,a=!1!==n.isRenderOnDocLoaded,A=n.beforeRenderPDFDoc;if("function"!=typeof A){var s=this.customs.beforeRenderPDFDoc;A="function"!=typeof s?__:s}return A!==__&&(a=!0),Promise.resolve(M_(n)).then((function(t){return n.idJWT=t||n.jwt,e.parse(n)})).then((function(e){var n=e.getPageCount(),s=n<2;if((s=s||n>=500)&&t.viewModeManager.get(ca.getName()))t.viewModeManager.switchTo(ca.getName());else{var c=t.viewModeManager.get(t.config.defaultViewMode);t.viewModeManager.switchTo(c.getName())}t.currentPDFDoc=e,r=!0;var u=[e];if(a){t.eventEmitter.once(de.renderPageSuccess,(function(){o=!0}));var l=Promise.resolve(A.call(t,e)).then((function(){var n=t.pdfViewerRender.renderDoc(e);return t.eventEmitter.emit(de.openFileSuccess,e,i),n}));u.push(l)}return Promise.all(u)}),(function(n){t.currentPDFDoc=null;var i={error:n&&n.code,pdfDoc:e,encryptDict:n&&n.encryptDict};return t.eventEmitter.emit(de.openFileFailed,i),Promise.reject(i)})).then((function(e){var i,r=(0,E._)(e,1)[0];return t.mixPdfJREngine?t.mixPdfJREngine.then((function(e){return i=e,r.resetEngineInstance(e)})).then((function(e){return t.pdfEngine=i,delete t.mixPdfJREngine,t.eventEmitter.emit(de.toggleEngineSr2JrSuccess,e),a&&t.eventEmitter.emit(de.renderFileSuccess,e),e}),(function(e){return i&&(t.pdfEngine=i),n.isRenderOnDocLoaded&&t.eventEmitter.emit(de.renderFileSuccess,e),e})):(a&&t.eventEmitter.emit(de.renderFileSuccess,r),r)}),(function(n){if(r&&o)return t.eventEmitter.emit(de.renderFileSuccess,e),e;a&&t.eventEmitter.emit(de.renderFileFailed,e);var i={error:-1,pdfDoc:e};try{var A,s,c="number";(void 0===n?"undefined":(0,T._)(n))===c?A=n:(0,T._)(n.error)===c?(A=n.error,s=n.encryptDict):A=n,i={error:A,pdfDoc:e,encryptDict:s}}catch(e){}return Promise.reject(i)}))}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.customs.closeDocBefore,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.customs.closeDocAfter,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this;return(0,x._)((function(){var r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:return i.stopListenAnnotMouseEvent(),i.currentPDFDoc?(r=Object.assign({},i.openFileOptions,n),[4,i.JSEngine.waitForExecutionTask()]):[2,Promise.resolve()];case 1:return o.sent(),[2,Promise.resolve(e(i.currentPDFDoc,r)).then((function(e){if(!1===e)return Promise.reject("Document cannot be closed because it was rejected by the before callback");i.stopFormDesginerAssist(),i.activationManager.clear(),i.eventEmitter.emit(de.willCloseDocument,i.currentPDFDoc),i.currentPDFDoc=null;var t,n=i.pdfViewerRender.closeOldDocRender(r);try{t=i.pdfViewerRender.pdfDocRender}catch(e){}return t?(t.hidden(),n.then((function(e){return i.pdfViewerRender.closeOldDocRender(r)}))):n})).then((function(e){if(!1!==e)return t()}))]}}))}))()}},{key:"destroy",value:function(){var e=this,t=this;return(0,x._)((function(){var n,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:if(t.isDestroyed)return[2,Promise.resolve()];a.label=1;case 1:return a.trys.push([1,13,,14]),[4,t.close()];case 2:return a.sent(),[4,t.JSEngine.destroy()];case 3:if(a.sent(),(0,D._)((0,C._)(i.prototype),"destroy",e).call(t),t.initializers&&t.initializers.forEach((function(e){return e.destroy()})),t.keyboard.destroy(),t.stopListenAnnotMouseEvent(),t.viewerUI.destroy(),t.viewerUI=null,t.pdfViewerRender&&(t.pdfViewerRender.destroy(),t.pdfViewerRender=null),!t.pdfEngine)return[3,8];n=t.webPDFJR,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,t.pdfEngine];case 5:return n=a.sent(),[3,7];case 6:return a.sent(),[3,7];case 7:n&&n.api&&n.api.workerPromise&&n.api.workerPromise.destroy(),a.label=8;case 8:t.store.destroy(),r=t.getStorage(),a.label=9;case 9:return a.trys.push([9,11,,12]),[4,r.destroy()];case 10:return a.sent(),[3,12];case 11:return o=a.sent(),console.error("destroy storage error",o),[3,12];case 12:return t.eventEmitter.removeAllListeners(),t.ioc.destroy(),[3,14];case 13:throw a.sent();case 14:return[2]}}))}))()}},{key:"zoomTo",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be less than or equal to maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}try{var n=arguments[2];return void 0===n&&(n=1),n&&this.activeElement(),"pencilStateHandler"==this.getStateHandlerManager().currentStateHandler.getStateName()&&this.stateHandlerManager.switchTo(),this.pdfViewerRender.zoomTo(e,t)}catch(e){return Promise.reject(e)}}},{key:"zoomAtPosition",value:function(e,t){if("number"==typeof e){if(e<this.config.minScale)throw new Error("scale must be greater than minimum scale: ".concat(this.config.minScale,", which is specified in the PDFViewer constructor parameters"));if(e>this.config.maxScale)throw new Error("scale must be greater than maximum scale: ".concat(this.config.maxScale,", which is specified in the PDFViewer constructor parameters"))}return this.activeElement(),this.pdfViewerRender?this.pdfViewerRender.zoomAt(e,t):Promise.resolve()}},{key:"zoom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;try{return this.pdfViewerRender.getScaleRatio().then((function(n){var i=e.config.minScale,r=e.config.maxScale;n===i&&Math.floor(i/t)!==i/t&&(n=Math.floor(n/t)*t);var o=Math.max(i,Math.min(r,n+t));return o=i+Math.round((o-i)/t)*t,o=Math.max(i,Math.min(r,o)),e.zoomTo(o)}))}catch(e){return Promise.reject(e)}}},{key:"goToPage",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!this.pdfViewerRender)return Promise.reject("PDFViewer has not been initialized completely!");var o=this.getPDFPageRender(e);return o?r&&"number"!=typeof t?o.getPDFPage().then((function(o){return t=o.getHeight(),i.pdfViewerRender.goToPage(e,t,n,r)})):this.pdfViewerRender.goToPage(e,t,n,r):Promise.reject('The page with index "'.concat(e,'" does not exists or the document has not been opened!'))}},{key:"setLayerNodeVisible",value:function(e,t){return this.pdfViewerRender&&this.pdfViewerRender.setLayerNodeVisible(e,t)}},{key:"setEnableJS",value:function(e){this.JSEngine.setEnableJS(e,this.currentPDFDoc),this.eventEmitter.emit(de.changeEnableJS,e)}},{key:"getEnableJS",value:function(){return this.JSEngine.getEnableJS()}},{key:"setContinuousAddPencilState",value:function(e){this.continuousAddPencil=e}},{key:"setEnableOpenAction",value:function(e){this.enableOpenAction=e}},{key:"setEnablePageAction",value:function(e){this.enablePageAction=e}},{key:"setEnableScale",value:function(e){this.enableScale=e}},{key:"getEnableScale",value:function(){return"boolean"!=typeof this.enableScale||this.enableScale}},{key:"setSafeReadingMode",value:function(e){this.config.enableSafeMode=e}},{key:"getSafeReadingMode",value:function(){return this.config.enableSafeMode}},{key:"getSmartScale",value:function(e){var t=this.config,n=t.scaleFrequency;return 0===n?e*=U.dpr:e=Math.ceil(e*U.dpr*n)/n,Math.min(Math.max(e,t.minScale*U.dpr),t.maxScale*U.dpr)}},{key:"controlStateSwitch",value:function(e){this.pdfViewerRender&&this.pdfViewerRender.controlStateSwitch(e)}},{key:"getStateHandlerManager",value:function(){return this.stateHandlerManager}},{key:"getInkSignManager",value:function(){return this.inkSignManager}},{key:"getOnlineSignManger",value:function(){return this.onlineSignManager}},{key:"getViewModeManager",value:function(){return this.viewModeManager}},{key:"getMementoManager",value:function(){return this.mementoManager}},{key:"getEventEmitter",value:function(){return this.eventEmitter}},{key:"getCurrentPDFDoc",value:function(){return this.currentPDFDoc}},{key:"getPDFViewerRender",value:function(){try{return this.pdfViewerRender}catch(e){return null}}},{key:"getDeviceCurrentPosition",value:function(){var e=this.getPDFDocRender(),t=this.getPDFViewerRender(),n=t.getViewMode(),i=e.getViewMode(),r=e.viewerRender.scrollWrap,o=r.getScrollTop(),a=r.getScrollLeft(),A=i.getCurrentPageIndex();if("single-page-view-mode"===n.getName()){var s=t.$ui.parent()[0].getBoundingClientRect(),c=e.getPDFPageRender(A).$ui.get(0).getBoundingClientRect();return{pageIndex:A,left:s.left-c.left,top:s.top-c.top}}for(var u=e.$container.find(".fv__pdf-view-mode-item"),l=0,d=0,h=0;h<u.length;h++){var f=u[h],p=N()(f).find(".fv__pdf-page-layout"),g=p.width(),v=p.height(),m=f.offsetTop,y=m+v,b=f.offsetLeft;if(y>o&&b+g>a){d=o-m,l=a-b;break}}return{pageIndex:A,left:l,top:d}}},{key:"getPDFDocRender",value:function(){try{return this.pdfViewerRender.pdfDocRender||null}catch(e){return null}}},{key:"getPDFPageRender",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)||null}catch(e){return null}}},{key:"getAnnotRender",value:function(e,t){try{return this.getPDFPageRender(e).getAnnotRender(t)||null}catch(e){return null}}},{key:"getPDFPageRenderAsync",value:function(e){try{return this.pdfViewerRender.pdfDocRender.getPDFPageRender(e)}catch(e){return null}}},{key:"getAnnotRenderAsync",value:function(e,t){try{return this.getPDFPageRenderAsync(e).getAnnotRender(t)}catch(e){return null}}},{key:"killFocus",value:function(){return Promise.resolve(this.activeElement()||!0)}},{key:"isMultiSelectActive",value:function(){var e=this.stateHandlerManager.currentStateHandler.getStateName();return(U.isMac?U.keyboardStatus.isWinDown:U.keyboardStatus.isCtrlDown)&&(e===mn||e===Zn||Object.keys(li).indexOf(e)>=0||Object.keys(di).indexOf(e)>=0)||U.keyboardStatus.isShiftDown&&(e===mn||e===Zn)}},{key:"bindMultiSelectActiveEvents",value:function(e){var t=this,n=function(e){if(e&&!e.multiSelectEventBindInitialized&&(e.multiSelectEventBindInitialized=!0,e.shapeControl)){var n=e.shapeControl,i=n.onPrestart,r=n.onAfterEnd;n.onPrestart=function(e,r,o){t.activationManager.getAllCurrentActivatables().forEach((function(e){if(e.shapeControl&&!e.shapeControl.isDisabled){var i=t.customs,r=i.isCollaborationMode,o=void 0===r?__:r,a=i.isAnnotOwner,A=void 0===a?__:a;o()&&!A(e.annot.getName())||n.companion(e.shapeControl)}})),i&&i(e,r,o)},n.onAfterEnd=function(e){n.clearCompanions(),r&&r(e)}}};(0,I._)(e,Z)?e.getAllActivations().forEach((function(e){return n(e)})):n(e)}},{key:"activePageElementByRect",value:function(e,t){var n,i=this;if(!(e.right<=e.left||e.top<=e.bottom)&&t){var r=t.getIndex(),o=null===(n=this.getPDFPageRender(r))||void 0===n?void 0:n.annotsRender;t.getAnnots().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var n=new Z,r=[],a=[],A={},s=[];if(t.forEach((function(e){if(e.isGrouped&&e.isGrouped()){var t=e.getGroupHeader(),n=t.id;return A[n]||o.isAnnotHidden(t)||s.push(t),void(A[n]=t)}"popup"==e.getType()||"watermark"==e.getType()||"R"==e.info.RT&&e.info.IRT||o.annotFiltered&&!o.showAnnots.has(e.id)||o.isAnnotHidden(e)||s.push(e)})),s.reverse().forEach((function(t){if(!r.find((function(e){return e===t}))){var o=t.info.rect,A=o.left,s=o.right,c=o.top,u=o.bottom;if(A>=e.left&&A<=e.right&&c>=e.bottom&&c<=e.top||A>=e.left&&A<=e.right&&u>=e.bottom&&u<=e.top||s>=e.left&&s<=e.right&&c>=e.bottom&&c<=e.top||s>=e.left&&s<=e.right&&u>=e.bottom&&u<=e.top)if(t.isGrouped&&t.isGrouped()){var l=t.getGroupElements()||[];if(l.length){var d=new Z;l.forEach((function(e){var t=i.getAnnotRender(e.getPDFPage().getIndex(),e.getId()).component;t&&d.add(t)})),n.add(d),r=(0,R._)(r).concat((0,R._)(l))}}else if("widget"===t.getType())a.push(t);else{var h=i.getAnnotRender(t.getPDFPage().getIndex(),t.getId()).component;h&&n.add(h)}}})),a.length)i.eventEmitter.emit("active-widgets-for-multi-select",{widgets:a,activationGroup:n});else{i.bindMultiSelectActiveEvents(n),i.activationManager.active(n),i.getPDFDocRender().setCurrentAnnotHandler(),i.eventEmitter.emit(de.activeElementChanged);var c=n.getAllActivations().map((function(e){var t=e.getPDFPage().getIndex(),n=e.getPDFAnnot().getId();return i.getAnnotRender(t,n)}));if(c.length){if(1===c.length)return i.eventEmitter.emit(de.activeAnnotation,c[0]);i.eventEmitter.emit(de.activeMultipleAnnotations,c)}}}}))}}},{key:"activateElement",value:function(e){return this.activeElement(e)}},{key:"activeElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e){var n,i;if(null===(i=this.getPDFDocRender())||void 0===i||null===(n=i.formRender)||void 0===n||n.blurControl(),!this.activationManager.hasActivations())return;return this.activationManager.unActiveCurrent(),void(t&&this.eventEmitter.emit(de.activeElementChanged))}if(this.bindMultiSelectActiveEvents(e),this.isMultiSelectActive()){var r,o=this.activationManager.getCurrentActivatable();if(o){var a=(o.activations||[])[0];a&&a.annot&&a.annot.page.getIndex()!==((0,I._)(e,Z)?e.getAllActivations()[0]:e).annot.page.getIndex()&&this.activationManager.unActiveCurrent(),this.bindMultiSelectActiveEvents(o),o.add(e),r=o}else{var A=new Z;A.add(e),r=A}if(U.keyboardStatus.isShiftDown){var s=r.getAllActivations(),c=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=-Number.MAX_VALUE,d=Number.MAX_VALUE;s.forEach((function(e){var t=e.annot.info.rect,n=t.left,i=t.right,r=t.top,o=t.bottom;c=Math.min(c,n),u=Math.max(u,i),l=Math.max(l,r),d=Math.min(d,o)}));var h={left:c,right:u,top:l,bottom:d};if(this.multiSelectActiveShiftHandlerFlag==="".concat(JSON.stringify(h),"_").concat(s.length))return;this.multiSelectActiveShiftHandlerFlag="".concat(JSON.stringify(h),"_").concat(s.length);var f=(0,I._)(e,Z)?e.getAllActivations()[0]:e;this.activePageElementByRect(h,f.annot.page)}else this.activationManager.active(r),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(de.activeElementChanged)}else{var p;if((0,I._)(e,Z))p=e;else{var g=new Z;g.add(e),p=g}this.activationManager.active(p),this.getPDFDocRender().setCurrentAnnotHandler(),this.eventEmitter.emit(de.activeElementChanged,e)}}},{key:"clearMultiSelectActiveFlag",value:function(){this.multiSelectActiveShiftHandlerFlag=""}},{key:"deactivateElement",value:function(e){return this.unActiveElement(e)}},{key:"unActiveElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&e.annot&&e.annot.isGrouped&&e.annot.isGrouped()){var n=this.activationManager.getCurrentActivatable();if(!n||!(0,I._)(n,Z))return;for(var i=n.activations||[],r=i.length;r--;){var o=i[r];if((0,I._)(o,Z)&&o.contains(e)||o===e){this.activationManager.unActive(i[r]);break}}}else this.activationManager.unActive(e);t&&this.eventEmitter.emit(de.activeElementChanged)}},{key:"getCurrentActivatable",value:function(){var e=this.activationManager.getCurrentActivatable();if(!e||e.isActive)return e}},{key:"getAllActivatedElements",value:function(){return this.getAllActiveElements()}},{key:"getAllActiveElements",value:function(){return this.activationManager.getAllCurrentActivatables()}},{key:"getAnnotManager",value:function(){return this.annotManager}},{key:"registerMatchRule",value:function(e){this.annotManager.registerMatchRule(e)}},{key:"setUserConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.setUserConfig(e)}))}},{key:"setUserName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pdfEngine;return(t?Promise.resolve(t):this.getWebPDFJR()).then((function(t){return t.setUserName(e)}))}},{key:"getUserName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pdfEngine;return(e?Promise.resolve(e):this.getWebPDFJR()).then((function(e){return e.getUserName()}))}},{key:"setFormatOfDynamicStamp",value:function(e,t){return this.getWebPDFJR().then((function(n){return n.setDynamicInfoFormula(e,t)}))}},{key:"getFormatOfDynamicStamp",value:function(){return this.getWebPDFJR().then((function(e){return e.getDynamicInfoFormula()}))}},{key:"registerPrintHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.printHandler=e}},{key:"printByProgress",value:function(e,t,n,i,r,o,a,A,s,c){var u,l,d,h=this,f=this;return s||(l=this.pdfViewerRender.pdfDocRender,d=l.getFormRender(),u=d.getFormatedData("display")),(t.AdditionalActions?Promise.resolve():t.loadAdditionalActions()).then((function(e){return s?Promise.resolve():(l.performAction(5),h.eventEmitter.emit(de.documentWillPrint),t.PDFForm.addTask())})).then((function(e){return s?Promise.resolve():t.getPDFForm().setFieldsValue(u,!0)})).then((function(){return i({state:"start",total:e.length}),e.reduce((function(t,n){var o=n;return("object"==typeof n&&void 0!==n.rect||"object"==typeof n)&&(o=n.pageIndex),t.then((function(e){return Promise.all([p(n),e])})).then((function(t){var n=(0,E._)(t,2),a=n[0],A=n[1];return i({state:"progress",pageIndex:o,total:e.length,imageURI:a}),a?Promise.all([A,a,r.appendImage(a)]):Promise.resolve([A])})).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];return i&&n.push({pageIndex:o,imageURI:i}),n}))}),Promise.resolve([]))})).then((function(e){if(s)return Promise.resolve(e);if(d){var n=d.getFormatedData("value");return t.getPDFForm().setFieldsValue(n,!1).then((function(t){return e}))}return e})).then((function(t){var n=t.reduce((function(e,t){var n=t.pageIndex,i=t.imageURI;return e[n]=i,e}),{});if(i({state:"end",total:e.length,result:n}),s){var o,a=r.getImageCache();(o=A).push.apply(o,(0,R._)(a)),r.clearImageCache()}else r.print(!c),l.performAction(6);return h.eventEmitter.emit(de.documentDidPrint),n}));function p(e){var i=void 0!==e.pageIndex?e.pageIndex:e;return t.getPageByIndex(i).then((function(r){if(!r.isVirtual()){var A=0,s=0,c=0,u=0,l=0;if(void 0!==e.pageIndex){var d=f.getPDFPageRender(i),h=e.rect,p=r.reverseDeviceRect({top:h.y,bottom:h.y+h.height,left:h.x,right:h.x+h.width},d.getScale(),d.getRotation());A=(p=r.getDeviceRect(p)).left,s=p.top,c=(p.right-p.left)*(3/4),u=(p.bottom-p.top)*(3/4)}else if("number"==typeof e)if((c=r.getWidth())>(u=r.getHeight())){l=90;var g=c;c=u,u=g}else l=0;var v=4*o/300;return r.getPageBitmap(v,l,{x:A*(o/100),y:s*(o/100),width:c*v,height:u*v},a,"print").then((function(e){var i=e.buffer,o=e.width,a=e.height,A=e.image;if(A)return n.createObjectURL(A);var s=document.createElement("canvas"),c=r.getWidth()*v,u=a*r.getWidth()*v/o;s.width=c,s.height=u;var l=s.getContext("2d"),d=l.createImageData(o,a);d.data.set(new(Uint8ClampedArray||Uint8Array)(i)),l.putImageData(d,0,0),l.drawImage(l.canvas,0,0,o,a,0,0,c,u);var h=(0,U.createDeferred)();try{t.isXFA().then((function(e){e?h.resolve(s.toDataURL()):s.toBlob((function(e){h.resolve(n.createObjectURL(e))}),"image/png")}))}catch(e){h.reject(e)}return h.promise}))}}))}}},{key:"print",value:function(e){var t=e.isPortfolio,n=e.rangeType,i=e.pages,r=void 0===i?[]:i,o=e.printType,a=void 0===o?["page"]:o,A=e.progress,s=e.printer,c=e.showHeaderFooter,u=void 0===c?this.getPrintSetting("showHeaderFooter"):c,l=e.quality,d=void 0===l?this.getPrintSetting("quality")||100:l,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__,f=this;return(0,x._)((function(){var e,i,o,c,l,p,g,v,m,y,b,w,k,x,_,P,D,C,S;return(0,F.Jh)(this,(function(I){switch(I.label){case 0:if(!(e=f.currentPDFDoc).checkPermission(en.print|en.printHigh))throw new Error("Permission denied!");return i="object"==typeof A,o=void 0===A||!0===A,c=f.resourceGenerator(Of.PDF_DOCUMENT_CLOSING,Bf.OBJECT_URL),l=c.expose().URL,p=h,g=0,h=function(e){switch(e.state){case"start":i?(A.show(),A.updateProgress({current:0,total:e.total},Tm.PROGRESSING)):o&&f.eventEmitter.emit(de.progressChanged,"print",{current:0,total:e.total},Tm.PROGRESSING);break;case"progress":i?A.updateProgress({current:g++,total:e.total},Tm.PROGRESSING):o&&f.eventEmitter.emit(de.progressChanged,"print",{current:g++,total:e.total},Tm.PROGRESSING);break;case"end":i?(A.updateProgress({current:g++,total:e.total},Tm.SUCCESS),setTimeout((function(){A.hide()}),0)):o&&f.eventEmitter.emit(de.progressChanged,"print",{current:g++,total:e.total},Tm.SUCCESS),g=0}p(e)},s||(s=f.printer||(f.printer=new yk)),(v=f.currentPDFDoc.pdfPortfolio&&t?f.currentPDFDoc.pdfPortfolio.root.nodeHandle:"")&&t?"allPDF"!=n?[3,2]:[4,f.currentPDFDoc.pdfPortfolio.getFolioNodePDFDoc()]:[3,10];case 1:return m=I.sent(),[3,4];case 2:return"selectedPDF"!=n?[3,4]:[4,f.currentPDFDoc.pdfPortfolio.getActivedPDFFileByPortFolioNode()];case 3:y=I.sent(),m=y,I.label=4;case 4:for(x in w=[],k=[],m)k.push(x);_=0,I.label=5;case 5:return _<k.length?(P=k[_],[4,m[P].parse()]):[3,9];case 6:for(I.sent(),b=m[P].getPageCount(),D=[],C=0;C<b;C++)D.push(C);return S=m[P],[4,f.printByProgress(D,S,l,h,s,d,a,w,v,u)];case 7:I.sent(),I.label=8;case 8:return _++,[3,5];case 9:return s.print(!u,w),[2];case 10:return[4,f.printByProgress(r,e,l,h,s,d,a,[],v,u)];case 11:return I.sent(),[2]}}))}))()}},{key:"printCurrentView",value:function(){var e=this.getPDFDocRender().getBoundingClientRects();if(!(e.length>1)){var t=e.map((function(e){return{rect:{x:e.x,y:e.y,width:e.width,height:e.height},pageIndex:e.index}}));this.print({pages:t,printType:["page","annot"]})}}},{key:"printEx",value:function(e){var t=this,n=e.type,i=e.pageRange,r=e.progress,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:__,a=this.currentPDFDoc;if(!a.checkPermission(en.print|en.printHigh))throw new Error("Permission denied!");var A="object"==typeof r,s=void 0===r||!0===r,c=o;o=function(e){switch(e.state){case"start":A?(r.show(),r.updateProgress(0,Tm.PROGRESSING)):s&&t.eventEmitter.emit(de.progressChanged,"printEx",0,Tm.PROGRESSING);break;case"progress":A?r.updateProgress(e.progress,Tm.PROGRESSING):s&&t.eventEmitter.emit(de.progressChanged,"printEx",e.progress,Tm.PROGRESSING);break;case"end":A?(r.updateProgress(e.progress,Tm.SUCCESS),setTimeout((function(){r.hide()}),0)):s&&t.eventEmitter.emit(de.progressChanged,"printEx",e.progress,Tm.SUCCESS)}c(e)};var u=a.getPageCount();var l=this.viewerUI;var d=function(e,t){var n=function(e,t){var n=[],i=e,r=new RegExp(/[^\d\-,]/);if(r.test(i))e=i.slice(0,i.length-1);else{if(!(r=new RegExp(/[^\d]/)).test(i.substr(0,1))){for(var o=i.split(","),a=0;a<o.length;a++){var A=o[a];if(A.indexOf("-")>-1){var s=(0,E._)(A.split("-"),3),c=s[0],u=s[1];if(s[2]||""===u)return;var l=Math.min(+c,+u),d=Math.max(+c,+u);if(l<1)return;if(d>t)return d+="",void(e=i.slice(0,i.length-d.length)+t);n.push([l-1,d-1])}else{if(A<1)return;if(A>t)return void(e=i.slice(0,i.length-A.length)+t);n.push([A-1,A-1])}}return n}e=i.slice(0,i.length-1)}}(e,t)||[];if(!(n.length<1)){var i,r=[];return n.sort((function(e,t){return e[0]-t[0]})).forEach((function(e){if(r.length<1)return r.push(e),void(i=e);var t=e[0],n=e[1],o=i[1];t>=o?t>o+1?(r.push(e),i=e):i[1]=n:n>o&&(i[1]=n)})),r}l.alert({message:"dialog.error.validateRange",level:"warning"})}(i,u),h={type:n,range:d,reverse:!1,bleed:!1,useWorkFlow:!0},f=function(e){o(e.msg)};a.api.registerWorkflow("printEx",f);var p=this.pdfViewerRender.pdfDocRender;return(a.AdditionalActions?Promise.resolve():a.loadAdditionalActions()).then((function(e){p.setPrintState(!0),p.performAction(5),t.eventEmitter.emit(de.documentWillPrint)})).then((function(e){a.PDFForm.addTask((function(e){return a.extractPrintPages(h).then((function(e){if(e){var n={printable:e=window.btoa(e),type:"pdf",base64:!0};"function"==typeof t.printHandler?(h={data:n.printable,type:Number(h.type),range:h.range},t.printHandler(h)):Nx()(n)}p.performAction(6),t.eventEmitter.emit(de.documentDidPrint),p.setPrintState(!1),a.api.unregisterWorkflow("printEx",f)}))}),!0)}))}},{key:"printPDFDocumentEx",value:function(e){var t=e.startIndex,n=void 0===t?0:t,i=e.endIndex,r=void 0===i?this.currentPDFDoc.getPageCount()-1:i;return r>this.currentPDFDoc.getPageCount()-1&&(r=this.currentPDFDoc.getPageCount()-1),this.printEx({type:1,pageRange:n+1+"-"+(r+1)})}},{key:"printPDFDocument",value:function(e){e.asImage;var t=e.endIndex,n=void 0===t?this.currentPDFDoc.getPageCount()-1:t,i=e.printType,r=void 0===i?["page"]:i,o=(e.reverse,e.shrinkToFit,e.silent,e.startIndex),a=void 0===o?0:o,A=(e.ui,e.rangeType),s=e.total,c=(void 0===s&&this.currentPDFDoc.getPageCount(),e.progress),u=void 0===c?this.printProgress:c,l=e.fromToArray,d=e.hideHeaderFooter,h=void 0===d?!this.getPrintSetting("showHeaderFooter"):d,f=e.quality,p=void 0===f?this.getPrintSetting("quality")||100:f,g=e.isPortfolio,v=[];if("assign"===A)for(var m=0;m<l.length;m++)if(l[m][0]===l[m][1])v.push(l[m][0]-1);else for(var y=l[m][0];y<=l[m][1];y++)v.push(y-1);else{n>this.currentPDFDoc.getPageCount()-1&&(n=this.currentPDFDoc.getPageCount()-1);for(var b=a;b<=n;b++)v.push(b)}return this.print({isPortfolio:g,rangeType:A,pages:v,printType:r,showHeaderFooter:!h,quality:p,progress:u})}},{key:"highlightControls",value:function(){return this._highlightControls}},{key:"highlightControlsUI",value:function(){return this._highlightControlsUI}},{key:"setHighlightControlsUI",value:function(e){this._highlightControlsUI=e}},{key:"getDisplayHighlightColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HTML";return t>1&&(t=1),(0,U.colorConvertor)(e,n,t)}},{key:"highlightForm",value:function(e){if(this.pdfViewerRender){var t=this.pdfViewerRender.pdfDocRender;if(this.setHighlightControlsUI(e),t){var n=t.formRender;n&&n.setRuntimeHighlight(e)}return this.eventEmitter.emit(de.setFromFieldHighlight,e),this._highlightControls=e}}},{key:"getFormHighlightColor",value:function(){return{color:(0,U.colorConvertor)(this._runtimeColor,"int",this._runtimeColorOpacity),colorRequired:(0,U.colorConvertor)(this._runtimeColorRequired,"int",this._runtimeColorOpacityRequired)}}},{key:"setFormHighlightColor",value:function(e,t){var n=.5,i=1;(U.isChrome||U.isFirefox)&&(n=1),"number"==typeof e&&(n=(4278190080&e)>>>24,n/=255,this._runtimeColorOpacity=n,e&=16777215),"number"==typeof t?(i=(4278190080&t)>>>24,i/=255,this._runtimeColorOpacityRequired=i,t&=16777215):t=e;var r=this.pdfViewerRender.pdfDocRender;if(r){var o=r.formRender;o&&o.setRuntimeHighlightColor(e,n,t,i)}this._runtimeColor=e,this._runtimeColorRequired=t}},{key:"getStore",value:function(){return this.store}},{key:"getStorage",value:function(){return this.getIoC().getInstanceByClass(A_)}},{key:"getDeprecatedStorage",value:function(){return this.localStorage}},{key:"setJRFontMap",value:function(e){return this.getWebPDFJR().then((function(t){return t.setFontMap(e)}))}},{key:"setJRWatermarkFontMap",value:function(e){return this.getWebPDFJR().then((function(t){return t.setWatermarkFontMap(e)}))}},{key:"pasteAnnot",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},r=this.stateHandlerManager.getCurrentStates();if(r){var o=r.getStateName();if("edit-all"===o||"add-path-object"===o||"add-text-object"===o)return}if(e&&t&&!t.isVirtual()){var a=e.isCutAnnot,A=void 0!==a&&a,s=e.annotId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then((function(e){if(A){var t=[];if(n.cutAnnot&&n.cutAnnot.getId()===s){var i=n.cutAnnot;n.cutAnnotInfo&&n.cutAnnotInfo.objectNumber===s&&(i.info=(0,b._)({},n.cutAnnotInfo),n.cutAnnotInfo=null),t.push(i)}return Promise.resolve(t)}return e.getAnnotsByObjectNumArray([s])})).then((function(e){if(e.length){if(A){var r=(0,b._)({},e[0].getInfo());n.cutAnnot=null;var o=e[0].getRect(),a=o.right-o.left,s=o.top-o.bottom;return o.left=i.x,o.top=i.y,o.right=i.x+a,o.bottom=i.y-s,r.rect=(0,b._)({},o),r.isCutPasteCreate=!0,t.addAnnot(r)}return t.pasteAnnot(e[0],i)}})).then((function(e){if(e.length>0){var i=e[0],r=function(){return n.eventEmitter.emit(de.addAnnotSuccess,i)};if(A){var o=n.getAnnotRender(t.getIndex(),i.getId()).getComponent();n.copy([o])}var a=n.customs,s=a.isCollaborationMode,c=void 0===s?__:s,u=a.getUserName,l=void 0===u?__:u;if(c()){var d=l();d!==i.getTitle()?i.setTitle(d).finally(r):r()}else r()}return e})).catch(__)}}},{key:"pasteImage",value:function(e,t){var n=this;window.URL=window.URL||window.webkitURL;var i=window.URL.createObjectURL(t),r=N()("<img style='opacity:0' />");r.on("load",(function(t){e=e.then((function(e){return n.getPDFDocRender().getViewBoxCenter(!1)})).then((function(e){var t=(0,E._)(e,2),o=t[0],a=t[1];if(o.isVirtual())throw new Error("Cannot paste image to virtual page!");var A,s,c=n.pdfViewerRender.pdfDocRender.getPDFPageRender(o.getIndex()),u=c.getRotation();90===u||270===u?(A=r.height(),s=r.width()):(A=r.width(),s=r.height());var l={left:a[0]-A/2,top:a[1]-s/2,right:a[0]+A/2,bottom:a[1]+s/2};l=o.reverseDeviceRect(l,c.scale,u);var d=new XMLHttpRequest;d.open("get",i),d.responseType="arraybuffer";var h=(0,U.createDeferred)();return d.onloadend=function(e){return h.resolve(d.response)},d.send(),Promise.all([o,h.promise,l,u])})).then((function(e){var t=(0,E._)(e,4),n=t[0],i=t[1],r=t[2],o=t[3];return n.addImage(i,r,o)})).then((function(e){window.URL.revokeObjectURL(i),r.remove()})).catch((function(){window.URL.revokeObjectURL(i),r.remove()}))})),r.attr("src",i),N()("body").append(r)}},{key:"paste",value:function(e){var t=this;e||(e=JSON.parse(g_));var n=Promise.resolve(),i=function(e){var i=e.text,r=void 0===i?"":i,o=(e.value,[]);switch(e.type){case"html":o=Ud.formatRichText(e.value);break;case"string":r=e.value}var a=t.stateHandlerManager.getCurrentStates();if(a&&"hand"!==a.getStateName())return;n=n.then((function(e){var n=t.getPDFDocRender().getViewMode().getCurrentPageIndex();return t.currentPDFDoc.getPageByIndex(n)})).then((function(e){if(!e.isVirtual()){var n=e.getWidth()/2,i=e.getHeight()/2,a=t.getPDFDocRender().getPDFPageRender(e.getIndex()),A={left:n,top:i,right:n+12,bottom:i-12};return e.addAnnot({type:zi.freeText,intent:"FreeTextTypewriter",subject:"FreeTextTypewriter",contents:r,defaultAppearance:o.length?{}:{textColor:0,textSize:12},rect:A,rotation:((360-90*e.getRotation()-a.getRotation())%360+360)%360,richText:o.length?o:null}).then((function(e){t.eventEmitter.emit(de.addAnnotSuccess,e[0])}))}})).catch(__)};this.pastPositionInfo&&this.pastPositionInfo.times++;var r=function(n){var i=t.getPDFDocRender();return i?i.getViewBoxCenter().then((function(i){var r=(0,E._)(i,2),o=r[0],a=r[1];t.pastPositionInfo&&t.pastPositionInfo.pageIndex===o.getIndex()&&t.pastPositionInfo.pos.toString()===a.toString()||(t.pastPositionInfo={pageIndex:o.getIndex(),pos:a,times:0});var A=1e4,s=-1,c=-1,u=1e4;e.forEach((function(e){if("string"===e.type){var t=e.value;if(t.type){var n=t.rect;A=Math.min(n.left,A),s=Math.max(n.right,s),c=Math.max(n.top,c),u=Math.min(n.bottom,u)}}}));var l=s-A,d=c-u,h=o.getWidth(),f=o.getHeight(),p={x:a[0]+(5*t.pastPositionInfo.times-l/2),y:a[1]-(5*t.pastPositionInfo.times+d/2)};if(p.x+l>h){var g=h-l;p.x=g<0?0:h-l}if(p.y-d<0){var v=f-d;p.y=v<0?f:d}return[o,{x:p.x+n.left-A,y:p.y-(c-n.top)}]})):Promise.resolve({x:0,y:0})};this.pasteTimes++;var o={left:1e4,right:-1,top:-1,bottom:1e4},a=0,A=0;e[0]&&"string"===e[0].type&&e[0].value.graphicObject&&function(){e.forEach((function(e){if("string"===e.type){var n=e.value;if(n.doc&&n.graphicObject&&t.currentPDFDoc.id===n.doc){var i=n.rect;o.left=Math.min(i.left,o.left),o.right=Math.max(i.right,o.right),o.top=Math.max(i.top,o.top),o.bottom=Math.min(i.bottom,o.bottom)}}})),a=o.top-o.bottom,A=o.right-o.left;var n=Object.assign({},o);n.top-=a*t.pasteTimes,n.top<0?(t.pasteNeedRestart=!0,t.pasteRestartTimes?t.pasteRestartTimes++:t.pasteRestartTimes=1):(t.pasteNeedRestart=!1,t.pasteRestartTimes=-1)}();var s=[],c=[],u=[];if(e.forEach((function(e){if("string"===e.type)try{var l=e.value;if("number"==typeof l)return void i(e.value);l.type?"widget"===l.type?s.push(r(l.rect).then((function(e){var t=(0,E._)(e,2);return[t[0],t[1],l]}))):n=n.then((function(e){return r(l.rect).then((function(e){var n=(0,E._)(e,2),i=n[0],r=n[1];if(!i.isVirtual())return t.pasteAnnot(l,i,r).then((function(e){var t;return e&&(t=u).push.apply(t,(0,R._)(e)),u}))}))})):l.doc&&l.graphicObject&&t.currentPDFDoc.id===l.doc?c.push((h=l.rect,f=l.page,t.currentPDFDoc.getPageByIndex(f).then((function(e){var n=e.getHeight(),i=Math.abs(o.top)-Math.abs(h.top),r=Math.abs(o.left)-Math.abs(h.left),s=Object.assign({},o);return s.top-=a*t.pasteTimes,s.bottom-=a*t.pasteTimes,t.pasteNeedRestart&&(n-t.pasteRestartTimes*a<0&&(t.pasteRestartTimes=0),s.top=n-t.pasteRestartTimes*a,s.bottom=s.top-a,s.left=0,s.right=A),[e,{top:s.top-i,bottom:s.top-i-(h.top-h.bottom),left:s.left-r,right:s.left-r+(h.right-h.left)}]}))).then((function(e){var t=(0,E._)(e,2);return[t[0],t[1],l]}))):i(e)}catch(e){0}else if("file"===e.type){var d=e.value;if(!d)return;/^image.*/.test(d.type)?t.pasteImage(n,d):n=n.then((function(n){return t.currentPDFDoc.attachFile(e.blob)})).catch(__)}else"html"===e.type&&i(e);var h,f})),s.length){var l=this.currentPDFDoc.PDFForm;n=n.then((function(e){return Promise.all(s).then((function(e){var t=e[0][0];if(!t.isVirtual()){var n=e.map((function(e){var t=(0,E._)(e,3),n=(t[0],t[1]),i=t[2],r=l.getField(i.fieldName);if(r){var o=r.getControlById(i.srcObjectNumber);if(o){i.type=i.fieldType,delete i.fieldType;var a=i.rect,A=Object.assign({},i,{rect:{left:n.x,top:n.y,right:n.x+(a.right-a.left),bottom:n.y-(a.top-a.bottom)}}),s=r.getType();return s!==pn.CheckBox&&s!==pn.RadioButton||(A.isChecked=o.info.isChecked),A}}})).filter((function(e){return!!e}));return l.copyControls(null,t,n).then((function(e){return n.forEach((function(e){var t=l.getField(e.fieldName);if(t){var n=t.getType();if(n===pn.ComboBox||n===pn.Text){var i=t.getDisplayValue();i&&t.showDisplayValue(i)}}})),e}))}}))}))}return c.length&&(n=n.then((function(e){return Promise.all(c).then((function(e){if(!e[0][0].isVirtual()){var t=e.map((function(e){var t=(0,E._)(e,3),n=t[0],i=t[1],r=t[2];return n.pasteGraphicObject(r.graphicObject,r.page,i)}));return Promise.all(t).then((function(e){return e}))}}))}))),n.then((function(e){if(t.activeElement(),Array.isArray(e)&&(0,I._)(e[0],hy)){var n=e[0].getPDFPage().getIndex(),i=new Z,r=t.getPDFPageRender(n);e.forEach((function(e){var n=new(t.addon.graphicsManager.get(e))(e,r,t.addon);i.add(n)})),t.activeElement(i)}return e}))}},{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.activeElement.tagName.toLowerCase();if("textarea"!==n&&"input"!==n&&(e||(e=this.getAllActiveElements()),Array.isArray(e)||(e=[e]),0!==e.length)){var i=[],r=e.map((function(e){if(e&&e.annot&&"widget"===e.annot.getType()){var n=e.annot;return{type:"string",value:{type:n.getType(),rect:n.getRect(),fieldName:n.getField().getName(),fieldType:n.getField().getType(),srcObjectNumber:n.getObjNum()}}}if((0,I._)(e,Mo)){var r=e.annot.getType();if("strikeout"===r||"highlight"===r||"squiggly"===r||"underline"===r||"redact"===r||"caret"===r||"screen"===r||"sound"===r)return;return{type:"string",value:{isCutAnnot:t,type:r,rect:e.annot.getRect(),annotId:e.getId(),pageIndex:e.annot.page.getIndex()}}}if(e.graphicsObject&&(0,I._)(e.graphicsObject,hy)){var o=(e=e.graphicsObject).getPDFPage();return i.push(e),{type:"string",value:{page:o.getIndex(),graphicObject:e.getId(),rect:e.getRect(),doc:o.getPDFDoc().getId()}}}})).filter((function(e){return!!e}));if(r.length){if(i.length){var o=i[0].getPDFPage(),a=i.map((function(e){return e.getId()}));o.cloneGraphicObject(o.getIndex(),a)}g_=JSON.stringify(r),(0,U.copyText)(g_),this.eventEmitter.emit(de.copyTextSuccess),this.pasteTimes=0}}}},{key:"copyAnnots",value:function(e){if(!Array.isArray(e))throw new Error("Incorrect param format");return e.filter((function(e){var t=e.getType();return"widget"==t?e.getField().getType()!==pn.Sign:!(["strikeout","highlight","squiggly","underline","redact","caret","screen","sound","popup"].includes(t)||"R"==e.info.RT&&e.info.IRT)})).map((function(e){var t=e.getType();if("widget"===t){var n=e,i=n.getField();return{type:t,rect:n.getRect(),fieldName:i.getName(),fieldType:i.getType(),objectNumber:n.getObjNum()}}return{type:t,rect:e.getRect(),id:e.getId(),pageIndex:e.getPage().getIndex()}}))}},{key:"pasteAnnots",value:function(e){var t=[],n=[];e.forEach((function(e){var i=e.type,r=e.rect,o=e.id,a=e.pageIndex,A=e.fieldName,s=e.fieldType,c=e.objectNumber;"widget"==i?n.push({type:"string",value:{type:i,rect:r,fieldName:A,fieldType:s,srcObjectNumber:c}}):t.push({type:"string",value:{isCutAnnot:!1,type:i,rect:r,annotId:o,pageIndex:a}})}));var i=[];return t.length>0&&i.push(this.paste(t)),n.length>0&&i.push(this.paste(n)),Promise.all(i).then((function(e){return e.flat()}))}},{key:"getClipboardText",value:function(){return g_}},{key:"cut",value:function(e){e||(e=[this.getAllActiveElements()[0]]),Array.isArray(e)||(e=[e]);var t=e[0];if(t&&(0,I._)(t,Mo)&&"text"===t.annot.getType()&&!t.deleteDisabled()){var n=t.annot,i=n.getReplies(),r=(0,b._)({},n.getInfo());r.repliesSummary.length&&r.repliesSummary.forEach((function(e){if(!e.content){var t=i.find((function(t){return t.getId()===e.id&&t.info.IRT===n.getId()}));t&&(e.content=t.getContent())}})),this.cutAnnotInfo=(0,b._)({},r),this.cutAnnot=n,this.copy(t,!0),t.removeAnnot()}}},{key:"_setSaveBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__;this._saveBefore=e}},{key:"registerSignatureHandler",value:function(e,t,n){throw new Error("this api is not working now!!")}},{key:"setEnableShortcutKey",value:function(e){this.config.enableShortcutKey=e,e?this.keyboard.enable():this.keyboard.disable()}},{key:"isShortcutKeyEnabled",value:function(){return this.config.enableShortcutKey}},{key:"setEnableLoad3DModule",value:function(e){this.config.enableLoad3DModule=e}},{key:"isLoad3DModuleEnabled",value:function(){return this.config.enableLoad3DModule}},{key:"setEnable3DInteraction",value:function(e){var t,n,i;this.config.enable3DInteraction=e,null===(i=this.getPDFDocRender())||void 0===i||null===(n=i.pagesRender)||void 0===n||null===(t=n.pageRenders)||void 0===t||t.forEach((function(t){var n,i=null===(n=t.annotsRender)||void 0===n?void 0:n.annotRenders;if(i)for(var r in i){var o,a=i[r];"3d"===(null==a||null===(o=a.annot)||void 0===o?void 0:o.getType())&&(e?a.component.active3DHandle():a.component.disable3DHandle())}}))}},{key:"is3DInteractionEnabled",value:function(){return this.config.enable3DInteraction}},{key:"isMouseWheelZoomEnabled",value:function(){var e=window.localStorage.getItem("PREFERENCES-GENNERAL");return!!e&&JSON.parse(e).handUseMouseZoom}},{key:"onShortcutKey",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var r=U.Shortcut.from(e);if("function"!=typeof t&&"object"!=typeof t||Array.isArray(t))throw new Error("Incorrect handler param format");var o=__;i&&(o=this.keyboard.interceptor((function(e,t){if(e.context===n.keyboard.getDefaultShortcutContext())return t(e);e.shortcut.equals(r)||t(e)})));var a="function"==typeof t?t:t&&t.keydown,A="function"==typeof t?void 0:t&&t.keyup,s={shortcut:r,keydown:a,keyup:A},c=this.keyboard.onShortcut(r,(function(e){switch(e.opportunity){case U.ShortcutEventApportunity.keydown:s.keydown&&s.keydown(e);break;case U.ShortcutEventApportunity.keyup:s.keyup&&s.keyup(e)}}),{keydown:"function"==typeof a,keyup:"function"==typeof A}),u=function(){o(),c()};return s.remove=u,this.keyboardListeners.push(s),u}},{key:"offShortcutKey",value:function(e,t){if("string"!=typeof e||!e)throw new Error("Incorrect shortcut param format");var n="function"==typeof t?t:t&&t.keydown,i="function"==typeof t?void 0:t&&t.keyup,r=U.Shortcut.from(e);this.keyboardListeners=this.keyboardListeners.filter((function(e){var t=!1;return r.equals(e.shortcut)&&(n||i?(n===e.keydown&&(e.keydown=void 0),i===e.keyup&&(e.keyup=void 0),t=!e.keydown&&!e.keyup):t=!0),!t||(e.remove(),!1)}))}},{key:"getInkSignList",value:function(e){return(this.inkSignManager.getList()||[]).map((function(t){return{dataURL:"blob"===e?Mk(t.dataURL):t.dataURL}}))}},{key:"getOnlineSignList",value:function(){return(this.onlineSignManager.getList()||[]).map((function(e){return e}))}},{key:"setInkSignList",value:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){if(e.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(e.dataURL)){var n=t.inkSignManager.addInkSign();n.setDataURL(e.dataURL),t.inkSignManager.push(n)}}))}},{key:"setOnlineSignList",value:function(e){var t=this;Array.isArray(e)&&e.forEach((function(e){if(e.dataURL&&/^data:(.*?)\/(.*?);base64/g.test(e.dataURL)){var n=t.onlineSignManager.addOnlineSign();n.setDataURL(e.dataURL),t.onlineSignManager.push(n)}}))}},{key:"setDefaultPrintSetting",value:function(e){var t=e.quality;if(void 0===t&&(t=e.quality=100),(t-100|1e3-t)<0)throw new Error("quality range error, 100 to 1000");var n=this.config.printSetting;this.config.printSetting=Object.assign(n,e)}},{key:"getPrintSetting",value:function(e){return this.config.printSetting[e]}},{key:"setAutoCompleteSetting",value:function(e){var t=this.config.autoCompleteSetting;this.config.autoCompleteSetting=Object.assign(t,e)}},{key:"getAutoCompleteSetting",value:function(){return this.config.autoCompleteSetting}},{key:"clearAllAutoCompleteEntries",value:function(){return new _h(this).clearDbEntries()}},{key:"deleteAutoCompleteEntry",value:function(e){return new _h(this).deleteEntry(e)}},{key:"getSavedAutoCompleteEntries",value:function(){return new _h(this).getDbEntries()}},{key:"getAllAutoCompleteEntries",value:function(){return new _h(this).getAllEntries()}},{key:"setPencilDrawingTimeOut",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("pencilStateHandler",{pencilTimeout:e})}},{key:"setEraserSize",value:function(e){this.getStateHandlerManager().pushStateHandlerConfig("eraserStateHandler",{width:e})}},{key:"setSnapMode",value:function(e,t){switch(e){case En:case wn:case Rn:case Tn:case Mn:case Fn:case On:case Bn:break;default:throw new Error("Incorrect state handler name: ".concat(e,"!"))}var n=this.getStateHandlerManager(),i=(n.getStateHandlerConfig(e)||{}).snapMode;n.pushStateHandlerConfig(e,{snapMode:t&&t.slice(0)}),this.eventEmitter.emit(de.snapModeChanged,e,t,i)}},{key:"getSnapMode",value:function(e){return(this.getStateHandlerManager().getStateHandlerConfig(e)||{}).snapMode||[]}},{key:"setDocReadColors",value:function(e){var t=this;if("object"!=typeof e||Array.isArray(e)||!e.hasOwnProperty("background")||!e.hasOwnProperty("foreground"))throw new Error("Nonsupport colors param format");var n=this.getCurrentPDFDoc();if(n)return n.setColors(e).then((function(){var e=t.getPDFDocRender();if(e)for(var n=e.getPDFDoc().getPageCount(),i=0;i<n;i++){var r=t.getPDFPageRender(i);r&&r.isRendered&&r.redraw(!0)}}))}},{key:"setPageDisplayPreferences",value:function(){var e=this.getCurrentPDFDoc(),t=localStorage.getItem("PAGE_DISPLAY_DATA");if(t){var n=JSON.parse(t);e&&e.setPageDisplayPreferences(n)}}},{key:"activateAnnotation",value:function(e){var t=this;if(!e.annotationId)throw new Error("Annotation id can't empty");var n=this.getPDFDocRender();if(!n||!this.currentPDFDoc)return Promise.resolve();var i=e.annotationId;return this.currentPDFDoc.getPageByIndex(e.pageIndex).then((function(e){return"number"==typeof i?e.getAnnotsByObjectNumArray([i]):e.getAnnots().then((function(t){if(i.trim().length<1)return Promise.resolve();var n=e.getAnnotObjectNum(i);return 0==n?Promise.resolve():(i=n,e.getAnnotsByObjectNumArray([n]))}))})).then((function(r){var o=r[0];if(!o)throw new Error("the annotation does not exist");var a=o.getType();if("popup"===a)throw new Error("the popup annotation can not be activated");if(e.showCommentList&&"freetext"!=a){var A=function(){var n=t.getAnnotRender(e.pageIndex,i);if(n)return Promise.resolve(n.component.showReplyDialog()).then((function(){return o}));t.getPDFPageRender(e.pageIndex).getAnnotRenderSafely(i).then((function(e){return Promise.resolve(e.component.showReplyDialog()).then((function(){return o}))}))},s=A();return s||n.goToPage(e.pageIndex,{x:o.getRect().left,y:o.getRect().top},!0).then(A).then((function(){return o}))}return o})).then((function(t){return n.goToPage(e.pageIndex,{x:t.getRect().left,y:t.getRect().top},!0)})).then((function(n){var r=t.getPDFPageRender(e.pageIndex);r.waitRendered().then((function(){r.annotsRender&&r.annotsRender.activeAnnot(i)}))}))}},{key:"convertClientCoordToPDFCoord",value:function(e){for(var t=e.clientX,n=void 0===t?0:t,i=e.clientY,r=void 0===i?0:i,o=0,a=0,A=0,s=this.getPDFDocRender().pagesRender,c=s.getViewMode().getVisibleIndexes(),u=function(e){return n>=e.left&&n<e.right&&r>=e.top&&r<e.bottom},l=0,d=c.length;l<d;l++){o=c[l];var h=s.getPDFPageRender(o).$ui[0].getBoundingClientRect();if(u(h)){a=n-h.left,A=r-h.top;break}if(l==d-1)return Promise.resolve(null)}var f=s.getPDFPageRender(o);return f.reverseDevicePoint([a,A]).then((function(e){var t=(0,E._)(e,2),n=t[0],i=t[1];return{index:o,left:n,top:i,scale:f.getScale(),rotation:f.getRotation()}}))}},{key:"setAutoCalculateFieldsFlag",value:function(e){var t=this.pdfViewerRender.pdfDocRender;if(t){var n=t.getPDFDoc();if(n){var i=n.getPDFForm();i?i.calculationEnabled=e:console.error("get form error")}else console.error("get doc error")}else console.error("get doc Render error")}},{key:"getModuleLicenseRight",value:function(){var e=this;this.getWebPDFJR().then((function(t){t.getAllModuleLicenseRight().then((function(t){e.getStore().dispatch(U.MODULE_LICENSE_INFO,t)}))}))}},{key:"addTooltipsForAllFormFields",value:function(){var e=this.currentPDFDoc.getPDFForm();e&&(e.fields||[]).forEach((function(e){e.getAlternateName()||e.setAlternateName(e.getName())}))}},{key:"setLayoutGrid",value:function(e){return e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3,color:"#7f7fff"},e)).color=(0,U.colorConvertor)(e.color),e.subdivisions=Math.max(1,e.subdivisions)),this.config.layoutGrid=e||null,this.redrawContent()}},{key:"setLayoutGridByStorageSettings",value:function(e){var t=F_(),n=t.gridOptions,i=t.settings;return!0===e&&(i.Grid=!i.Grid,L_(i)),this.config.layoutGrid=i.Grid?n:null,this.eventEmitter.emit(de.gridToggle,i.Grid,e),this.redrawContent()}},{key:"setCustomMargin",value:function(e){this.getPDFViewerRender();N()("html").css("--facing-margin",e+"px")}},{key:"setMultipage",value:function(e){var t=this,n=this.viewModeManager.currentViewMode.getName(),i=["facing-page-view-mode","multipage-view-mode","facing-continuous-page-view-mode"];if(i.forEach((function(n){t.store.dispatch("multipage-"+n,e)})),this.getPDFDocRender().doc.getPageCount()<=1)this.viewModeManager.switchTo("single-page-view-mode");else if(i.includes(n)){var r=this.viewModeManager.ViewModes[n];this.viewModeManager.currentViewMode=r,this.viewModeManager.switchTo(""),setTimeout((function(){t.viewModeManager.switchTo(n)}))}}},{key:"updateFormatPageNumbers",value:function(){this.eventEmitter.emit(de.pagesLabelChange)}},{key:"getLayoutGrid",value:function(){return this.config.layoutGrid||null}},{key:"setSnapGrid",value:function(e){e&&((e=Object.assign({unit:"inch",width:1,height:1,offsetLeft:0,offsetTop:0,subdivisions:3},e)).subdivisions=Math.max(1,e.subdivisions)),this.config.snapGrid=e||null}},{key:"setSnapGridByStorageSettings",value:function(e){var t=F_(),n=t.gridOptions,i=t.settings;!0===e&&(i.SnapGrid=!i.SnapGrid,L_(i)),this.config.snapGrid=i.SnapGrid?n:null,this.eventEmitter.emit(de.snapGridToggle,i.SnapGrid,e)}},{key:"getSnapGrid",value:function(){return this.config.snapGrid||null}},{key:"setLineWeight",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return n.currentPDFDoc?n.currentPDFDoc.otherOptions.renderConfigLineWeight===e?[2]:(n.currentPDFDoc.otherOptions.renderConfigLineWeight=e,[4,n.currentPDFDoc.setRenderConfigLineWeight(e)]):[3,2];case 1:i.sent(),i.label=2;case 2:return t?(n.pdfViewerRender.pdfDocRender.pagesRender.setRenderFlags(8),n.redrawContent(),[2]):[2]}}))}))()}},{key:"setFormFieldFocusRectangleVisible",value:function(e){this.element.classList.toggle("hide-form-field-focus-rectangle",!e)}},{key:"setJPXDownSample",value:function(e){return this.getWebPDFJR().then((function(t){return t.setJPXDownSample(e)}))}},{key:"setFormCreationContinuously",value:function(e){this.getStore().dispatch(Ne,e)}},{key:"startFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?Promise.resolve():this.currentPDFDoc.startFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!0,e.eventEmitter.emit(de.designerAssistantStatusChanged,!0)}))}},{key:"stopFormDesginerAssist",value:function(){var e=this;return this.isDesignerAssistantEnabled?this.currentPDFDoc?this.currentPDFDoc.stopFormDesignerAssit().then((function(){e.isDesignerAssistantEnabled=!1,e.eventEmitter.emit(de.designerAssistantStatusChanged,!1)})):(this.isDesignerAssistantEnabled=!1,void this.eventEmitter.emit(de.designerAssistantStatusChanged,!1)):Promise.resolve()}},{key:"setActionCallback",value:function(e){this.JSEngine&&this.JSEngine.setActionCallback(e)}},{key:"addFontMaps",value:function(e){var t=this.getStore(),n=(t.getCurrentValue(gx)||{all:[]}).all;return n.length>0&&(e=e.filter((function(e){return!n.some((function(t){return t.name===e.name&&t.style===e.style&&t.charset===e.charset}))}))),t.dispatch(gx,{all:n.concat(e),new:e}),this.eventEmitter.emit(de.AddFontMaps,e),this.getWebPDFJR().then((function(t){return t.addFontMap(e)}))}},{key:"getIoC",value:function(){return this.ioc}},{key:"getReadAloudService",value:function(){return this.readAloudService||(this.readAloudService=this.ioc.getInstanceByClass(hx)),this.readAloudService}},{key:"getPDFDocParserService",value:function(){return this.ioc.getInstanceByClass(wx)}},{key:"getKeyboard",value:function(){return this.keyboard}},{key:"toggleCollaborationMode",value:function(e){this.eventEmitter.emit(de.toggleCollaborationMode,e)}},{key:"getGroupCount",value:function(){var e={"-1":[]};return this.getAllActiveElements().forEach((function(t){var n=t.annot,i=n.getGroupHeader&&n.getGroupHeader();i?(e[i.getId()]=e[i.getId()]||[]).push(t):e[-1].push(t)})),[Object.keys(e).length-1,e[-1].length,e]}},{key:"initADPs",value:function(){this.ADPs||(this.ADPs=JSON.parse(localStorage.getItem(DefaultAnnotPropertyKey))||{})}},{key:"ADPs",get:function(){var e=this.pdfEngine;return e?e.ADPs:{}}},{key:"setAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(this.webPDFJR||this.webPDFSR).setAnnotDefaultProperty(e,t,n),this.eventEmitter.emit("setAnnotDefaultProperty",{type:e,intent:t,props:n})}},{key:"getAnnotDefaultProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(this.webPDFJR||this.webPDFSR).getAnnotDefaultProperty(e,t)}},{key:"setWorker",value:function(e){var t=this;return this.getWebPDFJR().then((function(n){return n.api.setWorker(e),n.cacheFontConfig((t.config.jr.fontServer||"")+"/",[],[])}))}},{key:"previewIconDoc",value:function(e){return this.getWebPDFJR().then((function(t){return t.api.previewIconDoc(e)}))}},{key:"getBuiltInComparisonStringResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentLanguage();return this.i18n.getDataByLanguage(e).viewer_.compareResultStrings}},{key:"loadBuiltinComparisonTemplates",value:function(){var e=this;return(0,x._)((function(){var t,n,i,r,o,a;return(0,F.Jh)(this,(function(A){switch(A.label){case 0:return s=(0,x._)((function(t){var n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return[4,fetch(t)];case 1:return[4,i.sent().blob()];case 2:return n=i.sent(),[2,e.loadPDFDocByFile(n)]}}))})),t=function(e){return s.apply(this,arguments)},n="assets/comparison",i=Ks(e.libPath,n,"new_summary.pdf"),r=Ks(e.libPath,n,"old_summary.pdf"),[4,t(i)];case 1:return o=A.sent(),[4,t(r)];case 2:return a=A.sent(),[2,{newTemplateId:o.id,oldTemplateId:a.id}]}var s}))}))()}},{key:"compareDocuments",value:function(e,t,n,i){var r=this;return(0,x._)((function(){var o,a,A,s,c,u;return(0,F.Jh)(this,(function(l){switch(l.label){case 0:return n.newTemplateId&&n.oldTemplateId?[3,2]:[4,r.loadBuiltinComparisonTemplates()];case 1:o=l.sent(),a=o.newTemplateId,A=o.oldTemplateId,n.newTemplateId=a,n.oldTemplateId=A,l.label=2;case 2:return n.stringResource||(n.stringResource=r.getBuiltInComparisonStringResource()),[4,r.pdfEngine];case 3:return[4,(s=l.sent()).getPDFDocByCacheId(e,{fileName:n.baseFileName})];case 4:return c=l.sent(),[4,s.getPDFDocByCacheId(t,{fileName:n.otherFileName})];case 5:return u=l.sent(),[2,c.compareWith(u,n,i)]}}))}))()}},{key:"getOverlayComparisonService",value:function(){return this.getIoC().getInstanceByClass(Xx)}},{key:"getOverlayComparisonOptionsService",value:function(){return this.getIoC().getInstanceByClass(qx)}},{key:"registerProgressHandler",value:function(e){if("function"!=typeof e)throw new TypeError("Callback type error");this.progressHandler=e}},{key:"updateCustomOptions",value:function(e){Object.assign(this.customs,e)}},{key:"getCustomOptionsUpdater",value:function(){return this.ioc.getInstanceByClass(r_)}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"getBookmarkDataService",value:function(){return this.ioc.getInstanceByClass(d_)}},{key:"registerMultimediaPlayers",value:function(e){var t;(t=this.multimediaPlayers).unshift.apply(t,(0,R._)(e))}}]),i}(U.Disposable);const T_=R_;function M_(e,t){if(e&&"function"==typeof e.getJWT)return e.getJWT(t)}function F_(){var e=JSON.parse(localStorage.getItem("layoutPreference"))||{WidthBetweenLines:"1.000",HeightBetweenLines:"1.000",GridOffsestFromLeftEdge:"1.000",GridOffsestFromTopEdge:"1.000",Subdivisions:"3",GridLineColcor:"#1e43d6",Grid:!1,SnapGrid:!1};return{gridOptions:{unit:"inch",width:e.WidthBetweenLines,height:e.HeightBetweenLines,offsetLeft:e.GridOffsestFromLeftEdge,offsetTop:e.GridOffsestFromTopEdge,subdivisions:Math.max(1,e.Subdivisions),color:(0,U.colorConvertor)(e.GridLineColcor)},settings:e}}function L_(e){localStorage.setItem("layoutPreference",JSON.stringify(e))}function N_(e){var t=e.key,n=e.value,i=e.notNull,r=void 0===i||i,o=e.notSpace,a=void 0!==o&&o,A=e.notSpecialChar;if(void 0!==A&&A&&/[~!@#'\.\$%\^&\*\(\)\=;\[\]\{\}]/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Special characters is invalid."));if(a&&/\s/.test(n))throw new Error("[Illegal Argument] Invalid ".concat(t,": Space is invalid."));if(r&&0==n.length)throw new Error("[Illegal Argument] Invalid ".concat(t,": ").concat(t," is required."))}function O_(e){if(0===e.size)return Promise.resolve(new Uint8Array(0));var t=new FileReader;return new Promise((function(n,i){t.onload=function(){n(new Uint8Array(t.result))},t.onerror=function(e){return i(e)},t.readAsArrayBuffer(e)}))}function B_(e,t){if(0===e.size)return Promise.resolve("");var n=new FileReader;return new Promise((function(i,r){n.onload=function(){i(n.result)},n.onerror=function(e){return r(e)},n.readAsText(e,t)}))}function j_(e,t){for(var n=0;n<t.length;n++)if(e[n]===t.charCodeAt(n))return!0;return!1}function V_(e,t){if(0===e.size)return Promise.resolve(!1);var n;if(t){var i=t.lastIndexOf(".");n=t.substr(i+1)}return B_(e.slice(0,4)).then((function(e){return"%PDF"===e||"pdf"===n}))}function U_(e){var t=Array.from(e).slice(0,4).map((function(e){return String.fromCharCode(e)})).join("");return"%PDF"===t}function H_(e,t){return 0===e.size?Promise.resolve(!1):O_(e.slice(0,35)).then((function(e){return G_(e,t)?W_():K_(e,t)?Y_():$_(e,t)}))}var z_=document.createElement("video");function W_(){return!!z_.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}function Y_(){return!!z_.canPlayType&&!!z_.canPlayType('video/ogg; codecs="theora, vorbis"')}function G_(e,t){return!!t.match(/\.mp4$/)}function $_(e,t){return!!t.match(/\.webm$/)}function K_(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&q_(e)}function q_(e){return 116===e[29]&&104===e[30]&&101===e[31]&&111===e[32]&&114===e[33]&&97===e[34]}var J_=document.createElement("audio");function X_(){return!!J_.canPlayType("audio/mp3")}function Q_(){return!!J_.canPlayType&&!!J_.canPlayType('audio/ogg; codecs="vorbis"')}function Z_(e,t){return O_(e.slice(0,35)).then((function(e){return eP(e,t)?X_():!!tP(e,t)&&Q_()}))}function eP(e,t){return!!t.match(/\.mp3$/)}function tP(e,t){return 79===e[0]&&103===e[1]&&103===e[2]&&83===e[3]&&nP(e)}function nP(e){return 118===e[29]&&111===e[30]&&114===e[31]&&98===e[32]&&105===e[33]&&115===e[34]}function iP(e,t){return O_(e.slice(0,4)).then((function(e){return rP(e)||oP(e)||aP(e)||AP(e)||sP(t)}))}function rP(e){return 255===e[0]&&216===e[1]&&255===e[2]}function oP(e){return 137===e[0]&&80===e[1]&&78===e[2]&&71==e[3]}function aP(e){return 71===e[0]&&73===e[1]&&70===e[2]&&56===e[3]}function AP(e){return 66===e[0]&&77===e[1]}function sP(e){return/\.svg$/.test(e)}function cP(e){return B_(e.slice(0,4)).then((function(e){return"%FDF"===e}))}function uP(e){return B_(e.slice(0,4)).then((function(e){return"%XDP"===e}))}function lP(e){return e>=0&&e<=6||e>=14&&e<=31}var dP=1024;function hP(e,t){return/\.xfdf/.test(t)||0===e.size?Promise.resolve(!1):cP(e).then((function(t){return!t&&uP(e).then((function(t){if(t)return!1;var n=e.size>dP?e.slice(0,dP):e;return"function"==typeof e.stream?function(e){var t=e.stream().getReader();return t.read().then((function e(n){if(n.done)return!0;for(var i=n.value,r=0;r<i.length;r++)if(lP(i[r]))return!1;return t.read().then(e)}))}(n):function(e){var t=512,n=Math.ceil(e.size/t),i=function(e){for(var t=0;t<e.length;t++)if(lP(e[t]))return!1;return!0};return Array(n).fill((function(e){return O_(e).then(i)})).reduce((function(n,i,r){return n.then((function(n){if(n){var o=t*r,a=Math.min(o+t,e.size),A=e.slice(o,a);return i(A)}return!1}))}),Promise.resolve(!0))}(n)}))}))}var fP,pP;n(8049);function gP(e){return(0,I._)(e,HTMLElement)?function(n,i){return"selection-update"===i&&n?t(n,e.getBoundingClientRect()):n}:function(n,i){return"selection-update"===i&&n?t(n,e):n};function t(e,t){var n=e.clientLeft,i=e.clientTop,r=n+e.width,o=i+e.height;return n<t.left&&(n=t.left),i<t.top&&(i=t.top),r>t.right&&(r=t.right),o>t.bottom&&(o=t.bottom),{clientLeft:n,clientTop:i,width:r-n,height:o-i}}}!function(e){e.NONE="none",e.DASHED="dashed",e.SOLID="solid",e.DOTTED="dotted"}(fP||(fP={})),function(e){e.START="selection-start",e.UPDATE="selection-update",e.END="selection-end",e.CANCEL="selection-cancel"}(pP||(pP={}));var vP=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_._)(this,n),e=t.call(this),(0,X._)((0,k._)(e),"anchorElement",document.body),(0,X._)((0,k._)(e),"fillColor","rgba(".concat(125,",",186,",",255,", 0.3)")),(0,X._)((0,k._)(e),"borderColor","#7DBAFF"),(0,X._)((0,k._)(e),"borderStyle","solid"),(0,X._)((0,k._)(e),"borderWidth",1),(0,X._)((0,k._)(e),"removeMaskOnEnd",!0),(0,X._)((0,k._)(e),"areaEl",document.createElement("div")),(0,X._)((0,k._)(e),"builtInInteraction",!0),(0,X._)((0,k._)(e),"isPrepared",!1),(0,X._)((0,k._)(e),"isAvailable",!0),(0,X._)((0,k._)(e),"store",new U.Store),(0,X._)((0,k._)(e),"interceptors",[]),Object.keys(i).forEach((function(t){e[t]=i[t]})),e.areaEl.className="fv__viewer-selections-area",e.areaEl.style.cssText+="\n            outline: ".concat(e.borderWidth,"px ").concat(e.borderStyle," ").concat(e.borderColor,";\n            background-color: ").concat(e.fillColor,";\n        "),e.store.subscribe("selection-update",(function(t){e.areaEl.style.cssText+="\n                width: ".concat(t.width,"px;\n                height: ").concat(t.height,"px;\n                left: ").concat(t.clientLeft,"px;\n                top: ").concat(t.clientTop,"px;\n            ")})),e.addDestroyHook((function(){e.store.destroy()})),e}return(0,P._)(n,[{key:"eventInterceptor",value:function(e){this.interceptors.push(e)}},{key:"reducer",value:function(e){this.store.reducer(e)}},{key:"on",value:function(e,t){return this.builtInInteraction&&this.prepare(),this.store.subscribe(e,t)}},{key:"start",value:function(e,t){document.body.appendChild(this.areaEl);var n=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-start",{clientLeft:e,clientTop:t,left:e-n.left,top:t-n.top,width:0,height:0})}},{key:"adjust",value:function(e,t){var n=this.store.getCurrentValue("selection-start"),i=n.clientLeft+e,r=n.clientTop+t,o=Math.min(n.clientLeft,i),a=Math.min(n.clientTop,r),A=Math.abs(e),s=Math.abs(t),c=this.anchorElement.getBoundingClientRect();this.store.dispatch("selection-update",{clientLeft:o,clientTop:a,left:o-c.left,top:a-c.top,width:A,height:s})}},{key:"end",value:function(){this.removeMaskOnEnd&&this.removeMask();var e=this.store.getCurrentValue("selection-update");this.store.dispatch("selection-end",e)}},{key:"cancel",value:function(){this.removeMask(),this.store.dispatch("selection-cancel",void 0)}},{key:"removeMask",value:function(){this.areaEl.parentElement===document.body&&document.body.removeChild(this.areaEl)}},{key:"enable",value:function(){this.isAvailable=!0}},{key:"disable",value:function(){this.isAvailable=!1}},{key:"prepare",value:function(){var e=this;if(!this.isPrepared){var t=new pr.Manager(this.anchorElement);t.add(new pr.Pan({direction:pr.DIRECTION_ALL}));var n,i=!1;t.on("panstart",(function(t){e.isAvailable&&(e.interceptors.some((function(e){return!e(t)}))||(i=!0,n=t.center,e.start(t.center.x,t.center.y),e.adjust(0,0)))})),t.on("panmove",(function(t){if(e.isAvailable&&i){var r=t.center.x-n.x,o=t.center.y-n.y;e.adjust(r,o)}})),t.on("panend",(function(t){e.isAvailable&&i&&(i=!1,e.end())})),t.on("pancancel",(function(t){e.isAvailable&&i&&(i=!1,e.cancel())})),this.addDestroyHook((function(){t.destroy(),e.end()}))}}}]),n}(U.Disposable);var mP=function(e){var t={isAllowed:!1,print:2,accessibility:!0,copy:!0,change:4};return"password"===e?(0,b._)({userPassword:"",ownerPassword:"",isEncryptMetadata:!0,cipherType:Zy.AES128},t):"certificate"===e?t:{}},yP=function(e){if(void 0===e)return{};var t={};return t.print=2048&e?2:4&e?1:0,t.accessibility=!!(512&e),t.copy=!!(16&e),t.change=8&e&&32&e&&256&e?4:32&e&&256&e?3:256&e?2:1024&e?1:0,t},bP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.print,n=e.change,i=e.accessibility,r=e.copy;if("number"!=typeof t||"number"!=typeof n||"boolean"!=typeof i||"boolean"!=typeof r)return 0;var o=65532;return t<2&&(o^=2048,t<1&&(o^=4)),i||(o^=512),r||(o^=16),4===(n=+n)?o^=1024:3===n?(o^=8,o^=1024):2===n?(o^=8,o^=32,o^=1024):1===n?(o^=8,o^=32,o^=256):0===n&&(o^=8,o^=32,o^=256,o^=1024),o+=4294901760},wP=null,kP=function(){return wP},xP=function(e){wP=e},_P="",PP=function(){return _P},DP=function(){_P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""},CP=function(e,t){if(!e||!t)return Promise.resolve(!1);var n=t.recipientList,i=t.cipherType,r=t.isEncryptMetadata,o=e.pdfViewer.currentPDFDoc,a=n.map((function(e){return{cerFile:e.cerFile,permission:e.permissionData.isAllowed?e.permissionData:null}}));return o.setCertificateAndPermission(a,i,r).then((function(t){return t&&(e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-certificate-permission-alert"}),e.eventEmitter.emit(de.securityTypeChanged),xP(null)),t}))},SP=function(e,t){return e&&t?e.pdfViewer.currentPDFDoc.setPasswordAndPermission(t.userPassword,t.ownerPassword,t.permissionData.value,t.cipherType,t.isEncryptMetadata).then((function(n){if(n){e.alert({message:"password-protect:warning.apply-to-document",level:"warning",again:!0,id:"set-password-permission-alert"}),e.eventEmitter.emit(de.securityTypeChanged);var i=(0,w._)((0,b._)({},t,yP(t.permissionData.value)),{isAllowed:t.permissionData.isAllowed});delete i.permissionData,xP(i),DP(t.ownerPassword)}return n})):Promise.resolve(!1)},IP=function(e,t,n){if(e){var i=e.pdfViewer.currentPDFDoc,r=function(t){return e.promptPassword("","password-protect:buttons.inputOwnerPassword","password-protect:buttons.title","body",t?"error":void 0,t)},o=function(e){if(!e)return r("password-protect:error.admin-pwd-cannot-blank").then(o,(function(){}));(n||i).checkPassword(e).then((function(n){if(3!==n)return r("password-protect:warning.incorrect-owner-pwd").then(o,(function(){}));DP(e),t&&t(e)}))};r().then(o,(function(){}))}};var EP=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.$ui.get(0).parentElement;return(0,_._)(this,n),(i=t.call(this,e)).scrollHost=r,i.clientWidth=-1,i.clientHeight=-1,window.ResizeObserver&&(i.observer=new ResizeObserver((function(e){(0,E._)(e,1)[0]&&(i.clientWidth=r.clientWidth,i.clientHeight=r.clientHeight)})),i.observer.observe(r),i.addDestroyHook((function(){i.observer.unobserve(r)}))),i}return(0,P._)(n,[{key:"getScrollHost",value:function(){return this.scrollHost}},{key:"scrollBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost;i.scrollBy?i.scrollBy({top:t,left:e,behavior:n}):(i.scrollLeft=i.scrollLeft+e,i.scrollTop=i.scrollTop+t)}},{key:"scrollTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",i=this.scrollHost,r=i.scrollLeft,o=i.scrollTop;if(i.scrollTo?i.scrollTo({left:e,top:t,behavior:n}):(i.scrollLeft=e,i.scrollTop=t),0===r||!o){var a=new Event("scroll");Object.defineProperty(a,"isMock",{value:!0}),i.dispatchEvent(a)}}},{key:"getScrollOffset",value:function(){var e=this.viewerRender.$ui.get(0),t=e.parentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{offsetLeft:Math.max(0,n.left-t.left),offsetTop:Math.max(0,n.top-t.top)}}},{key:"getScrollOffsetLeft",value:function(){return this.getScrollOffset().offsetLeft}},{key:"getScrollOffsetTop",value:function(){return this.getScrollOffset().offsetTop}},{key:"getScrollTop",value:function(){return this.scrollHost.scrollTop}},{key:"getScrollLeft",value:function(){return this.scrollHost.scrollLeft}},{key:"getScrollX",value:function(){return this.getScrollLeft()}},{key:"getScrollY",value:function(){return this.getScrollTop()}},{key:"getWidth",value:function(){var e;return-1!==this.clientWidth?(e=this.clientWidth,this.clientWidth=-1):e=this.scrollHost.clientWidth,e}},{key:"getHeight",value:function(){var e;return-1!==this.clientHeight?(e=this.clientHeight,this.clientHeight=-1):e=this.scrollHost.clientHeight,e}},{key:"addScrollEventListener",value:function(e){return(0,D._)((0,C._)(n.prototype),"addScrollEventListener",this).call(this,e)}}],[{key:"create",value:function(e){return function(t){(0,S._)(i,t);var n=(0,M._)(i);function i(t){return(0,_._)(this,i),n.call(this,t,e)}return i}(n)}}]),n}(Ua);const RP=EP;var TP;!function(e){e[e.MOVE_TO=1]="MOVE_TO",e[e.LINE_TO=2]="LINE_TO"}(TP||(TP={}));var MP=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"x",void 0),(0,X._)(this,"y",void 0),this.x=t,this.y=n}return(0,P._)(e,[{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"div",value:function(e){return this.mult(1/e)}},{key:"mult",value:function(t){return new e(this.x*t,this.y*t)}},{key:"normalize",value:function(){var e=this.length();return this.div(e)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"toPoint",value:function(e){return new FP(this.x,this.y,e)}}]),e}(),FP=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TP.MOVE_TO;(0,_._)(this,e),(0,X._)(this,"x",void 0),(0,X._)(this,"y",void 0),(0,X._)(this,"type",void 0),this.x=t,this.y=n,this.type=i}return(0,P._)(e,[{key:"distanceTo",value:function(e){return this.vectorTo(e).length()}},{key:"vectorTo",value:function(e){return new MP(e.x-this.x,e.y-this.y)}},{key:"toVector",value:function(){return new MP(this.x,this.y)}},{key:"newType",value:function(t){return e.fromPoint(this,t)}}],[{key:"fromVec",value:function(t,n){return new e(t.x,t.y,n)}},{key:"fromPoint",value:function(t,n){return new e(t.x,t.y,n)}}]),e}(),LP=function(){function e(t,n){(0,_._)(this,e),(0,X._)(this,"radius",void 0),(0,X._)(this,"origin",void 0),this.radius=t,this.origin=n}return(0,P._)(e,[{key:"contains",value:function(e){return this.origin.distanceTo(e)<this.radius}},{key:"intersectsLine",value:function(e,t){var n=e.x,i=e.y,r=t.x,o=t.y,a=this.origin,A=a.x,s=a.y,c=Math.pow(r-n,2)+Math.pow(o-i,2),u=2*((r-n)*(n-A)+(o-i)*(i-s)),l=u*u-4*c*(A*A+s*s+n*n+i*i-2*(A*n+s*i)-this.radius*this.radius),d=[];if(0===l){var h=-u/(2*c),f=new FP(n+h*(r-n),i+h*(o-i));NP(e,t,f)&&d.push(f)}else if(l>0){var p=(-u-Math.sqrt(l))/(2*c),g=(-u+Math.sqrt(l))/(2*c),v=new FP(n+p*(r-n),i+p*(o-i)),m=new FP(n+g*(r-n),i+g*(o-i));NP(e,t,v)&&d.push(v),NP(e,t,m)&&d.push(m)}return d}}]),e}();function NP(e,t,n){var i=Math.min(e.x,t.x),r=Math.max(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.y,t.y);return n.x>=i&&n.x<=r&&n.y>=o&&n.y<=a}var OP=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"radius",void 0),this.radius=t}return(0,P._)(e,[{key:"erase",value:function(e,t){var n=e.reduce((function(e,t){return t.type===TP.MOVE_TO&&e.push([]),e[e.length-1].push(t),e}),[]),i=new LP(this.radius,t);return n.forEach((function(e){for(var t=0;t<e.length-1;){var n=e[t],r=e[t+1];if(i.contains(n))if(i.contains(r))e.splice(t,1,r.newType(TP.MOVE_TO)),t++;else{var o=i.intersectsLine(n,r);1===o.length&&e.splice(t,1,o[0].newType(TP.MOVE_TO)),t++}else{if(i.contains(r)){var a=i.intersectsLine(n,r);1===a.length&&(e.splice(t+1,1,a[0].newType(TP.LINE_TO),r.newType(TP.MOVE_TO)),t++)}else{var A=i.intersectsLine(n,r);2===A.length&&(e.splice(t+1,0,A[0].newType(TP.LINE_TO),A[1].newType(TP.MOVE_TO)),t+=2)}t++}}})),n.reduce((function(e,t){return e.concat(t)}),[])}}]),e}();var BP,jP,VP,UP,HP="unknown",zP="unknown_certify";BP={},(0,X._)(BP,HP,"unknownMsg"),(0,X._)(BP,zP,"unknownMsg_certify"),(0,X._)(BP,"unknownValidityMsg","unknownValidityMsg"),(0,X._)(BP,"validMsg","validMsg"),(0,X._)(BP,"validMsg_certify","validMsg_certify"),(0,X._)(BP,"invalidMsg","invalidMsg"),(0,X._)(BP,"invalidMsg_certify","invalidMsg_certify"),(0,X._)(BP,"invalidMsg_Upper","invalidMsg_Upper"),(0,X._)(BP,"errorSignatureMsg","errorSignatureMsg"),(0,X._)(BP,"errorByteRangeMsg","errorByteRangeMsg"),(0,X._)(BP,"errorByteRangeDetail","errorByteRangeDetail"),(0,X._)(BP,"validInfo","validInfo"),(0,X._)(BP,"validInfo_certify","validInfo_certify"),(0,X._)(BP,"invalidInfo","invalidInfo"),(0,X._)(BP,"invalidInfo_certify","invalidInfo_certify"),(0,X._)(BP,"validityUnknownInfo","validityUnknownInfo"),jP={},(0,X._)(jP,HP,"verifyUnknown"),(0,X._)(jP,"verifyNoChange","verifyNoChange_online"),(0,X._)(jP,"verifyNoChange_certify","verifyNoChange_certify"),(0,X._)(jP,"verifyFuture","verifyFuture"),(0,X._)(jP,"verifyAlteredCorrupted","verifyAlteredCorrupted"),(0,X._)(jP,"verifyChange","verifyChange_online"),(0,X._)(jP,"verifyChange_certify","verifyChange_certify"),(0,X._)(jP,"noSupportFormat","noSupportFormat"),(0,X._)(jP,"noSupportHandler","verifyChange_certify"),(0,X._)(jP,"e_StateVerifyChangeLegal","changeLegal"),(0,X._)(jP,"e_StateVerifyChangeIllegal","changeIllegal"),VP={},(0,X._)(VP,HP,"issueUnknown"),(0,X._)(VP,"issuerInvalid_mac","issuerInvalid_mac"),(0,X._)(VP,"issuerInvalid","issuerInvalid"),(0,X._)(VP,"issuerRevoke","issuerRevoke"),(0,X._)(VP,"issuerExpire_mac","issuerExpire_mac"),(0,X._)(VP,"issuerExpire","issuerExpire"),(0,X._)(VP,"issuerCurrent","issuerCurrent"),(0,X._)(VP,"issuerCurrent_certify","issuerCurrent_certify"),(0,X._)(VP,"issuerValid","issuerValid"),(0,X._)(VP,"issuerValidAndIssueRevoke","issuerValidAndIssueRevoke"),(0,X._)(VP,"issuerIdentityUnknown","issuerIdentityUnknown"),(0,X._)(VP,"identityValidAndUntrustedMsg","identityValidAndUntrustedMsg"),(0,X._)(VP,"notVerifiedIdentityMsg","notVerifiedIdentityMsg"),(0,X._)(VP,"e_StateVerifyIssueUnknown","issueUnknown"),(0,X._)(VP,"e_StateVerifyIssueUncheck","issueUncheck"),UP={},(0,X._)(UP,HP,"timestampUnknown"),(0,X._)(UP,"timestampExpire","timestampExpire_online"),(0,X._)(UP,"timestampDoc","timestampDoc_online"),(0,X._)(UP,"timestampNone","timestampNone_online"),(0,X._)(UP,"timestampEmbeddedAndExpire","timestampEmbeddedAndExpire"),(0,X._)(UP,"timestampEmbeddedAndExpire_mac","timestampEmbeddedAndExpire_mac"),(0,X._)(UP,"timestampEmbeddedAndExpire_mac_panel","timestampEmbeddedAndExpire_mac_panel"),(0,X._)(UP,"timestampEmbedded","timestampEmbedded"),(0,X._)(UP,"timestampEmbedded_mac","timestampEmbedded_mac"),(0,X._)(UP,"timestampEmbedded_mac_panel","timestampEmbedded_mac_panel"),(0,X._)(UP,"timestampEmbeddedAndNotBeVerified","timestampEmbeddedAndNotBeVerified"),(0,X._)(UP,"timestampSecure","timestampSecure"),(0,X._)(UP,"e_StateVerifyTimestampIssueUnknown","timestampIssueUnknown");var WP={NotYetVerified:"notYetVerified",Verified:"verified"};function YP(e){var t=[];if(e){var n=e.getPDFForm();if(n){var i=n.fields;i.length&&(t=i.filter((function(e){return e.getType()===pn.Sign})))}}return t}function GP(e){var t=!1,n=YP(e);return n.length&&(t=n.some((function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&e.signatureInfo.isCertified}))),t}function $P(e){var t=!1,n=YP(e);return n.length&&(t=n.some((function(e){return e.signatureInfo&&e.signatureInfo.isSigned&&!e.signatureInfo.isCertified}))),t}var KP="uniqueSerialNumber",qP="TrustedCertificateList",JP=!1,XP=[{indexKey:"type"},{indexKey:"serialNumber"}],QP={Custom:"Custom",FATL:"FATL",EUTL:"EUTL"},ZP=function(){return new bh(qP,"FoxitPDFSDKForWeb_"+qP,1,KP,XP)};function eD(e){return tD.apply(this,arguments)}function tD(){return(tD=(0,x._)((function(e){var t,n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:if(!(t=ZP()))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.add(e)];case 2:return i.sent(),[2,e];case 3:return n=i.sent(),console.error(n),[2,!1];case 4:return[2,!1]}}))}))).apply(this,arguments)}function nD(e){return iD.apply(this,arguments)}function iD(){return(iD=(0,x._)((function(e){var t,n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),(t=ZP())?[4,t.remove(e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[3,4];case 3:return n=i.sent(),console.error(n),[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function rD(e){return oD.apply(this,arguments)}function oD(){return(oD=(0,x._)((function(e){var t,n,i,r;return(0,F.Jh)(this,(function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),!(t=ZP()))return[3,4];n=0,o.label=1;case 1:return n<e.length?(i=e[n],[4,t.remove(i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[3,6];case 5:return r=o.sent(),console.error(r),[3,6];case 6:return[2]}}))}))).apply(this,arguments)}function aD(){return"true"==localStorage.getItem("isFATLAndEUTLListInit")||JP}function AD(e){return sD.apply(this,arguments)}function sD(){return(sD=(0,x._)((function(e){var t,n;return(0,F.Jh)(this,(function(i){switch(i.label){case 0:return aD()?[3,2]:[4,cD(e)];case 1:i.sent(),i.label=2;case 2:return[4,lD(e)];case 3:if(i.sent(),!(t=ZP()))return[2,[]];i.label=4;case 4:return i.trys.push([4,6,,7]),[4,t.getAll()];case 5:return[2,i.sent()||[]];case 6:return n=i.sent(),console.error(n),[2,[]];case 7:return[2]}}))}))).apply(this,arguments)}function cD(e){return uD.apply(this,arguments)}function uD(){return uD=(0,x._)((function(e){var t,n,i,r,o,a,A,s=arguments;return(0,F.Jh)(this,(function(c){switch(c.label){case 0:if(t=s.length>1&&void 0!==s[1]&&s[1],aD()&&!t)return[2];JP=!1,c.label=1;case 1:return c.trys.push([1,7,8,9]),[4,lD(e,t)];case 2:return(n=c.sent()).length?(n.map((function(e){e.usage=3})),(i=ZP())?[4,i.getByIndex("type",QP.Custom)]:[3,6]):[3,6];case 3:return r=c.sent()||[],[4,i.clear()];case 4:return c.sent(),(o=n.concat(r)).forEach((function(e){var t=e||{},n=t.serialNumber,i=t.country,r=t.issuerName;e[KP]="".concat(n,"_").concat(i,"_").concat(r)})),a=function(e,t){var n=new Map;return e.filter((function(e){return!n.has(e[t])&&n.set(e[t],1)}))}(o,KP),[4,i.addItems(a)];case 5:c.sent(),JP=!0,c.label=6;case 6:return[3,9];case 7:return A=c.sent(),JP=!1,console.error(A),[3,9];case 8:return localStorage.setItem("isFATLAndEUTLListInit",JP),[7];case 9:return[2]}}))})),uD.apply(this,arguments)}function lD(e){return dD.apply(this,arguments)}function dD(){return dD=(0,x._)((function(e){var t,n,i,r,o=arguments;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:t=o.length>1&&void 0!==o[1]&&o[1],a.label=1;case 1:return a.trys.push([1,4,,5]),(A=e.libPath).endsWith("/")||(A+="/"),n={static_FATLUrl:{url:"".concat(A,"certFATLAndEUTL/tsfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:1,type:QP.FATL},static_EUTLUrl:{url:"".concat(A,"certFATLAndEUTL/eutlfile.foxitdata1?t=").concat((new Date).getTime()),trust_type:2,type:QP.EUTL},static_FATL2Url:{url:"".concat(A,"certFATLAndEUTL/tsfile.foxitdata2?t=").concat((new Date).getTime()),trust_type:1,type:QP.FATL,purpose_code:"phantomkey"}},i=[n.static_FATLUrl,n.static_FATL2Url,n.static_EUTLUrl],[4,e.getWebPDFJR()];case 2:return[4,a.sent().getFATLAndEUTLList(i,t)];case 3:return r=a.sent(),[2,Promise.resolve(r)];case 4:return a.sent(),[2,Promise.resolve([])];case 5:return[2]}var A}))})),dD.apply(this,arguments)}function hD(e,t,n,i){return fD.apply(this,arguments)}function fD(){return(fD=(0,x._)((function(e,t,n,i){var r,o,a,A,s,c;return(0,F.Jh)(this,(function(u){switch(u.label){case 0:return r=t.getName(),o=function(e){var t=e.customs&&e.customs.getVerifySignatureRule?e.customs&&e.customs.getVerifySignatureRule:void 0,n="function"==typeof t?t():{},i=n.is_verify_signature,r=void 0===i||i,o=n.use_expired_tst,a=void 0===o||o,A=n.ignore_doc_info,s=void 0!==A&&A,c=n.time_type,u=void 0===c?0:c,l=n.verifyDocWhenOpened,d=void 0===l||l,h=n.untrustedAlterInfo;return{is_verify_signature:r,use_expired_tst:a,ignore_doc_info:s,time_type:u,verifyDocWhenOpened:d,untrustedAlterInfo:void 0!==h&&h}}(e),a=(0,X._)({},r,!!t.signatureInfo&&t.signatureInfo.isCertified),[4,AD(e)];case 1:return A=u.sent()||[],[3,3];case 2:c=u.sent(),(s=A).push.apply(s,(0,R._)(c.map((function(e){var t=e.serial,n=e.country,i=e.issuerName;return(0,b._)({isCertTrustedRoot:!0,usage:3,uniqueSerialNumber:"".concat(t,"_").concat(n||"","_").concat(i),type:"Custom"},e)})))),u.label=3;case 3:return[2,o=(0,w._)((0,b._)({},o),{trustedCertificateList:A,isCertTrusted:n,isCertTrustedRoot:i,isCertifiedMap:a})]}}))}))).apply(this,arguments)}function pD(e,t){return gD.apply(this,arguments)}function gD(){return gD=(0,x._)((function(e,t){var n,i,r,o,a,A,s,c,u,l,d=arguments;return(0,F.Jh)(this,(function(h){switch(h.label){case 0:i=(n=d.length>2&&void 0!==d[2]?d[2]:{}).isCertTrusted,r=n.isCertTrustedRoot,o=t.getName(),a={},A={},h.label=1;case 1:return h.trys.push([1,5,,6]),[4,hD(e,t,i,r)];case 2:return s=h.sent(),[4,t.Verify(s)];case 3:return a=h.sent(),[4,t.getDigitalSignatureInfo(s.trustedCertificateList,!1)];case 4:return A=h.sent(),[3,6];case 5:return c=h.sent(),console.error(c),a={},A={},[3,6];case 6:return(u=a[o]?a[o]:{}).checkTime=Je(new Date,"YYYY.MM.DD HH:mm:ssZ",{separator:"'",suffix:"'"}),l=(0,b._)({},t.signatureInfo,A,u),t.signatureInfo&&t.signatureInfo.status===WP.NotYetVerified&&(t.signatureInfo.status=WP.Verified,l.status=WP.Verified),[2,{name:o,signatureInfo:l}]}}))})),gD.apply(this,arguments)}Date.now(),Math.random();const vD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";e.endsWith("/")||(e+="/"),t=t.replace(/(\w*?)-(\w*)/,(function(e,t,n){return t+"-"+n.toUpperCase()}));return function(n,i,r){var o;return o={},(0,X._)(o,r,{Approved:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Approved.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Received.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/DynamicStamps/Confidential.pdf"),fileType:"pdf"}}),(0,X._)(o,i,{Accepted:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Accepted.pdf"),fileType:"pdf"},Witness:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Witness.pdf"),fileType:"pdf"},SignHere:{url:"".concat(e,"stamps/").concat(t,"/SignHere/SignHere.pdf"),fileType:"pdf"},Rejected:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Rejected.pdf"),fileType:"pdf"},Initial:{url:"".concat(e,"stamps/").concat(t,"/SignHere/Initial.pdf"),fileType:"pdf"}}),(0,X._)(o,n,{Approved:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Approved.pdf"),fileType:"pdf"},Void:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Void.pdf"),fileType:"pdf"},Verified:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Verified.pdf"),fileType:"pdf"},Revised:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Revised.pdf"),fileType:"pdf"},Reviewed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Reviewed.pdf"),fileType:"pdf"},Received:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Received.pdf"),fileType:"pdf"},Final:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Final.pdf"),fileType:"pdf"},Expired:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Expired.pdf"),fileType:"pdf"},Emergency:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Emergency.pdf"),fileType:"pdf"},Draft:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Draft.pdf"),fileType:"pdf"},Confidential:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Confidential.pdf"),fileType:"pdf"},Completed:{url:"".concat(e,"stamps/").concat(t,"/StandardStamps/Completed.pdf"),fileType:"pdf"}}),o}.apply(undefined,(0,R._)(["Static","SignHere","Dynamic"]))};n(302);var mD=window.MozWebSocket||window.WebSocket,yD=function(){},bD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.origin;(0,_._)(this,e),(0,X._)(this,"websocketServer",void 0),(0,X._)(this,"apiServer",void 0),(0,X._)(this,"messageReceiver",void 0),(0,X._)(this,"closeEventListener",void 0),(0,X._)(this,"connectStatusDefer",void 0),(0,X._)(this,"socket",void 0),this.websocketServer=t,this.apiServer=n,this.messageReceiver=yD,this.closeEventListener=yD,this.websocketServer=t.trim(),this.apiServer=n.trim()}return(0,P._)(e,[{key:"isConnected",value:function(){if(this.socket){switch(this.socket.readyState){case mD.OPEN:return Promise.resolve(!0);case mD.CLOSED:case mD.CLOSING:return Promise.resolve(!1)}return this.connectStatusDefer.promise}return Promise.resolve(!1)}},{key:"connect",value:function(e){var t,n=this;if(this.socket)switch(this.socket.readyState){case mD.CLOSED:case mD.CLOSING:break;default:this.socket.onclose=null,this.socket.close()}return this.connectStatusDefer=(0,U.createDeferred)(),this.socket=new mD($s(this.websocketServer,"collab-ws/ws")+"?shareId="+e),this.socket.onmessage=function(e){"\n"!==e.data&&n.messageReceiver(e.data)},this.socket.onclose=function(){n.closeEventListener(),clearInterval(t)},this.socket.onopen=function(){t=setInterval((function(){n.socket.send("\t")}),1e4),n.connectStatusDefer.resolve(!0)},this.socket.onerror=function(){n.connectStatusDefer.resolve(!1)},this.connectStatusDefer.promise}},{key:"disconnect",value:function(){return this.socket.onclose=null,this.socket.close(),Promise.resolve(!0)}},{key:"createSession",value:function(e,t){var n=this;return(0,x._)((function(){var e,i,r,o;return(0,F.Jh)(this,(function(a){switch(a.label){case 0:return e=$s(n.apiServer,"collab-ws","share"),i=new FormData,t.type!==Dk.FROM_FILE?[3,2]:[4,t.file()];case 1:return o=a.sent(),(0,I._)(o,Blob)||(o=new Blob([o],{type:"application/pdf"})),i.append("file",o,t.options.fileName),r=JSON.stringify(t,(function(e,t){if("file"!==e)return t})),[3,3];case 2:r=JSON.stringify(t),a.label=3;case 3:return i.append("open-file-params",r),[2,fetch(e,{method:"POST",body:i}).then((function(e){return e.json()})).then((function(e){return e.shareId}))]}}))}))()}},{key:"getSessionInfo",value:function(e){return fetch($s(this.apiServer,"collab-ws/session/",e)).then((function(e){var t=e.headers.get("session-info");if("null"!==t&&t){var n,i=JSON.parse(decodeURIComponent(t)),r=i.openFileParams;if(r.type===Dk.FROM_FILE)r.file=function(){return n||(n=e.blob()),n};return i}}))}},{key:"send",value:function(e,t){return this.socket&&this.socket.send(t),Promise.resolve()}},{key:"getLostData",value:function(e,t){var n=$s(this.apiServer,"collab-ws","data",e,""+t);return fetch(n).then((function(e){return e.json()}))}},{key:"registerMessageReceiver",value:function(e){this.messageReceiver=e}},{key:"registerLostConnectionListener",value:function(e){this.closeEventListener=e}},{key:"destroy",value:function(){this.socket&&this.socket.close()}}]),e}(),wD=n(8272),kD=n.n(wD),xD=(n(1411),function(){function e(t){(0,_._)(this,e),this.title=t,this.step=0;var n=document.createElement("div");n.innerHTML=kD()({title:t}),this.element=n.firstElementChild,n.removeChild(this.element),this.totalElement=this.element.querySelector(".fv__ui-print-process-total"),this.currentElement=this.element.querySelector(".fv__ui-print-process-current"),this.progressElement=this.element.querySelector(".fv__ui-print-process-percent")}return(0,P._)(e,[{key:"reset",value:function(){this.updateProgress(0,0)}},{key:"show",value:function(){this.reset(),document.body.appendChild(this.element)}},{key:"updateProgress",value:function(e,t){var n=this.total;this.total=t,n!==t&&(this.totalElement.innerText=t),this.step=e,this.currentElement.innerText=e,this.progressElement.style.cssText+="\n            width: ".concat(e/t*100,"%;\n        ")}},{key:"close",value:function(){document.body.removeChild(this.element)}}]),e}()),_D=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.call(this),(0,X._)((0,k._)(e),"pageRender",void 0),(0,X._)((0,k._)(e),"shapeDom",void 0),(0,X._)((0,k._)(e),"calloutShape",new Xd),(0,X._)((0,k._)(e),"startPoint",void 0),(0,X._)((0,k._)(e),"annotInfo",void 0),e.addDestroyHook((function(){e.calloutShape.hide(),e.startPoint=void 0})),e}return(0,P._)(n,[{key:"prepare",value:function(e){this.pageRender=e;var t=e.$handler.find(".fv__create-callout-canvas")[0];t?this.shapeDom=t:(this.shapeDom=document.createElement("canvas"),this.shapeDom.style.cssText+="position: absolute",this.shapeDom.classList.add("fv__create-callout-state-canvas"),e.$handler.append(this.shapeDom))}},{key:"start",value:function(e){this.startPoint=e}},{key:"update",value:function(e,t){var n;if(this.startPoint&&this.pageRender&&this.shapeDom){var i=this.pageRender,r=i.page,o=ah.calcCalloutPosition((0,b._)({start:[this.startPoint.x,this.startPoint.y],end:[e.x,e.y],page:r,width:r.getMediaWidth(),height:r.getMediaHeight(),borderStyle:{style:0},endingStyle:0,scale:i.scale,rotate:i.rotate},t||{}));if(o&&!o.invalid){var a=(null===(n=o.calloutLinePoints)||void 0===n?void 0:n.map((function(e){var t=e.x,n=e.y;return r.getDevicePoint([t,n],i.scale,i.rotate)})))||[],A=r.getDeviceRect(o.rect,i.scale,i.rotate),s=r.getDeviceRect(o.innerRect,i.scale,i.rotate);(0,U.cssText)(this.shapeDom,{left:A.left+"px",top:A.top+"px"}),this.calloutShape.init(null,this.shapeDom),this.calloutShape.show(a,A,s),this.annotInfo=o}}}},{key:"complete",value:function(){var e=this,t=this.pageRender;if(!t)return Promise.reject(new Error("[CreateFreeTextCalloutService] not prepared!"));if(!this.annotInfo)return Promise.reject(new Error("[CreateFreeTextCalloutService] Cannot create callout before mouse moved!"));this.calloutShape.hide(),this.startPoint=void 0;var n=t.pdfViewer;return t.getPDFPage().then((function(i){var r=n.getAnnotDefaultProperty("freetext","FreeTextCallout"),o=16777215;void 0!==r.fillColor&&(o=r.fillColor);var a=Object.assign({},{type:"freetext",intent:"FreeTextCallout",subject:n.i18n.t("viewer_:annotSubjects.Callout"),"interior-color":o,rotation:((360-90*i.getRotation()-t.getRotation())%360+360)%360,flags:4},e.annotInfo,r);return i.addAnnot(a)})).then((function(e){var i,r=e[0],o=null===(i=t.annotsRender)||void 0===i?void 0:i.getAnnotRender(r.getId()).component;return n.eventEmitter.emit(de.addAnnotSuccess,o.annot),e}))}}]),n}(U.Disposable),PD=2,DD=10,CD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n),i=t.call(this,e);var r=e.pdfViewer.store;return i.multipage=r.getCurrentValue("multipage-"+i.constructor.getName(),PD),i.pageSpacing=r.getCurrentValue("pageSpacing-"+i.constructor.getName(),DD),i.isJump=!1,i.isCurrentViewMode=!0,i.lastCurrentPageIndex=0,i}return(0,P._)(n,[{key:"getJQItems",value:function(){return N()((0,D._)((0,C._)(n.prototype),"getItems",this).call(this))}},{key:"into",value:function(e,t){this.isCurrentViewMode=!0,(0,D._)((0,C._)(n.prototype),"into",this).call(this,e,t);for(var i=this.constructor.getName(),r="",o=1;o<=this.multipage;o++)r=o%2==0?(r=r+"."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}":(r=r+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}")+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: start;}",o%this.multipage==0&&(r=r+".facing-cover-continuous-view-mode."+i+" .fv__pdf-view-mode-item:nth-of-type("+this.multipage+"n +"+o+") {justify-self: end;}");var a=["<style>","."+i+" {","margin: 0 auto;","width: min-content;","display: grid;","grid-template-columns: repeat("+this.multipage+", 1fr);","justify-items: end;","}","."+i+".facing-cover-continuous-view-mode::before {",'content: "";',"width: calc("+100/this.multipage+"%);","}","."+i+"::after {",'content: "";',"width: -webkit-fill-available;","}","."+i+" .fv__pdf-view-mode-item {","display: -webkit-box;","display: -ms-flexbox;","display: -webkit-flex;","display: flex;","-ms-flex-pack: center;","-ms-flex-align: center;","-ms-justify-content: flex-end;","-webkit-justify-content: flex-end;","justify-content: flex-end;","align-items: center;","margin-left: 0;","}",r,"."+i+" .fv__pdf-view-mode-item {","margin-right: "+this.pageSpacing+"px;","}","."+i+" .fv__pdf-page-layout{","width: 100%;","}","</style>"].join("");this.$style=N()(a),this.docRender.$container.after(this.$style),this.docRender.$container.addClass(this.constructor.getName())}},{key:"bindScrollEvent",value:function(){var e=this;if(this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender){var t=this.docRender.viewerRender.scrollWrap,n=!1,i=t.addScrollEventListener((function(){clearTimeout(e.scrollEventTimer),e.scrollEventTimer=setTimeout((function(){if(!n){var t=e.docRender;if(t){e.isJump=!1;var i=t.pagesRender;i&&i.renderVisiblePages().then((function(){t.isGoto?setTimeout((function(){e.isCurrentViewMode&&(t.isGoto=!1)}),40):t.setCurrentPageIndex(e.getCurrentPageIndex())}),(function(){}))}}}),100)}));this._unwatchScrollEvent=function(){n=!0,e._unwatchScrollEvent=function(){},i()}}}},{key:"out",value:function(){this.isCurrentViewMode=!1,this.docRender.$container.removeClass(this.constructor.getName()),this.docRender.pagesRender.$ui.removeAttr("style"),this.$style&&this.$style.remove(),this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.getJQItems().css({width:"",height:""});var e=this.docRender.pagesRender.pageRenders;for(var t in e){e[t].$ui[0].style.maxWidth=null}(0,D._)((0,C._)(n.prototype),"out",this).call(this)}},{key:"renderViewMode",value:function(e,t,n,i,r){if(this.docRender){var o=this.getMaxPageWidth(),a=this.multipage,A=(a-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:o*a*t+A})}}},{key:"fixMargin",value:function(e,t){var n=this.multipage,i=(n-1)*this.pageSpacing;this.docRender.pagesRender.$ui.css({width:e*n+i})}},{key:"getPagesLayout",value:function(){for(var e=this.docRender.doc.pageCache,t=e.length,n=this.multipage,i=Math.ceil(t/n),r=Array(n).fill(0),o=Array(i).fill(0),a=0;a<n;a++)for(var A=a;A<t;A+=n)r[a]=Math.max(r[a],e[A].getPxWidth());for(var s=0;s<i;s++)for(var c=0;c<n;c++)e[s*n+c]&&(o[s]=Math.max(o[s],e[s*n+c].getPxHeight()));var u=[];return e.forEach((function(e,t){u.push({width:r[t%n],height:o[Math.floor(t/3)]})})),u}},{key:"getMaxPageWidth",value:function(){var e,t=0,n=this.docRender.doc.getPageSizesSync(),i=this.docRender.getRotation();for(var r in e=90===i||270===i?"height":"width",n){var o=4*n[r][e]/3;o>t&&(t=o)}return t}},{key:"getFitHeight",value:function(e){var t=this.docRender.viewerRender.scrollWrap;return t.getHeight()-t.getScrollOffsetTop()}},{key:"getFitWidth",value:function(e){var t=this.getMaxPageWidth(),n=this.docRender.viewerRender.scrollWrap,i=this.multipage,r=getComputedStyle(this.pageDOMs[e]),o=ia(r.marginLeft)+ia(r.marginRight),a=(n.getWidth()-o-i*this.pageSpacing)/i,A=this.docRender.doc.getPageSize(e);A||(A=this.docRender.doc.getPageSize(0));var s=this.docRender.getRotation();return a*(A?90===s||270===s?A.height:A.width:90===s||270===s?this.getFitHeight(e):a)*4/(3*t)}},{key:"jumpToPage",value:function(e,t){var n=this,i=t.x,r=void 0===i?0:i,o=t.y,a=void 0===o?0:o;this.isJump=!0;var A=this.getJQItems();e>=A.length?e=A.length-1:e<0&&(e=0);var s=A.eq(e),c=this.docRender.viewerRender.scrollWrap.getOffsetOfPageElement(s[0]),u=c.left+r,l=c.top+a;this._unwatchScrollEvent&&this._unwatchScrollEvent(),this.docRender.viewerRender.scrollWrap.scrollTo(u,l),this.currentJumpPageIndex=e,this.docRender.setCurrentPageIndex(e),setTimeout((function(){n.isCurrentViewMode&&n.bindScrollEvent()}))}},{key:"getCurrentPageIndex",value:function(){if(this.isJump)return this.currentJumpPageIndex;if(this.docRender){for(var e,t=this.getJQItems(),n=this.docRender.viewerRender.scrollWrap,i=n.getScrollTop(),r=i+n.getHeight(),o=n.getScrollLeft(),a=o+n.getWidth(),A=[],s=0;s<t.length;s++){var c=t[s],u=N()(c).width(),l=N()(c).height(),d=c.offsetTop,h=d+l,f=c.offsetLeft,p=f+u,g=void 0;if(d<=i&&h>i&&h<=r?g=h-i:d>=i&&h<=r?g=l:d<=i&&h>=r?g=r-i:d>=i&&d<r&&h>=r&&(g=r-d),g){var v=void 0;f<=o&&p>o&&p<a?(v=p-o,A.push({index:s,area:g*v})):f>=o&&p<a?(v=u,A.push({index:s,area:g*v})):f<=o&&p>a?(v=a-o,A.push({index:s,area:g*v})):f>=o&&f<a&&p>a&&(v=a-f,A.push({index:s,area:g*v}))}}for(var m=0,y=0;y<A.length;y++)A[y].area>m&&(m=A[y].area,e=A[y].index);return void 0!==e&&(this.lastCurrentPageIndex=e),this.lastCurrentPageIndex}}},{key:"getNextPageIndex",value:function(){var e=this.docRender.doc.getPageCount(),t=this.getCurrentPageIndex();if(t<e-1){var n=this.docRender.viewerRender.scrollWrap,i=this.docRender.pagesRender.$ui.width(),r=n.getWidth()-16,o=this.multipage;if(r>=i)t=Math.ceil((t+1)/o)*o;else t++}return t>e-1&&(t=e-1),t}},{key:"getPrevPageIndex",value:function(){var e=this.getCurrentPageIndex();if(e>0){var t=this.docRender.viewerRender.scrollWrap,n=this.docRender.pagesRender.$ui.width(),i=t.getWidth()-16,r=this.multipage;if(i>=n)e=(Math.ceil((e+1)/r)-2)*r;else e--}return e<0&&(e=0),e}}],[{key:"getName",value:function(){return"multipage-view-mode"}},{key:"setMultipage",value:function(e){PD=e}},{key:"getMultipage",value:function(){return PD}},{key:"setPageSpacing",value:function(e){DD=e}},{key:"getPageSpacing",value:function(){return DD}}]),n}(na);var SD=function(e){if("undefined"==typeof window||!window.document)return function(){throw new Error(e+".js requires a window with a document")};var t={add:function(e,n,i,r){t._eventFun=function(e){i&&i.call(r,e)},e.addEventListener(n,t._eventFun,!1)},remove:function(e,n){e.removeEventListener(n,t._eventFun,!1),t._eventFun=void 0}};Node.prototype.parents=function(e){var t=this.parentNode;return this.classList.contains(e)||"BODY"===t.nodeName?this:t.parents(e)},Node.prototype.hasChildren=function(e){for(var t=e;t;){if(this===t)return!0;t=t.parentNode}return!1};var n,i=function(e,t){if(e){var n={};if(e.dataset)n=e.dataset;else for(var i=0;i<e.attributes.length;i++){var r=e.attributes[i];if(0===r.name.indexOf("data-")){var o=r.name.replace("data-",""),a=r.value;n[o]=a}}for(var o in t){a=t[o];e.dataset?e.dataset[o]=a:e.setAttribute("data-"+o,a)}return n}};function r(t,n){var i=this;if(this.options=Object.assign({draggable:"",dragClass:e+"-drag",chosenClass:e+"-chosen",treeItemIconClass:"tree-item-icon",dragOverStrict:!0,endStrict:!0,inventedNode:null,onStart:"",onBeforeHover:"",onHover:"",onEnd:"",allowDrag:!0,excludeDraggable:"",enabled:!0,checkIsMoveToRight:function(){return!i.options.dragOverStrict&&i.end.classList.contains(i.options.treeItemIconClass)}},n),!t)throw new Error("el must be a dom node: "+t);if(!this.options.draggable)throw new Error("draggable class cannot be a empty string: "+this.options.draggable);this.options.enabled&&(this.el=t,this._bindEvent(),this._appendStyle(),this._cache={overData:[],doms:[]})}return"function"!=typeof Object.assign&&(Object.prototype.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),r.prototype=(n={_addClass:function(e,t,n){n&&this._removeClass(t,e),e.classList.add(t)},_removeClass:function(e,t){var n=this;(e=(0,I._)(e,Array)?e:[e]).forEach((function(e){for(var i=n.el.querySelectorAll("."+e),r=0;r<i.length;r++){var o=i[r];t&&o===t||o.classList.remove(e)}}))},_initDragEvent:function(e){if(e){var t=this;e.draggable=this.options.allowDrag&&this._isEnabled(e),e.ondragstart=function(n){t._isEnabled(e)?t._onDragstart.call(t,n.target):n.preventDefault()},e.ondragover=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){var o={mouseX:Qa(n),mouseY:Za(n)};n.preventDefault(),t.options.enabled&&t._onDragover.call(t,n.target,o)}}},e.ondragenter=function(n){if(e.draggable){var r=n.currentTarget;if(!1!==(t.options.onBeforeHover&&t.options.onBeforeHover({dom:r,attrs:Object.assign(i(r),{text:r.innerText.trim()})}))){n.stopPropagation();var o={mouseX:Qa(n),mouseY:Za(n)};t.options.enabled&&t._onDragenter.call(t,n.target,o)}}},e.ondragleave=function(n){if(e.draggable){var i={mouseX:Qa(n),mouseY:Za(n)};t.options.enabled&&t._onDragleave.call(t,n.target,i)}},e.ondragend=function(n){if(e.draggable){var i={mouseX:Qa(n),mouseY:Za(n)};t.options.enabled&&t._onDragend.call(t,n.target,i)}},e.ondrop=function(n){e.draggable&&(n.stopPropagation(),n.preventDefault(),t.options.enabled&&t._onDrop.call(t,{target:n.target,files:n.dataTransfer.files,altKey:n.altKey,ctrlKey:n.ctrlKey,mouseX:Qa(n),mouseY:Za(n)}))}}},_getDragImage:function(){var e=document.createElement("img");return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.width=0,e.height=0,e.opacity=0,e},_setInventedNode:function(){var e=this.options.draggable;if(this._inventedNodeClassName="_"+e,!this.el.querySelector("."+this._inventedNodeClassName)){var t=this.options.inventedNode;if(t)t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.lastChild.nextSibling);else{t=document.createElement("div");var n=this.el.querySelectorAll("."+e)[0].getBoundingClientRect();t.style.position="fixed",t.style.width=n.width+"px",t.style.height=parseInt(n.height/2)+"px",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.transform="rotateZ(180deg)",t.style.borderWidth="1px",t.style.overflow="hidden",t.style.backgroundColor="rgba(0, 0, 0, 0)",t.style.zIndex="999",i(t,{id:"-1"}),t.classList.add(e),t.classList.add(this._inventedNodeClassName),this._initDragEvent(t),this.el.insertBefore(t,this.el.childNodes[0])}}},_removeInventedNode:function(){var e=this.el.querySelector("."+this._inventedNodeClassName);e&&(e.remove?e.remove():e.removeNode(!0))},_isTopest:function(e){var t=this.el.getBoundingClientRect();return e.clientY-t.y<12},destroy:function(){t.remove(this.el,"pointerdown")},_bindEvent:function(){var e=this;t.add(this.el,"pointerdown",this.setDraggable,this);var n=function(t){var n,i;if((0,I._)(t,TouchEvent)){var r=t.changedTouches||t.touches;if(1!==r.length)return;var o=r[0];n=o.clientX,i=o.clientY}else"clientX"in t&&(n=t.clientX,i=t.clientY);return document.elementFromPoint(n,i).closest("."+e.options.draggable)};if(U.isTouchDevice&&!U.isChromebook){var r,o,a=!1,A=function(t){if(e.options.enabled){var i=n(t);if(i){r=i,o=null,a=!0,document.addEventListener("pointerup",(function(t){a=!1,e.end=o,e._onDragend()}),{once:!0,capture:!0});var A={mouseX:Qa(t),mouseY:Za(t)};e._onDragstart.call(e,i,A),t.preventDefault()}}},s=function(t){if(a){t.preventDefault();var A={mouseX:Qa(t),mouseY:Za(t)},s=n(t);if(!s)return o=s,void(e.options.onHover&&e.options.onHover({dom:s,info:A}));s!==r&&(o!==s&&(s&&(e._onDragenter.call(e,s,A),setTimeout((function(){e.end=s,e.setBlwAndBrw(s),e._addClass(s,e.options.chosenClass);var t=Object.assign(i(s),{text:s.innerText.trim()});e.options.onHover&&s!==e.from&&e.options.onHover({dom:s,attrs:t,info:A})}))),o&&e._onDragleave.call(e,o,A)),s&&s.ondragover(t)),o=s}else o=void 0};this.el.addEventListener("pointerdown",A,{capture:!0,passive:!1}),this.el.addEventListener("touchmove",s,{capture:!0,passive:!1}),this.unbindEventOnDocument=function(){e.el.removeEventListener("pointerdown",A,{capture:!0,passive:!1}),e.el.removeEventListener("mousemove",s,{capture:!0,passive:!1})}}},_appendStyle:function(){this._style=document.createElement("style"),document.head.appendChild(this._style)},setDraggable:function(e){var t;this.options.draggable.trim()&&(t=this.el.querySelectorAll("."+this.options.draggable)),t&&0!==t.length||(t=this.el.children);for(var n=0;n<t.length;n++){var i=t[n];this._initDragEvent(i)}if(this._cache.doms=t,this.options.excludeDraggable){var r=this.el.querySelectorAll("."+this.options.excludeDraggable)||[];for(n=0;n<r.length;n++){(i=r[n]).draggable=!1}}},_onDragstart:function(e,t){var n=this;setTimeout((function(){n._setInventedNode()}),0),this._addClass(e,this.options.dragClass,!0),this.end=null,this.from=e;var r=e.parents(this.options.draggable);this.fromAttrs=Object.assign(i(r),{text:r.innerText.trim()}),this.options.onStart&&this.options.onStart({dom:this.from,attrs:this.fromAttrs,info:t})},_onDragover:function(e,t){var n=this._getTarget(e);if(this.end=n,this.setBlwAndBrw(e,t),this._addClass(n,this.options.chosenClass),-1===this._cache.overData.indexOf(n)&&(this._cache.overData=[]),this._cache.overData.push(n),20===this._cache.overData.length){var r=Object.assign(i(n),{text:n.innerText.trim()});this.options.onHover&&n!==this.from&&this.options.onHover({dom:n,attrs:r})}},_onDragenter:function(e,t){var n=this._getTarget(e);this.end=n,this._addClass(n,this.options.chosenClass,!0),this.setBlwAndBrw(e,t)},_getTarget:function(e){var t=this.options.dragOverStrict?e.parents(this.options.draggable):e;return"#text"===t.nodeName&&(t=t.parentNode),t},setBlwAndBrw:function(e,t){var n=this.options.checkIsMoveToRight(e,t);n?(this.end.style.setProperty("--blw","0"),this.end.style.setProperty("--brw","2px")):(this.end.style.setProperty("--blw","2px"),this.end.style.setProperty("--brw","0")),this.isMoveToRight=n},_onDragleave:function(e){this._removeClass(this.options.chosenClass),this.end=null,this._cache.overData=[],this.options.onHover&&this.options.onHover({dom:null})},_onDrop:function(e){var t=e.target,n=e.files,r=e.altKey,o=e.ctrlKey,a=this.end,A=a&&a.parents(this.options.draggable),s=A&&Object.assign(i(A),{text:A.innerText.trim()}),c=this.isMoveToRight;this.options.onDrop&&this.options.onDrop({endAttrs:s,dragFiles:n,isMoveToRight:c,target:t}),t.querySelector("."+this.options.chosenClass)||(this.end.altKey=r,this.end.ctrlKey=o)},_onDragend:function(){this._cache.overData=[],this._removeClass([this.options.chosenClass]),this._removeInventedNode();var e=this.end,t=e&&e.parents(this.options.draggable),n=t&&Object.assign(i(t),{text:t.innerText.trim()});t===this.from&&this.options.endStrict||this.options.onEnd&&this.options.onEnd({from:this.from,fromAttrs:this.fromAttrs,end:e,endAttrs:n,isMoveToRight:this.isMoveToRight})},destory:function(){t.remove(this.el,"pointerdown"),document.head.removeChild(this._style),this._cache.doms.forEach((function(e){e.removeAttribute("draggable"),e.ondragstart=null,e.ondragover=null,e.ondragenter=null,e.ondragleave=null,e.ondragend=null,e.ondrop=null})),this._cache=null}},(0,X._)(n,"destroy",(function(){this.options.enabled&&this.destory()})),(0,X._)(n,"_isEnabled",(function(e){return this.options.enabled&&(!e||!("true"===e.getAttribute("disabled-drag")))})),n),r.create=function(e,t){return new r(e,t)},r.version="1.0.0",r}("Draggable");const ID=SD;const ED={cipherNone:0,cipherRC4:1,cipherAES:2};const RD={ZoomXYZ:"ZoomXYZ",ZoomFitPage:"ZoomFitPage",ZoomFitHorz:"ZoomFitHorz",ZoomFitRect:"ZoomFitRect"},TD={ThreadAction:io,ResetFormAction:qr,URIAction:Br,JavaScriptAction:Yr,HideAction:eo,GoToAction:Zr,SubmitFormAction:$r,LaunchAction:Ur,ImportDataAction:Xr,NamedAction:zr,SetOCGStateAction:ro,ActionFactory:ao,ZoomMode:RD};var MD=function(){function e(t){(0,_._)(this,e),this.engine=t,this.api=t.api}return(0,P._)(e,[{key:"combineFormsToCSV",value:function(e,t){return this.api.combineFormsToCSV(e,t)}},{key:"destroy",value:function(){this.engine=null,this.api=null}}]),e}();const FD=MD;var LD,ND=function(){function e(t){(0,_._)(this,e),(0,X._)(this,"pdfRect",{left:0,right:0,top:0,bottom:0}),(0,X._)(this,"deviceRect",{left:0,right:0,top:0,bottom:0}),(0,X._)(this,"pdfViewer",void 0),(0,X._)(this,"page",void 0),(0,X._)(this,"pageRender",void 0),(0,X._)(this,"scale",void 0),(0,X._)(this,"rotate",void 0),(0,X._)(this,"intent",void 0),(0,X._)(this,"annotationInfo",this.getDefaultAnnotInfo()),(0,X._)(this,"eContainer",document.createElement("div")),(0,X._)(this,"renderer",void 0),this.eContainer.classList.add("fv__viewer-fake-annot-container"),this.pdfViewer=t.pdfViewer,this.pageRender=t.pageRender,this.intent=t.info.intent,(0,U.extendOptions)(this.annotationInfo,t.info,this.getDefaultAnnotConfig()),this.annotationInfo.type=this.getType(),this.page=t.pageRender.page,this.scale=t.pageRender.scale,this.rotate=t.pageRender.rotate,this.pageRender.$annotsContainer.append(this.eContainer)}return(0,P._)(e,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top),i=(0,H.F2)(this.annotationInfo.borderInfo.width)*this.scale*2;if(t<i){var r=.5*(i-t)*(e.right-e.left>0?1:-1);e.right+=r,e.left-=r}if(n<i){var o=.5*(i-n)*(e.bottom-e.top>0?1:-1);e.top-=o,e.bottom+=o}t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var a=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,a),(0,U.cssText)(this.eContainer,{left:e.left+"px",top:e.left+"px",width:t+"px",height:n+"px"})}},{key:"setContent",value:function(e){this.annotationInfo.content=e,this.annotationInfo.contents=e}},{key:"zoomTo",value:function(e){this.scale=e}},{key:"draw",value:function(){this.renderer||(this.renderer=this.generateApRenderer(),this.renderer.prepare(),this.renderer.willRender()),this.renderer.component&&this.renderer.render(this.scale,this.rotate)}},{key:"getContainerElement",value:function(){return this.eContainer}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.getDeviceRect(e,t),r=this.getOuterDeviceRect(e,t),o=this.getDeviceRect(n,t);return{annotInfo:this.annotationInfo,annotFlag:new mo(this.annotationInfo.flags),smartScale:n,rect:r,outerDeviceRect:r,innerDeviceRect:i,engineRenderingRect:o,scale:e,rotate:t,page:this.page}}},{key:"getDeviceRect",value:function(e,t){return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.borderInfo;if(n&&5===n.style){var i=this.pageRender.getContainerVisibleRect(),r=i.right-i.left,o=i.bottom-i.top,a=this.page.getDeviceRect(this.pdfRect,e,t),A=(r-(a.right-a.left))/2,s=(o-(a.bottom-a.top))/2;return{left:a.left-A,right:a.right+A,top:a.top-s,bottom:a.bottom+s}}return this.page.getDeviceRect(this.pdfRect,e,t)}},{key:"apply",value:function(){var e,t=this;null===(e=this.renderer)||void 0===e||e.afterRender();var n=this.getCreationJSON();return n.endingStyle&&(n.endStyle=n.endingStyle,delete n.endingStyle),n.rect=this.pdfRect,this.page.addAnnot(n).then((function(e){var n=t.pdfViewer.addEventListener("renderAnnotSuccess",(function(){t.destroy(),n()})),i=e[0];return t.pageRender.annotsRender.activeAnnot(i.getId()),t.pdfViewer.eventEmitter.emit(de.addAnnotSuccess,i),e}))}},{key:"destroy",value:function(){var e;null===(e=this.renderer)||void 0===e||e.destroy(),this.getContainerElement().remove()}},{key:"getCreationJSON",value:function(){return this.annotationInfo}},{key:"getDefaultAnnotInfo",value:function(){return{borderInfo:{width:2,style:me.SOLID},color:16711680,opacity:1,flags:4,date:new Date}}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),this.getIntent()):{}}},{key:"getIntent",value:function(){return this.intent}}]),e}(),OD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"getTileConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=this.pdfViewer.getSmartScale(e),i=this.pdfViewer.config.tileSize,r=this.page.getDeviceRect(this.pdfRect,1,t),o=this.page.getDeviceRect(this.pdfRect,n,t),a=o.right-o.left,A=o.bottom-o.bottom;return[Math.ceil(A/i),Math.ceil(a/i),a,A,i,n,e,t,r.left,r.top]}},{key:"getRenderingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scale,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return Object.assign(i,{opacity:this.annotationInfo.opacity,tileConfig:this.getTileConfig(e,t)})}}]),n}(ND),BD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"getType",value:function(){return"square"}},{key:"generateApRenderer",value:function(){return new Al(this)}}]),n}(OD),jD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"getType",value:function(){return"circle"}},{key:"generateApRenderer",value:function(){return new fl(this)}},{key:"apply",value:function(){var e=this;return(0,D._)((0,C._)(n.prototype),"apply",this).call(this).then((function(t){return"CircleDimension"===e.annotationInfo.intent?e.page.getMeasureScaleRatio().then((function(n){if(n&&n.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=bu(e.pdfViewer),o=Ni(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;return t[0].setContent(r+parseFloat(i.area).toFixed(2)+" sq "+o).then((function(e){return t}))}return t})):t}))}}]),n}(OD),VD=function(){function e(){(0,_._)(this,e),(0,X._)(this,"eventEmitter",new Vs.EventEmitter),(0,X._)(this,"isClosed",!1)}return(0,P._)(e,[{key:"getSpace",value:function(e){return[e.id,e.feature].join(".")}},{key:"getAll",value:function(e){var t=this;return(0,x._)((function(){var n;return(0,F.Jh)(this,(function(i){return n=t.getSpace(e),[2,t.getSpaceKeys(e).reduce((function(e,t){var i=t.slice(n.length+1),r=localStorage.getItem(t);return e[i]=r?JSON.parse(r):null,e}),{})]}))}))()}},{key:"get",value:function(e,t){var n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){return i=n.generateUniqueKey(e,t),(r=localStorage.getItem(i))?[2,JSON.parse(r)]:[2,null]}))}))()}},{key:"set",value:function(e,t,n){var i=this;return(0,x._)((function(){var r,o,a,A;return(0,F.Jh)(this,(function(s){return null==n?[2]:(r=i.generateUniqueKey(e,t),o=localStorage.getItem(r),a=o?JSON.parse(o):void 0,A=JSON.stringify(n),o===A||(localStorage.setItem(r,A),i.emitChangeEvent({context:e,key:t,oldValue:a,newValue:n})),[2])}))}))()}},{key:"removeAll",value:function(e){var t=this;return(0,x._)((function(){return(0,F.Jh)(this,(function(n){return t.getSpaceKeys(e).forEach((function(n){var i=localStorage.getItem(n);localStorage.removeItem(n),localStorage.getItem(n)!==i&&t.emitRemoveEvent({context:e,key:n})})),[2]}))}))()}},{key:"remove",value:function(e,t){var n=this;return(0,x._)((function(){var i,r;return(0,F.Jh)(this,(function(o){return i=n.generateUniqueKey(e,t),r=localStorage.getItem(i),localStorage.removeItem(i),localStorage.getItem(i)!==r&&n.emitRemoveEvent({context:e,key:t}),[2]}))}))()}},{key:"onChange",value:function(e){return this.addEventListener("change",e)}},{key:"onRemove",value:function(e){return this.addEventListener("remove",e)}},{key:"close",value:function(){this.isClosed=!0}},{key:"addEventListener",value:function(e,t){var n=this,i=function(e){t(e)};return this.eventEmitter.addListener(e,i),function(){n.eventEmitter.removeListener(e,i)}}},{key:"generateUniqueKey",value:function(e,t){return[this.getSpace(e),t].join(".")}},{key:"getSpaceKeys",value:function(e){var t=this.getSpace(e)+".";return Array(localStorage.length).fill(0).map((function(e,t){return localStorage.key(t)})).filter((function(e){return!!e})).filter((function(e){return 0===e.indexOf(t)}))}},{key:"emitChangeEvent",value:function(e){this.eventEmitter.emit("change",e)}},{key:"emitRemoveEvent",value:function(e){this.eventEmitter.emit("remove",e)}}]),e}();!function(e){e.ICON_CLASS="icon-class",e.IMAGE_URL="image-data-uri",e.CANVAS="canvas",e.NONE="none"}(LD||(LD={}));var UD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){var e;return(0,_._)(this,n),e=t.call(this),(0,X._)((0,k._)(e),"element",void 0),(0,X._)((0,k._)(e),"_isVisible",!1),e.element=document.createElement("div"),e.element.classList.add("fv__viewer-portfolio-previewer"),e}return(0,P._)(n,[{key:"isVisible",get:function(){return this._isVisible}},{key:"getThumb",value:function(e,t){var n=t.fileName,i="fv__icon-portfolio-file",r=n?n.match(/.*\.(.+$)/):void 0,o=r?r[1]:void 0;return o&&(i=i+" fv__icon-portfolio-ext-"+o),Promise.resolve({type:"icon-class",data:i})}},{key:"toggleVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"boolean"!=typeof e?this.toggleVisibility(!this._isVisible):(this.element.classList.toggle("portfolio-hidden",!e),this._isVisible=e)}}]),n}(U.Disposable),HD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"pdfViewer",void 0),(0,X._)((0,k._)(i),"previewerPDFViewer",void 0),(0,X._)((0,k._)(i),"currentFileId",void 0),(0,X._)((0,k._)(i),"executor",void 0),i.pdfViewer=e,i.currentFileId=void 0,i.executor=new U.QueuedAsyncTaskExecutor,e.eventEmitter.on(de.renderFileSuccess,(function(){i.initPDFViewer()})),i}return(0,P._)(n,[{key:"accept",value:function(e,t){return new Promise((function(t,n){var i=new FileReader;i.onload=function(){t("%PDF"===i.result)},i.onerror=function(e){return n(e)},i.readAsText(e.slice(0,4))}))}},{key:"initPDFViewer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{customs:{}};if(this.previewerPDFViewer)return this.previewerPDFViewer;var n=this.pdfViewer;if("JR"!==n.config.engineMode)throw new Error("Unsupported engine mode!");t.customs=Object.assign({},{isSupportFileType:n.$constructorOptions.customs.isSupportFileType,ScrollWrap:RP.create(this.element),getDocPermissions:function(){return 0},getAnnotPermissions:function(){return Promise.resolve([])}},t.customs);var i=Object.assign({},n.$constructorOptions,{defaultAnnotConfig:null,eventEmitter:new Vs.EventEmitter,defaultKeyboardEventBinder:Oo,collaboration:{enable:!1},enableJS:!1,enableShortcutKey:!1,viewerUI:new zD(n.viewerUI),applicationContext:new U.ApplicationContextImpl},t),r=i.jr;r.readyWorker&&(r.readyWorker=r.readyWorker.clone());var o=new T_(i),a=document.createElement("div");return a.className="fv__viewer-portfolio-pdf-previewer-container",o.init(a),this.element.appendChild(a),this.previewerPDFViewer=o,this.addDestroyHook((function(){e.element.removeChild(a),o.destroy()})),o}},{key:"redraw",value:function(){var e=this;this.executor.exec((function(){var t=e.previewerPDFViewer;return t&&t.getCurrentPDFDoc()?t.redraw():Promise.resolve()}))}},{key:"preview",value:function(e,t){var n=this,i=this.initPDFViewer();return this.currentFileId=t.handle,this.executor.exec((function(){return n.openFile(t,i,e)})),function(){return n.currentFileId=void 0,n.executor.exec((function(){return i.close()}))}}},{key:"openFile",value:function(e,t,n){var i={fileName:e.fileName,isRenderOnDocLoaded:!0};"isRenderOnDocLoaded"in e&&(i.isRenderOnDocLoaded=e.isRenderOnDocLoaded);var r=this.pdfViewer.viewerUI;return t.openPDFByFile(n,i).catch((function(e){return o(e,i)}));function o(e,t){switch(e.error){case Xe.password:return a(e.pdfDoc,t,{type:Dk.FROM_FILE,fileName:t.fileName,file:n,options:t});case Xe.format:r.alert("alert.formatError");break;case Xe.securityHandler:r.alert("alert.securityError");break;case Xe.certificate:r.alert("dialog.openFileFailed.errCertificate");break;default:return r.alert("alert.openFailed"),Promise.reject(e)}}function a(e,n,i){var A,s;return(n.password||"")&&(A="error",s="retry.invalidPassword"),r.promptPassword("","retry.inputPassword","retry.Password","body",A,s).then((function(r){return r?(n.password=r,t.reopenPDFDoc(e,n,i).catch((function(e){o(e,n)}))):a(e,n,i)}),(function(e){if(e)throw e}))}}},{key:"getThumb",value:function(e,t){if("number"!=typeof this.currentFileId&&this.currentFileId!==t.handle)return(0,D._)((0,C._)(n.prototype),"getThumb",this).call(this,e,t);if(!this.previewerPDFViewer)return(0,D._)((0,C._)(n.prototype),"getThumb",this).call(this,e,t);var i=this.previewerPDFViewer.getCurrentPDFDoc();return i?i.getPageByIndex(0).then((function(e){return e.getThumb(0).then((function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");if(e.buffer){var i=new(Uint8ClampedArray||Uint8Array)(e.buffer),r=n.createImageData(e.width,e.height);return r.data.set(i),n.putImageData(r,0,0),{type:LD.CANVAS,data:t}}if(e.image){var o=new Image;return o.onload=function(){URL.revokeObjectURL(o.src),n.drawImage(o,0,0)},o.src=URL.createObjectURL(e.image),{type:LD.CANVAS,data:t}}}))})):(0,D._)((0,C._)(n.prototype),"getThumb",this).call(this,e,t)}}]),n}(UD),zD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;return(0,_._)(this,n),i=t.call(this),(0,X._)((0,k._)(i),"origin",void 0),(0,X._)((0,k._)(i),"contextMenu",void 0),i.origin=e,i.contextMenu=new(function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(){return(0,_._)(this,n),t.apply(this,arguments)}return(0,P._)(n,[{key:"showAt",value:function(e,t){return!1}},{key:"destroy",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"onShown",value:function(){}},{key:"onHidden",value:function(){}}]),n}(Nm)),i}return(0,P._)(n,[{key:"createContextMenu",value:function(){return this.contextMenu}},{key:"alert",value:function(e){return this.origin.alert(e)}},{key:"confirm",value:function(e){return this.origin.confirm(e)}},{key:"prompt",value:function(e,t,n){return this.origin.prompt(e,t,n)}},{key:"promptPassword",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=this.origin).promptPassword.apply(i,(0,R._)(t))}},{key:"createFreeTextTooltip",value:function(){}},{key:"createAnnotTooltip",value:function(){}},{key:"createTextSelectionTooltip",value:function(e){return new qm(this.pdfViewer,e)}},{key:"destroy",value:function(){}}]),n}(Om),WD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n);return(i=t.call(this,e)).annotationInfo.dicts=Object.assign({AreaHi:"AreaHi"},i.annotationInfo.dicts||{}),i.eContainer.classList.add("fv__viewer-fake-highlight-area-annot"),i}return(0,P._)(n,[{key:"setRect",value:function(e){(0,D._)((0,C._)(n.prototype),"setRect",this).call(this,e),this.annotationInfo.coords=[this.pdfRect],this.annotationInfo.quadPoints=[{x:this.pdfRect.left,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.top},{x:this.pdfRect.right,y:this.pdfRect.bottom},{x:this.pdfRect.left,y:this.pdfRect.bottom}]}},{key:"getDefaultAnnotInfo",value:function(){var e=(0,D._)((0,C._)(n.prototype),"getDefaultAnnotInfo",this).call(this);return e.color=16776960,e}},{key:"getDefaultAnnotConfig",value:function(){var e=this.pdfViewer.getDefaultAnnotConfig();return"function"==typeof e?e(this.getType(),"Area"):{}}},{key:"generateApRenderer",value:function(){return new ou(this)}},{key:"getType",value:function(){return"highlight"}},{key:"getCreationJSON",value:function(){return(0,w._)((0,b._)({},(0,D._)((0,C._)(n.prototype),"getCreationJSON",this).call(this)),{color:this.annotationInfo.color})}},{key:"getRenderingData",value:function(e,t){var i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t);return(0,w._)((0,b._)({},i),{coords:[i.outerDeviceRect],isArea:!0})}}]),n}(OD),YD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i,r;((0,_._)(this,n),i=t.call(this,e),(0,X._)((0,k._)(i),"vertexes",[]),(0,X._)((0,k._)(i),"deviceVertexes",[]),(0,X._)((0,k._)(i),"lastPoint",{x:0,y:0}),i.annotationInfo.vertexes)&&(r=i.vertexes).push.apply(r,(0,R._)(i.annotationInfo.vertexes));return i.annotationInfo.vertexes=i.vertexes,i}return(0,P._)(n,[{key:"getVertexes",value:function(){return this.vertexes}},{key:"getDeviceVertexes",value:function(){return this.deviceVertexes}},{key:"addPoint",value:function(e,t){var n=(0,E._)(this.page.reverseDevicePoint([e,t],this.scale,this.rotate),2),i=n[0],r=n[1];this.vertexes.push({x:i,y:r}),this.lastPoint={x:i,y:r},this.deviceVertexes.push({x:e,y:t}),this.updateRect()}},{key:"setLastPoint",value:function(e,t){var n=this.deviceVertexes[this.deviceVertexes.length-1],i="number"==typeof e?e:n.x,r="number"==typeof t?t:n.y,o=(0,E._)(this.page.reverseDevicePoint([i,r],this.scale,this.rotate),2),a=o[0],A=o[1];this.lastPoint={x:a,y:A},this.updateRect()}},{key:"getLastPoint",value:function(){return this.lastPoint}},{key:"zoomTo",value:function(e){var t=this;this.scale!==e&&((0,D._)((0,C._)(n.prototype),"zoomTo",this).call(this,e),this.deviceVertexes=this.vertexes.map((function(n){var i=(0,E._)(t.page.getDevicePoint([n.x,n.y],e,t.rotate),2);return{x:i[0],y:i[1]}})),this.updateRect())}},{key:"removeLastPoint",value:function(){}},{key:"getRenderingData",value:function(e,t){var i=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this,e,t),r=J(this.vertexes).slice(0);return r.push(this.lastPoint),(0,w._)((0,b._)({},i),{vertexes:r})}},{key:"generateApRenderer",value:function(){return new Uu(this)}},{key:"getType",value:function(){return"polyline"}},{key:"getOuterDeviceRect",value:function(e,t){return(0,D._)((0,C._)(n.prototype),"getDeviceRect",this).call(this,e,t)}},{key:"updateRect",value:function(){if(0!==this.deviceVertexes.length){var e=(0,E._)(this.page.getDevicePoint([this.lastPoint.x,this.lastPoint.y],this.scale,this.rotate),2),t={x:e[0],y:e[1]},n=t.x,i=t.y,r=t.x,o=t.y;this.deviceVertexes.forEach((function(e){n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y)}));var a=(0,H.F2)(this.annotationInfo.borderInfo.width)*this.scale*2+20;n-=a/2,i-=a/2,r+=a/2,o+=a/2,this.setRect({left:n,top:i,right:r,bottom:o})}}},{key:"apply",value:function(){var e=this;return(0,D._)((0,C._)(n.prototype),"apply",this).call(this).then((function(t){var n=e.annotationInfo.intent;return"PolygonDimension"===n||"PolyLineDimension"===n?e.page.getMeasureScaleRatio().then((function(i){if(i&&i.scale){var r=e.pdfViewer.getStore().getCurrentValue("measurementData"),o=bu(e.pdfViewer),a=Ni(r.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(r.displayUnit.name)):r.displayUnit.name;return t[0].setContent(o+parseFloat("PolyLineDimension"===n?r.perimeter:r.area).toFixed(2)+" "+a).then((function(e){return t}))}return t})):t}))}}]),n}(OD),GD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n),i=t.call(this,e),(0,X._)((0,k._)(i),"isCloudy",!1);var r=i.annotationInfo;if(r.borderStyle)switch(r.borderInfo.style=r.borderStyle,r.borderStyle){case me.CLOUDY:i.annotationInfo.borderInfo.cloudIntensity=r.borderStyleParam,i.isCloudy=!0;break;case me.DASHED:i.annotationInfo.borderInfo.dashes=r.borderStyleParam}return r.borderInfo.style===me.CLOUDY?i.isCloudy=!0:i.isCloudy=!1,i}return(0,P._)(n,[{key:"setFlag",value:function(e,t){this.renderer.setFlag(e,t)}},{key:"generateApRenderer",value:function(){var e=this.isCloudy;return new Qu(this,e)}},{key:"getOuterDeviceRect",value:function(e,t){return this.isCloudy?Ta.on(this.getDeviceRect(e,t)).expand(100*e).extract():(0,D._)((0,C._)(n.prototype),"getDeviceRect",this).call(this,e,t)}},{key:"getType",value:function(){return"polygon"}}]),n}(YD),$D=ke,KD=function(e){(0,S._)(n,e);var t=(0,M._)(n);function n(e){var i;(0,_._)(this,n);var r=(i=t.call(this,e)).annotationInfo;switch(i.annotationInfo.endStyle&&(r.endingStyle=i.annotationInfo.endStyle),r.intent){case be.LINE_ARROW:r.endingStyle===$D.None&&(r.endingStyle=$D.OpenArrow);break;case be.LINE_DIMENSION:r.startStyle===$D.None&&(r.startStyle=$D.OpenArrow),r.endingStyle===$D.None&&(r.endingStyle=$D.OpenArrow)}return r.hasCaption=r.enableCaption,r.leaderLinePoints.start=r.startPoint,i}return(0,P._)(n,[{key:"setRect",value:function(e){this.deviceRect=e;var t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);t=Math.abs(e.right-e.left),n=Math.abs(e.bottom-e.top);var i=this.pageRender.rotate;this.pdfRect=this.page.reverseDeviceRect(e,this.scale,i),this.eContainer.style.cssText+="\n            width: ".concat(t,"px;\n            height: ").concat(n,"px;\n        ")}},{key:"generateApRenderer",value:function(){return new _u(this)}},{key:"getType",value:function(){return"line"}},{key:"getStartPoint",value:function(){return this.annotationInfo.startPoint}},{key:"getEndPoint",value:function(){return this.annotationInfo.endPoint}},{key:"setEndPoint",value:function(e){var t=(0,E._)(this.page.reverseDevicePoint([e.x,e.y],this.scale,this.rotate),2),n=t[0],i=t[1];this.annotationInfo.endPoint={x:n,y:i},this.annotationInfo.leaderLinePoints.end=this.annotationInfo.endPoint;var r=this.annotationInfo.startPoint,o=r.x,a=r.y,A=(0,E._)(this.page.getDevicePoint([o,a],this.scale,this.rotate),2),s=A[0],c=A[1];this.setRect({left:s,top:c,right:e.x,bottom:e.y}),this.annotationInfo.intent==be.LINE_DIMENSION&&this.calculateLeaderLinePoints()}},{key:"calculateLeaderLinePoints",value:function(){var e=this.getStartPoint(),t=this.getEndPoint(),n=t.y-e.y,i=t.x-e.x,r=-1/(n/i),o=Math.atan(r),a=1,A=(this.page.getRotationAngle()+this.rotate)%360;if(t.x<e.x&&t.y<e.y||t.x>e.x&&t.y>e.y)switch(A){case 180:case 270:a=-1;break;default:a=1}else switch(A){case 90:case 180:a=1;break;default:a=-1}var s=this.annotationInfo.leaderLineLength,c=a*Math.cos(o)*s,u=a*Math.sin(o)*s,l={x:e.x+c,y:e.y+u},d=t,h=this.pdfRect;h.left<l.x&&l.x<h.right&&h.bottom<l.y&&l.y<h.top?d={x:t.x+c,y:t.y+u}:(l={x:e.x-c,y:e.y-u},d={x:t.x-c,y:t.y-u}),this.annotationInfo.leaderLinePoints.start=l,this.annotationInfo.leaderLinePoints.end=d}},{key:"getRenderingData",value:function(){var e=(0,D._)((0,C._)(n.prototype),"getRenderingData",this).call(this);return(0,b._)({},e,this.annotationInfo)}},{key:"getOuterDeviceRect",value:function(e,t){var n=this.annotationInfo.leaderLinePoints.start,i=this.annotationInfo.startPoint,r=this.annotationInfo.leaderLineExtend,o=this.annotationInfo.borderInfo.width,a=Pi.convertTo(o,Mi)*this.scale,A=Math.max(Math.abs(n.x-i.x),Math.abs(n.y-i.y))+r,s=Pi.convertTo(A,Mi)*this.scale;return Ta.on(this.getDeviceRect(e,t)).expand(s+a).extract()}},{key:"getDefaultAnnotInfo",value:function(){var e={x:0,y:0},t={x:0,y:0};return(0,w._)((0,b._)({},(0,D._)((0,C._)(n.prototype),"getDefaultAnnotInfo",this).call(this)),{startPoint:e,endPoint:t,leaderLineLength:15,leaderLineExtend:5,captionOffset:{x:0,y:0},enableCaption:!1,leaderLinePoints:{start:e,end:t},leaderLineOffset:0,captionPos:xe.POS_INLINE,content:"",startStyle:it.None,endingStyle:it.None})}},{key:"apply",value:function(){var e=this;return(0,D._)((0,C._)(n.prototype),"apply",this).call(this).then((function(t){return"LineDimension"===e.annotationInfo.intent?e.page.getMeasureScaleRatio().then((function(n){if(n&&n.scale){var i=e.pdfViewer.getStore().getCurrentValue("measurementData"),r=bu(e.pdfViewer),o=Ni(i.displayUnit.name)?e.pdfViewer.i18n.t("measurement.units.".concat(i.displayUnit.name)):i.displayUnit.name;return t[0].setContent(r+parseFloat(i.distance).toFixed(2)+" "+o).then((function(e){return t}))}return t})):t}))}}]),n}(OD),qD=de,JD=RP,XD={Hammer:gr(),EventEmitter:Us(),jQuery:N()},QD=XD,ZD={DiffColor:Gx,OverlayComparisonOptionsService:qx,OverlayComparisonService:Xx},eC=(0,w._)((0,b._)({},m),{browser:U.browser,receiveImageBuffer:Bs,units:s,download:Fa,createClass:U.createClass,DebounceAsyncTaskExecutor:U.DebounceAsyncTaskExecutor,ThrottleAsyncTaskExecutor:U.ThrottleAsyncTaskExecutor,QueuedAsyncTaskExecutor:U.QueuedAsyncTaskExecutor,areaSelections:h,cipherType:Zy,securityEncryptType:{Unknown:-1,None:0,Password:1,Certificate:2,FoxitDRM:3,Custom:4,RMS:5,CDRM:6},keyUsageType:{Unknown:-1,Signature:0,Encryption:1,SignatureAndEncryption:2},securityUtils:f,IndexDBCache:yh,IndexDBStore:bh,fileUtils:u,FileFormat:d,activation:i,keyboardStatus:U.keyboardStatus,getUnitByName:Ni,getClientX:Qa,getClientY:Za,DebouncePromiseQueue:fe,extendOptions:U.extendOptions,convertFromNumberToHex:U.convertFromNumberToHex,convertFromNumberToRGBA:U.convertFromNumberToRGBA,colorConvertor:U.colorConvertor,setThemeColor:U.setThemeColor,standardColorAsARGBNumber:U.standardColorAsARGBNumber,CalloutPointsReviser:ah,createDeferred:U.createDeferred,Store:U.Store,ValueStore:U.ValueStore,Disposable:U.Disposable,getAnnotThumbnail:function(e){e.endsWith("/")||(e+="/");var t="png",n=12,i=12;return{text:{url:"".concat(e,"annotThumbnail/Textbox_12.png"),type:t,width:n,height:i},freetext:{url:"".concat(e,"annotThumbnail/Typewriter_12.png"),type:t,width:n,height:i},line:{url:"".concat(e,"annotThumbnail/Line_12.png"),type:t,width:n,height:i},square:{url:"".concat(e,"annotThumbnail/Square Tool_12.png"),type:t,width:n,height:i},circle:{url:"".concat(e,"annotThumbnail/Ellipse Tool_12.png"),type:t,width:n,height:i},polygon:{url:"".concat(e,"annotThumbnail/Polygon Tool_12.png"),type:t,width:n,height:i},polyline:{url:"".concat(e,"annotThumbnail/Polygon Line Tool_12.png"),type:t,width:n,height:i},highlight:{url:"".concat(e,"annotThumbnail/Highlight Tool_12.png"),type:t,width:n,height:i},underline:{url:"".concat(e,"annotThumbnail/Underline Tool_12.png"),type:t,width:n,height:i},squiggly:{url:"".concat(e,"annotThumbnail/Squiggly Tool_12.png"),type:t,width:n,height:i},strikeout:{url:"".concat(e,"annotThumbnail/Strikeout Tool_12.png"),type:t,width:n,height:i},stamp:{url:"".concat(e,"annotThumbnail/Stamp_12.png"),type:t,width:n,height:i},caret:{url:"".concat(e,"annotThumbnail/Caret Tool_12.png"),type:t,width:n,height:i},ink:{url:"".concat(e,"annotThumbnail/Inksig_12.png"),type:t,width:n,height:i},fileattachment:{url:"".concat(e,"annotThumbnail/AttachAnnot_12.png"),type:t,width:n,height:i}}},getRanges:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=[];return t.forEach((function(e){"number"==typeof e?i.push(e):i=i.concat(function(e,t){for(var n=[],i=e;i<=t;i++)n.push(i);return n}(e[0],e[1]))})),Array.from(new Set(i))},DebounceTaskExecutor:U.DebounceTaskExecutor,debounce:U.debounce,eraser:p,observeResize:U.observeResize,throttle:function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=0,s=function(){A=!1===a.leading?0:Date.now(),t=null,r=e.apply(n,i),t||(n=i=null)};function c(){var c=Date.now();A||!1!==a.leading||(A=c);var u=o-(c-A);return n=this,i=arguments,u<=0||u>o?(t&&(clearTimeout(t),t=null),A=c,r=e.apply(n,i),t||(n=i=null)):t||!1===a.trailing||(t=setTimeout(s,u)),r}return c.cancel=function(){clearTimeout(t),A=0,t=n=i=null},c},Draggable:ID,BuiltinIntersectionObserver:U.BuiltinIntersectionObserver,getDefaultStamps:vD,Color:U.Color,isEditableElement:U.isEditableElement,attachContextMenuEvent:U.attachContextMenuEvent,eventPath:U.eventPath,createFocusEvent:U.createFocusEvent,dpr:U.dpr,getDPI:U.getDPI,resolvePath:Ks}),tC={CreateFreeTextCalloutService:_D},nC={Log_Levels:U.Log_Levels,LEVELS:U.Log_Levels,setLogLevel:U.setLogLevel,LoggerFactory:U.LoggerFactory},iC={getDevicePagePoint:eA,deltaDeviceRect:Ya,appendSelectMark:function(e,t){Ka(e);for(var n=N()(document.createDocumentFragment()),i=0,r=t.length;i<r;i++){var o=t[i],a=["top:"+o.top+"px","left:"+o.left+"px","width:"+(o.right-o.left)+"px","height:"+(o.bottom-o.top)+"px"].join(";");n.append('<mark class="'+Ga+'" style="'+a+'"></mark>')}e.append(n)},removeSelectMark:Ka,getBoundingPoint:Wa,getCaretRectAndRotate:qa,removeTextSelectedRangeMark:Ja,showTextSelectedRangeMark:Xa},rC={IStateHandler:za,HandStateHandler:yA,StateHandlerConsts:A,StateHandlerUtils:iC,CreateMeasurementService:Ji},oC={IViewMode:na,UsualViewModeShortcutHandler:Js,ViewModeShortcutHandler:ea,MultipageViewMode:CD},aC={ProgressComponent:ny,IFloatingTooltip:Bm,IViewerUI:Om,IContextMenu:Nm,TinyViewerUI:ay,TinyFloatingTooltip:qm,TextSelectionTool:Um},AC={Activatable:Q,CustomOptionsUpdater:r_,ScrollWrap:Ua,PDFViewerRendering:j,PDFDocRendering:da,PDFPageRendering:z,ProgressComponent:ny,TextSelectionTool:Um},sC=aC,cC={constant:Object.assign({Cipher_Type:ED,User_Permissions:en,DataEvents:le,AnnotUpdatedType:tn,ZoomMode:RD},o),actions:TD,bookmark:{BookmarkRelationship:eb,BookmarkZoomMode:tb},common:{FileSpec:jr},annots:{constant:{Annot_Flags:nn,Annot_Type:zi,Annot_Unit_Type:bi,MARKUP_ANNOTATION_STATE:ge},AnnotFlag:mo},form:{constant:{Field_Flag:gn,Field_Type:pn}},HeaderFooter:db,DataEvents:le,Error_Code:Xe,engine:{GraphicsObject:hy},Matrix:rn.Z,comparison:{},PDFPageBatchProcessor:Ny},uC={ViewerEvents:qD,STATE_HANDLER_NAMES:A,ANNOTATION_PERMISSION:ld,OPEN_FILE_TYPE:Dk,SNAP_MODE:fu,PagePointType:Yo,PROGRESS_STATUS:Tm},lC={BuiltinShortcutContext:wo,BuiltinCommand:bo,BuiltinShortcutCommand:bo,Keyboard:U.KeyboardImpl,KeyboardUtils:U.KeyboardUtils,Shortcut:U.Shortcut,interceptors:U.interceptors},dC={COLLABORATION_ACTION:yo,WebSocketCommunicator:bD},hC={PrintProgress:xD},fC=Z,pC={consts:{ADD_FONT_MAP_LIST:gx},shared:{Lazy:U.Lazy,attachKeypressEvent:U.attachKeypressEvent,preventFastClickByKeydown:U.preventFastClickByKeydown,createClickEvent:U.createClickEvent,stopPropagationOnShortcutEvent:U.stopPropagationOnShortcutEvent,IoCScope:U.IoCScope},form:{CFR_Utils:va}},gC={PDFPageRender:Qo,PDFDocRender:Va,annotsRender:{AnnotRender:oe,ViewerAnnotManager:dp}},vC={BookmarkDataService:d_};window.PDF=cC;var mC=n(5461),yC=n.n(mC);$e().extend(yC())},2821:(e,t,n)=>{"use strict";n(6226),n(8449);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var i=this.toDataURL(t,n).split(",")[1];setTimeout((function(){for(var n=atob(i),r=n.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=n.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}))}})},6226:()=>{!function(){var e=function(e){return e.replace(i,(function(e,t){return t.toUpperCase()}))},t=function(){for(var t={},n=this.attributes,i=n.length,o=0;o<i;o+=1){var a=n[o],A=a.name,s=a.value;A.substring(0,r.length)===r&&(t[e(A.substring(r.length))]=s)}return t},n=document.createElement("_");if(void 0===n.dataset){var i=/\-([a-z])/gi,r="data-",o=!!document.addEventListener,a=!1,A="DOMAttrModified";o?n.addEventListener(A,s,!1):n.attachEvent("on"+A,s),n.setAttribute("foo","bar"),Object.defineProperty(Element.prototype,"dataset",{get:a?function(){return this._datasetCache||(this._datasetCache=t.call(this)),this._datasetCache}:t}),a&&o&&document.addEventListener(A,(function(e){delete e.target._datasetCache}),!1)}function s(){o?n.removeEventListener(A,s,!1):n.detachEvent("on"+A,s),a=!0}}()},8449:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=r(t);n;)n=r(t=n.ownerDocument);return t}(),t=[],n=null,i=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){i=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,i=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var i=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(i,this.POLL_INTERVAL):(A(n,"resize",i,!0),A(t,"scroll",i,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(i)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),s(e,"resize",i,!0)),s(t,"scroll",i,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var u=r(t);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var i=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=i;){var o=r(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=i){var A=r(t);A&&this._unmonitorIntersections(A.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||i){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var r=i.element,a=u(r),A=this._rootContainsTarget(r),s=i.entry,c=e&&A&&this._computeTargetAndRootIntersection(r,a,t),l=null;this._rootContainsTarget(r)?n&&!this.root||(l=t):l={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=i.entry=new o({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:l,intersectionRect:c});s?e&&A?this._hasCrossedThreshold(s,d)&&this._queuedEntries.push(d):s&&s.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,r,o){if("none"!=window.getComputedStyle(t).display){for(var a=r,A=f(t),s=!1;!s&&A;){var l=null,h=1==A.nodeType?window.getComputedStyle(A):{};if("none"==h.display)return null;if(A==this.root||9==A.nodeType)if(s=!0,A==this.root||A==e)n&&!this.root?!i||0==i.width&&0==i.height?(A=null,l=null,a=null):l=i:l=o;else{var p=f(A),g=p&&u(p),v=p&&this._computeTargetAndRootIntersection(p,g,o);g&&v?(A=p,l=d(g,v)):(A=null,a=null)}else{var m=A.ownerDocument;A!=m.body&&A!=m.documentElement&&"visible"!=h.overflow&&(l=u(A))}if(l&&(a=c(l,a)),!a)break;A=A&&f(A)}return a}},a.prototype._getRootRect=function(){var t;if(this.root&&!p(this.root))t=u(this.root);else{var n=p(this.root)?this.root:e,i=n.documentElement,r=n.body;t={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,i=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==i)for(var r=0;r<this.thresholds.length;r++){var o=this.thresholds[r];if(o==n||o==i||o<n!=o<i)return!0}},a.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return h(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function r(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,i=this.intersectionRect,r=i.width*i.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,i,r,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),i))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function A(e,t,n,i){"function"==typeof e.addEventListener?e.addEventListener(t,n,i||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,i){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,i||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function c(e,t){var n=Math.max(e.top,t.top),i=Math.min(e.bottom,t.bottom),r=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-r,A=i-n;return a>=0&&A>=0&&{top:n,bottom:i,left:r,right:o,width:a,height:A}||null}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,i=t.left-e.left;return{top:n,left:i,height:t.height,width:t.width,bottom:n+t.height,right:i+t.width}}function h(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?r(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(e){return e&&9===e.nodeType}}()},6118:(e,t,n)=>{"use strict";n.d(t,{ke:()=>p,oC:()=>f,F2:()=>h});var i=n(4157);n(8469);var r=n(4375),o=n(6721),a=n(5136),A=n(3638);var s,c=function(){function e(t){(0,r._)(this,e),(0,a._)(this,"values",void 0),(0,a._)(this,"cols",void 0),(0,i.assertThat)(Array.isArray(t),"Illegal Matrix values, it should be an array! But actual: "+t),(0,i.assertThat)(16===t.length,"Incorrect matrix values size, it must be 16!"),this.values=t,this.cols=Math.sqrt(t.length)}return(0,o._)(e,[{key:"multiVec4",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return[this.getAt(0,0)*e+this.getAt(0,1)*t+this.getAt(0,2)*n+this.getAt(0,3)*i,this.getAt(1,0)*e+this.getAt(1,1)*t+this.getAt(1,2)*n+this.getAt(1,3)*i,this.getAt(2,0)*e+this.getAt(2,1)*t+this.getAt(2,2)*n+this.getAt(2,3)*i,this.getAt(3,0)*e+this.getAt(3,1)*t+this.getAt(3,2)*n+this.getAt(3,3)*i]}},{key:"getAt",value:function(e,t){var n=e*this.cols+t;return(0,i.assertThat)(n<this.values.length,"Cannot access value at (".concat(e,",").concat(t,"), it out bound of this matrix!")),this.values[n]}}]),e}(),u=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r._)(this,e),(0,a._)(this,"a",void 0),(0,a._)(this,"b",void 0),(0,a._)(this,"c",void 0),(0,a._)(this,"d",void 0),this.a=t,this.b=n,this.c=i,this.d=o}return(0,o._)(e,[{key:"transform",value:function(t){var n=(0,A._)(t.multiVec4(this.a,this.b,this.c,this.d),4);return new e(n[0],n[1],n[2],n[3])}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return this.transform(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new c([e,0,0,0,0,t,0,0,0,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,0,0,0,0,1])}(e,t,n))}},{key:"rotateZ",value:function(e){return this.transform(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/180*Math.PI,t=Math.cos(e),n=Math.sin(e);return new c([t,n,0,0,-n,t,0,0,0,0,1,0,0,0,0,1])}(e))}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.transform(function(e){return new c([1,0,0,e,0,1,0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,0,0,1,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,0,0,0,1])}(e,t,n))}}]),e}(),l=72;function d(e){return function(){if(!s){var e=(0,i.getDPI)();s=[e.x,e.y]}return s}()[e]}function h(e){return e*d(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/l}function f(e){return e*i.dpr}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=new u(e,t,0).scale(n).rotateZ(i);return[Math.round(Math.abs(r.a)),Math.round(Math.abs(r.b))]}},5222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(4375);const r=function e(t){(0,i._)(this,e),this.option=t}},8469:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(4375),r=n(6721),o=n(7327);const a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,A=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if((0,i._)(this,e),"function"==typeof t.transformRect){var s=t;t=s.a,n=s.b,r=s.c,o=s.d,a=s.e,A=s.f}else if(Array.isArray(t)){var c=t;t=c[0],n=c[1],r=c[2],o=c[3],a=c[4],A=c[5]}this.a=t,this.b=n,this.c=r,this.d=o,this.e=a,this.f=A}return(0,r._)(e,[{key:"set",value:function(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.d=i,this.e=r,this.f=o}},{key:"reset",value:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0}},{key:"reverse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.a*t.d-t.b*t.c;if(0==n)return t;var i=-n;return new e(t.d/n,t.b/i,t.c/i,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.a*t.f-t.b*t.e)/i)}},{key:"setReverse",value:function(e){var t=this.reverse(e);this.set(t.a,t.b,t.c,t.d,t.e,t.f)}},{key:"rotate",value:function(t,n){var i,r=Math.cos(t),o=Math.sin(t),a=new e(r,o,-o,r,0,0);i=n?e.Concat2mt(a,this):e.Concat2mt(this,a),this.set(i.a,i.b,i.c,i.d,i.e,i.f)}},{key:"rotateAt",value:function(e,t,n,i){this.translate(e,t,i),this.rotate(n,i),this.translate(-e,-t,i)}},{key:"translate",value:function(e,t,n){n?(this.e+=e*this.a+t*this.c,this.f+=t*this.d+e*this.b):(this.e+=e,this.f+=t)}},{key:"concat",value:function(t,n,i,r,a,A,s){var c,u;(0,o._)(t,e)?(c=t,s=n):c=new e(t,n,i,r,a,A),u=s?e.Concat2mt(c,this):e.Concat2mt(this,c),this.set(u.a,u.b,u.c,u.d,u.e,u.f)}},{key:"is90Rotated",value:function(){var e=1e3*this.a;e<0&&(e*=-1);var t=1e3*this.d;t<0&&(t*=-1);var n=this.b;n<0&&(n*=-1);var i=this.c;return i<0&&(i*=-1),e<n&&t<i}},{key:"isScaled",value:function(){var e=1e3*this.b;e<0&&(e*=-1);var t=1e3*this.c;t<0&&(t*=-1);var n=this.a;n<0&&(n*=-1);var i=this.d;return i<0&&(i*=-1),e<n&&t<i}},{key:"getA",value:function(){return this.a}},{key:"getB",value:function(){return this.b}},{key:"getC",value:function(){return this.c}},{key:"getD",value:function(){return this.d}},{key:"getE",value:function(){return this.e}},{key:"getF",value:function(){return this.f}},{key:"scale",value:function(e,t,n){this.a*=e,this.d*=t,n?(this.b*=e,this.c*=t):(this.b*=t,this.c*=e,this.e*=e,this.f*=t)}},{key:"transformXDistance",value:function(e){var t=this.a*e,n=this.b*e;return Math.sqrt(t*t+n*n)}},{key:"transformYDistance",value:function(e){var t=this.c*e,n=this.d*e;return Math.sqrt(t*t+n*n)}},{key:"transformDistance",value:function(e,t){var n=this.a*e+this.c*t,i=this.b*e+this.d*t;return Math.sqrt(n*n+i*i)}},{key:"transformPoint",value:function(e,t){return[this.a*e+this.c*t+this.e,this.b*e+this.d*t+this.f]}},{key:"transformRect",value:function(e,t,n,i){for(var r,o=[e,e,n,n],a=[t,i,t,i],A=0;A<4;A++)r=this.transformPoint(o[A],a[A]),o[A]=r[0],a[A]=r[1];for(var s=[o[0],o[0],a[0],a[0]],c=1;c<4;c++)s[0]>o[c]&&(s[0]=o[c]),s[1]<o[c]&&(s[1]=o[c]),s[2]>a[c]&&(s[2]=a[c]),s[3]<a[c]&&(s[3]=a[c]);return[s[0],s[2],s[1],s[3]]}},{key:"getXUnit",value:function(){var e=this.a,t=this.b;return 0===t?Math.abs(e):0===e?Math.abs(t):Math.sqrt(e*e+t*t)}},{key:"getYUnit",value:function(){var e=this.c,t=this.d;return 0===e?Math.abs(t):0===t?Math.abs(e):Math.sqrt(e*e+t*t)}},{key:"getUnitRect",value:function(){return this.transformRect(0,0,1,1)}},{key:"matchRect",value:function(e,t){var n=t[0]-t[2];this.a=Math.abs(n)<.001?1:(e[0]-e[2])/n,n=t[3]-t[1],this.d=Math.abs(n)<.001?1:(e[3]-e[1])/n,this.e=e[0]-t[0]*this.a,this.f=e[3]-t[3]*this.d,this.b=0,this.c=0}},{key:"getAngle",value:function(){return Math.atan2(this.b,this.a)}},{key:"toArray",value:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]}}],[{key:"Concat2mt",value:function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.e*n.a+t.f*n.c+n.e,t.e*n.b+t.f*n.d+n.f)}}]),e}()},8095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4375),r=n(6721),o=n(7327),a=n(4157),A=function(){};const s=function(){function e(t){(0,i._)(this,e);this.cacheMap={},this.callMap={},this.listeners={};this.setWorker(t),this.promises=[],this.workflow={out:[]},this._isIE10=a.isIE10,this.isDestroyed=!1}return(0,r._)(e,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0,this.worker&&this.worker.terminate())}},{key:"setWorker",value:function(e){var t=this,n=this.cacheMap,i=this.callMap,r=this.listeners;this.worker=e,e.onmessage=function(a){var s=a.data;if(s.workflow){var c=t.workflow[s.workflow];return c?c.forEach((function(e){return e(s)})):void 0}var u=s.destroyId;if(u)delete i[u];else{var l=s.params;if(s.uiListener){var d=r[s.uiListener];if(d)for(var h=0,f=d.length;h<f;h++)d[h](l)}else{var p=s.callId;if(p)Promise.resolve((i[p]||A)(l)).then((function(n){var i=(0,o._)(n,ArrayBuffer)?[n]:[];t._isIE10&&(i=null),e.postMessage({backId:s.backId,params:n},i)}));else{var g=s.id,v=n[g];delete n[g];var m=+s.type;try{v&&v[["resolve","reject"][m]](l)}catch(e){0}setTimeout((function(){if(Object.keys(n).length<1){var e=t.listeners.idle;e&&e.forEach((function(e){return e()}));var i=t.listeners.reset;i&&i.forEach((function(e){return e()}))}}),0)}}}},e.onerror=function(e){console.error("WorkerError",e)}}},{key:"emit",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._isIE10&&(i=i[0]);var o=t&&t[0];return"object"==typeof o&&"clientTransfer"in o&&(i=o.clientTransfer),new Promise((function(o,A){var s=(0,a.getUniqueId)("worker");n.cacheMap[s]={resolve:o,reject:A};try{n.worker.postMessage({name:e,params:t,id:s,more:r},i)}catch(i){n.worker.postMessage({name:e,params:t,id:s,more:r})}}))}},{key:"calls",value:function(e){var t=(0,a.getUniqueId)("worker_call");return this.callMap[t]=e,t}},{key:"releaseCall",value:function(e){delete this.callMap[e]}},{key:"once",value:function(e,t){var n=this,i=arguments,r=this.listeners[e]=this.listeners[e]||[],o=function(){t.apply(n,i),n.off(e,o)};return r.push(o),function(){return n.off(e,o)}}},{key:"on",value:function(e,t){(this.listeners[e]=this.listeners[e]||[]).push(t)}},{key:"registerWorkflow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"out",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.workflow[e]?this.workflow[e].push(t):this.workflow[e]=[t]}},{key:"unregisterWorkflow",value:function(e,t){var n=this.workflow[e].indexOf(t);n>=0&&this.workflow[e].splice(n,1)}},{key:"off",value:function(e,t){var n=this.listeners[e];if(n){var i=n.indexOf(t);-1!=i&&n.splice(i,1)}}},{key:"over",value:function(e){}}]),e}()},302:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var i=n(4375),r=n(6721),o=n(6147),a=n(216),A=n(4157),s=n(8490),c=n(7327),u=n(9307),l=n(6699),d=n(5222),h=n(8095);function f(e){var t=[];return(0,c._)(e,ArrayBuffer)&&(t=[e]),t}var p="FoxitPDFSDKForWeb_JREngineCache_",g=p+"wasmBinary",v=p+"asmMem",m=p+"asmJs",y={get:function(e,t,n){return void 0===e[t]?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.workerPromise.emit(t,i)}:Reflect.get(e,t,n)}},b=function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e){var r,o;if((0,i._)(this,n),(r=t.call(this,e)).readyWorker=null,o=e.readyWorker){r.readyWorker=o,k(r.workerPromise=new h.Z(o.worker));var a=function(){e.licenseSN=e.licenseKey=e.l=""};return o.initJREnginePromise.then(a,a),(0,u._)(r)}var s=e.workerPath,c=e.workerBlobUrl;"/"!==s[s.length-1]&&(s+="/");var l=r.workerUrl=s+"WebPDFJRWorker.js?h=9df4163d945902b5ea6010aafa2483f8",d=c||l;d+="&dpr="+window.devicePixelRatio;var f=new Worker(d);return A.isIE&&(f.terminate(),f=new Worker(d)),k(r.workerPromise=new h.Z(f)),r}return(0,r._)(n,[{key:"setWorker",value:function(e){this.workerPromise.setWorker(e)}},{key:"registerWorkflow",value:function(e,t){this.workerPromise.registerWorkflow(e,t)}},{key:"unregisterWorkflow",value:function(e,t){this.workerPromise.unregisterWorkflow(e,t)}},{key:"init",value:function(){var e;if(e=this.readyWorker)return new Promise((function(t,n){return e.initJREnginePromise.then(t,n)}));var t,n={};(t=localStorage.getItem(g))&&(n.wasmBinary=t),(t=localStorage.getItem(v))&&(n.asmMem=t),(t=localStorage.getItem(m))&&(n.asmJs=t);var i=this.option,r=this.workerPromise;i.cache=n,i.compatibilityURL=r.calls((function(e){return URL.createObjectURL(e)})),i.d=location.href;var o=r.emit("initJREngine",i).then((function(e){return e}));return o.finally((function(){r.releaseCall(i.compatibilityURL)})),o}},{key:"once",value:function(e,t){return this.workerPromise.once(e,t)}},{key:"off",value:function(e,t){return this.workerPromise.off(e,t)}},{key:"handleGroupMarkup",value:function(e,t,n,i){return this.workerPromise.emit("handleGroupMarkup",{docId:e,pageId:t,annotIds:n,isGroup:i})}},{key:"continueProgress",value:function(e){return this.workerPromise.emit("progressContinue",{progressiveId:e})}},{key:"cancleProgress",value:function(e){return this.workerPromise.emit("cancleProgress",{progressiveId:e})}},{key:"getPDFDocIdByFile",value:function(e,t){var n=f(e);return this.workerPromise.emit("getPDFDocByFile",{file:e,option:t},n)}},{key:"createNewDoc",value:function(e,t,n){return this.workerPromise.emit("createNewDoc",{title:e,author:t,pageSize:n})}},{key:"createNewPortfolioDoc",value:function(e,t,n){var i=[e].concat((0,l._)(t||[]));return this.workerPromise.emit("createNewPortfolioDoc",{fileCoversheet:e,files:t,title:n},i)}},{key:"getPDFDocIdByChunk",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("getPDFDocAsync",{size:e,getChunk:i});return r.finally((function(){n.workerPromise.releaseCall(i)})),r}},{key:"getPDFDocIdByHttpRangeRequest",value:function(e){return this.workerPromise.emit("getPDFDocIdByHttpRangeRequest",{size:e.size,range:e.range})}},{key:"getPDFDocIdByArrayBuffer",value:function(e){return this.workerPromise.emit("getPDFDocByArrayBuffer",{buffer:e},[e])}},{key:"setIcons",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.workerPromise.emit("setIcons",{icons:e})}},{key:"addIcon",value:function(e){return this.workerPromise.emit("addIcon",{icon:e})}},{key:"removeIcon",value:function(e,t,n){return this.workerPromise.emit("removeIcon",{type:e,catalog:t,name:n})}},{key:"checkCertificatePassword",value:function(e,t){return this.workerPromise.emit("checkCertificatePassword",{pfxFile:e,password:t})}},{key:"getCertificateInfo",value:function(e,t){return this.workerPromise.emit("getCertificateInfo",{file:e,password:t})}},{key:"createCertificateFile",value:function(e,t){return this.workerPromise.emit("createCertificateFile",{docId:e,info:t})}},{key:"getCertificateSerials",value:function(e){return this.workerPromise.emit("getCertificateSerials",{docId:e})}},{key:"parseByCertificate",value:function(e,t){return this.workerPromise.emit("parseByCertificate",{docId:e,info:t})}},{key:"parsePDFDocByPassword",value:function(e,t,n){var i=[],r=n.fdf;return r&&(0,c._)(r.file,ArrayBuffer)&&(i=[r.file]),this.workerPromise.emit("parsePDFDocByPassword",{id:e,password:t,initData:n},i)}},{key:"getPDFDocInfoById",value:function(e){return this.workerPromise.emit("getPDFDocInfoById",e)}},{key:"getMetadata",value:function(e){return this.workerPromise.emit("getMetadata",e)}},{key:"setMetadataValue",value:function(e,t,n){return this.workerPromise.emit("setMetadataValue",{id:e,key:t,value:n})}},{key:"getFileVersion",value:function(e){return this.workerPromise.emit("getFileVersion",e)}},{key:"isLinearized",value:function(e){return this.workerPromise.emit("isLinearized",{docId:e})}},{key:"loadForm",value:function(e){return this.workerPromise.emit("loadForm",{docId:e})}},{key:"updateFormControl",value:function(e,t,n,i,r){return this.workerPromise.emit("updateFormControl",{docId:e,fieldName:t,objectNumber:n,key:i,value:r})}},{key:"updateField",value:function(e,t,n,i){return this.workerPromise.emit("updateField",{docId:e,title:t,key:n,value:i})}},{key:"reloadFieldByName",value:function(e,t){return this.workerPromise.emit("reloadFieldByName",{docId:e,fieldName:t})}},{key:"updateMKProperty",value:function(e,t,n,i,r){return this.workerPromise.emit("updateMKProperty",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"setWidgetAS",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetAS",{docId:e,pageId:t,annotId:n,AS:i})}},{key:"setFieldValue",value:function(e,t,n){return this.workerPromise.emit("setFieldValue",{docId:e,title:t,value:n})}},{key:"formFillerEvent",value:function(e,t,n,i){return this.workerPromise.emit("formFillerEvent",{docId:e,type:t,pageIndex:n,point:i})}},{key:"getFieldsValue",value:function(e){return this.workerPromise.emit("getFieldsValue",{docId:e})}},{key:"addControl",value:function(e,t,n,i,r,o){return this.workerPromise.emit("addControl",{docId:e,pageIndex:t,fieldName:n,fieldType:i,rect:r,options:o})}},{key:"addSignatureControlBatch",value:function(e,t,n){return this.workerPromise.emit("addSignatureControlBatch",{docId:e,signatureInfos:t,shareVDictType:n})}},{key:"createFieldByCopyControl",value:function(e,t,n,i,r,o,a,A){return this.workerPromise.emit("createFieldByCopyControl",{docId:e,pageIndex:t,fieldType:n,isImgFieldType:i,newFieldName:r,newRect:o,srcFieldName:a,srcObjectNumber:A})}},{key:"validateFieldName",value:function(e,t,n){return this.workerPromise.emit("validateFieldName",{docId:e,fieldName:t,fieldType:n})}},{key:"renameField",value:function(e,t,n){return this.workerPromise.emit("renameField",{docId:e,fieldName:t,newName:n})}},{key:"removeField",value:function(e,t){return this.workerPromise.emit("removeField",{docId:e,fieldName:t})}},{key:"removeControl",value:function(e,t,n,i){return this.workerPromise.emit("removeControl",{docId:e,fieldName:n,pageIndex:t,controlObjectNumber:i})}},{key:"isLastSignature",value:function(e,t){return this.workerPromise.emit("isLastSignature",{docId:e,fieldName:t})}},{key:"fixPageFields",value:function(e,t){return this.workerPromise.emit("fixPageFields",{docId:e,pageIndex:t})}},{key:"hasFixedPageFields",value:function(e,t){return this.workerPromise.emit("hasFixedPageFields",{docId:e,pageIndex:t})}},{key:"getControlCount",value:function(e,t){return this.workerPromise.emit("getControlCount",{docId:e,pageIndex:t})}},{key:"copyControls",value:function(e,t,n,i){return this.workerPromise.emit("copyControls",{docId:e,pageIndex:t,dstPageIndex:n,controls:i})}},{key:"getControlPageIndex",value:function(e,t,n){return this.workerPromise.emit("getControlPageIndex",{docId:e,fieldName:t,objectNumber:n})}},{key:"getPageInfoByIndex",value:function(e,t){return this.workerPromise.emit("getPageInfoByIndex",{id:e,index:t})}},{key:"setRenderFlag",value:function(e,t){return this.workerPromise.emit("setRenderFlag",{docId:e,flags:t})}},{key:"getPageBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["page"],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"view",A=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0;return this.workerPromise.emit("getPageBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,flags:o,usage:a,id:A,isSharedPage:s,annotData:c})}},{key:"getPageAndHighlightBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this.workerPromise.emit("getPageAndHighlightBitmap",{docId:e,pageId:t,scale:n,rotate:i,rect:r,exclude:o})}},{key:"clearDesignerAssitCache",value:function(e,t){return this.workerPromise.emit("clearDesignerAssitCache",{docId:e,pageId:t})}},{key:"clearAllDesignerAssistCache",value:function(e){return this.workerPromise.emit("clearAllDesignerAssistCache",{docId:e})}},{key:"getAnnotBitmapByRange",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getAnnotBitmapByRange",{docId:e,pageId:t,range:n,scale:i,rotate:r,rect:o})}},{key:"getAnnot",value:function(e,t,n){return this.workerPromise.emit("getAnnot",{docId:e,pageId:t,annotId:n})}},{key:"getPageAnnotIDList",value:function(e,t){return this.workerPromise.emit("getPageAnnotIDList",{docId:e,pageId:t})}},{key:"getAnnots",value:function(e,t,n,i){return this.workerPromise.emit("getAnnots",{docId:e,pageId:t,idList:n,reload:i})}},{key:"getAnnotBitmap",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("getAnnotBitmap",{docId:e,pageId:t,annotId:n,scale:i,rotate:r,rect:o,renderAppearanceType:a})}},{key:"getAnnotObjNumByNM",value:function(e,t,n){return this.workerPromise.emit("getAnnotObjNumByNM",{docId:e,pageId:t,nm:n})}},{key:"getAnnotIdAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotIdAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotIdAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotIdAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getAnnotObjectNumAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getAnnotObjectNumAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getAnnotObjectNumAtDevicePoint",value:function(e,t,n,i,r){var o=n.x,a=n.y;return this.workerPromise.emit("getAnnotObjectNumAtDevicePoint",{docId:e,pageId:t,points:{x:o,y:a},tolerance:i,matrix:r})}},{key:"getCharInfoAtPoint",value:function(e,t,n,i){var r=n.x,o=n.y;return this.workerPromise.emit("getCharInfoAtPoint",{docId:e,pageId:t,points:{x:r,y:o},tolerance:i})}},{key:"getThumb",value:function(e,t,n,i){return this.workerPromise.emit("getThumb",{docId:e,pageId:t,rotate:n,ratio:i})}},{key:"getMediaBoxBitmap",value:function(e,t,n,i){return this.workerPromise.emit("getMediaBoxBitmap",{docId:e,pageId:t,width:n,height:i})}},{key:"movePageTo",value:function(e,t,n){return this.workerPromise.emit("movePageTo",{docId:e,pageId:t,destIndex:n})}},{key:"insertPage",value:function(e,t,n,i){return this.workerPromise.emit("insertPage",{docId:e,pageIndex:t,width:n,height:i})}},{key:"removePage",value:function(e,t){return this.workerPromise.emit("removePage",{docId:e,pageIndex:t})}},{key:"updateAnnotQuadPointsByCharIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("updateAnnotQuadPointsByCharIndex",{docId:e,pageId:t,annotId:n,startCharIndex:i,endCharIndex:r})}},{key:"setAnnotContent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotContent",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotBorderStyle",{docId:e,pageId:t,annotId:n,style:i,styleParam:r})}},{key:"setAnnotBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderWidth",{docId:e,pageId:t,annotId:n,width:i})}},{key:"setAnnotFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setRedactAnnotFillColor",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactAnnotFillColor",{docId:e,pageId:t,annotId:n,color:i,onlyForFill:r})}},{key:"setAnnotBorderInfo",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotBorderInfo",{docId:e,pageId:t,annotId:n,borderInfo:i})}},{key:"setRedactOverlayText",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayText",{docId:e,pageId:t,annotId:n,overlayText:i})}},{key:"removeRedactOverlayText",value:function(e,t,n){return this.workerPromise.emit("removeRedactOverlayText",{docId:e,pageId:t,annotId:n})}},{key:"setRedactOverlayTextAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setRedactOverlayTextAlignment",{docId:e,pageId:t,annotId:n,alignment:i})}},{key:"setRedactRepeat",value:function(e,t,n,i){return this.workerPromise.emit("setRedactRepeat",{docId:e,pageId:t,annotId:n,isRepeat:i})}},{key:"setRedactAutoFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAutoFontSize",{docId:e,pageId:t,annotId:n,isAutoFontSize:i})}},{key:"getRedactDefaultAppearance",value:function(e,t,n){return this.workerPromise.emit("getRedactDefaultAppearance",{docId:e,pageId:t,annotId:n})}},{key:"setRedactDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactDefaultAppearance",{docId:e,pageId:t,annotId:n,appearance:i})}},{key:"setRedactOpacity",value:function(e,t,n,i,r){return this.workerPromise.emit("setRedactOpacity",{docId:e,pageId:t,annotId:n,opacity:i,only4Fill:r})}},{key:"setRedactApplyFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setRedactApplyFillColor",{docId:e,pageId:t,annotId:n,color:i})}},{key:"setAnnotOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotOpacity",{docId:e,pageId:t,annotId:n,opacity:i})}},{key:"setAnnotRotation",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRotation",{docId:e,pageId:t,annotId:n,rotation:i})}},{key:"removeAnnot",value:function(e,t,n){return this.workerPromise.emit("removeAnnot",{docId:e,pageId:t,annotId:n})}},{key:"annotAddReply",value:function(e,t,n,i){return this.workerPromise.emit("annotAddReply",{docId:e,pageId:t,annotId:n,content:i})}},{key:"setAnnotRect",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotRect",{docId:e,pageId:t,annotId:n,rect:i})}},{key:"setAnnotRectAndInnerRect",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotRectAndInnerRect",{docId:e,pageId:t,annotId:n,rect:i,innerRect:r})}},{key:"getAnnotInnerRect",value:function(e,t,n){return this.workerPromise.emit("getAnnotInnerRect",{docId:e,pageId:t,annotId:n})}},{key:"moveAnnotTo",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotTo",{docId:e,pageId:t,annotId:n,position:i})}},{key:"getPDFDocStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(t),a=this.workerPromise.emit("getPDFDocStream",{docId:e,writeStream:o,flag:n,endAllOperations:i});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"setAnnotIconName",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIconName",{docId:e,pageId:t,annotId:n,iconName:i})}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",{docId:e,pageId:t,annotId:n,writeStream:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"setAnnotEndingStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotEndingStyle",{docId:e,pageId:t,annotId:n,isBeginning:i,style:r})}},{key:"setLineStartPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineStartPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setLineEndPoint",value:function(e,t,n,i,r){return this.workerPromise.emit("setLineEndPoint",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"setAnnotLeaderLineLength",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineLength",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineExtend",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineExtend",{docId:e,pageId:t,annotId:n,length:i})}},{key:"setAnnotLeaderLineOffset",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotLeaderLineOffset",{docId:e,pageId:t,annotId:n,offset:i})}},{key:"setAnnotCaptionOffset",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotCaptionOffset",{docId:e,pageId:t,annotId:n,x:i,y:r})}},{key:"updateAnnotVertexes",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateAnnotVertexes",{docId:e,pageId:t,annotId:n,pointIndex:i,x:r,y:o})}},{key:"setAnnotVertexes",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotVertexes",{docId:e,pageId:t,annotId:n,vertexes:i})}},{key:"setHighlightingMode",value:function(e,t,n,i){return this.workerPromise.emit("setHighlightingMode",{docId:e,pageId:t,annotId:n,highlightingMode:i})}},{key:"setAnnotAPBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("setAnnotAPBitmap",{docId:e,pageId:t,annotId:n,url:i,size:r})}},{key:"getBitmapBuffer",value:function(e,t,n){return this.workerPromise.emit("getBitmapBuffer",{docId:e,pageId:t,annotId:n})}},{key:"setAnnotInnerRect",value:function(e,t,n,i){var r=i.left,o=i.right,a=i.top,A=i.bottom;return this.workerPromise.emit("setAnnotInnerRect",{docId:e,pageId:t,annotId:n,rect:{left:r,right:o,top:a,bottom:A}})}},{key:"setCalloutLineEndingStyle",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLineEndingStyle",{docId:e,pageId:t,annotId:n,endingStyle:i})}},{key:"setAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setAction",{docId:e,pageId:t,annotId:n,type:i,trigger:r,append:o})}},{key:"removeAction",value:function(e,t,n,i,r,o){return this.workerPromise.emit("removeAction",{docId:e,pageId:t,annotId:n,trigger:i,parentObject:r,objectNumber:o})}},{key:"setDefaultAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAppearance",{docId:e,pageId:t,annotId:n,da:i})}},{key:"removeAnnotAction",value:function(e,t,n){return this.workerPromise.emit("removeAnnotAction",{docId:e,pageId:t,annotId:n})}},{key:"getAction",value:function(e,t,n){return this.workerPromise.emit("getAction",{docId:e,pageId:t,annotId:n})}},{key:"getStructureRoles",value:function(e){return this.workerPromise.emit("getStructureRoles",{docId:e})}},{key:"setActionDataByIndex",value:function(e,t,n,i,r){return this.workerPromise.emit("setActionDataByIndex",{docId:e,pageId:t,annotId:n,data:i,actionIndex:r})}},{key:"addBookmarksFromStructureRoles",value:function(e,t,n){return this.workerPromise.emit("addBookmarksFromStructureRoles",{docId:e,structureRoles:t,rootTitle:n})}},{key:"setCalloutLinePoints",value:function(e,t,n,i){return this.workerPromise.emit("setCalloutLinePoints",{docId:e,pageId:t,annotId:n,calloutLinePoints:i})}},{key:"setSubject",value:function(e,t,n,i){return this.workerPromise.emit("setSubject",{docId:e,pageId:t,annotId:n,subject:i})}},{key:"setTitle",value:function(e,t,n,i){return this.workerPromise.emit("setTitle",{docId:e,pageId:t,annotId:n,title:i})}},{key:"setCreateDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setCreateDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setModifiedDateTime",value:function(e,t,n,i){return this.workerPromise.emit("setModifiedDateTime",{docId:e,pageId:t,annotId:n,date:i})}},{key:"setUniqueId",value:function(e,t,n,i){return this.workerPromise.emit("setUniqueId",{docId:e,pageId:t,annotId:n,newId:i})}},{key:"setDefaultAp",value:function(e,t,n,i){return this.workerPromise.emit("setDefaultAp",{docId:e,pageId:t,annotId:n,defaultAppearance:i})}},{key:"setAlignment",value:function(e,t,n,i){return this.workerPromise.emit("setAlignment",{docId:e,pageId:t,annotId:n,value:i})}},{key:"setAnnotFlag",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotFlag",{docId:e,pageId:t,annotId:n,flag:i})}},{key:"importFromFDF",value:function(e,t,n){var i=f(t);return this.workerPromise.emit("importFromFDF",{docId:e,fdf:t,dataType:n},i)}},{key:"importFromFDFFile",value:function(e,t,n,i){return this.workerPromise.emit("importFromFDFFile",{docId:e,file:t,size:n,type:i})}},{key:"exportToStardardXml",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("exportToStardardXml",{docId:e,fileName:t,callbackId:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"exportToFDF",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.workerPromise.emit("exportToFDF",{docId:e,fileType:t,dataType:n,pageAnnots:i})}},{key:"exportToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),A=this.workerPromise.emit("exportToImage",{docId:e,imageSetting:t,fileName:n,pageRange:i,callbackId:a});return A.finally((function(){o.workerPromise.releaseCall(a)})),A}},{key:"exportToTxt",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("exportToTxt",{docId:e,taskName:t,pageRange:n,callbackId:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"exportImageObjectToImage",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(r),A=this.workerPromise.emit("exportImageObjectToImage",{docId:e,graphicsObject:t,imageSetting:n,fileName:i,callbackId:a});return A.finally((function(){o.workerPromise.releaseCall(a)})),A}},{key:"cancelExport",value:function(e){return this.workerPromise.emit("cancelExport",{docId:e})}},{key:"addAnnot",value:function(e,t,n){return this.workerPromise.emit("addAnnot",{docId:e,pageId:t,annot:n})}},{key:"addAnnots",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("addAnnots",{docId:e,annotJsonArray:t,progress:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"markRedactAnnot",value:function(e,t,n,i){return this.workerPromise.emit("markRedactAnnot",{docId:e,pageId:t,rects:n,annot:i})}},{key:"redactApply",value:function(e,t,n){return this.workerPromise.emit("redactApply",{docId:e,pageId:t,annotId:n})}},{key:"applyRedaction",value:function(e){return this.workerPromise.emit("applyRedaction",{docId:e})}},{key:"addAnnotGroup",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotGroup",{docId:e,pageId:t,annots:n,headerIndex:i})}},{key:"getBlankPageIndexes",value:function(e){return this.workerPromise.emit("getBlankPageIndexes",{docId:e})}},{key:"getBookmarks",value:function(e){return this.workerPromise.emit("getBookmarks",{docId:e})}},{key:"getCurFileSymbolId",value:function(e){return this.workerPromise.emit("getCurFileSymbolId",{docId:e})}},{key:"getFadeOutBackground",value:function(e,t){return this.workerPromise.emit("getFadeOutBackground",{docId:e,imgBuffer:t})}},{key:"getConvertToMono",value:function(e,t){return this.workerPromise.emit("getConvertToMono",{docId:e,imgBuffer:t})}},{key:"createRootBookmark",value:function(e){return this.workerPromise.emit("createRootBookmark",{docId:e})}},{key:"setBookmarkProperty",value:function(e,t,n){return this.workerPromise.emit("setBookmarkProperty",{docId:e,bkId:t,properties:n})}},{key:"removeBookmark",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.workerPromise.emit("removeBookmark",{docId:e,bkId:t,isOldVersion:n})}},{key:"getBookmarkDestination",value:function(e,t){return this.workerPromise.emit("getBookmarkDestination",{docId:e,bkId:t})}},{key:"setBookmarkDestination",value:function(e,t,n){return this.workerPromise.emit("setBookmarkDestination",{docId:e,bkId:t,gotoAction:n})}},{key:"getBookmarkAction",value:function(e,t){return this.workerPromise.emit("getBookmarkAction",{docId:e,bkId:t})}},{key:"setBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("setBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"moveBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("moveBookmarkAction",{docId:e,bkId:t,moveInfo:n})}},{key:"removeBookmarkAction",value:function(e,t,n){return this.workerPromise.emit("removeBookmarkAction",{docId:e,bkId:t,action:n})}},{key:"getLayerNodes",value:function(e){return this.workerPromise.emit("getLayerNodes",{docId:e})}},{key:"setLayerNodeVisiable",value:function(e,t,n){return this.workerPromise.emit("setLayerNodeVisiable",{docId:e,layerId:t,visiable:n})}},{key:"getTextRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtRect",value:function(e,t,n){return this.workerPromise.emit("getTextContinuousRectsAtRect",{docId:e,pageId:t,rect:n})}},{key:"getTextContinuousRectsAtPoints",value:function(e,t,n,i,r,o,a,A){return this.workerPromise.emit("getTextContinuousRectsAtPoints",{docId:e,pageId:t,point1:n,point2:i,tolerance:r,start:o,end:a,isTextIndex:A})}},{key:"getTextContinuousCharsAtRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextContinuousCharsAtRect",{docId:e,pageId:t,rect:n,allInRect:i})}},{key:"getDoubleClickTextRectAtPoint",value:function(e,t,n,i){return this.workerPromise.emit("getDoubleClickTextRectAtPoint",{docId:e,pageId:t,doubleClickPoint:n,tolerance:i})}},{key:"getTextSearch",value:function(e,t,n,i){return this.workerPromise.emit("getTextSearch",{docId:e,pageId:t,pattern:n,flags:i})}},{key:"getAnnotTextSearch",value:function(e,t,n,i,r){return this.workerPromise.emit("getAnnotTextSearch",{docId:e,pageId:t,annotId:n,pattern:i,flags:r})}},{key:"textSearchFindNext",value:function(e){return this.workerPromise.emit("textSearchFindNext",{id:e})}},{key:"textSearchFindPrev",value:function(e){return this.workerPromise.emit("textSearchFindPrev",{id:e})}},{key:"textSearchDestroy",value:function(e){return this.workerPromise.emit("textSearchDestroy",{id:e})}},{key:"registerSecurityCallback",value:function(e,t){return this.workerPromise.emit("registerSecurityCallback",{type:e,options:t})}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.workerPromise.emit("registerCustomWebPluginSecurityCallback",{fileName:e,filter:t,pluginSecurityObj:n})}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.workerPromise.emit("unRegisterSecurityHandler",{pluginId:e,filter:t})}},{key:"customProtectDoc",value:function(e,t){return this.workerPromise.emit("customProtectDoc",{docId:e,filter:t})}},{key:"destroyDoc",value:function(e){return this.workerPromise.emit("destroyDoc",{id:e})}},{key:"destroyPage",value:function(e,t){return this.workerPromise.emit("destroyPage",{docId:e,pageId:t})}},{key:"setDocOpenAction",value:function(e,t,n){return this.workerPromise.emit("setDocOpenAction",{docId:e,type:t,params:n})}},{key:"setDocActionData",value:function(e,t,n){return this.workerPromise.emit("setDocActionData",{docId:e,data:t,index:n})}},{key:"moveCaretRectByCharIndex",value:function(e,t,n,i){return this.workerPromise.emit("moveCaretRectByCharIndex",{docId:e,pageId:t,annotId:n,charIndex:i})}},{key:"setAnnotIntent",value:function(e,t,n,i){return this.workerPromise.emit("setAnnotIntent",{docId:e,pageId:t,annotId:n,intent:i})}},{key:"setInkList",value:function(e,t,n,i){return this.workerPromise.emit("setInkList",{docId:e,pageId:t,annotId:n,inkList:i})}},{key:"setUserName",value:function(e){return this.workerPromise.emit("setUserName",{name:e})}},{key:"getUserName",value:function(){return this.workerPromise.emit("getUserName")}},{key:"addAnnotReviewState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotReviewState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"addAnnotMarkedState",value:function(e,t,n,i){return this.workerPromise.emit("addAnnotMarkedState",{docId:e,pageId:t,annotId:n,stateName:i})}},{key:"removeAllStateAnnots",value:function(e,t,n){return this.workerPromise.emit("removeAllStateAnnots",{docId:e,pageId:t,annotId:n})}},{key:"setStateName",value:function(e,t,n,i){return this.workerPromise.emit("setStateName",{docId:e,pageId:t,stateAnnotId:n,stateName:i})}},{key:"setNoteOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setNoteOpenStatus",{docId:e,pageId:t,annotId:n,isOpen:i})}},{key:"flatten",value:function(e,t,n){return this.workerPromise.emit("flatten",{docId:e,pageId:t,option:n})}},{key:"setDynamicInfoFormula",value:function(e,t){return this.workerPromise.emit("setDynamicInfoFormula",{seperator:e,timeFormat:t})}},{key:"getDynamicInfoFormula",value:function(){return this.workerPromise.emit("getDynamicInfoFormula")}},{key:"setDigitalTimeFormat",value:function(e){return this.workerPromise.emit("setDigitalTimeFormat",{timeFormat:e})}},{key:"setDigitalInfo",value:function(e){return this.workerPromise.emit("setDigitalInfo",{identityInfo:e})}},{key:"getGraphicObjectsInfo",value:function(e,t){return this.workerPromise.emit("getGraphicObjectsInfo",{docId:e,pageId:t})}},{key:"updatePageInfo",value:function(e,t){return this.workerPromise.emit("updatePageInfo",{docId:e,pageId:t})}},{key:"setPageRotation",value:function(e,t,n){return this.workerPromise.emit("setPageRotation",{docId:e,pageId:t,rotation:n})}},{key:"addPageImage",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("addPageImage",{docId:e,pageId:t,imageBuffer:n,point:i,width:r,height:o,rotation:a})}},{key:"getPageAction",value:function(e,t,n){return this.workerPromise.emit("getPageAction",{docId:e,pageId:t,trigger:n})}},{key:"setPageAction",value:function(e,t,n,i){return this.workerPromise.emit("setPageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"removePageAction",value:function(e,t,n,i){return this.workerPromise.emit("removePageAction",{docId:e,pageId:t,trigger:n,action:i})}},{key:"movePageAction",value:function(e,t,n){return this.workerPromise.emit("movePageAction",{docId:e,pageId:t,moveInfo:n})}},{key:"addWatermark",value:function(e,t,n){return this.workerPromise.emit("addWatermark",{docId:e,pageId:t,data:n})}},{key:"getSecurityType",value:function(e){return this.workerPromise.emit("getSecurityType",{docId:e})}},{key:"setCertificateAndPermission",value:function(e,t,n,i){return this.workerPromise.emit("setCertificateAndPermission",{docId:e,infos:t,cipher:n,isEncryptMetadata:i})}},{key:"setPasswordAndPermission",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setPasswordAndPermission",{docId:e,userPassword:t,ownerPassword:n,permission:i,cipher:r,isEncryptMetadata:o})}},{key:"removeSecurity",value:function(e){return this.workerPromise.emit("removeSecurity",{docId:e})}},{key:"checkPassword",value:function(e,t){return this.workerPromise.emit("checkPassword",{docId:e,password:t})}},{key:"getPermission",value:function(e){return this.workerPromise.emit("getPermission",{docId:e})}},{key:"getStdCipherOptions",value:function(e){return this.workerPromise.emit("getStdCipherOptions",{docId:e})}},{key:"getUserPassword",value:function(e,t){return this.workerPromise.emit("getUserPassword",{docId:e,password:t})}},{key:"getGraphicsObjectAtPoint",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectAtPoint",{docId:e,pageId:t,point:n,tolerance:i,type:r,rect:o})}},{key:"setGraphicsObjectMatrix",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectMatrix",{docId:e,pageId:t,id:n,matrix:i})}},{key:"setGraphicsObjectRect",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectRect",{docId:e,pageId:t,id:n,rect:i})}},{key:"getGraphicsObjectBitmap",value:function(e,t,n,i,r){return this.workerPromise.emit("getGraphicsObjectBitmap",{docId:e,pageId:t,id:n,scale:i,rotation:r})}},{key:"setGraphicsObjectBorderStyle",value:function(e,t,n,i,r){return this.workerPromise.emit("setGraphicsObjectBorderStyle",{docId:e,pageId:t,id:n,value:i,dashes:r})}},{key:"setGraphicsObjectBorderWidth",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderWidth",{docId:e,pageId:t,id:n,width:i})}},{key:"setGraphicsObjectBorderColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectBorderColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectFillColor",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectFillColor",{docId:e,pageId:t,id:n,color:i})}},{key:"setGraphicsObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setGraphicsObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"addGraphicsObject",value:function(e,t,n){return this.workerPromise.emit("addGraphicsObject",{docId:e,pageId:t,info:n})}},{key:"setImageObjectOpacity",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectOpacity",{docId:e,pageId:t,id:n,opacity:i})}},{key:"setImageObjectRotation",value:function(e,t,n,i){return this.workerPromise.emit("setImageObjectRotation",{docId:e,pageId:t,id:n,rotation:i})}},{key:"getImageObjectStream",value:function(e,t,n){return this.workerPromise.emit("getImageObjectStream",{docId:e,pageId:t,id:n})}},{key:"setActionDestination",value:function(e,t,n){return this.workerPromise.emit("setActionDestination",{docId:e,objNum:t,destination:n})}},{key:"setActionFieldNames",value:function(e,t,n){return this.workerPromise.emit("setActionFieldNames",{docId:e,objNum:t,fieldNames:n})}},{key:"setActionHideState",value:function(e,t,n){return this.workerPromise.emit("setActionHideState",{docId:e,objNum:t,isHide:n})}},{key:"setActionScript",value:function(e,t,n){return this.workerPromise.emit("setActionScript",{docId:e,objNum:t,script:n})}},{key:"setActionOCGState",value:function(e,t,n){return this.workerPromise.emit("setActionOCGState",{docId:e,objNum:t,layerIds:n})}},{key:"setThreadActionIndex",value:function(e,t,n){return this.workerPromise.emit("setThreadActionIndex",{docId:e,objNum:t,index:n})}},{key:"setActionFlags",value:function(e,t,n){return this.workerPromise.emit("setActionFlags",{docId:e,objNum:t,flags:n})}},{key:"setActionURI",value:function(e,t,n){return this.workerPromise.emit("setActionURI",{docId:e,objNum:t,uri:n})}},{key:"insertSubAction",value:function(e,t,n,i){return this.workerPromise.emit("insertSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"setSubAction",value:function(e,t,n,i){return this.workerPromise.emit("setSubAction",{docId:e,objNum:t,index:n,type:i})}},{key:"removeAllSubActions",value:function(e,t){return this.workerPromise.emit("removeAllSubActions",{docId:e,objNum:t})}},{key:"removeSubAction",value:function(e,t,n){return this.workerPromise.emit("removeSubAction",{docId:e,objNum:t,index:n})}},{key:"setActionData",value:function(e,t,n){return this.workerPromise.emit("setActionData",{docId:e,objNum:t,data:n})}},{key:"moveAction",value:function(e,t,n,i){return this.workerPromise.emit("moveAction",{docId:e,pageId:t,objNum:n,moveInfo:i})}},{key:"removeGraphicsObject",value:function(e,t,n,i){return this.workerPromise.emit("removeGraphicsObject",{docId:e,pageId:t,id:n,isFinal:i})}},{key:"setPopupOpenStatus",value:function(e,t,n,i){return this.workerPromise.emit("setPopupOpenStatus",{docId:e,pageId:t,annotId:n,status:i})}},{key:"removePageAllAnnot",value:function(e,t){return this.workerPromise.emit("removePageAllAnnot",{docId:e,pageId:t})}},{key:"setTextObjectChar",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectChar",{docId:e,pageId:t,id:n,char:i})}},{key:"setTextObjectItalic",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectItalic",{docId:e,pageId:t,id:n,italic:i})}},{key:"setTextObjectBold",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectBold",{docId:e,pageId:t,id:n,bold:i})}},{key:"setTextObjectFontSize",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectFontSize",{docId:e,pageId:t,id:n,size:i})}},{key:"setTextObjectStandardFont",value:function(e,t,n,i){return this.workerPromise.emit("setTextObjectStandardFont",{docId:e,pageId:t,id:n,standardId:i})}},{key:"setTextObjectFontByName",value:function(e,t,n,i,r,o){return this.workerPromise.emit("setTextObjectFontByName",{docId:e,pageId:t,id:n,name:i,styles:r,charset:o})}},{key:"getTextObjectWoff",value:function(e,t,n){return this.workerPromise.emit("getTextObjectWoff",{docId:e,pageId:t,id:n})}},{key:"getAnnotWoff",value:function(e,t,n){return this.workerPromise.emit("getAnnotWoff",{docId:e,pageId:t,id:n})}},{key:"drmEncrypt",value:function(e,t){return this.workerPromise.emit("drmEncrypt",{docId:e,options:t})}},{key:"getActionFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getActionFileStream",{docId:e,objNum:t,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getTemplates",value:function(e){return this.workerPromise.emit("getTemplates",{docId:e})}},{key:"hideTemplate",value:function(e,t,n){return this.workerPromise.emit("hideTemplate",{docId:e,templateObj:t,isHidden:n})}},{key:"spawnPage",value:function(e,t,n,i,r){return this.workerPromise.emit("spawnPage",{docId:e,templateObj:t,nPage:n,bRename:i,bOverlay:r})}},{key:"setFieldsValue",value:function(e,t,n){return this.workerPromise.emit("setFieldsValue",{docId:e,fieldsValue:t,resetAP:n})}},{key:"removeTemplate",value:function(e,t){return this.workerPromise.emit("removeTemplate",{docId:e,name:t})}},{key:"getFontBufferByName",value:function(e,t){return this.workerPromise.emit("getFontBufferByName",{docId:e,fontName:t})}},{key:"getPageSizes",value:function(e,t,n){return this.workerPromise.emit("getPageSizes",{docId:e,index:t,count:n})}},{key:"setMeasureRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureRatio",{docId:e,pageId:t,annotId:n,ratioInfo:i})}},{key:"setMeasureUnit",value:function(e,t,n,i,r){return this.workerPromise.emit("setMeasureUnit",{docId:e,pageId:t,annotId:n,unit:i,measureType:r})}},{key:"setMeasureConversionFactor",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureConversionFactor",{docId:e,pageId:t,annotId:n,factor:i})}},{key:"startImportPages",value:function(e,t,n,i,r,o,a,A){return this.workerPromise.emit("startImportPages",{docId:e,destIndex:t,file:n,password:i,flags:r,layerName:o,startIndex:a,endIndex:A})}},{key:"importPagesFromPDFDocs",value:function(e,t,n,i){return this.workerPromise.emit("importPagesFromPDFDocs",{docId:e,destIndex:t,srcDocs:n,layerName:i})}},{key:"exportPagesToPDFDocs",value:function(e,t,n,i,r){return this.workerPromise.emit("exportPagesToPDFDocs",{docId:e,srcPages:t,destDocs:n,layerName:i,bookmarkTitle:r})}},{key:"extractPages",value:function(e,t,n,i,r){var o=this,a=this.workerPromise.calls(n),A=this.workerPromise.emit("extractPages",{docId:e,pageRange:t,writeStream:a,file:i,password:r});return A.finally((function(){o.workerPromise.releaseCall(a)})),A}},{key:"copyPages",value:function(e,t,n){return this.workerPromise.emit("copyPages",{docId:e,pageRange:t,destIndex:n})}},{key:"saveCopyPagesData",value:function(e,t){return this.workerPromise.emit("saveCopyPagesData",{docId:e,pageRange:t})}},{key:"pastePages",value:function(e,t){return this.workerPromise.emit("pastePages",{docId:e,destIndex:t})}},{key:"embedAllPageThumbnail",value:function(e){return this.workerPromise.emit("embedAllPageThumbnail",{docId:e})}},{key:"removeEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("removeEmbeddedPageThumbnail",{docId:e})}},{key:"getAllBoxes",value:function(e,t){return this.workerPromise.emit("getAllBoxes",{docId:e,index:t})}},{key:"setAllBoxesByIndexes",value:function(e,t,n,i,r,o,a,A){return this.workerPromise.emit("setAllBoxesByIndexes",{docId:e,indexes:t,width:n,height:i,xOffset:r,yOffset:o,boxes:a,isMoveWhite:A})}},{key:"getPageFormat",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return this.workerPromise.emit("getPageFormat",{docId:e,type:t,previewWidth:n,previewHeight:i,fileName:r,newDocId:o,localFormat:a})}},{key:"getPageFormatThumb",value:function(e,t,n,i,r,o,a,A){return this.workerPromise.emit("getPageFormatThumb",{docId:e,type:t,pageIndex:n,data:i,isUpdate:r,bitmapWidth:o,bitmapHeight:a,rotate:A})}},{key:"addPageFormat",value:function(e,t,n,i){return this.workerPromise.emit("addPageFormat",{docId:e,type:t,data:n,isUpdate:i})}},{key:"removeAllPageFormat",value:function(e,t){return this.workerPromise.emit("removeAllPageFormat",{docId:e,type:t})}},{key:"extractPrintPages",value:function(e,t){return this.workerPromise.emit("extractPrintPages",{docId:e,data:t})}},{key:"getHeaderFooter",value:function(e){return this.workerPromise.emit("getHeaderFooter",e)}},{key:"addHeaderFooter",value:function(e,t){return this.workerPromise.emit("addHeaderFooter",{headerFooter:t,docId:e})}},{key:"updateHeaderFooter",value:function(e,t){return this.workerPromise.emit("updateHeaderFooter",{headerFooter:t,docId:e})}},{key:"removeHeaderFooter",value:function(e){return this.workerPromise.emit("removeHeaderFooter",e)}},{key:"paste",value:function(e,t,n,i,r,o){return this.workerPromise.emit("paste",{docId:e,pageId:t,srcPageId:n,type:i,objectId:r,position:o})}},{key:"setFontMap",value:function(e){return this.workerPromise.emit("setFontMap",e)}},{key:"setWatermarkFontMap",value:function(e){return this.workerPromise.emit("setWatermarkFontMap",e)}},{key:"addFontMap",value:function(e){return this.workerPromise.emit("addFontMap",e)}},{key:"setJPXDownSample",value:function(e){return this.workerPromise.emit("setJPXDownSample",e)}},{key:"getAnnotsRawData",value:function(e,t){return this.workerPromise.emit("getAnnotsRawData",{docId:e,rawAnnots:t})}},{key:"attachFile",value:function(e,t){return this.workerPromise.emit("attachFile",{docId:e,blob:t})}},{key:"signDoc",value:function(e,t,n){return this.workerPromise.emit("signDoc",{docId:e,signInfo:t,ap:n})}},{key:"signDocForESignCN",value:function(e,t){return this.workerPromise.emit("signDocForESignCN",{docId:e,signInfo:t})}},{key:"getGraphicsObjectByIndex",value:function(e,t,n){return this.workerPromise.emit("getGraphicsObjectByIndex",{docId:e,pageId:t,index:n})}},{key:"getGraphicsObjectsCount",value:function(e,t){return this.workerPromise.emit("getGraphicsObjectsCount",{docId:e,pageId:t})}},{key:"getFontsInfo",value:function(e){return this.workerPromise.emit("getFontsInfo",{docId:e})}},{key:"getDocAdditionalActions",value:function(e){return this.workerPromise.emit("getDocAdditionalActions",{docId:e})}},{key:"calcPageContentBBox",value:function(e,t,n){return this.workerPromise.emit("calcPageContentBBox",{docId:e,pageIndex:t,mode:n})}},{key:"getPageBox",value:function(e,t,n){return this.workerPromise.emit("getPageBox",{docId:e,pageIndex:t,boxType:n})}},{key:"setPageBox",value:function(e,t,n,i){return this.workerPromise.emit("setPageBox",{docId:e,pageIndex:t,boxType:n,rect:i})}},{key:"setPageSize",value:function(e,t,n,i){return this.workerPromise.emit("setPageSize",{docId:e,pageIndex:t,width:n,height:i})}},{key:"syncDataCache",value:function(e,t){return this.workerPromise.emit("syncDataCache",{docId:e,pageIdMap:t})}},{key:"setDocColors",value:function(e,t){return this.workerPromise.emit("setDocColors",{docId:e,colors:t})}},{key:"setPageDisplayPreferences",value:function(e,t){return this.workerPromise.emit("setPageDisplayPreferences",{docId:e,pageDisplayPreferences:t})}},{key:"moveAnnotsToPage",value:function(e,t,n,i){return this.workerPromise.emit("moveAnnotsToPage",{docId:e,srcPageId:t,dstPageId:n,annotInfos:i})}},{key:"getOriginalStream",value:function(e){return this.workerPromise.emit("getOriginalStream",{docId:e})}},{key:"hasForm",value:function(e){return this.workerPromise.emit("hasForm",{docId:e})}},{key:"setTabOrder",value:function(e,t,n){return this.workerPromise.emit("setTabOrder",{docId:e,pageIndex:t,type:n})}},{key:"getTabOrder",value:function(e,t){return this.workerPromise.emit("getTabOrder",{docId:e,pageIndex:t})}},{key:"setStructureOrder",value:function(e,t,n){return this.workerPromise.emit("setStructureOrder",{docId:e,pageIndex:t,idList:n})}},{key:"setLockAction",value:function(e,t,n,i){return this.workerPromise.emit("setLockAction",{docId:e,title:t,type:n,fieldNames:i})}},{key:"VerifySignature",value:function(e,t,n){return this.workerPromise.emit("VerifySignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"getDigitalSignatureInfo",value:function(e,t,n){return this.workerPromise.emit("getDigitalSignatureInfo",{docId:e,fieldName:t,trustedCertificateList:n})}},{key:"verifyDocSignature",value:function(e,t){return this.workerPromise.emit("verifyDocSignature",{docId:e,verifyConfig:t})}},{key:"verifySignatureLtv",value:function(e,t,n){return this.workerPromise.emit("verifySignatureLtv",{docId:e,fieldName:t,verifyConfig:n})}},{key:"clearSignature",value:function(e,t,n){return this.workerPromise.emit("clearSignature",{docId:e,fieldName:t,verifyConfig:n})}},{key:"setImage",value:function(e,t,n,i){return this.workerPromise.emit("setImage",{docId:e,pageId:t,annotId:n,buffer:i})}},{key:"getWidgetMkOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetMkOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconCaptionRelation",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconCaptionRelation",{docId:e,pageId:t,annotId:n,relation:i})}},{key:"setWidgetHighlighting",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetHighlighting",{docId:e,pageId:t,annotId:n,mode:i})}},{key:"setWidgetMkCaption",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkCaption",{docId:e,pageId:t,annotId:n,position:i,caption:r})}},{key:"setWidgetMkIcon",value:function(e,t,n,i,r){return this.workerPromise.emit("setWidgetMkIcon",{docId:e,pageId:t,annotId:n,position:i,buffer:r})}},{key:"getWidgetIconFitOption",value:function(e,t,n){return this.workerPromise.emit("getWidgetIconFitOption",{docId:e,pageId:t,annotId:n})}},{key:"setWidgetIconFitOption",value:function(e,t,n,i){return this.workerPromise.emit("setWidgetIconFitOption",{docId:e,pageId:t,annotId:n,option:i})}},{key:"duplicateWidget",value:function(e,t,n,i){return this.workerPromise.emit("duplicateWidget",{docId:e,pages:t,fieldName:n,objectNumber:i})}},{key:"duplicateField",value:function(e,t,n,i,r,o,a){return this.workerPromise.emit("duplicateField",{docId:e,fieldName:t,pageIndex:n,annotObjNum:i,columns:r,rows:o,positions:a})}},{key:"getAllModuleLicenseRight",value:function(){return this.workerPromise.emit("getAllModuleLicenseRight")}},{key:"ensureSideModeLoaded",value:function(e){return this.workerPromise.emit("ensureSideModeLoaded",{moduleType:e})}},{key:"moveGraphicsObjectByPosition",value:function(e,t,n,i,r){return this.workerPromise.emit("moveGraphicsObjectByPosition",{docId:e,pageId:t,id:n,type:i,graphicObjectId:r})}},{key:"setDictionaryEntry",value:function(e,t,n,i,r){return this.workerPromise.emit("setDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i,value:r})}},{key:"getDictionaryEntry",value:function(e,t,n,i){return this.workerPromise.emit("getDictionaryEntry",{docId:e,pageId:t,annotId:n,key:i})}},{key:"resetAppearanceStream",value:function(e,t,n){return this.workerPromise.emit("resetAppearanceStream",{docId:e,pageId:t,annotId:n})}},{key:"setCO",value:function(e,t){return this.workerPromise.emit("setCO",{docId:e,CO:t})}},{key:"renderTemplatesByObjNum",value:function(e,t){return this.workerPromise.emit("renderTemplatesByObjNum",{docId:e,objNum:t})}},{key:"getNameTree",value:function(e,t){return this.workerPromise.emit("getNameTree",{docId:e,type:t})}},{key:"addNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("addNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"removeNameTreeObj",value:function(e,t,n){return this.workerPromise.emit("removeNameTreeObj",{docId:e,type:t,name:n})}},{key:"replaceNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("replaceNameTreeObj",{docId:e,type:t,name:n,objNum:i})}},{key:"renameNameTreeObj",value:function(e,t,n,i){return this.workerPromise.emit("renameNameTreeObj",{docId:e,type:t,oldName:n,newName:i})}},{key:"getPageIndexByObjNum",value:function(e,t){return this.workerPromise.emit("getPageIndexByObjNum",{docId:e,objNum:t})}},{key:"nameTreeTemplatesToPages",value:function(e,t){return this.workerPromise.emit("nameTreeTemplatesToPages",{docId:e,name:t})}},{key:"nameTreePagesToTemplates",value:function(e,t){return this.workerPromise.emit("nameTreePagesToTemplates",{docId:e,name:t})}},{key:"showNameTreePageAtTheEnd",value:function(e){return this.workerPromise.emit("showNameTreePageAtTheEnd",{docId:e})}},{key:"hideNameTreePage",value:function(e,t){return this.workerPromise.emit("hideNameTreePage",{docId:e,pageIndex:t})}},{key:"addFileSpec",value:function(e,t,n,i){return this.workerPromise.emit("addFileSpec",{docId:e,fileName:t,fileBuffer:n,modifiedDateTime:i})}},{key:"setFileSpecDesc",value:function(e,t,n){return this.workerPromise.emit("setFileSpecDesc",{docId:e,desc:t,objNum:n})}},{key:"getFileSpecStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStream",{docId:e,fileSpecObjNum:t,writeStreamCall:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getFileSpecStreamByName",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getFileSpecStreamByName",{docId:e,name:t,writeStreamCall:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"addEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("addEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"setEmbeddedFileByAttachments",value:function(e,t,n){return this.workerPromise.emit("setEmbeddedFileByAttachments",{docId:e,name:t,objNum:n})}},{key:"removeEmbeddedFileByAttachments",value:function(e,t){return this.workerPromise.emit("removeEmbeddedFileByAttachments",{docId:e,name:t})}},{key:"cancelEmbedAllPageThumbnail",value:function(e){return this.workerPromise.emit("cancelEmbedAllPageThumbnail",{docId:e})}},{key:"cancelRemoveEmbeddedPageThumbnail",value:function(e){return this.workerPromise.emit("cancelRemoveEmbeddedPageThumbnail",{docId:e})}},{key:"moveControl",value:function(e,t,n,i){return this.workerPromise.emit("moveControl",{docId:e,fieldId:t,fieldName:n,newName:i})}},{key:"getAnnotIdArrayByOrder",value:function(e,t){return this.workerPromise.emit("getAnnotIdArrayByOrder",{docId:e,pageId:t})}},{key:"getAAJson",value:function(e,t){return this.workerPromise.emit("getAAJson",{docId:e,fieldName:t})}},{key:"getPageDictionary",value:function(e,t){return this.workerPromise.emit("getPageDictionary",{docId:e,pageId:t})}},{key:"getPDFDictInfo",value:function(e){return this.workerPromise.emit("getPDFDictInfo",{docId:e})}},{key:"startFormDesignerAssit",value:function(e){return this.workerPromise.emit("startFormDesignerAssit",{docId:e})}},{key:"stopFormDesignerAssit",value:function(e){return this.workerPromise.emit("stopFormDesignerAssit",{docId:e})}},{key:"getPageLabels",value:function(e,t){return this.workerPromise.emit("getPageLabels",{docId:e,indexes:t})}},{key:"hasKey",value:function(e,t,n){return this.workerPromise.emit("hasKey",{docId:e,id:t,key:n})}},{key:"setAt",value:function(e,t,n,i){return this.workerPromise.emit("setAt",{docId:e,id:t,key:n,value:i})}},{key:"getAt",value:function(e,t,n){return this.workerPromise.emit("getAt",{docId:e,id:t,key:n})}},{key:"getSuggestedFormDesignerRect",value:function(e,t,n){return this.workerPromise.emit("getSuggestedFormDesignerRect",{docId:e,pageId:t,point:n})}},{key:"autoRecognitionForm",value:function(e){return this.workerPromise.emit("autoRecognitionForm",{docId:e})}},{key:"isStaticXFA",value:function(e){return this.workerPromise.emit("isStaticXFA",{docId:e})}},{key:"isXFA",value:function(e){return this.workerPromise.emit("isXFA",{docId:e})}},{key:"removeXFA",value:function(e){return this.workerPromise.emit("removeXFA",{docId:e})}},{key:"getAllXFAWidgetsByPageIndex",value:function(e,t){return this.workerPromise.emit("getAllXFAWidgetsByPageIndex",{docId:e,pageIndex:t})}},{key:"triggerXFAWidgetEvent",value:function(e,t,n){return this.workerPromise.emit("triggerXFAWidgetEvent",{docId:e,pageIndex:t,info:n})}},{key:"createWebLinks",value:function(e,t,n){return this.workerPromise.emit("createWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"removeWebLinks",value:function(e,t,n){return this.workerPromise.emit("removeWebLinks",{docId:e,pageId:t,paramPages:n})}},{key:"linkHasPA",value:function(e,t,n){return this.workerPromise.emit("linkHasPA",{docId:e,pageId:t,annotId:n})}},{key:"linkResetAByPA",value:function(e,t,n){return this.workerPromise.emit("linkResetAByPA",{docId:e,pageId:t,annotId:n})}},{key:"getDestinationsArray",value:function(e){return this.workerPromise.emit("getDestinationsArray",{docId:e})}},{key:"deleteDestination",value:function(e,t,n){return this.workerPromise.emit("deleteDestination",{docId:e,pageId:t,name:n})}},{key:"renameDestination",value:function(e,t,n,i){return this.workerPromise.emit("renameDestination",{docId:e,pageId:t,oldName:n,newName:i})}},{key:"createDestination",value:function(e,t,n,i){return this.workerPromise.emit("createDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"resetDestination",value:function(e,t,n,i){return this.workerPromise.emit("resetDestination",{docId:e,pageId:t,title:n,pageNum:i})}},{key:"moveBookmark",value:function(e,t,n,i,r){return this.workerPromise.emit("moveBookmark",{docId:e,targetBookmarkId:t,destBookmarkId:n,position:i,isOldVersion:r})}},{key:"combineFormsToCSV",value:function(e,t){var n=this,i=this.workerPromise.calls(t),r=this.workerPromise.emit("combineFormsToCSV",{filesArray:e,writeStreamCall:i});return r.finally((function(){n.workerPromise.releaseCall(i)})),r}},{key:"addAnnotObjects",value:function(e,t,n){return this.workerPromise.emit("addAnnotObjects",{docId:e,pageId:t,objects:n})}},{key:"reversePages",value:function(e,t){return this.workerPromise.emit("reversePages",{docId:e,pageRanges:t})}},{key:"movePagesTo",value:function(e,t,n){return this.workerPromise.emit("movePagesTo",{docId:e,pageRange:t,destIndex:n})}},{key:"removePages",value:function(e,t){return this.workerPromise.emit("removePages",{docId:e,pageRange:t})}},{key:"insertBlankPages",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages",{docId:e,pageRange:t,width:n,height:i})}},{key:"insertBlankPages2",value:function(e,t,n,i){return this.workerPromise.emit("insertBlankPages2",{docId:e,pageRange:t,width:n,height:i})}},{key:"rotatePages",value:function(e,t,n){return this.workerPromise.emit("rotatePages",{docId:e,pageRange:t,rotation:n})}},{key:"getPageIndexByLabelText",value:function(e,t){return this.workerPromise.emit("getPageIndexByLabelText",{docId:e,text:t})}},{key:"getCurrentPageLabelInfo",value:function(e,t){return this.workerPromise.emit("getCurrentPageLabelInfo",{docId:e,pageIndex:t})}},{key:"checkDocIsUseLogicPage",value:function(e){return this.workerPromise.emit("checkDocIsUseLogicPage",{docId:e})}},{key:"formatPageNumbers",value:function(e,t,n,i){return this.workerPromise.emit("formatPageNumbers",{docId:e,isExtendNumbering:t,pageRange:n,numberingInfo:i})}},{key:"updatePageLabelsByAction",value:function(e,t,n){return this.workerPromise.emit("updatePageLabelsByAction",{docId:e,action:t,args:n})}},{key:"getPortfolioTreeNode",value:function(e){return this.workerPromise.emit("getPortfolioTreeNode",{docId:e})}},{key:"getPortfolioInitialNodePath",value:function(e){return this.workerPromise.emit("getPortfolioInitialNodePath",{docId:e})}},{key:"sendSortFolioParam",value:function(e,t,n){return this.workerPromise.emit("sendSortFolioParam",{docId:e,target:t,order:n})}},{key:"getFolioNodePDFDoc",value:function(e){return this.workerPromise.emit("getFolioNodePDFDoc",{docId:e})}},{key:"recordPDFFileByPortFolioNode",value:function(e,t){return this.workerPromise.emit("recordPDFFileByPortFolioNode",{docId:e,handle:t})}},{key:"getPortfolioFileStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("getPortfolioFileStream",{docId:e,nodeHandle:t,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getPortfolioStream",value:function(e,t){return this.workerPromise.emit("getPortfolioStream",{docId:e,nodeHandles:t})}},{key:"getPortfolioSubNodes",value:function(e,t){return this.workerPromise.emit("getPortfolioSubNodes",{docId:e,nodeHandle:t})}},{key:"changePortfolioSubNodesOrder",value:function(e,t,n,i){return this.workerPromise.emit("changePortfolioSubNodesOrder",{docId:e,nodeHandle:t,sourceIndexes:n,targetIndex:i})}},{key:"portfolioMoveSubNodeToSubFolderNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioMoveSubNodeToSubFolderNode",{docId:e,nodeHandle:t,sourceHandles:n,targetHandle:i})}},{key:"portfolioHasSameNameSubNode",value:function(e,t,n,i){return this.workerPromise.emit("portfolioHasSameNameSubNode",{docId:e,name:t,type:n,targetHandle:i})}},{key:"setPortfolioInitialViewMode",value:function(e,t){return this.workerPromise.emit("setPortfolioInitialViewMode",{docId:e,value:t})}},{key:"setPortfolioSortingOrder",value:function(e,t){return this.workerPromise.emit("setPortfolioSortingOrder",{docId:e,bool:t})}},{key:"setPortfolioOrderSchemaField",value:function(e,t){return this.workerPromise.emit("setPortfolioOrderSchemaField",{docId:e,keyName:t})}},{key:"deletePortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("deletePortfolioSchemaField",{docId:e,index:t})}},{key:"addPortfolioSchemaField",value:function(e,t){return this.workerPromise.emit("addPortfolioSchemaField",{docId:e,name:t})}},{key:"changePortfolioSchemaFieldVisible",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldVisible",{docId:e,index:t,isVisible:n})}},{key:"changePortfolioSchemaFieldPosition",value:function(e,t,n){return this.workerPromise.emit("changePortfolioSchemaFieldPosition",{docId:e,index:t,offset:n})}},{key:"getPortfolioInfo",value:function(e){return this.workerPromise.emit("getPortfolioInfo",{docId:e})}},{key:"setPortfolioInfo",value:function(e,t){return this.workerPromise.emit("setPortfolioInfo",{docId:e,info:t})}},{key:"portfolioAddFiles",value:function(e,t,n,i){return this.workerPromise.emit("portfolioAddFiles",{docId:e,files:t,targetIndex:n,folderNodeHandle:i})}},{key:"portfolioCreateFolder",value:function(e,t,n){return this.workerPromise.emit("portfolioCreateFolder",{docId:e,name:t,folderNodeHandle:n})}},{key:"portfolioRemoveSubNodes",value:function(e,t,n){return this.workerPromise.emit("portfolioRemoveSubNodes",{docId:e,folderNodeHandle:t,subNodeHandles:n})}},{key:"portfolioRegenerateTOC",value:function(e,t){return this.workerPromise.emit("portfolioRegenerateTOC",{docId:e,title:t})}},{key:"getSnappedPoint",value:function(e,t,n,i){return this.workerPromise.emit("getSnappedPoint",{docId:e,pageId:t,point:n,mode:i})}},{key:"getPageTextRectCount",value:function(e,t){return this.workerPromise.emit("getPageTextRectCount",{docId:e,pageId:t})}},{key:"getPageTextByRectIndex",value:function(e,t,n){return this.workerPromise.emit("getPageTextByRectIndex",{docId:e,pageId:t,rectIndex:n})}},{key:"isCPDF",value:function(e){return this.workerPromise.emit("isCPDF",{docId:e})}},{key:"getDocURI",value:function(e){return this.workerPromise.emit("getDocURI",{docId:e})}},{key:"convertToCPDF",value:function(e,t,n,i,r){return this.workerPromise.emit("convertToCPDF",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"removeCDocId",value:function(e,t,n,i,r){return this.workerPromise.emit("removeCDocId",{docId:e,cPDFFileName:t,cPDFEndPoint:n,cPDFUserToken:i,cPDFUserIDFromToken:r})}},{key:"changePEProperty",value:function(e,t,n,i){return this.workerPromise.emit("changePEProperty",{docId:e,type:n,fn:t,param:i})}},{key:"handlePageEditorEvent",value:function(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];return this.workerPromise.emit("handlePageEditorEvent",{docId:e,fn:t,delay:n,args:r})}},{key:"reInitPageEditor",value:function(e){return this.workerPromise.emit("reInitPageEditor",{docId:e})}},{key:"updateWinlessMatrix",value:function(e,t,n){return this.workerPromise.emit("updateWinlessMatrix",{docId:e,type:t,matrixes:n})}},{key:"changeEditingProperty",value:function(e,t,n){return this.workerPromise.emit("changeEditingProperty",{docId:e,fn:t,args:n})}},{key:"triggerPopMenuAction",value:function(e,t){return this.workerPromise.emit("triggerPopMenuAction",{docId:e,action:t})}},{key:"removeMetadata",value:function(e,t){return this.workerPromise.emit("removeMetadata",{id:e,key:t})}},{key:"getViewerPreference",value:function(e){return this.workerPromise.emit("getViewerPreference",{docId:e})}},{key:"setViewPreference",value:function(e,t,n){return this.workerPromise.emit("setViewPreference",{docId:e,key:t,value:n})}},{key:"handleTouchUpEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleTouchUpEvent",{docId:e,fn:t,args:i})}},{key:"handleFindReplaceEvent",value:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return this.workerPromise.emit("handleFindReplaceEvent",{docId:e,fn:t,args:i})}},{key:"triggerTUPopMenuAction",value:function(e,t,n){return this.workerPromise.emit("triggerTUPopMenuAction",{docId:e,action:t,args:n})}},{key:"removeLayerNode",value:function(e,t){return this.workerPromise.emit("removeLayerNode",{docId:e,layerId:t})}},{key:"getLayersByPage",value:function(e,t){return this.workerPromise.emit("getLayersByPage",{docId:e,pageId:t})}},{key:"updateLayerInfo",value:function(e,t){return this.workerPromise.emit("updateLayerInfo",{docId:e,layerInfo:t})}},{key:"flattenLayers",value:function(e){return this.workerPromise.emit("flattenLayers",{docId:e})}},{key:"mergeLayers",value:function(e,t,n){return this.workerPromise.emit("mergeLayers",{docId:e,layerIds:t,mergeTo:n})}},{key:"getLayerRelatedAnnots",value:function(e,t){return this.workerPromise.emit("getLayerRelatedAnnots",{docId:e,layerId:t})}},{key:"layerMoveTo",value:function(e,t,n,i){return this.workerPromise.emit("layerMoveTo",{docId:e,layerId:t,parentLayerId:n,index:i})}},{key:"getInfos",value:function(e){return this.workerPromise.emit("getInfos",{docId:e})}},{key:"hasDocIsWrapped",value:function(e){return this.workerPromise.emit("hasDocIsWrapped",{docId:e})}},{key:"getEmbeddedFontData",value:function(e){return this.workerPromise.emit("getEmbeddedFontData",{docId:e})}},{key:"computeAuditSpace",value:function(e){return this.workerPromise.emit("computeAuditSpace",{docId:e})}},{key:"optimizer",value:function(e,t,n){return this.workerPromise.emit("optimizer",{docId:e,option:t,portfolioNodeHandle:n})}},{key:"optimizeScannedPDF",value:function(e,t,n){var i=this,r=this.workerPromise.calls(n),o=this.workerPromise.emit("optimizeScannedPDF",{docId:e,option:t,callback:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"startReplacePages",value:function(e,t,n,i,r){return this.workerPromise.emit("startReplacePages",{docId:e,startIndex:t,count:n,srcPdfDocId:i,srcPageindexRange:r})}},{key:"importAsLayer",value:function(e,t){return this.workerPromise.emit("importAsLayer",{docId:e,args:t})}},{key:"previewImportLayer",value:function(e,t){return this.workerPromise.emit("previewImportLayer",{docId:e,args:t})}},{key:"reloadLayer",value:function(e){return this.workerPromise.emit("reloadLayer",{docId:e})}},{key:"cloneGraphicObject",value:function(e,t,n,i){return this.workerPromise.emit("cloneGraphicObject",{docId:e,pageId:t,srcPageId:n,ids:i})}},{key:"compareDoc",value:function(e){var t={baseDocId:e.baseDocId,basePageCount:e.basePageCount,basePageIndex:e.basePageIndex,baseFileName:e.baseFileName,compareDocId:e.compareDocId,comparedPageCount:e.comparedPageCount,comparePageIndex:e.comparePageIndex,comparePageNum:e.comparePageNum,compareFileName:e.compareFileName,newTemplateId:e.newTemplateId,oldTemplateId:e.oldTemplateId,inputOptions:e.options,compareResultStrings:e.compareResultStrings};return this.workerPromise.emit("compareDoc",{compareDocParam:t})}},{key:"searchDoc",value:function(e,t,n,i,r){return this.workerPromise.emit("searchDoc",{docId:e,type:t,words:n,flag:i,isForRedact:r})}},{key:"generateDocHash",value:function(e,t){return this.workerPromise.emit("generateDocHash",{docId:e,buffer:t})}},{key:"getSignIdForEvidence",value:function(e){return this.workerPromise.emit("getSignIdForEvidence",{docId:e})}},{key:"assignSignerForESignCN",value:function(e,t){return this.workerPromise.emit("assignSignerForESignCN",{docId:e,data:t})}},{key:"setESignCNFlowSignMode",value:function(e,t){return this.workerPromise.emit("setESignCNFlowSignMode",{docId:e,type:t})}},{key:"getESignCNFlowSignMode",value:function(e){return this.workerPromise.emit("getESignCNFlowSignMode",{docId:e})}},{key:"isESignCNFile",value:function(e){return this.workerPromise.emit("isESignCNFile",{docId:e})}},{key:"getESignCNMode",value:function(e,t){return this.workerPromise.emit("getESignCNMode",{docId:e,fieldName:t})}},{key:"isESignCNSignature",value:function(e,t,n){return this.workerPromise.emit("isESignCNSignature",{docId:e,fieldId:t,pageIndex:n})}},{key:"addAuditTrail",value:function(e){return this.workerPromise.emit("addAuditTrail",{docId:e})}},{key:"getDocAuditTrail",value:function(e,t,n){return this.workerPromise.emit("getDocAuditTrail",{docId:e,buffer:t,flowSignAnnots:n})}},{key:"destroyForm",value:function(e){return this.workerPromise.emit("destroyForm",{docId:e})}},{key:"updatePropAuthDictForESignCN",value:function(e,t,n){return this.workerPromise.emit("updatePropAuthDictForESignCN",{docId:e,fieldName:t,willingnessInfo:n})}},{key:"getAssignInfoForESignCN",value:function(e){return this.workerPromise.emit("getAssignInfoForESignCN",{docId:e})}},{key:"getOrderOfSignFlowFile",value:function(e){return this.workerPromise.emit("getOrderOfSignFlowFile",{docId:e})}},{key:"checkFieldWhetherFill",value:function(e,t){return this.workerPromise.emit("checkFieldWhetherFill",{docId:e,emailValue:t})}},{key:"setSignatureAP",value:function(e,t,n,i,r){return this.workerPromise.emit("setSignatureAP",{docId:e,pageIndex:t,annotId:n,inkSignBuffer:i,pagingSigObjNum:r})}},{key:"getFlowSignInfo",value:function(e){return this.workerPromise.emit("getFlowSignInfo",{docId:e})}},{key:"addPagingSealSignature",value:function(e,t){return this.workerPromise.emit("addPagingSealSignature",{docId:e,pagingSigConfig:t})}},{key:"updatePagingSealSignature",value:function(e,t,n){return this.workerPromise.emit("updatePagingSealSignature",{docId:e,pagingSigConfig:t,pagingSigObjNum:n})}},{key:"getAllPagingSealSignatures",value:function(e,t){return this.workerPromise.emit("getAllPagingSealSignatures",{docId:e,pagingSigObjNum:t})}},{key:"removePagingSealSignature",value:function(e,t){return this.workerPromise.emit("removePagingSealSignature",{docId:e,pagingSigObjNum:t})}},{key:"getAllPagingSigsInfo",value:function(e,t){return this.workerPromise.emit("getAllPagingSigsInfo",{docId:e,pagingSigObjNum:t})}},{key:"normalizePage",value:function(e,t){return this.workerPromise.emit("normalizePage",{docId:e,pageId:t})}},{key:"getViewportRect",value:function(e,t){return this.workerPromise.emit("getViewportRect",{docId:e,pageId:t})}},{key:"getMeasureScaleRatio",value:function(e,t){return this.workerPromise.emit("getMeasureScaleRatio",{docId:e,pageId:t})}},{key:"setMeasureScaleRatio",value:function(e,t,n,i){return this.workerPromise.emit("setMeasureScaleRatio",{docId:e,pageId:t,storeInPage:n,measureInfo:i})}},{key:"exportMeasureData",value:function(e,t){return this.workerPromise.emit("exportMeasureData",{docId:e,columnNames:t})}},{key:"setRenderConfigLineWeight",value:function(e,t){return this.workerPromise.emit("setRenderConfigLineWeight",{docId:e,lineWeight:t})}},{key:"convertToTextMarkup",value:function(e,t){return this.workerPromise.emit("convertToTextMarkup",{docId:e,findResults:t})}},{key:"redactSearch",value:function(e,t,n,i,r,o){return this.workerPromise.emit("redactSearch",{docId:e,findResults:t,start:n,count:i,overlayTexts:r,opts:o})}},{key:"setRedactAppearance",value:function(e,t,n,i){return this.workerPromise.emit("setRedactAppearance",{docId:e,pageId:t,annotId:n,option:i})}},{key:"getCompareFileFilterNums",value:function(e){return this.workerPromise.emit("getCompareFileFilterNums",{docId:e})}},{key:"getPDFDocFromImageFile",value:function(e,t){return this.workerPromise.emit("getPDFDocFromImageFile",e,t)}},{key:"isScannedDoc",value:function(e){return this.workerPromise.emit("isScannedDoc",{docId:e})}},{key:"getPageCountAsync",value:function(e){return this.workerPromise.emit("getPageCountAsync",{docId:e})}},{key:"getPageTexts",value:function(e,t,n,i,r){return this.workerPromise.emit("getPageTexts",{docId:e,pageId:t,settings:n,minWidth:i,eol:r})}},{key:"hasOwnerPassword",value:function(e){return this.workerPromise.emit("hasOwnerPassword",{docId:e})}},{key:"removePDFAID",value:function(e){return this.workerPromise.emit("removePDFAID",{docId:e})}},{key:"setPageTransition",value:function(e,t,n,i,r){return this.workerPromise.emit("setPageTransition",{docId:e,transName:t,direction:n,speed:i,range:r})}},{key:"getPageTransitionByIndex",value:function(e,t){return this.workerPromise.emit("getPageTransitionByIndex",{docId:e,pageIndex:t})}},{key:"getStampTypeByPageIndex",value:function(e,t){return this.workerPromise.emit("getStampTypeByPageIndex",{docId:e,pageIndex:t})}},{key:"getText",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getText",{docId:e,pageRange:t,taskId:n,taskProgress:o});return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"cancelTaskProgress",value:function(e,t){return this.workerPromise.emit("cancelTaskProgress",{docId:e,taskId:t})}},{key:"isScannedPage",value:function(e,t){return this.workerPromise.emit("isScannedPage",{docId:e,pageId:t})}},{key:"createSummarizeComments",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("createSummarizeComments",{docId:e,param:n,writeStream:r});return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getPageTransition",value:function(e,t){return this.workerPromise.emit("getPageTransition",{docId:e,pageId:t})}},{key:"hiddenDataSanitizeDocument",value:function(e){return this.workerPromise.emit("hiddenDataSanitizeDocument",{docId:e})}},{key:"hiddenDataRemoveHiddenInfo",value:function(e,t){return this.workerPromise.emit("hiddenDataRemoveHiddenInfo",{docId:e,options:t})}},{key:"cacheFontConfig",value:function(e,t,n){return this.workerPromise.emit("cacheFontConfig",{fontServerRoot:e,notExistFonts:t,customUploadFonts:n})}},{key:"getFxcoreFontList",value:function(){return this.workerPromise.emit("getFxcoreFontList")}},{key:"getPureTexts",value:function(e,t,n){return this.workerPromise.emit("getPureTexts",{docId:e,pageId:t,lr:n})}},{key:"getLRContentForChatWithDoc",value:function(e,t){return this.workerPromise.emit("getLRContentForChatWithDoc",{docId:e,options:t})}},{key:"getDocPurText",value:function(e){return this.workerPromise.emit("getDocPurText",{docId:e})}},{key:"docCanDoOcr",value:function(e){return this.workerPromise.emit("docCanDoOcr",{docId:e})}},{key:"fetchContentByType",value:function(e,t){return this.workerPromise.emit("fetchContentByType",{docId:e,options:t})}},{key:"getFATLAndEUTLList",value:function(e,t){return this.workerPromise.emit("getFATLAndEUTLList",{urls:e,isUpdate:t})}},{key:"getTextInRect",value:function(e,t,n,i){return this.workerPromise.emit("getTextInRect",{docId:e,pageId:t,rect:n,type:i})}},{key:"previewIconDoc",value:function(e){return this.workerPromise.emit("previewIconDoc",{icon:e})}},{key:"getAnnotRects",value:function(e,t){return this.workerPromise.emit("getAnnotRects",{docId:e,pageId:t})}},{key:"transformPage",value:function(e,t,n){return this.workerPromise.emit("transformPage",{docId:e,pageId:t,options:n})}},{key:"getSignatureBitmap",value:function(e,t){return this.workerPromise.emit("getSignatureBitmap",{docId:e,fieldName:t})}},{key:"setSignatureBitmap",value:function(e,t,n){return this.workerPromise.emit("setSignatureBitmap",{docId:e,fieldName:t,buffer:n})}},{key:"getGraphicsObjectsByRect",value:function(e,t,n,i,r,o){return this.workerPromise.emit("getGraphicsObjectsByRect",{docId:e,pageId:t,rect:n,tolerance:i,type:r,isInRect:o})}},{key:"removeAllEmbeddedFiles",value:function(e){return this.workerPromise.emit("removeAllEmbeddedFiles",{docId:e})}},{key:"getEmbeddedFileNames",value:function(e){return this.workerPromise.emit("getEmbeddedFileNames",{docId:e})}},{key:"comparePDFDocuments",value:function(e,t,n,i){return this.workerPromise.emit("comparePDFDocuments",{docId:e,otherDocId:t,params:n,progressId:i})}},{key:"getCharBBox",value:function(e,t){return this.workerPromise.emit("getCharBBox",{fontId:e,unicode:t})}},{key:"getCharWidthByFontID",value:function(e,t){return this.workerPromise.emit("getCharWidthByFontID",{fontId:e,unicode:t})}},{key:"getFontToneByFontID",value:function(e){return this.workerPromise.emit("getFontToneByFontID",{fontId:e})}},{key:"updateCalloutFigure",value:function(e,t,n,i,r,o){return this.workerPromise.emit("updateCalloutFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r,calloutLinePoints:o})}},{key:"clearPageRenderCache",value:function(e,t){return this.workerPromise.emit("clearPageRenderCache",{docId:e,pageId:t})}},{key:"updateRectFigure",value:function(e,t,n,i,r){return this.workerPromise.emit("updateRectFigure",{docId:e,pageId:t,annotId:n,outerRect:i,innerRect:r})}},{key:"drawTextString",value:function(e,t){return this.workerPromise.emit("drawTextString",{docId:e,font:t})}},{key:"loadAdvEditorConfigFile",value:function(e,t,n){return this.workerPromise.emit("loadAdvEditorConfigFile",{docId:e,fileBuffer:t,moduleName:n})}},{key:"setAdvEditorTextToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorTextToolStyle",{docId:e,style:t})}},{key:"setAdvEditorEditingObjectToolStyle",value:function(e,t){return this.workerPromise.emit("setAdvEditorEditingObjectToolStyle",{docId:e,style:t})}}]),n}(d.Z);const w=new Proxy(b,{construct:function(e,t){return new Proxy((0,s._)(e,(0,l._)(t)),y)}});function k(e){e.on("wasmBinary",(function(e){localStorage.setItem(g,e)})),e.on("asmMem",(function(e){localStorage.setItem(v,e)})),e.on("asmJs",(function(e){localStorage.setItem(m,e)}))}const x=function(e){return function(e){(0,o._)(n,e);var t=(0,a._)(n);function n(e,r,o){var a;return(0,i._)(this,n),(a=t.call(this,e,r,o)).api=new w(e),o.configuration&&a.updateConfigurations(o.configuration),a}return(0,r._)(n,[{key:"registerSecurityCallback",value:function(e,t){return this.api.registerSecurityCallback(e,t)}},{key:"registerCustomWebPluginSecurityCallback",value:function(e,t,n){return this.api.registerCustomWebPluginSecurityCallback(e,t,n)}},{key:"unRegisterSecurityHandler",value:function(e,t){return this.api.unRegisterSecurityHandler(e,t)}},{key:"setFontMap",value:function(e){return this.api.setFontMap(e)}},{key:"setWatermarkFontMap",value:function(e){return this.api.setWatermarkFontMap(e)}},{key:"addFontMap",value:function(e){return this.api.addFontMap(e)}},{key:"getCharBBox",value:function(e,t){return this.api.getCharBBox(e,t)}},{key:"getCharWidthByFontID",value:function(e,t){return this.api.getCharWidthByFontID(e,t)}},{key:"getFontToneByFontID",value:function(e){return this.api.getFontToneByFontID(e)}},{key:"setJPXDownSample",value:function(e){return this.api.setJPXDownSample(e)}},{key:"cacheFontConfig",value:function(e,t,n){return this.api.cacheFontConfig(e,t,n)}},{key:"getFxcoreFontList",value:function(){return this.api.getFxcoreFontList()}},{key:"getFATLAndEUTLList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.api.getFATLAndEUTLList(e,t)}},{key:"updateConfigurations",value:function(e){return this.configuration=(0,A.extendOptions)({},this.configuration||{},e),this.api.setConfiguration({path:"jr"},e)}}]),n}(e)}},1322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n(4375),r=n(6147),o=n(216),a=n(6721),A=n(7327),s=n(8095),c="0.07660862433361126";function u(e){var t=Object.getOwnPropertyNames(e.prototype);return function(e){(0,r._)(u,e);var n=(0,o._)(u);function u(e){var r,o=function(e){var n=t[e],i=h.indexOf(n);if(-1!==i)return h.splice(i,1),"continue";r[n]=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return d.emit(n,t)}};(0,i._)(this,u),r=n.call(this,e);var a=e.workerPath,A=e.workerBlobUrl;"/"!==a.slice(-1)&&(a+="/");for(var l=new Worker(A||a+"WebPDFSRWorker.js?h="+c),d=r.workerPromise=new s.Z(l),h=Object.getOwnPropertyNames(r.constructor.prototype),f=t.length;f--;)o(f);return r}return(0,a._)(u,[{key:"init",value:function(){return this.workerPromise.emit("initSREngine",this.option)}},{key:"getPDFDocIdByFile",value:function(e,t){var n=function(e){var t=[];return(0,A._)(e,ArrayBuffer)&&(t=[e]),t}(e);return this.workerPromise.emit("getPDFDocByFile",[e,t],n)}},{key:"getPDFDocStream",value:function(e,t,n){var i=this,r=this.workerPromise.calls(t),o=this.workerPromise.emit("getPDFDocStream",[e,r,n]);return o.finally((function(){i.workerPromise.releaseCall(r)})),o}},{key:"getFileattachmentStream",value:function(e,t,n,i){var r=this,o=this.workerPromise.calls(i),a=this.workerPromise.emit("getFileattachmentStream",[e,t,n,o]);return a.finally((function(){r.workerPromise.releaseCall(o)})),a}},{key:"resetEngine",value:function(e){return this.workerPromise.emit("resetEngine",[e])}}]),u}(e)}const l=function(e){return function(e){(0,r._)(n,e);var t=(0,o._)(n);function n(e,r,o){var a;return(0,i._)(this,n),(a=t.call(this,e,r,o)).api=new(u(a.api.constructor))(e),a}return n}(e)}},4231:function(e){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t;switch(i(e)){case"string":return/Z$/.test(e)?0:(t=/([+-])(\d{2}):?(\d{2})/.exec(e))&&(+t[3]+60*t[2])*("+"===t[1]?1:-1);case"number":return Number.isNaN(e)?null:Math.abs(e)<16?60*e:e;default:return null}}n.r(t);var o=function(e,t,n){var i=String(e);return!i||i.length>=t?e:"".concat(Array(t+1-i.length).join(n)).concat(e)},a=function(e){var t=Math.abs(e),n=Math.floor(t/60),i=t%60;return"".concat(e<=0?"+":"-").concat(o(n,2,"0"),":").concat(o(i,2,"0"))};function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=(new Date).getTimezoneOffset(),c=Date.prototype;function u(e){return 6e4*(e-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s))}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getTimezoneOffset();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$d=new Date(t.getTime()-u(n)),this.$timezoneOffset=n}var t,n,i;return t=e,(n=[{key:"getTimezoneOffset",value:function(){return this.$timezoneOffset}},{key:"setTimezoneOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$timezoneOffset;this.$d.setTime(this.$d.getTime()+u(this.$timezoneOffset,e)),this.$timezoneOffset=e}}])&&A(t.prototype,n),i&&A(t,i),e}();["toDateString","toLocaleString","toLocaleDateString","toLocaleTimeString","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments)}})),["toISOString","toUTCString","toGMTString","toJSON","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","valueOf","getTime"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(new Date(this.$d.getTime()+u(this.$timezoneOffset)),arguments)}})),["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"].forEach((function(e){l.prototype[e]=function(){var t=new Date(this.$d.getTime()+u(this.$timezoneOffset));c[e].apply(t,arguments),t.setTime(t.getTime()-u(this.$timezoneOffset)),this.$d=t}})),["toString","toTimeString"].forEach((function(e){l.prototype[e]=function(){return c[e].apply(this.$d,arguments).replace(/GMT(.*)$/,"GMT".concat(a(this.$timezoneOffset)))}}));var d=l,h=!1,f=function(e,t){["clone","add","subtract","startOf"].forEach((function(n){e[n]=function(){var e=this.utcOffset();return t[n].apply(this,arguments).utcOffset(e)}})),e.utc=function(){return this.utcOffset(0)},e.local=function(){return this.utcOffset(-s)},e.utcOffset=function(e){if(void 0===e){var t=this.$d.getTimezoneOffset();return 0===t?0:-t}return null!==r(e)&&(this.$d.setTimezoneOffset(-r(e)),this.init()),this},e.toDate=function(){return new Date(this.$d.getTime())},e.isLocal=function(){return this.$d.getTimezoneOffset()===s},e.isUTC=function(){return 0===this.$d.getTimezoneOffset()},e.$set=function(){for(var e,n=this.$d.getTimezoneOffset(),i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.$set).call.apply(e,[this].concat(r)),this.$d instanceof Date&&(this.$d=new d(this.$d,n)),this},e.parse=function(e){t.parse.call(this,e);var n=this.$d,i="string"==typeof e.date?r(e.date):null;this.$d=new d(n,null===i?s:-i),h&&this.local(),this.init()}};t.default=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;h=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).parseToLocal;var n=e.prototype,i=function(){};i.prototype=n;var o=new i;f(o,n),o.constructor=e.constructor,e.prototype=o,t.utc=function(e){var t=this(e);return"string"==typeof e&&null===r(e)&&(t.$d.$timezoneOffset=0),t.utc()}}}])},7990:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",o="minute",a="hour",A="day",s="week",c="month",u="quarter",l="year",d="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},m={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),o=n-r<0,a=t.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:s,d:A,D:d,h:a,m:o,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",b={};b[y]=g;var w="$isDayjsObject",k=function(e){return e instanceof D||!(!e||!e[w])},x=function e(t,n,i){var r;if(!t)return y;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(r=o),n&&(b[o]=n,r=o);var a=t.split("-");if(!r&&a.length>1)return e(a[0])}else{var A=t.name;b[A]=t,r=A}return!i&&r&&(y=r),r||!i&&y},_=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new D(n)},P=m;P.l=x,P.i=k,P.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var D=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(P.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return _(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<_(e)},v.$g=function(e,t,n){return P.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!P.u(t)||t,u=P.p(e),h=function(e,t){var r=P.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(A)},f=function(e,t){return P.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(u){case l:return i?h(1,0):h(31,11);case c:return i?h(1,g):h(0,g+1);case s:var y=this.$locale().weekStart||0,b=(p<y?p+7:p)-y;return h(i?v-b:v+(6-b),g);case A:case d:return f(m+"Hours",0);case a:return f(m+"Minutes",1);case o:return f(m+"Seconds",2);case r:return f(m+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,s=P.p(e),u="set"+(this.$u?"UTC":""),h=(n={},n[A]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[l]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[s],f=s===A?this.$D+(t-this.$W):t;if(s===c||s===l){var p=this.clone().set(d,1);p.$d[h](f),p.init(),this.$d=p.set(d,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[P.p(e)]()},v.add=function(i,u){var d,h=this;i=Number(i);var f=P.p(u),p=function(e){var t=_(h);return P.w(t.date(t.date()+Math.round(e*i)),h)};if(f===c)return this.set(c,this.$M+i);if(f===l)return this.set(l,this.$y+i);if(f===A)return p(1);if(f===s)return p(7);var g=(d={},d[o]=t,d[a]=n,d[r]=e,d)[f]||1,v=this.$d.getTime()+i*g;return P.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=P.z(this),o=this.$H,a=this.$m,A=this.$M,s=n.weekdays,c=n.months,u=n.meridiem,l=function(e,n,r,o){return e&&(e[n]||e(t,i))||r[n].slice(0,o)},d=function(e){return P.s(o%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(p,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return P.s(t.$y,4,"0");case"M":return A+1;case"MM":return P.s(A+1,2,"0");case"MMM":return l(n.monthsShort,A,c,3);case"MMMM":return l(c,A);case"D":return t.$D;case"DD":return P.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return l(n.weekdaysMin,t.$W,s,2);case"ddd":return l(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(o);case"HH":return P.s(o,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return P.s(a,2,"0");case"s":return String(t.$s);case"ss":return P.s(t.$s,2,"0");case"SSS":return P.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,d,h){var f,p=this,g=P.p(d),v=_(i),m=(v.utcOffset()-this.utcOffset())*t,y=this-v,b=function(){return P.m(p,v)};switch(g){case l:f=b()/12;break;case c:f=b();break;case u:f=b()/3;break;case s:f=(y-m)/6048e5;break;case A:f=(y-m)/864e5;break;case a:f=y/n;break;case o:f=y/t;break;case r:f=y/e;break;default:f=y}return h?f:P.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=x(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),C=D.prototype;return _.prototype=C,[["$ms",i],["$s",r],["$m",o],["$H",a],["$W",A],["$M",c],["$y",l],["$D",d]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,D,_),e.$i=!0),_},_.locale=x,_.isDayjs=k,_.unix=function(e){return _(1e3*e)},_.en=b[y],_.Ls=b,_.p={},_}()},8990:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function r(e,t,n){var r=i[n];return Array.isArray(r)&&(r=r[t?0:1]),r.replace("%d",e)}var o={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r}};return n.default.locale(o,null,!0),o}(n(7990))},4883:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},5522:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}};return n.default.locale(i,null,!0),i}(n(7990))},890:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"it",weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+"º"}};return n.default.locale(i,null,!0),i}(n(7990))},859:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ja",weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e){return e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiem:function(e){return e<12?"午前":"午後"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}};return n.default.locale(i,null,!0),i}(n(7990))},5576:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"ko",weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),ordinal:function(e){return e+"일"},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},meridiem:function(e){return e<12?"오전":"오후"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"}};return n.default.locale(i,null,!0),i}(n(7990))},3765:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return n.default.locale(i,null,!0),i}(n(7990))},1128:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},7074:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-hk",months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d 分鐘",h:"一小時",hh:"%d 小時",d:"一天",dd:"%d 天",M:"一個月",MM:"%d 個月",y:"一年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},579:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"週":e+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}(n(7990))},1434:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,i=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return i.bind(this)(e);var r=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return r.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return r.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return r.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return i.bind(this)(o)}}}()},8366:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,r,o){var a=r.prototype;o.utc=function(e){return new r({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var A=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),A.call(this,e)};var s=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else s.call(this)};var c=a.utcOffset;a.utcOffset=function(i,r){var o=this.$utils().u;if(o(i))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof i&&(i=function(e){void 0===e&&(e="");var i=e.match(t);if(!i)return null;var r=(""+i[0]).match(n)||["-",0,0],o=r[0],a=60*+r[1]+ +r[2];return 0===a?0:"+"===o?a:-a}(i),null===i))return this;var a=Math.abs(i)<=16?60*i:i,A=this;if(r)return A.$offset=a,A.$u=0===i,A;if(0!==i){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(A=this.local().add(a+s,e)).$offset=a,A.$x.$localOffset=s}else A=this.utc();return A};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var l=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var d=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var i=this.local(),r=o(e).local();return d.call(i,r,t,n)}}}()},2778:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var A=new r(i,o||e,a),s=n?n+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],A]:e._events[s].push(A):(e._events[s]=A,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function A(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),A.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},A.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},A.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},A.prototype.emit=function(e,t,i,r,o,a){var A=n?n+e:e;if(!this._events[A])return!1;var s,c,u=this._events[A],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,r),!0;case 5:return u.fn.call(u.context,t,i,r,o),!0;case 6:return u.fn.call(u.context,t,i,r,o,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];u.fn.apply(u.context,s)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),l){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,i);break;case 4:u[c].fn.call(u[c].context,t,i,r);break;default:if(!s)for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];u[c].fn.apply(u[c].context,s)}}return!0},A.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},A.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},A.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var A=this._events[o];if(A.fn)A.fn!==t||r&&!A.once||i&&A.context!==i||a(this,o);else{for(var s=0,c=[],u=A.length;s<u;s++)(A[s].fn!==t||r&&!A[s].once||i&&A[s].context!==i)&&c.push(A[s]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},A.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},A.prototype.off=A.prototype.removeListener,A.prototype.addListener=A.prototype.on,A.prefixed=n,A.EventEmitter=A,e.exports=A},636:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,r){"use strict";var o=[],a=Object.getPrototypeOf,A=o.slice,s=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,l={},d=l.toString,h=l.hasOwnProperty,f=h.toString,p=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||y).createElement("script");if(o.text=e,t)for(i in b)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function k(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[d.call(e)]||"object":typeof e}var x="3.7.1",_=/HTML$/i,P=function(e,t){return new P.fn.init(e,t)};function D(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!v(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}P.fn=P.prototype={jquery:x,constructor:P,length:0,toArray:function(){return A.call(this)},get:function(e){return null==e?A.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=P.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return P.each(this,e)},map:function(e){return this.pushStack(P.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(P.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},P.extend=P.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},A=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[A]||{},A++),"object"==typeof a||v(a)||(a={}),A===s&&(a=this,A--);A<s;A++)if(null!=(e=arguments[A]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(c&&i&&(P.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||P.isPlainObject(n)?n:{},r=!1,a[t]=P.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},P.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=h.call(t,"constructor")&&t.constructor)&&f.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(D(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=P.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(D(Object(e))?P.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(D(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s(a)},guid:1,support:g}),"function"==typeof Symbol&&(P.fn[Symbol.iterator]=o[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var S=o.pop,I=o.sort,E=o.splice,R="[\\x20\\t\\r\\n\\f]",T=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g");P.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var M=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}P.escapeSelector=function(e){return(e+"").replace(M,F)};var L=y,N=c;!function(){var e,t,n,r,a,s,c,l,d,f,p=N,v=P.expando,m=0,y=0,b=ee(),w=ee(),k=ee(),x=ee(),_=function(e,t){return e===t&&(a=!0),0},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="(?:\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+R+"*("+M+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+R+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",B=new RegExp(R+"+","g"),j=new RegExp("^"+R+"*,"+R+"*"),V=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp(R+"|>"),H=new RegExp(O),z=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,q=new RegExp("\\\\[\\da-fA-F]{1,6}"+R+"?|\\\\([^\\r\\n\\f])","g"),J=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},X=function(){se()},Q=de((function(e){return!0===e.disabled&&C(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{p.apply(o=A.call(L.childNodes),L.childNodes),o[L.childNodes.length].nodeType}catch(e){p={apply:function(e,t){N.apply(e,A.call(t))},call:function(e){N.apply(e,A.call(arguments,1))}}}function Z(e,t,n,i){var r,o,a,A,c,u,h,f=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&(se(t),t=t||s,l)){if(11!==m&&(c=$.exec(e)))if(r=c[1]){if(9===m){if(!(a=t.getElementById(r)))return n;if(a.id===r)return p.call(n,a),n}else if(f&&(a=f.getElementById(r))&&Z.contains(t,a)&&a.id===r)return p.call(n,a),n}else{if(c[2])return p.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return p.apply(n,t.getElementsByClassName(r)),n}if(!(x[e+" "]||d&&d.test(e))){if(h=e,f=t,1===m&&(U.test(e)||V.test(e))){for((f=K.test(e)&&Ae(t.parentNode)||t)==t&&g.scope||((A=t.getAttribute("id"))?A=P.escapeSelector(A):t.setAttribute("id",A=v)),o=(u=ue(e)).length;o--;)u[o]=(A?"#"+A:":scope")+" "+le(u[o]);h=u.join(",")}try{return p.apply(n,f.querySelectorAll(h)),n}catch(t){x(e,!0)}finally{A===v&&t.removeAttribute("id")}}}return me(e.replace(T,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[v]=!0,e}function ne(e){var t=s.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return C(t,"input")&&t.type===e}}function re(e){return function(t){return(C(t,"input")||C(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function Ae(e){return e&&void 0!==e.getElementsByTagName&&e}function se(e){var n,i=e?e.ownerDocument||e:L;return i!=s&&9===i.nodeType&&i.documentElement?(c=(s=i).documentElement,l=!P.isXMLDoc(s),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&L!=s&&(n=s.defaultView)&&n.top!==n&&n.addEventListener("unload",X),g.getById=ne((function(e){return c.appendChild(e).id=P.expando,!s.getElementsByName||!s.getElementsByName(P.expando).length})),g.disconnectedMatch=ne((function(e){return f.call(e,"*")})),g.scope=ne((function(){return s.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return s.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(q,J);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(q,J);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&l){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&l)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+R+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+v+"-]").length||d.push("~="),e.querySelectorAll("a#"+v+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=s.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=s.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+R+"*name"+R+"*="+R+"*(?:''|\"\")")})),g.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),_=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument==L&&Z.contains(L,e)?-1:t===s||t.ownerDocument==L&&Z.contains(L,t)?1:r?u.call(r,e)-u.call(r,t):0:4&n?-1:1)},s):s}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(se(e),l&&!x[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){x(t,!0)}return Z(t,s,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=s&&se(e),P.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=s&&se(e);var i=t.attrHandle[n.toLowerCase()],r=i&&h.call(t.attrHandle,n.toLowerCase())?i(e,n,!l):void 0;return void 0!==r?r:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},P.uniqueSort=function(e){var t,n=[],i=0,o=0;if(a=!g.sortStable,r=!g.sortStable&&A.call(e,0),I.call(e,_),a){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)E.call(e,n[i],1)}return r=null,e},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(A.apply(this)))},t=P.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(q,J),e[3]=(e[3]||e[4]||e[5]||"").replace(q,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(q,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=Z.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(B," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),A="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,s){var c,u,l,d,h,f=o!==a?"nextSibling":"previousSibling",p=t.parentNode,g=A&&t.nodeName.toLowerCase(),y=!s&&!A,b=!1;if(p){if(o){for(;f;){for(l=t;l=l[f];)if(A?C(l,g):1===l.nodeType)return!1;h=f="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&y){for(b=(d=(c=(u=p[v]||(p[v]={}))[e]||[])[0]===m&&c[1])&&c[2],l=d&&p.childNodes[d];l=++d&&l&&l[f]||(b=d=0)||h.pop();)if(1===l.nodeType&&++b&&l===t){u[e]=[m,d,b];break}}else if(y&&(b=d=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===m&&c[1]),!1===b)for(;(l=++d&&l&&l[f]||(b=d=0)||h.pop())&&(!(A?C(l,g):1===l.nodeType)||!++b||(y&&((u=l[v]||(l[v]={}))[e]=[m,b]),l!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return r[v]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var i,o=r(e,n),a=o.length;a--;)e[i=u.call(e,o[a])]=!(t[i]=o[a])})):function(e){return r(e,0,i)}):r}},pseudos:{not:te((function(e){var t=[],n=[],i=ve(e.replace(T,"$1"));return i[v]?te((function(e,t,n,r){for(var o,a=i(e,null,r,[]),A=e.length;A--;)(o=a[A])&&(e[A]=!(t[A]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(q,J),function(t){return(t.textContent||P.text(t)).indexOf(e)>-1}})),lang:te((function(e){return z.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(q,J).toLowerCase(),function(t){var n;do{if(n=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return s.activeElement}catch(e){}}()&&s.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return C(e,"input")&&!!e.checked||C(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){return C(e,"input")&&"button"===e.type||C(e,"button")},text:function(e){var t;return C(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ae((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function ue(e,n){var i,r,o,a,A,s,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(A=e,s=[],c=t.preFilter;A;){for(a in i&&!(r=j.exec(A))||(r&&(A=A.slice(r[0].length)||A),s.push(o=[])),i=!1,(r=V.exec(A))&&(i=r.shift(),o.push({value:i,type:r[0].replace(T," ")}),A=A.slice(i.length)),t.filter)!(r=W[a].exec(A))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),A=A.slice(i.length));if(!i)break}return n?A.length:A?Z.error(e):w(e,s).slice(0)}function le(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function de(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,A=y++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,s){var c,u,l=[m,A];if(s){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(u=t[v]||(t[v]={}),r&&C(t,r))t=t[i]||t;else{if((c=u[o])&&c[0]===m&&c[1]===A)return l[2]=c[2];if(u[o]=l,l[2]=e(t,n,s))return!0}return!1}}function he(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function fe(e,t,n,i,r){for(var o,a=[],A=0,s=e.length,c=null!=t;A<s;A++)(o=e[A])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(A)));return a}function pe(e,t,n,i,r,o){return i&&!i[v]&&(i=pe(i)),r&&!r[v]&&(r=pe(r,o)),te((function(o,a,A,s){var c,l,d,h,f=[],g=[],v=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Z(e,t[i],n);return n}(t||"*",A.nodeType?[A]:A,[]),y=!e||!o&&t?m:fe(m,f,e,A,s);if(n?n(y,h=r||(o?e:v||i)?[]:a,A,s):h=y,i)for(c=fe(h,g),i(c,[],A,s),l=c.length;l--;)(d=c[l])&&(h[g[l]]=!(y[g[l]]=d));if(o){if(r||e){if(r){for(c=[],l=h.length;l--;)(d=h[l])&&c.push(y[l]=d);r(null,h=[],c,s)}for(l=h.length;l--;)(d=h[l])&&(c=r?u.call(o,d):f[l])>-1&&(o[c]=!(a[c]=d))}}else h=fe(h===a?h.splice(v,h.length):h),r?r(null,a,h,s):p.apply(a,h)}))}function ge(e){for(var i,r,o,a=e.length,A=t.relative[e[0].type],s=A||t.relative[" "],c=A?1:0,l=de((function(e){return e===i}),s,!0),d=de((function(e){return u.call(i,e)>-1}),s,!0),h=[function(e,t,r){var o=!A&&(r||t!=n)||((i=t).nodeType?l(e,t,r):d(e,t,r));return i=null,o}];c<a;c++)if(r=t.relative[e[c].type])h=[de(he(h),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<a&&!t.relative[e[o].type];o++);return pe(c>1&&he(h),c>1&&le(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(T,"$1"),r,c<o&&ge(e.slice(c,o)),o<a&&ge(e=e.slice(o)),o<a&&le(e))}h.push(r)}return he(h)}function ve(e,i){var r,o=[],a=[],A=k[e+" "];if(!A){for(i||(i=ue(e)),r=i.length;r--;)(A=ge(i[r]))[v]?o.push(A):a.push(A);A=k(e,function(e,i){var r=i.length>0,o=e.length>0,a=function(a,A,c,u,d){var h,f,g,v=0,y="0",b=a&&[],w=[],k=n,x=a||o&&t.find.TAG("*",d),_=m+=null==k?1:Math.random()||.1,D=x.length;for(d&&(n=A==s||A||d);y!==D&&null!=(h=x[y]);y++){if(o&&h){for(f=0,A||h.ownerDocument==s||(se(h),c=!l);g=e[f++];)if(g(h,A||s,c)){p.call(u,h);break}d&&(m=_)}r&&((h=!g&&h)&&v--,a&&b.push(h))}if(v+=y,r&&y!==v){for(f=0;g=i[f++];)g(b,w,A,c);if(a){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=S.call(u));w=fe(w)}p.apply(u,w),d&&!a&&w.length>0&&v+i.length>1&&P.uniqueSort(u)}return d&&(m=_,n=k),b};return r?te(a):a}(a,o)),A.selector=e}return A}function me(e,n,i,r){var o,a,A,s,c,u="function"==typeof e&&e,d=!r&&ue(e=u.selector||e);if(i=i||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(A=a[0]).type&&9===n.nodeType&&l&&t.relative[a[1].type]){if(!(n=(t.find.ID(A.matches[0].replace(q,J),n)||[])[0]))return i;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=W.needsContext.test(e)?0:a.length;o--&&(A=a[o],!t.relative[s=A.type]);)if((c=t.find[s])&&(r=c(A.matches[0].replace(q,J),K.test(a[0].type)&&Ae(n.parentNode)||n))){if(a.splice(o,1),!(e=r.length&&le(a)))return p.apply(i,r),i;break}}return(u||ve(e,d))(r,n,!l,i,!n||K.test(e)&&Ae(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(_).join("")===v,se(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(s.createElement("fieldset"))})),P.find=Z,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Z.compile=ve,Z.select=me,Z.setDocument=se,Z.tokenize=ue,Z.escape=P.escapeSelector,Z.getText=P.text,Z.isXML=P.isXMLDoc,Z.selectors=P.expr,Z.support=P.support,Z.uniqueSort=P.uniqueSort}();var O=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&P(e).is(n))break;i.push(e)}return i},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},j=P.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,t,n){return v(t)?P.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?P.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?P.grep(e,(function(e){return u.call(t,e)>-1!==n})):P.filter(t,e,n)}P.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?P.find.matchesSelector(i,e)?[i]:[]:P.find.matches(e,P.grep(t,(function(e){return 1===e.nodeType})))},P.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(P(e).filter((function(){for(t=0;t<i;t++)if(P.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)P.find(e,r[t],n);return i>1?P.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&j.test(e)?P(e):e||[],!1).length}});var H,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||H,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof P?t[0]:t,P.merge(this,P.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),V.test(i[1])&&P.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(P):P.makeArray(e,this)}).prototype=P.fn,H=P(y);var W=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}P.fn.extend({has:function(e){var t=P(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(P.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&P(e);if(!j.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&P.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?P.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(P(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),P.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return O(e,"parentNode")},parentsUntil:function(e,t,n){return O(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return O(e,"nextSibling")},prevAll:function(e){return O(e,"previousSibling")},nextUntil:function(e,t,n){return O(e,"nextSibling",n)},prevUntil:function(e,t,n){return O(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),P.merge([],e.childNodes))}},(function(e,t){P.fn[e]=function(n,i){var r=P.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=P.filter(i,r)),this.length>1&&(Y[e]||P.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}}));var $=/[^\x20\t\r\n\f]+/g;function K(e){return e}function q(e){throw e}function J(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}P.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return P.each(e.match($)||[],(function(e,n){t[n]=!0})),t}(e):P.extend({},e);var t,n,i,r,o=[],a=[],A=-1,s=function(){for(r=r||e.once,i=t=!0;a.length;A=-1)for(n=a.shift();++A<o.length;)!1===o[A].apply(n[0],n[1])&&e.stopOnFalse&&(A=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(A=o.length-1,a.push(n)),function t(n){P.each(n,(function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==k(i)&&t(i)}))}(arguments),n&&!t&&s()),this},remove:function(){return P.each(arguments,(function(e,t){for(var n;(n=P.inArray(t,o,n))>-1;)o.splice(n,1),n<=A&&A--})),this},has:function(e){return e?P.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},P.extend({Deferred:function(e){var t=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return P.Deferred((function(n){P.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var o=0;function a(e,t,n,r){return function(){var A=this,s=arguments,c=function(){var i,c;if(!(e<o)){if((i=n.apply(A,s))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(c)?r?c.call(i,a(o,t,K,r),a(o,t,q,r)):(o++,c.call(i,a(o,t,K,r),a(o,t,q,r),a(o,t,K,t.notifyWith))):(n!==K&&(A=void 0,s=[i]),(r||t.resolveWith)(A,s))}},u=r?c:function(){try{c()}catch(i){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(i,u.error),e+1>=o&&(n!==q&&(A=void 0,s=[i]),t.rejectWith(A,s))}};e?u():(P.Deferred.getErrorHook?u.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(u.error=P.Deferred.getStackHook()),i.setTimeout(u))}}return P.Deferred((function(i){t[0][3].add(a(0,i,v(r)?r:K,i.notifyWith)),t[1][3].add(a(0,i,v(e)?e:K)),t[2][3].add(a(0,i,v(n)?n:q))})).promise()},promise:function(e){return null!=e?P.extend(e,r):r}},o={};return P.each(t,(function(e,i){var a=i[2],A=i[5];r[i[1]]=a.add,A&&a.add((function(){n=A}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),o[i[0]]=function(){return o[i[0]+"With"](this===o?void 0:this,arguments),this},o[i[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=A.call(arguments),o=P.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?A.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(J(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)J(r[n],a(n),o.reject);return o.promise()}});var X=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&X.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},P.readyException=function(e){i.setTimeout((function(){throw e}))};var Q=P.Deferred();function Z(){y.removeEventListener("DOMContentLoaded",Z),i.removeEventListener("load",Z),P.ready()}P.fn.ready=function(e){return Q.then(e).catch((function(e){P.readyException(e)})),this},P.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--P.readyWait:P.isReady)||(P.isReady=!0,!0!==e&&--P.readyWait>0||Q.resolveWith(y,[P]))}}),P.ready.then=Q.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(P.ready):(y.addEventListener("DOMContentLoaded",Z),i.addEventListener("load",Z));var ee=function(e,t,n,i,r,o,a){var A=0,s=e.length,c=null==n;if("object"===k(n))for(A in r=!0,n)ee(e,t,A,n[A],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(P(e),n)})),t))for(;A<s;A++)t(e[A],n,a?i:i.call(e[A],A,t(e[A],n)));return r?e:c?t.call(e):s?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ae(){this.expando=P.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match($)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||P.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!P.isEmptyObject(t)}};var Ae=new ae,se=new ae,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function le(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(e){}se.set(e,t,n)}else n=void 0;return n}P.extend({hasData:function(e){return se.hasData(e)||Ae.hasData(e)},data:function(e,t,n){return se.access(e,t,n)},removeData:function(e,t){se.remove(e,t)},_data:function(e,t,n){return Ae.access(e,t,n)},_removeData:function(e,t){Ae.remove(e,t)}}),P.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=se.get(o),1===o.nodeType&&!Ae.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=re(i.slice(5)),le(o,i,r[i]));Ae.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){se.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=se.get(o,e))||void 0!==(n=le(o,e))?n:void 0;this.each((function(){se.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){se.remove(this,e)}))}}),P.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Ae.get(e,t),n&&(!i||Array.isArray(n)?i=Ae.access(e,t,P.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=P.queue(e,t),i=n.length,r=n.shift(),o=P._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){P.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ae.get(e,n)||Ae.access(e,n,{empty:P.Callbacks("once memory").add((function(){Ae.remove(e,[t+"queue",n])}))})}}),P.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?P.queue(this[0],e):void 0===t?this:this.each((function(){var n=P.queue(this,e,t);P._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&P.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){P.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=P.Deferred(),o=this,a=this.length,A=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Ae.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(A));return A(),r.promise(t)}});var de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],pe=y.documentElement,ge=function(e){return P.contains(e.ownerDocument,e)},ve={composed:!0};pe.getRootNode&&(ge=function(e){return P.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var me=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===P.css(e,"display")};function ye(e,t,n,i){var r,o,a=20,A=i?function(){return i.cur()}:function(){return P.css(e,t,"")},s=A(),c=n&&n[3]||(P.cssNumber[t]?"":"px"),u=e.nodeType&&(P.cssNumber[t]||"px"!==c&&+s)&&he.exec(P.css(e,t));if(u&&u[3]!==c){for(s/=2,c=c||u[3],u=+s||1;a--;)P.style(e,t,u+c),(1-o)*(1-(o=A()/s||.5))<=0&&(a=0),u/=o;u*=2,P.style(e,t,u+c),n=n||[]}return n&&(u=+u||+s||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var be={};function we(e){var t,n=e.ownerDocument,i=e.nodeName,r=be[i];return r||(t=n.body.appendChild(n.createElement(i)),r=P.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),be[i]=r,r)}function ke(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Ae.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&me(i)&&(r[o]=we(i))):"none"!==n&&(r[o]="none",Ae.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}P.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){me(this)?P(this).show():P(this).hide()}))}});var xe,_e,Pe=/^(?:checkbox|radio)$/i,De=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=y.createDocumentFragment().appendChild(y.createElement("div")),(_e=y.createElement("input")).setAttribute("type","radio"),_e.setAttribute("checked","checked"),_e.setAttribute("name","t"),xe.appendChild(_e),g.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",g.option=!!xe.lastChild;var Se={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ie(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?P.merge([e],n):n}function Ee(e,t){for(var n=0,i=e.length;n<i;n++)Ae.set(e[n],"globalEval",!t||Ae.get(t[n],"globalEval"))}Se.tbody=Se.tfoot=Se.colgroup=Se.caption=Se.thead,Se.th=Se.td,g.option||(Se.optgroup=Se.option=[1,"<select multiple='multiple'>","</select>"]);var Re=/<|&#?\w+;/;function Te(e,t,n,i,r){for(var o,a,A,s,c,u,l=t.createDocumentFragment(),d=[],h=0,f=e.length;h<f;h++)if((o=e[h])||0===o)if("object"===k(o))P.merge(d,o.nodeType?[o]:o);else if(Re.test(o)){for(a=a||l.appendChild(t.createElement("div")),A=(De.exec(o)||["",""])[1].toLowerCase(),s=Se[A]||Se._default,a.innerHTML=s[1]+P.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;P.merge(d,a.childNodes),(a=l.firstChild).textContent=""}else d.push(t.createTextNode(o));for(l.textContent="",h=0;o=d[h++];)if(i&&P.inArray(o,i)>-1)r&&r.push(o);else if(c=ge(o),a=Ie(l.appendChild(o),"script"),c&&Ee(a),n)for(u=0;o=a[u++];)Ce.test(o.type||"")&&n.push(o);return l}var Me=/^([^.]*)(?:\.(.+)|)/;function Fe(){return!0}function Le(){return!1}function Ne(e,t,n,i,r,o){var a,A;if("object"==typeof t){for(A in"string"!=typeof n&&(i=i||n,n=void 0),t)Ne(e,A,n,i,t[A],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Le;else if(!r)return e;return 1===o&&(a=r,r=function(e){return P().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=P.guid++)),e.each((function(){P.event.add(this,t,r,i,n)}))}function Oe(e,t,n){n?(Ae.set(e,t,!1),P.event.add(e,t,{namespace:!1,handler:function(e){var n,i=Ae.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(P.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=A.call(arguments),Ae.set(this,t,i),this[t](),n=Ae.get(this,t),Ae.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(Ae.set(this,t,P.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Fe)}})):void 0===Ae.get(e,t)&&P.event.add(e,t,Fe)}P.event={global:{},add:function(e,t,n,i,r){var o,a,A,s,c,u,l,d,h,f,p,g=Ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&P.find.matchesSelector(pe,r),n.guid||(n.guid=P.guid++),(s=g.events)||(s=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==P&&P.event.triggered!==t.type?P.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match($)||[""]).length;c--;)h=p=(A=Me.exec(t[c])||[])[1],f=(A[2]||"").split(".").sort(),h&&(l=P.event.special[h]||{},h=(r?l.delegateType:l.bindType)||h,l=P.event.special[h]||{},u=P.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&P.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=s[h])||((d=s[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(h,a)),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),P.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,A,s,c,u,l,d,h,f,p,g=Ae.hasData(e)&&Ae.get(e);if(g&&(s=g.events)){for(c=(t=(t||"").match($)||[""]).length;c--;)if(h=p=(A=Me.exec(t[c])||[])[1],f=(A[2]||"").split(".").sort(),h){for(l=P.event.special[h]||{},d=s[h=(i?l.delegateType:l.bindType)||h]||[],A=A[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!r&&p!==u.origType||n&&n.guid!==u.guid||A&&!A.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,l.remove&&l.remove.call(e,u));a&&!d.length&&(l.teardown&&!1!==l.teardown.call(e,f,g.handle)||P.removeEvent(e,h,g.handle),delete s[h])}else for(h in s)P.event.remove(e,h+t[c],n,i,!0);P.isEmptyObject(s)&&Ae.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,A=new Array(arguments.length),s=P.event.fix(e),c=(Ae.get(this,"events")||Object.create(null))[s.type]||[],u=P.event.special[s.type]||{};for(A[0]=s,t=1;t<arguments.length;t++)A[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=P.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((P.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,A))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,A=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?P(r,this).index(c)>-1:P.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&A.push({elem:c,handlers:o})}return c=this,s<t.length&&A.push({elem:c,handlers:t.slice(s)}),A},addProp:function(e,t){Object.defineProperty(P.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[P.expando]?e:new P.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click",!0),!1},trigger:function(e){var t=this||e;return Pe.test(t.type)&&t.click&&C(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return Pe.test(t.type)&&t.click&&C(t,"input")&&Ae.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},P.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},P.Event=function(e,t){if(!(this instanceof P.Event))return new P.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Fe:Le,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&P.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Le,isPropagationStopped:Le,isImmediatePropagationStopped:Le,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Fe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Fe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Fe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(y.documentMode){var n=Ae.get(this,"handle"),i=P.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else P.event.simulate(t,e.target,P.event.fix(e))}P.event.special[e]={setup:function(){var i;if(Oe(this,e,!0),!y.documentMode)return!1;(i=Ae.get(this,t))||this.addEventListener(t,n),Ae.set(this,t,(i||0)+1)},trigger:function(){return Oe(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=Ae.get(this,t)-1)?Ae.set(this,t,e):(this.removeEventListener(t,n),Ae.remove(this,t))},_default:function(t){return Ae.get(t.target,e)},delegateType:t},P.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=Ae.get(r,t);o||(y.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),Ae.set(r,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=y.documentMode?this:i,o=Ae.get(r,t)-1;o?Ae.set(r,t,o):(y.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),Ae.remove(r,t))}}})),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){P.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||P.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),P.fn.extend({on:function(e,t,n,i){return Ne(this,e,t,n,i)},one:function(e,t,n,i){return Ne(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,P(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Le),this.each((function(){P.event.remove(this,e,n,t)}))}});var Be=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ue(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&P(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var n,i,r,o,a,A;if(1===t.nodeType){if(Ae.hasData(e)&&(A=Ae.get(e).events))for(r in Ae.remove(t,"handle events"),A)for(n=0,i=A[r].length;n<i;n++)P.event.add(t,r,A[r][n]);se.hasData(e)&&(o=se.access(e),a=P.extend({},o),se.set(t,a))}}function Ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ge(e,t,n,i){t=s(t);var r,o,a,A,c,u,l=0,d=e.length,h=d-1,f=t[0],p=v(f);if(p||d>1&&"string"==typeof f&&!g.checkClone&&je.test(f))return e.each((function(r){var o=e.eq(r);p&&(t[0]=f.call(this,r,o.html())),Ge(o,t,n,i)}));if(d&&(o=(r=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(A=(a=P.map(Ie(r,"script"),He)).length;l<d;l++)c=r,l!==h&&(c=P.clone(c,!0,!0),A&&P.merge(a,Ie(c,"script"))),n.call(e[l],c,l);if(A)for(u=a[a.length-1].ownerDocument,P.map(a,ze),l=0;l<A;l++)c=a[l],Ce.test(c.type||"")&&!Ae.access(c,"globalEval")&&P.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?P._evalUrl&&!c.noModule&&P._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(Ve,""),c,u))}return e}function $e(e,t,n){for(var i,r=t?P.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||P.cleanData(Ie(i)),i.parentNode&&(n&&ge(i)&&Ee(Ie(i,"script")),i.parentNode.removeChild(i));return e}P.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,A=e.cloneNode(!0),s=ge(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||P.isXMLDoc(e)))for(a=Ie(A),i=0,r=(o=Ie(e)).length;i<r;i++)Ye(o[i],a[i]);if(t)if(n)for(o=o||Ie(e),a=a||Ie(A),i=0,r=o.length;i<r;i++)We(o[i],a[i]);else We(e,A);return(a=Ie(A,"script")).length>0&&Ee(a,!s&&Ie(e,"script")),A},cleanData:function(e){for(var t,n,i,r=P.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[Ae.expando]){if(t.events)for(i in t.events)r[i]?P.event.remove(n,i):P.removeEvent(n,i,t.handle);n[Ae.expando]=void 0}n[se.expando]&&(n[se.expando]=void 0)}}}),P.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?P.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ge(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ue(this,e).appendChild(e)}))},prepend:function(){return Ge(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ue(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ge(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(P.cleanData(Ie(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return P.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Se[(De.exec(e)||["",""])[1].toLowerCase()]){e=P.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(P.cleanData(Ie(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,(function(t){var n=this.parentNode;P.inArray(this,e)<0&&(P.cleanData(Ie(this)),n&&n.replaceChild(t,this))}),e)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){P.fn[e]=function(e){for(var n,i=[],r=P(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),P(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var Ke=new RegExp("^("+de+")(?!px)[a-z%]+$","i"),qe=/^--/,Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Xe=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Qe=new RegExp(fe.join("|"),"i");function Ze(e,t,n){var i,r,o,a,A=qe.test(t),s=e.style;return(n=n||Je(e))&&(a=n.getPropertyValue(t)||n[t],A&&a&&(a=a.replace(T,"$1")||void 0),""!==a||ge(e)||(a=P.style(e,t)),!g.pixelBoxStyles()&&Ke.test(a)&&Qe.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",pe.appendChild(c).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,s=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),pe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,o,a,A,s,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,P.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,r;return null==A&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",pe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),A=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,pe.removeChild(e)),A}}))}();var tt=["Webkit","Moz","ms"],nt=y.createElement("div").style,it={};function rt(e){var t=P.cssProps[e]||it[e];return t||(e in nt?e:it[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}var ot=/^(none|table(?!-c[ea]).+)/,at={position:"absolute",visibility:"hidden",display:"block"},At={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var i=he.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ct(e,t,n,i,r,o){var a="width"===t?1:0,A=0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=P.css(e,n+fe[a],!0,r)),i?("content"===n&&(s-=P.css(e,"padding"+fe[a],!0,r)),"margin"!==n&&(s-=P.css(e,"border"+fe[a]+"Width",!0,r))):(s+=P.css(e,"padding"+fe[a],!0,r),"padding"!==n?s+=P.css(e,"border"+fe[a]+"Width",!0,r):A+=P.css(e,"border"+fe[a]+"Width",!0,r));return!i&&o>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-s-A-.5))||0),s+c}function ut(e,t,n){var i=Je(e),r=(!g.boxSizingReliable()||n)&&"border-box"===P.css(e,"boxSizing",!1,i),o=r,a=Ze(e,t,i),A="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&C(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===P.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===P.css(e,"boxSizing",!1,i),(o=A in e)&&(a=e[A])),(a=parseFloat(a)||0)+ct(e,t,n||(r?"border":"content"),o,i,a)+"px"}function lt(e,t,n,i,r){return new lt.prototype.init(e,t,n,i,r)}P.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,A=re(t),s=qe.test(t),c=e.style;if(s||(t=rt(A)),a=P.cssHooks[t]||P.cssHooks[A],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=he.exec(n))&&r[1]&&(n=ye(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=r&&r[3]||(P.cssNumber[A]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,A=re(t);return qe.test(t)||(t=rt(A)),(a=P.cssHooks[t]||P.cssHooks[A])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in At&&(r=At[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),P.each(["height","width"],(function(e,t){P.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(P.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,t,i):Xe(e,at,(function(){return ut(e,t,i)}))},set:function(e,n,i){var r,o=Je(e),a=!g.scrollboxSize()&&"absolute"===o.position,A=(a||i)&&"border-box"===P.css(e,"boxSizing",!1,o),s=i?ct(e,t,i,A,o):0;return A&&a&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-ct(e,t,"border",!1,o)-.5)),s&&(r=he.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=P.css(e,t)),st(0,n,s)}}})),P.cssHooks.marginLeft=et(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Xe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),P.each({margin:"",padding:"",border:"Width"},(function(e,t){P.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+fe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(P.cssHooks[e+t].set=st)})),P.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Je(e),r=t.length;a<r;a++)o[t[a]]=P.css(e,t[a],!1,i);return o}return void 0!==n?P.style(e,t,n):P.css(e,t)}),e,t,arguments.length>1)}}),P.Tween=lt,lt.prototype={constructor:lt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||P.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(P.cssNumber[n]?"":"px")},cur:function(){var e=lt.propHooks[this.prop];return e&&e.get?e.get(this):lt.propHooks._default.get(this)},run:function(e){var t,n=lt.propHooks[this.prop];return this.options.duration?this.pos=t=P.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):lt.propHooks._default.set(this),this}},lt.prototype.init.prototype=lt.prototype,lt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=P.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){P.fx.step[e.prop]?P.fx.step[e.prop](e):1!==e.elem.nodeType||!P.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:P.style(e.elem,e.prop,e.now+e.unit)}}},lt.propHooks.scrollTop=lt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},P.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},P.fx=lt.prototype.init,P.fx.step={};var dt,ht,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function gt(){ht&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(gt):i.setTimeout(gt,P.fx.interval),P.fx.tick())}function vt(){return i.setTimeout((function(){dt=void 0})),dt=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=fe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function yt(e,t,n){for(var i,r=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function bt(e,t,n){var i,r,o=0,a=bt.prefilters.length,A=P.Deferred().always((function(){delete s.elem})),s=function(){if(r)return!1;for(var t=dt||vt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return A.notifyWith(e,[c,i,n]),i<1&&a?n:(a||A.notifyWith(e,[c,1,0]),A.resolveWith(e,[c]),!1)},c=A.promise({elem:e,props:P.extend({},t),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=P.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(A.notifyWith(e,[c,1,0]),A.resolveWith(e,[c,t])):A.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=re(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=P.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=bt.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(P._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return P.map(u,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),P.fx.timer(P.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}P.Animation=P.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,he.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match($);for(var n,i=0,r=e.length;i<r;i++)n=e[i],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,A,s,c,u,l="width"in t||"height"in t,d=this,h={},f=e.style,p=e.nodeType&&me(e),g=Ae.get(e,"fxshow");for(i in n.queue||(null==(a=P._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,A=a.empty.fire,a.empty.fire=function(){a.unqueued||A()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,P.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],ft.test(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}h[i]=g&&g[i]||P.style(e,i)}if((s=!P.isEmptyObject(t))||!P.isEmptyObject(h))for(i in l&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Ae.get(e,"display")),"none"===(u=P.css(e,"display"))&&(c?u=c:(ke([e],!0),c=e.style.display||c,u=P.css(e,"display"),ke([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===P.css(e,"float")&&(s||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),s=!1,h)s||(g?"hidden"in g&&(p=g.hidden):g=Ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!p),p&&ke([e],!0),d.done((function(){for(i in p||ke([e]),Ae.remove(e,"fxshow"),h)P.style(e,i,h[i])}))),s=yt(p?g[i]:0,i,d),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),P.speed=function(e,t,n){var i=e&&"object"==typeof e?P.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return P.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in P.fx.speeds?i.duration=P.fx.speeds[i.duration]:i.duration=P.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&P.dequeue(this,i.queue)},i},P.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=P.isEmptyObject(e),o=P.speed(t,n,i),a=function(){var t=bt(this,P.extend({},e),o);(r||Ae.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=P.timers,a=Ae.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||P.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Ae.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=P.timers,a=i?i.length:0;for(n.finish=!0,P.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),P.each(["toggle","show","hide"],(function(e,t){var n=P.fn[t];P.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(mt(t,!0),e,i,r)}})),P.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){P.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),P.timers=[],P.fx.tick=function(){var e,t=0,n=P.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||P.fx.stop(),dt=void 0},P.fx.timer=function(e){P.timers.push(e),P.fx.start()},P.fx.interval=13,P.fx.start=function(){ht||(ht=!0,gt())},P.fx.stop=function(){ht=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(e,t){return e=P.fx&&P.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var wt,kt=P.expr.attrHandle;P.fn.extend({attr:function(e,t){return ee(this,P.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){P.removeAttr(this,e)}))}}),P.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?P.prop(e,t,n):(1===o&&P.isXMLDoc(e)||(r=P.attrHooks[t.toLowerCase()]||(P.expr.match.bool.test(t)?wt:void 0)),void 0!==n?null===n?void P.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=P.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match($);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),wt={set:function(e,t,n){return!1===t?P.removeAttr(e,n):e.setAttribute(n,n),n}},P.each(P.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=kt[t]||P.find.attr;kt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=kt[a],kt[a]=r,r=null!=n(e,t,i)?a:null,kt[a]=o),r}}));var xt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;function Pt(e){return(e.match($)||[]).join(" ")}function Dt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match($)||[]}P.fn.extend({prop:function(e,t){return ee(this,P.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[P.propFix[e]||e]}))}}),P.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&P.isXMLDoc(e)||(t=P.propFix[t]||t,r=P.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=P.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(P.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){P.propFix[this.toLowerCase()]=this})),P.fn.extend({addClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){P(this).addClass(e.call(this,t,Dt(this)))})):(t=Ct(e)).length?this.each((function(){if(i=Dt(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){P(this).removeClass(e.call(this,t,Dt(this)))})):arguments.length?(t=Ct(e)).length?this.each((function(){if(i=Dt(this),n=1===this.nodeType&&" "+Pt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=Pt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,A="string"===a||Array.isArray(e);return v(e)?this.each((function(n){P(this).toggleClass(e.call(this,n,Dt(this),t),t)})):"boolean"==typeof t&&A?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each((function(){if(A)for(o=P(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=Dt(this))&&Ae.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":Ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Pt(Dt(n))+" ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g;P.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,P(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=P.map(r,(function(e){return null==e?"":e+""}))),(t=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=P.valHooks[r.type]||P.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(St,""):null==n?"":n:void 0}}),P.extend({valHooks:{option:{get:function(e){var t=P.find.attr(e,"value");return null!=t?t:Pt(P.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,A=a?null:[],s=a?o+1:r.length;for(i=o<0?s:a?o:0;i<s;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=P(n).val(),a)return t;A.push(t)}return A},set:function(e,t){for(var n,i,r=e.options,o=P.makeArray(t),a=r.length;a--;)((i=r[a]).selected=P.inArray(P.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),P.each(["radio","checkbox"],(function(){P.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=P.inArray(P(e).val(),t)>-1}},g.checkOn||(P.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var It=i.location,Et={guid:Date.now()},Rt=/\?/;P.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||P.error("Invalid XML: "+(n?P.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Tt=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){e.stopPropagation()};P.extend(P.event,{trigger:function(e,t,n,r){var o,a,A,s,c,u,l,d,f=[n||y],p=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(a=d=A=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(p+P.event.triggered)&&(p.indexOf(".")>-1&&(g=p.split("."),p=g.shift(),g.sort()),c=p.indexOf(":")<0&&"on"+p,(e=e[P.expando]?e:new P.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:P.makeArray(t,[e]),l=P.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!m(n)){for(s=l.delegateType||p,Tt.test(s+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),A=a;A===(n.ownerDocument||y)&&f.push(A.defaultView||A.parentWindow||i)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?s:l.bindType||p,(u=(Ae.get(a,"events")||Object.create(null))[e.type]&&Ae.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&oe(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!oe(n)||c&&v(n[p])&&!m(n)&&((A=n[c])&&(n[c]=null),P.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Mt),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Mt),P.event.triggered=void 0,A&&(n[c]=A)),e.result}},simulate:function(e,t,n){var i=P.extend(new P.Event,n,{type:e,isSimulated:!0});P.event.trigger(i,null,t)}}),P.fn.extend({trigger:function(e,t){return this.each((function(){P.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return P.event.trigger(e,t,n,!0)}});var Ft=/\[\]$/,Lt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,i){var r;if(Array.isArray(t))P.each(t,(function(t,r){n||Ft.test(e)?i(e,r):Bt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==k(t))i(e,t);else for(r in t)Bt(e+"["+r+"]",t[r],n,i)}P.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!P.isPlainObject(e))P.each(e,(function(){r(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,r);return i.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=P.prop(this,"elements");return e?P.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!P(this).is(":disabled")&&Ot.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!Pe.test(e))})).map((function(e,t){var n=P(this).val();return null==n?null:Array.isArray(n)?P.map(n,(function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}})):{name:t.name,value:n.replace(Lt,"\r\n")}})).get()}});var jt=/%20/g,Vt=/#.*$/,Ut=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:GET|HEAD)$/,Wt=/^\/\//,Yt={},Gt={},$t="*/".concat("*"),Kt=y.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match($)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Jt(e,t,n,i){var r={},o=e===Gt;function a(A){var s;return r[A]=!0,P.each(e[A]||[],(function(e,A){var c=A(t,n,i);return"string"!=typeof c||o||r[c]?o?!(s=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),s}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Xt(e,t){var n,i,r=P.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&P.extend(!0,e,i),e}Kt.href=It.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Xt(Xt(e,P.ajaxSettings),t):Xt(P.ajaxSettings,e)},ajaxPrefilter:qt(Yt),ajaxTransport:qt(Gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,o,a,A,s,c,u,l,d,h=P.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?P(f):P.event,g=P.Deferred(),v=P.Callbacks("once memory"),m=h.statusCode||{},b={},w={},k="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ht.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)x.always(e[x.status]);else for(t in e)m[t]=[m[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),_(0,t),this}};if(g.promise(x),h.url=((e||h.url||It.href)+"").replace(Wt,It.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match($)||[""],null==h.crossDomain){s=y.createElement("a");try{s.href=h.url,s.href=s.href,h.crossDomain=Kt.protocol+"//"+Kt.host!=s.protocol+"//"+s.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),Jt(Yt,h,t,x),c)return x;for(l in(u=P.event&&h.global)&&0==P.active++&&P.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!zt.test(h.type),r=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(jt,"+")):(d=h.url.slice(r.length),h.data&&(h.processData||"string"==typeof h.data)&&(r+=(Rt.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(r=r.replace(Ut,"$1"),d=(Rt.test(r)?"&":"?")+"_="+Et.guid+++d),h.url=r+d),h.ifModified&&(P.lastModified[r]&&x.setRequestHeader("If-Modified-Since",P.lastModified[r]),P.etag[r]&&x.setRequestHeader("If-None-Match",P.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(!1===h.beforeSend.call(f,x,h)||c))return x.abort();if(k="abort",v.add(h.complete),x.done(h.success),x.fail(h.error),n=Jt(Gt,h,t,x)){if(x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),c)return x;h.async&&h.timeout>0&&(A=i.setTimeout((function(){x.abort("timeout")}),h.timeout));try{c=!1,n.send(b,_)}catch(e){if(c)throw e;_(-1,e)}}else _(-1,"No Transport");function _(e,t,a,s){var l,d,y,b,w,k=t;c||(c=!0,A&&i.clearTimeout(A),n=void 0,o=s||"",x.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,r,o,a,A=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in A)if(A[r]&&A[r].test(i)){s.unshift(r);break}if(s[0]in n)o=s[0];else{for(r in n){if(!s[0]||e.converters[r+" "+s[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==s[0]&&s.unshift(o),n[o]}(h,x,a)),!l&&P.inArray("script",h.dataTypes)>-1&&P.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),b=function(e,t,n,i){var r,o,a,A,s,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!s&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=o,o=u.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=c[s+" "+o]||c["* "+o]))for(r in c)if((A=r.split(" "))[1]===o&&(a=c[s+" "+A[0]]||c["* "+A[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=A[0],u.unshift(A[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+o}}}return{state:"success",data:t}}(h,b,x,l),l?(h.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(P.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(P.etag[r]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=b.state,d=b.data,l=!(y=b.error))):(y=k,!e&&k||(k="error",e<0&&(e=0))),x.status=e,x.statusText=(t||k)+"",l?g.resolveWith(f,[d,k,x]):g.rejectWith(f,[x,k,y]),x.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?d:y]),v.fireWith(f,[x,k]),u&&(p.trigger("ajaxComplete",[x,h]),--P.active||P.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,n){return P.get(e,t,n,"json")},getScript:function(e,t){return P.get(e,void 0,t,"script")}}),P.each(["get","post"],(function(e,t){P[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),P.ajax(P.extend({url:e,type:t,dataType:r,data:n,success:i},P.isPlainObject(e)&&e))}})),P.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),P._evalUrl=function(e,t,n){return P.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){P.globalEval(e,t,n)}})},P.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=P(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){P(this).wrapInner(e.call(this,t))})):this.each((function(){var t=P(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){P(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){P(this).replaceWith(this.childNodes)})),this}}),P.expr.pseudos.hidden=function(e){return!P.expr.pseudos.visible(e)},P.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Qt={0:200,1223:204},Zt=P.ajaxSettings.xhr();g.cors=!!Zt&&"withCredentials"in Zt,g.ajax=Zt=!!Zt,P.ajaxTransport((function(e){var t,n;if(g.cors||Zt&&!e.crossDomain)return{send:function(r,o){var a,A=e.xhr();if(A.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)A[a]=e.xhrFields[a];for(a in e.mimeType&&A.overrideMimeType&&A.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)A.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,"abort"===e?A.abort():"error"===e?"number"!=typeof A.status?o(0,"error"):o(A.status,A.statusText):o(Qt[A.status]||A.status,A.statusText,"text"!==(A.responseType||"text")||"string"!=typeof A.responseText?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=t(),n=A.onerror=A.ontimeout=t("error"),void 0!==A.onabort?A.onabort=n:A.onreadystatechange=function(){4===A.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{A.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),P.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return P.globalEval(e),e}}}),P.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),P.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=P("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var en,tn=[],nn=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||P.expando+"_"+Et.guid++;return this[e]=!0,e}}),P.ajaxPrefilter("json jsonp",(function(e,t,n){var r,o,a,A=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(A||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,A?e[A]=e[A].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Rt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||P.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always((function(){void 0===o?P(i).removeProp(r):i[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,tn.push(r)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((en=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),P.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),o=!n&&[],(r=V.exec(e))?[t.createElement(r[1])]:(r=Te([e],t,o),o&&o.length&&P(o).remove(),P.merge([],r.childNodes)));var i,r,o},P.fn.load=function(e,t,n){var i,r,o,a=this,A=e.indexOf(" ");return A>-1&&(i=Pt(e.slice(A)),e=e.slice(0,A)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&P.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?P("<div>").append(P.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},P.expr.pseudos.animated=function(e){return P.grep(P.timers,(function(t){return e===t.elem})).length},P.offset={setOffset:function(e,t,n){var i,r,o,a,A,s,c=P.css(e,"position"),u=P(e),l={};"static"===c&&(e.style.position="relative"),A=u.offset(),o=P.css(e,"top"),s=P.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(s)||0),v(t)&&(t=t.call(e,n,P.extend({},A))),null!=t.top&&(l.top=t.top-A.top+a),null!=t.left&&(l.left=t.left-A.left+r),"using"in t?t.using.call(e,l):u.css(l)}},P.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){P.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===P.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===P.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=P(e).offset()).top+=P.css(e,"borderTopWidth",!0),r.left+=P.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-P.css(i,"marginTop",!0),left:t.left-r.left-P.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===P.css(e,"position");)e=e.offsetParent;return e||pe}))}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;P.fn[e]=function(i){return ee(this,(function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),P.each(["top","left"],(function(e,t){P.cssHooks[t]=et(g.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ke.test(n)?P(e).position()[t]+"px":n}))})),P.each({Height:"height",Width:"width"},(function(e,t){P.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){P.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),A=n||(!0===r||!0===o?"margin":"border");return ee(this,(function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?P.css(t,n,A):P.style(t,n,r,A)}),t,a?r:void 0,a)}}))})),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){P.fn[t]=function(e){return this.on(t,e)}})),P.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){P.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var rn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=A.call(arguments,2),r=function(){return e.apply(t||this,i.concat(A.call(arguments)))},r.guid=e.guid=e.guid||P.guid++,r},P.holdReady=function(e){e?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=C,P.isFunction=v,P.isWindow=m,P.camelCase=re,P.type=k,P.now=Date.now,P.isNumeric=function(e){var t=P.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},P.trim=function(e){return null==e?"":(e+"").replace(rn,"$1")},void 0===(n=function(){return P}.apply(t,[]))||(e.exports=n);var on=i.jQuery,an=i.$;return P.noConflict=function(e){return i.$===P&&(i.$=an),e&&i.jQuery===P&&(i.jQuery=on),P},void 0===r&&(i.jQuery=i.$=P),P}))},9643:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{F:()=>i})},1556:(e,t,n)=>{"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{o:()=>i})},4702:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Q:()=>i,_:()=>i})},6448:(e,t,n)=>{"use strict";function i(e,t,n,i,r,o,a){try{var A=e[o](a),s=A.value}catch(e){return void n(e)}A.done?t(s):Promise.resolve(s).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function A(e){i(a,r,o,A,s,"next",e)}function s(e){i(a,r,o,A,s,"throw",e)}A(void 0)}))}}n.d(t,{_:()=>r})},4375:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(7327);function r(e,t){if(!(0,i._)(e,t))throw new TypeError("Cannot call a class as a function")}},8490:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,_:()=>o});var i=n(1162),r=n(548);function o(e,t,n){return o=(0,i.R)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.b)(o,n.prototype),o},o.apply(null,arguments)}},6721:(e,t,n)=>{"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,{_:()=>r})},216:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(6841),r=n(1162),o=n(9307);function a(e){var t=(0,r.R)();return function(){var n,r=(0,i.X)(e);if(t){var a=(0,i.X)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.v)(this,n)}}},5136:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{_:()=>i,j:()=>i})},2834:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(6841);function r(e,t,n){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,i.X)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n||e):o.value}},r(e,t,n||e)}},6841:(e,t,n)=>{"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{X:()=>i,_:()=>i})},6147:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(548);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,i.b)(e,t)}},7327:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(7327);function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):(0,i._)(e,t)}},1162:(e,t,n)=>{"use strict";function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{R:()=>i})},5706:(e,t,n)=>{"use strict";function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{f:()=>i})},2640:(e,t,n)=>{"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{i:()=>i})},9422:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var i=n(5136);function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){(0,i.j)(e,t,n[t])}))}return e}},6784:(e,t,n)=>{"use strict";function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{_:()=>i})},9307:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,v:()=>o});var i=n(4702),r=n(5171);function o(e,t){return!t||"object"!==(0,r.j)(t)&&"function"!=typeof t?(0,i.Q)(e):t}},548:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{b:()=>i})},3638:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(1556);var r=n(2640),o=n(2430);function a(e,t){return(0,i.o)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,A=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){A=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(A)throw r}}return o}}(e,t)||(0,o.N)(e,t)||(0,r.i)()}},6699:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var i=n(9643);var r=n(5706);var o=n(2430);function a(e){return function(e){if(Array.isArray(e))return(0,i.F)(e)}(e)||(0,r.f)(e)||(0,o.N)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5171:(e,t,n)=>{"use strict";function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{_:()=>i,j:()=>i})},2430:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var i=n(9643);function r(e,t){if(e){if("string"==typeof e)return(0,i.F)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.F)(e,t):void 0}}},7582:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>i});function i(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:A(0),throw:A(1),return:A(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function A(A){return function(s){return function(A){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,A[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&A[0]?i.return:A[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,A[1])).done)return r;switch(i=0,r&&(A=[2&A[0],r.value]),A[0]){case 0:case 1:r=A;break;case 4:return a.label++,{value:A[1],done:!1};case 5:a.label++,i=A[1],A=[0];continue;case 7:A=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==A[0]&&2!==A[0])){a=0;continue}if(3===A[0]&&(!r||A[1]>r[0]&&A[1]<r[3])){a.label=A[1];break}if(6===A[0]&&a.label<r[1]){a.label=r[1],r=A;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(A);break}r[2]&&a.ops.pop(),a.trys.pop();continue}A=t.call(e,a)}catch(e){A=[6,e],i=0}finally{n=r=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,s])}}}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n(2821),n(3480)})()));