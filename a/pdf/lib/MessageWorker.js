!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(self,(()=>{return e=new URL(self.location.href),t=e.searchParams.get("b")||e.protocol+"//"+e.host+"/__foxitwebsdk-syncmsg__",n={},self.addEventListener("install",(function(e){e.waitUntil(self.skipWaiting())})),self.addEventListener("activate",(function(e){e.waitUntil(clients.claim())})),self.addEventListener("fetch",(function(e){"PUT"===e.request.method&&e.request.url===t&&e.respondWith(new Promise((function(t,o){e.request.json().then((function(e){n[e.id]={resolve:t,reject:o},self.clients.matchAll().then((function(t){t.forEach((function(t){t.postMessage(e)}))}))}))})).then((function(e){return new Response(e)})))})),self.addEventListener("message",(function(e){var t=n[e.data.id];t&&(e.data.error?t.reject(e.data.error):t.resolve(e.data.data)),delete n[e.data.id]})),{};var e,t,n}));